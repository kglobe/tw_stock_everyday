<!DOCTYPE html>
<html class="bg-base-200" lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Web Component Example
  </title>
 </head>
 <body class="bg-base-200">
  <script>
   const reportJson = {"timestamps": ["2022-11-14", "2022-11-15", "2022-11-16", "2022-11-17", "2022-11-18", "2022-11-21", "2022-11-22", "2022-11-23", "2022-11-24", "2022-11-25", "2022-11-28", "2022-11-29", "2022-11-30", "2022-12-01", "2022-12-02", "2022-12-05", "2022-12-06", "2022-12-07", "2022-12-08", "2022-12-09", "2022-12-12", "2022-12-13", "2022-12-14", "2022-12-15", "2022-12-16", "2022-12-19", "2022-12-20", "2022-12-21", "2022-12-22", "2022-12-23", "2022-12-26", "2022-12-27", "2022-12-28", "2022-12-29", "2022-12-30", "2023-01-03", "2023-01-04", "2023-01-05", "2023-01-06", "2023-01-09", "2023-01-10", "2023-01-11", "2023-01-12", "2023-01-13", "2023-01-16", "2023-01-17", "2023-01-30", "2023-01-31", "2023-02-01", "2023-02-02", "2023-02-03", "2023-02-06", "2023-02-07", "2023-02-08", "2023-02-09", "2023-02-10", "2023-02-13", "2023-02-14", "2023-02-15", "2023-02-16", "2023-02-17", "2023-02-20", "2023-02-21", "2023-02-22", "2023-02-23", "2023-02-24", "2023-03-01", "2023-03-02", "2023-03-03", "2023-03-06", "2023-03-07", "2023-03-08", "2023-03-09", "2023-03-10", "2023-03-13", "2023-03-14", "2023-03-15", "2023-03-16", "2023-03-17", "2023-03-20", "2023-03-21", "2023-03-22", "2023-03-23", "2023-03-24", "2023-03-27", "2023-03-28", "2023-03-29", "2023-03-30", "2023-03-31", "2023-04-06", "2023-04-07", "2023-04-10", "2023-04-11", "2023-04-12", "2023-04-13", "2023-04-14", "2023-04-17", "2023-04-18", "2023-04-19", "2023-04-20", "2023-04-21", "2023-04-24", "2023-04-25", "2023-04-26", "2023-04-27", "2023-04-28", "2023-05-02", "2023-05-03", "2023-05-04", "2023-05-05", "2023-05-08", "2023-05-09", "2023-05-10", "2023-05-11", "2023-05-12", "2023-05-15", "2023-05-16", "2023-05-17", "2023-05-18", "2023-05-19", "2023-05-22", "2023-05-23", "2023-05-24", "2023-05-25", "2023-05-26", "2023-05-29", "2023-05-30", "2023-05-31", "2023-06-01", "2023-06-02", "2023-06-05", "2023-06-06", "2023-06-07", "2023-06-08", "2023-06-09", "2023-06-12", "2023-06-13", "2023-06-14", "2023-06-15", "2023-06-16", "2023-06-19", "2023-06-20", "2023-06-21", "2023-06-26", "2023-06-27", "2023-06-28", "2023-06-29", "2023-06-30", "2023-07-03", "2023-07-04", "2023-07-05", "2023-07-06", "2023-07-07", "2023-07-10", "2023-07-11", "2023-07-12", "2023-07-13", "2023-07-14", "2023-07-17", "2023-07-18", "2023-07-19", "2023-07-20", "2023-07-21", "2023-07-24", "2023-07-25", "2023-07-26", "2023-07-27", "2023-07-28", "2023-07-31", "2023-08-01", "2023-08-02", "2023-08-04", "2023-08-07", "2023-08-08", "2023-08-09", "2023-08-10", "2023-08-11", "2023-08-14", "2023-08-15", "2023-08-16", "2023-08-17", "2023-08-18", "2023-08-21", "2023-08-22", "2023-08-23", "2023-08-24", "2023-08-25", "2023-08-28", "2023-08-29", "2023-08-30", "2023-08-31", "2023-09-01", "2023-09-04", "2023-09-05", "2023-09-06", "2023-09-07", "2023-09-08", "2023-09-11", "2023-09-12", "2023-09-13", "2023-09-14", "2023-09-15", "2023-09-18", "2023-09-19", "2023-09-20", "2023-09-21", "2023-09-22", "2023-09-25", "2023-09-26", "2023-09-27", "2023-09-28", "2023-10-02", "2023-10-03", "2023-10-04", "2023-10-05", "2023-10-06", "2023-10-11", "2023-10-12", "2023-10-13", "2023-10-16", "2023-10-17", "2023-10-18", "2023-10-19", "2023-10-20", "2023-10-23", "2023-10-24", "2023-10-25", "2023-10-26", "2023-10-27", "2023-10-30", "2023-10-31", "2023-11-01", "2023-11-02", "2023-11-03", "2023-11-06", "2023-11-07", "2023-11-08", "2023-11-09", "2023-11-10", "2023-11-13", "2023-11-14", "2023-11-15", "2023-11-16", "2023-11-17", "2023-11-20", "2023-11-21", "2023-11-22", "2023-11-23", "2023-11-24", "2023-11-27", "2023-11-28", "2023-11-29", "2023-11-30", "2023-12-01", "2023-12-04", "2023-12-05", "2023-12-06", "2023-12-07", "2023-12-08", "2023-12-11", "2023-12-12", "2023-12-13", "2023-12-14", "2023-12-15", "2023-12-18", "2023-12-19", "2023-12-20", "2023-12-21", "2023-12-22", "2023-12-25", "2023-12-26", "2023-12-27", "2023-12-28", "2023-12-29", "2024-01-02", "2024-01-03", "2024-01-04", "2024-01-05", "2024-01-08", "2024-01-09", "2024-01-10", "2024-01-11", "2024-01-12", "2024-01-15", "2024-01-16", "2024-01-17", "2024-01-18", "2024-01-19", "2024-01-22", "2024-01-23", "2024-01-24", "2024-01-25", "2024-01-26", "2024-01-29", "2024-01-30", "2024-01-31", "2024-02-01", "2024-02-02", "2024-02-05", "2024-02-15", "2024-02-16", "2024-02-19", "2024-02-20", "2024-02-21", "2024-02-22", "2024-02-23", "2024-02-26", "2024-02-27", "2024-02-29", "2024-03-01", "2024-03-04", "2024-03-05", "2024-03-06", "2024-03-07", "2024-03-08", "2024-03-11", "2024-03-12", "2024-03-13", "2024-03-14", "2024-03-15", "2024-03-18", "2024-03-19", "2024-03-20", "2024-03-21", "2024-03-22", "2024-03-25", "2024-03-26", "2024-03-27", "2024-03-28", "2024-03-29", "2024-04-01", "2024-04-02", "2024-04-03", "2024-04-08", "2024-04-09", "2024-04-10", "2024-04-11", "2024-04-12", "2024-04-15", "2024-04-16", "2024-04-17", "2024-04-18", "2024-04-19", "2024-04-22", "2024-04-23", "2024-04-24", "2024-04-25", "2024-04-26", "2024-04-29", "2024-04-30", "2024-05-02", "2024-05-03", "2024-05-06", "2024-05-07", "2024-05-08", "2024-05-09", "2024-05-10", "2024-05-13", "2024-05-14", "2024-05-15", "2024-05-16", "2024-05-17", "2024-05-20", "2024-05-21", "2024-05-22", "2024-05-23", "2024-05-24", "2024-05-27", "2024-05-28", "2024-05-29", "2024-05-30", "2024-05-31", "2024-06-03", "2024-06-04", "2024-06-05", "2024-06-06", "2024-06-07", "2024-06-11", "2024-06-12", "2024-06-13", "2024-06-14", "2024-06-17", "2024-06-18", "2024-06-19", "2024-06-20", "2024-06-21", "2024-06-24", "2024-06-25", "2024-06-26", "2024-06-27", "2024-06-28", "2024-07-01", "2024-07-02", "2024-07-03", "2024-07-04", "2024-07-05", "2024-07-08", "2024-07-09", "2024-07-10", "2024-07-11", "2024-07-12", "2024-07-15", "2024-07-16", "2024-07-17", "2024-07-18", "2024-07-19", "2024-07-22", "2024-07-23", "2024-07-26", "2024-07-29", "2024-07-30", "2024-07-31", "2024-08-01", "2024-08-02", "2024-08-05", "2024-08-06", "2024-08-07", "2024-08-08", "2024-08-09", "2024-08-12", "2024-08-13", "2024-08-14", "2024-08-15", "2024-08-16", "2024-08-19", "2024-08-20", "2024-08-21", "2024-08-22", "2024-08-23", "2024-08-26", "2024-08-27", "2024-08-28", "2024-08-29", "2024-08-30", "2024-09-02", "2024-09-03", "2024-09-04", "2024-09-05", "2024-09-06", "2024-09-09", "2024-09-10", "2024-09-11", "2024-09-12", "2024-09-13", "2024-09-16", "2024-09-18", "2024-09-19", "2024-09-20", "2024-09-23", "2024-09-24", "2024-09-25", "2024-09-26", "2024-09-27", "2024-09-30", "2024-10-01", "2024-10-04", "2024-10-07", "2024-10-08", "2024-10-09", "2024-10-11", "2024-10-14", "2024-10-15", "2024-10-16", "2024-10-17", "2024-10-18", "2024-10-21", "2024-10-22", "2024-10-23", "2024-10-24", "2024-10-25", "2024-10-28", "2024-10-29", "2024-10-30", "2024-11-01", "2024-11-04", "2024-11-05", "2024-11-06", "2024-11-07", "2024-11-08", "2024-11-11", "2024-11-12", "2024-11-13", "2024-11-14", "2024-11-15", "2024-11-18", "2024-11-19", "2024-11-20", "2024-11-21", "2024-11-22", "2024-11-25", "2024-11-26", "2024-11-27", "2024-11-28", "2024-11-29", "2024-12-02", "2024-12-03", "2024-12-04", "2024-12-05", "2024-12-06", "2024-12-09", "2024-12-10", "2024-12-11", "2024-12-12", "2024-12-13", "2024-12-16", "2024-12-17", "2024-12-18", "2024-12-19", "2024-12-20", "2024-12-23", "2024-12-24", "2024-12-25", "2024-12-26", "2024-12-27", "2024-12-30", "2024-12-31", "2025-01-02", "2025-01-03", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-20", "2025-01-21", "2025-01-22", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-17", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-18", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-02", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-16", "2025-06-17", "2025-06-18"], "strategy": [100.0, 104.87215361649174, 108.2092388389412, 109.21682452442508, 109.28399690345731, 109.14965214539282, 109.50705817792192, 112.90066647376713, 111.56045974622018, 103.8927417243154, 105.96491654180991, 106.87727449820895, 109.54528600934346, 109.34879754654246, 112.054696222584, 114.75388292687407, 105.52432516018814, 108.47967606074371, 112.4472295624078, 112.1467133504113, 109.58960024018984, 109.32816013275834, 112.31586591713535, 113.51094823088619, 113.1694961412431, 112.5719549843677, 110.4378794240984, 114.02312636535082, 115.21820867910164, 113.7670372981185, 112.8280440516, 113.30775222641516, 113.30775222641516, 113.30775222641516, 113.30775222641516, 114.8724279443132, 116.96662045622348, 115.20749874621885, 115.17097812300364, 113.65076269988448, 115.55830899231468, 116.80236092216046, 115.97299296892993, 115.97299296892993, 119.95395914443638, 121.86150543686655, 124.5154828872042, 125.92540840769608, 124.01786211526588, 125.01310365914252, 125.58488613731087, 132.33487872933557, 139.09827775974793, 142.37102253658085, 146.93885701652803, 148.87325217833077, 147.07151008883085, 138.09849358037803, 136.58844633428785, 136.06431476264626, 140.39554453652246, 140.15057350521352, 141.02808264391308, 140.00033320604416, 144.28550391300578, 144.0405328816969, 146.09210401745213, 148.74785682287924, 145.19512566981896, 151.76879191370904, 155.39689750821842, 159.12637484305858, 157.63224592475393, 155.09122477033523, 153.5077357557947, 151.99222380998023, 157.75468148351655, 152.98909787867302, 160.08741174928295, 154.9140984719159, 151.3746570641606, 160.01538327701627, 166.16928744932096, 170.06418041513393, 170.28328066649837, 168.83634763103774, 178.14409012553628, 172.98149732057365, 172.14797820473373, 179.7872469691721, 180.68539378464232, 179.65662986332043, 177.46439103894357, 174.94966115745734, 173.96354391799184, 172.93713545800756, 176.6191841696945, 177.1100376141236, 184.82915609263154, 170.99135804785385, 158.3983265400302, 156.27539905333, 156.27539905333, 156.27539905333, 156.27539905333, 156.27539905333, 156.27539905333, 156.27539905333, 156.27539905333, 157.42240906452716, 154.92158841865802, 157.45823507277444, 165.5280324893998, 154.53071116642212, 153.17873443088973, 151.77715613719172, 153.4360645166828, 155.8100796565046, 155.2692115709159, 156.07789290789876, 154.03420305619858, 155.19136174266555, 152.25355768330832, 157.2297278250029, 153.47375670274525, 158.76943112053462, 166.68791273121272, 173.61279390703865, 175.85788198328794, 173.41938343671782, 178.49737804666415, 178.220536382807, 184.66757837796965, 183.0747789159417, 178.2836595935287, 176.68092134192378, 181.67451138823134, 182.1816630895744, 181.96369086676518, 178.8096777911686, 181.7552268109208, 188.12912202773128, 190.81432430491503, 187.38366296249262, 181.19061089066344, 181.23968558683373, 187.3605162156256, 188.85640135528874, 189.82627296126125, 190.17694865038834, 191.40431356233313, 186.9988136047524, 194.2019708637276, 199.1588169086153, 199.58668104996536, 193.76635851075554, 201.7800434620716, 214.13470619555355, 233.74438208661735, 224.2724528388841, 224.278187326298, 227.6922216912082, 230.21887276118136, 233.9916804036664, 236.7198503843328, 226.815666742934, 227.79921752208398, 226.8290412217935, 227.31412937193875, 225.730905644537, 219.2299280213856, 223.6291575698413, 223.36655177647947, 226.14912140038487, 223.39974414143632, 217.39830010534013, 217.0313210264026, 212.020903134199, 211.2915751283813, 214.59022130208706, 215.09327719786543, 213.80563354754955, 212.08877534712838, 212.57581582749657, 213.6738417323996, 217.8301763376866, 225.80275739716447, 235.75248294771868, 239.91501022603998, 245.27814266602394, 237.03887718515753, 230.91235162562387, 238.95408680941586, 257.2330175576889, 260.95940754833185, 268.9164363163173, 277.66720466356503, 294.1979862704151, 290.6318800974184, 284.78199321413666, 288.8029395326623, 284.87219698439173, 280.4430693452589, 270.24072945220786, 269.5660080350875, 263.8649701945463, 266.71548911481693, 269.9223229001214, 260.7337151583051, 262.8494958670923, 265.34996388051854, 263.68129529897783, 263.469675998038, 261.50284682658594, 262.486261412312, 262.486261412312, 262.15845655040334, 261.3007386604224, 261.84664268392976, 261.40451451785736, 261.1394444516941, 260.2896584825898, 272.67641622231366, 287.89065571115515, 284.7891263912864, 278.4192438384464, 292.8064934155556, 292.1528227689614, 283.31496118499524, 274.95745098248545, 276.20684918980214, 278.87476319595305, 281.00909440087383, 279.94192879841347, 281.00909440087383, 279.94192879841347, 277.8075975934927, 274.6174435724413, 277.14357028429833, 280.3469592047438, 286.5049133115801, 306.8028843743888, 308.70317399223717, 309.9093711884216, 311.8350544314528, 311.7207831181301, 313.9257962381725, 314.53485196270304, 318.4689111856598, 308.5074307844109, 309.82354541744644, 309.56218570946754, 311.656789810555, 316.6400143026837, 307.72086736896995, 301.1769375034809, 303.014529406722, 298.8147629656537, 300.6517337960188, 317.25434651419164, 322.7076084827053, 334.0560612489718, 336.3224269379862, 336.731796560817, 334.66471320419026, 338.6273829444825, 343.6872313014841, 349.74167624376395, 345.6538814243446, 330.6288309270382, 332.41844342850425, 328.5302292781754, 323.3158863474755, 322.8298595786844, 334.20805592997027, 331.91288519163004, 331.1669227873347, 344.29640804878613, 336.95201143538395, 326.7531172618377, 326.13988498228963, 329.4377846330693, 334.5207953031802, 344.24018365892726, 343.6409530638492, 338.48164358843667, 333.21032063726375, 335.26004274295866, 340.0052412969952, 345.9387342925292, 347.72278731155757, 348.4043365274988, 358.57747197611036, 372.3609794958742, 375.3702608422616, 379.9452103279944, 386.16687892983697, 394.91015278145, 380.2069029204259, 377.0722872578202, 400.6436623462188, 430.34974527891114, 442.6667436301157, 451.58189779675604, 455.99309195975195, 477.3997018901901, 500.05656482387855, 490.65543291658605, 521.1111788055433, 524.0816878967582, 527.4975926520451, 528.0207877613352, 527.2294131869405, 521.9678810741233, 490.5781075775091, 493.11912840261664, 511.70894156489214, 517.624044404025, 516.6395314169743, 514.809621599722, 521.70656245363, 525.6499643463851, 526.0724875237523, 553.3287962151553, 535.7297716353914, 553.4450260679764, 545.743297999896, 549.9213468235963, 546.6376799792603, 553.4062827837027, 566.926125434464, 585.1327247366005, 590.5104393560044, 609.8123553641311, 611.955385226589, 622.6998290308918, 633.4149783431805, 671.9785304329141, 677.3745541098272, 669.8940895544849, 708.4722888902259, 763.1579994036666, 751.3145770818716, 734.1117491981812, 767.3378665950306, 744.8708402484914, 779.1703034823203, 814.510156249613, 818.7632596710125, 826.2563480189026, 839.2777473537528, 839.5776150568973, 888.1864548439851, 857.3905061789582, 846.730161381982, 869.7139028523573, 900.8535816546731, 885.6350771826726, 872.3507867046969, 828.399470771718, 864.8630762729902, 864.2872306801744, 858.9614164594568, 857.5659022457625, 857.325430899554, 842.2941023343832, 863.1882604433621, 904.2634327318685, 906.8249458500688, 940.5274520194031, 980.8569020071639, 1038.6643041191805, 1057.9367956511137, 1130.6744329776761, 1112.0446375821632, 1103.3949555154252, 1128.676161204153, 1167.4033407198986, 1264.0027885299296, 1315.127263232409, 1392.9499650139012, 1384.685309628013, 1423.928674900301, 1393.1420328122954, 1480.6567648175576, 1560.5692284937566, 1548.7857946690208, 1594.2951622129106, 1607.2162274716782, 1586.7889277830438, 1634.2025562482818, 1727.8954651572442, 1863.678280482963, 1980.1553795190925, 2122.8082844967175, 2147.427219546624, 2000.0168786904503, 1933.126438979959, 1930.05182595099, 2033.0693134902688, 2139.4977846611323, 2211.221319580627, 2383.9526854703545, 2430.8453575703925, 2413.3198181815937, 2446.4412743753956, 2280.2460063244503, 2243.1116468361006, 2300.885783070273, 2191.1844790024256, 2283.3295120560833, 2327.169410049879, 2362.9220382037965, 2293.875567314754, 2107.209267132437, 2128.0567205972084, 2203.9490199983697, 2220.0779484238524, 2261.252364323797, 2305.2275197869176, 2299.5899279706036, 2287.301460513005, 2442.567441418546, 2452.886850399191, 2458.620937564169, 2518.891859423632, 2515.6777745074746, 2478.4552538016164, 2527.2576519746335, 2483.070811565976, 2590.055752736221, 2703.7516638069314, 2703.7367608773825, 2608.4881779345615, 2617.764002251928, 2599.182547758097, 2487.77578690763, 2429.645404163825, 2438.93613141074, 2443.6038494285212, 2350.845606254856, 2360.097105856173, 2571.644847706049, 2755.9896739187197, 2876.653655713857, 2788.3879978999935, 2864.7363467754567, 2865.2547521448055, 2874.1870435792734, 2848.2711364422194, 2891.276769916849, 2861.013546360628, 2861.013546360628, 2792.1107983148217, 2844.7108243600137, 2791.8609919130868, 2896.6299567032343, 2910.6965688938308, 2951.965705361914, 2872.2007401709916, 3012.826397059282, 3159.63157536645, 3254.535662100966, 3250.0581996190513, 3272.7031644858143, 3235.9701730349116, 3180.079055073012, 3330.1142203928284, 3340.5105591619495, 3298.170268941528, 3139.7824452647933, 3091.4528108673317, 3091.452810867331, 3134.370099523585, 3138.4574603479896, 3138.4574603479896, 3122.181645493323, 3153.797878530928, 3153.7978785309283, 3173.5197084668243, 3061.6265941084603, 3001.0100274677047, 3004.448491481691, 3008.91383069214, 3045.1893259260773, 3043.891887630404, 3016.803432128492, 3019.099748641075, 3090.1804282587555, 3139.292958854562, 3062.7968130575796, 2950.143202586154, 2916.8991792898973, 2939.484453177373, 2933.624045082293, 2942.2208195727803, 3066.5180587624327, 3087.9692370912703, 2945.490819186059, 3003.55261305432, 2981.5160757836165, 2974.709973361589, 2911.861837186378, 2982.5610587866527, 2999.277113219906, 3156.583462945312, 2994.2422164821414, 3022.644360207721, 3056.282204748955, 3230.706217063394, 3403.3229926768227, 3485.683645585236, 3515.893026011826, 3689.3228811304903, 3896.5864532714404, 4057.928610941998, 4176.767955063134, 3951.9703173868566, 3959.0132549035225, 4050.238876820126, 4153.973530727965, 4055.890980582073, 4102.018130727194, 4241.398669955169, 4278.455115417372, 4303.227990950417, 4409.773901948718, 4577.35578082438, 4278.249379742644, 4125.8082087906305, 4200.668657217953, 4261.6174745234175, 4215.90586154432, 4223.524463707503, 4215.905861544319, 4185.4314528915875, 4132.101237749306, 4193.0500550547695, 4147.338442075672, 4116.86403342294, 4116.864033422941, 4132.101237749306, 4115.144567273415, 4139.012602437487, 4140.973480856991, 4093.470723809757, 4064.486252888591, 4053.1904272575644, 3971.4338506143945, 3984.629953887378, 3897.5503535779408, 3847.7890974390752, 3887.742980816889, 3827.812155750169, 3832.978249568954, 4044.0486031985, 4170.089433754618, 4068.060684591352, 4083.2732698723007, 4268.780086532783, 4271.194373474171, 4484.6788146319595, 4591.421035210854, 4698.163255789748, 4698.163255789748, 4698.163255789748, 4698.163255789748, 4659.766683088896, 4663.083018984547, 4636.552331819331, 4834.892669524915, 4983.98413727595, 4711.714977316971, 4253.948509811262, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4266.990034751453, 4195.745194439554, 4214.899220851912, 4214.899220851912, 4200.956747903581, 4436.445389513484, 4640.504603990148, 4808.965985112779, 4829.252809239852, 4823.086021133799, 4839.693964604872, 5120.030621727888, 5413.89182826895, 5672.6870417491355, 5988.718629752651, 5854.825331900173, 6148.371160672441, 6061.7563116810525, 5861.3722795723, 5758.601026062426, 5758.601026062426, 5768.904719289351, 5724.832597283104, 5770.514071017827, 5781.9344394515065, 5690.571491982061, 5915.228592138283, 5907.663972022759, 5907.663972022759, 5907.663972022759, 5907.663972022759, 6017.254470093239], "benchmark": [100.0, 102.62048574675346, 102.55725960213078, 102.54328866372224, 102.3298834293453, 101.93791532523564, 102.59295178054681, 103.06096122095805, 104.29879996097655, 104.26008244553289, 102.69700297876723, 103.77473680417673, 104.97348411069198, 105.91351411251739, 105.61675914340131, 105.68770159707202, 103.91101294062419, 103.21382572223123, 102.67082871459547, 103.74591112103693, 103.09087466572575, 102.45854523439735, 103.98525267172951, 104.1122488417888, 102.65957718025673, 101.98791836756894, 100.1275060583224, 100.58232638899511, 102.05627738737333, 100.84573466570535, 100.94179761447077, 101.2477305723224, 100.15021308230516, 99.52787746093321, 99.90002790788427, 100.51077206940873, 100.3357784175176, 101.05597859285116, 101.56678465481075, 104.2440379615211, 104.60262538067408, 104.23856516083066, 104.09865182143984, 104.75222659706351, 105.47922528257156, 105.52103612014463, 109.48446557421407, 107.86896959400316, 108.96376767995062, 110.20096056150257, 110.25392095576177, 108.77113189415672, 108.82834135727497, 110.36354693232526, 110.2260470640464, 110.1407937464584, 109.84138735837428, 110.62015669886102, 109.05428984292382, 109.8853397266523, 109.3850373629123, 109.8905405869358, 109.9736523738188, 108.95452170611333, 110.34406920067536, 109.55527205768128, 110.22451739925714, 110.22608105659725, 110.2946440317069, 111.390597864384, 112.05749771994964, 111.77702518270148, 111.4411107949804, 109.7136433521958, 109.95910356204541, 108.54528538616049, 108.73792117195438, 107.75655622826814, 109.39914427152435, 109.16551346937833, 109.82734843486399, 111.57602722939295, 112.30962046977027, 112.67860960949017, 112.08112254280597, 111.17097199319741, 111.67188622285313, 112.26529418343264, 112.39732125102104, 111.99151817870631, 112.17487399811203, 112.45589041617421, 112.72300388092953, 112.85819225574909, 111.96598977300114, 112.90486402809688, 113.14668703500317, 112.47965120923402, 111.77818092943113, 111.34620359294465, 110.60523396902803, 110.77455086492347, 108.95883876007413, 108.9866786592386, 109.25144663798376, 110.44023412709339, 110.84644511001859, 110.25752416615424, 110.65183775627409, 110.77257929697286, 111.29361711674504, 111.49301742016256, 110.88380292342737, 109.98269439235087, 109.89563946956665, 109.70201789979743, 111.11168898447595, 112.8937484639616, 114.14559213493953, 114.66333267727711, 114.70568739566411, 114.756336296464, 114.5527549092892, 115.49808774905068, 117.00864872471846, 117.94062249198709, 117.85849648907939, 117.54967416440363, 117.09475185607828, 118.47682098944838, 118.55051683973976, 118.90288362208305, 120.06281143550204, 118.72965758283729, 119.8132721195477, 120.30579018913794, 122.18530631197481, 122.3745088501306, 123.28829660268248, 122.97937230035411, 122.87974013374708, 122.56163784268317, 122.69648629199399, 121.68626167261706, 120.65050864753499, 121.04332656541645, 121.30619096131274, 121.6407796395498, 122.89408499021523, 123.7363524157316, 123.18890238393159, 121.13826776000307, 120.445635543427, 120.38818813245267, 122.26318324602347, 122.76052825783756, 123.5942295605341, 125.23131081054896, 125.63276283635206, 124.89362881018255, 124.1113242444051, 124.55268352493233, 123.59059235759075, 123.61462509105753, 124.85035629292196, 124.6551030807109, 125.27067418445922, 125.66022881745693, 124.59717977402434, 125.12885726221955, 122.82657578418265, 122.62041096314155, 123.73217133197431, 122.86770677073828, 122.85696512466258, 121.21638264190786, 121.00049595131723, 119.4875215045375, 119.93540735483225, 119.89087711318942, 120.42897919349956, 119.45322302070724, 119.45512660355608, 119.8652807223825, 120.88879642915052, 122.3221603217871, 120.23386195149195, 120.45583330868872, 121.30802655905985, 122.01160437701681, 121.4050073066988, 121.48159252381434, 122.54144626746495, 122.55738877382412, 122.16953376836999, 121.30449133376912, 120.99026419350463, 119.97830595403325, 120.99974811519805, 121.06603358939923, 122.90710413719938, 123.73601249022288, 122.10766732578222, 121.65553240662841, 120.92248304706507, 119.32758655268285, 119.53092999200156, 120.31894530632559, 119.040893378625, 119.29186038171595, 119.60911285900808, 121.09802057977018, 120.34569744386216, 119.02250340860306, 120.34025863572255, 120.83209685429534, 121.93988009467604, 123.06554341681564, 122.74852888737962, 121.79530977581574, 121.72440131469591, 120.24983845040198, 120.33662143277921, 120.24878468132493, 118.86375819602893, 119.29097657539327, 119.65031183066543, 117.56500480484706, 118.0102392361738, 118.1204430861021, 117.03676056428995, 117.31053656901629, 119.93183813699066, 120.74154069877127, 121.77810954507432, 122.03839050710428, 122.44711693879404, 122.48240120659959, 122.02170016462593, 123.16728312157674, 123.72625662812253, 125.28467911541865, 125.59479315702757, 125.87122058072194, 125.88243812250983, 127.39089156002355, 126.61236016739291, 126.49851911452123, 126.44630655638123, 125.34923096952535, 126.8409600720098, 127.05545306801469, 127.51836362579505, 127.55130240759041, 127.4279094479236, 126.74421727222696, 126.98396673353002, 126.39283627385896, 127.1626995660171, 127.41393850951503, 127.65018673807822, 127.78404940341375, 129.31503990215586, 129.46712257475897, 129.30742557076042, 128.75450273826993, 129.1841685812971, 128.5153651428826, 128.90277824517534, 128.96291106766864, 130.0394551537976, 131.06337877117608, 131.2015924830233, 131.3512956770653, 130.78691735493084, 128.6299200393226, 128.65068948790562, 128.42701850316521, 128.81939451788534, 128.54691023009218, 128.03477845864856, 128.6189744379417, 128.3807546414279, 128.62998802442434, 127.16416124570462, 125.80741656273445, 126.29126653185222, 129.6174376347167, 130.59662705514714, 131.0327174902892, 131.041827493923, 131.97128581242706, 131.91564000664894, 132.82905384114125, 132.20593639109927, 131.14247943705615, 131.71827925628378, 132.39139974865907, 132.6563036976077, 136.67721455520237, 136.4036425057813, 136.6129006489518, 137.47321811898144, 136.9099275584748, 138.20351408192408, 138.47042359137419, 138.9018910395976, 138.21547945983116, 139.03911896746948, 138.81303451161713, 141.5208471215618, 142.11915000946692, 142.9440472414875, 144.36670348059926, 145.0396540102202, 144.60539917282526, 145.9869924104832, 146.08934398115997, 146.16127221880598, 144.28886053910145, 145.94953261942177, 145.78412486687668, 145.25006790012037, 148.3111650912819, 148.53837130131305, 148.2729914566522, 147.7921328320112, 148.34699323990142, 147.9837828338298, 149.0860252884183, 148.55635336072456, 150.35211183821178, 149.40558925916974, 149.99417027752537, 152.77479493143872, 152.5347395371778, 152.47831190272964, 152.43680699811443, 150.3284530228046, 146.30152548370552, 148.59041389669866, 149.24075937998947, 143.55186804363692, 142.69984475602016, 144.08232180000076, 147.99663201805956, 145.98478289467647, 147.91899303186702, 150.6758908852714, 149.94865425190724, 148.66829083074737, 149.46140502770226, 150.88015212346366, 151.83748433368314, 152.18295062819934, 151.15559376318274, 152.24413721976967, 153.3385613876575, 154.28066493508615, 155.46686899032946, 156.62149396581233, 156.28520566003166, 156.3819484598145, 156.1255086560331, 158.44186305013122, 158.85062347437184, 158.5411552912295, 160.29438908757533, 160.69604506868367, 159.2565285243392, 157.07152134681206, 155.67667101431394, 158.35076301379317, 157.03208998780008, 157.99030600434222, 161.0706769718484, 160.74805367151842, 160.2812679629386, 162.1831171916986, 164.34915652583894, 165.7715408245437, 165.71436535397632, 167.71659458546256, 171.05520696194637, 172.58772712547773, 171.4762726896028, 168.28328440105636, 168.7748166866713, 169.61198522955678, 169.17813830277234, 170.12897793577517, 170.50330390598202, 169.46177214725168, 171.6691464232528, 174.5143569238237, 174.774297960345, 177.22281539223493, 177.4734084772663, 178.38988164133713, 181.28448331832564, 177.7894712152779, 177.60550352995645, 178.56106812753055, 176.91623657591674, 174.26760499704096, 170.40588125518175, 165.85907164304015, 170.47859132149782, 164.9970885380178, 165.35421427748324, 165.80594128602658, 165.64634625968066, 169.04325586091065, 161.54915611792833, 148.0913012722392, 153.1141425667979, 159.0488680310597, 155.9597269854284, 160.4352202258397, 162.71428479163075, 162.93068137048448, 164.6801759862344, 163.73205575730134, 167.13620577186717, 167.60193771136994, 167.75007724807188, 166.3229679847958, 165.6929500469267, 165.76868545027043, 166.3988733508939, 166.01717099714767, 167.42068943011827, 166.17350273860984, 166.67332920663765, 166.43004452004388, 165.365465811822, 157.88805641131802, 158.61950812099036, 160.47315591261332, 158.29967220983195, 157.69814002959393, 157.45050429648848, 162.3728296181175, 163.17223243698376, 163.85058778219343, 162.56651917298845, 165.29635895589843, 166.17166714086278, 167.1173059135821, 168.21676097899908, 170.69311831005353, 171.43792909221872, 171.16779029043576, 166.68101152313483, 167.924798959556, 167.26762097353986, 170.2663758264014, 169.58268365070478, 169.94035327098422, 171.75946463092077, 172.3118435825973, 174.68744699286597, 172.5795009281666, 172.90096848176694, 176.15262791311912, 176.5670990859063, 176.51403671399447, 175.00935644962766, 173.94253423304818, 175.11201395326228, 173.98417510786686, 171.94805530316086, 171.15191576917837, 170.85176154497503, 172.2415129948423, 173.30204658951038, 174.13153281589874, 175.56731017964725, 176.65537774052194, 176.47348360080372, 172.36443005879693, 171.4528518220517, 170.3664838887206, 170.57193486619343, 169.10019338362193, 171.36708861620065, 170.16382030041936, 169.1685863959772, 171.78353135693845, 172.11485675029175, 170.09277586909604, 167.51291122063512, 167.24555980802367, 166.97253163941653, 170.5308378721887, 172.7098283682114, 174.41890584097402, 174.51381304300975, 173.9538197599378, 174.55375429028481, 173.45491109078358, 171.79383109985278, 173.11359188747377, 172.91592520415077, 173.06175324739337, 172.89733127882357, 174.03428012785278, 172.26027688292388, 169.09030155131802, 173.55444127973797, 173.67242942381606, 174.42271300667173, 174.6243568184468, 174.8402775015883, 174.19812422305776, 173.03306353445706, 171.61635599174795, 172.1894364069058, 176.99554119710206, 177.77397061208006, 175.94034443292097, 173.4884957310455, 172.96783182933294, 169.0327181701402, 171.35675488073542, 169.22997694285274, 173.0672940331856, 173.99168746160967, 174.88419587731545, 175.13465299214332, 176.8288757201747, 170.5849200206267, 171.33092054207242, 174.09414100993908, 175.25933766874329, 176.47453736988078, 174.77484184115892, 175.7663025724543, 175.05748990166293, 175.88177526776784, 174.02669978900823, 176.67788080919948, 177.88645196291685, 177.420210135151, 176.5435762407026, 178.36856831194012, 177.1287919965219, 175.02720253883567, 175.90540009062414, 173.27930557297674, 171.04742266779658, 169.84959316015488, 171.91678215635824, 170.74067388872402, 169.6931254484892, 168.81435002333592, 165.89744923297508, 167.45536183200815, 165.0798603993921, 165.12772191102044, 166.2599457954784, 167.68844875334023, 165.34806162577533, 168.52792878968503, 167.26524149497882, 166.49435842629447, 167.75079109164017, 167.65544198644312, 165.37260424750522, 162.7454219682299, 155.91302122052974, 160.3302852212966, 160.46632340988796, 144.9015762685765, 139.0821875294248, 131.0341451774258, 143.15636471423653, 147.14212727422913, 147.02393517484578, 149.62028621047983, 146.68424761397787, 145.72140861051707, 146.1459415783625, 143.96953451620612, 141.6127629791208, 147.98534649116993, 146.78496754221283, 149.75397891306102, 150.97230592887874, 152.4660745844156, 152.4841246289288, 156.6483820735524, 154.72943459170355, 154.6510817619427, 154.83120828901556, 154.8078554065662, 157.60843368784165, 159.2248474669261, 160.73666616697616, 164.14822655763217, 163.7517374442565, 164.60658211359564, 162.19623831633538, 162.21275869605932, 164.30676781490106, 163.3237032436712, 163.18260016499985, 162.3108611978771, 160.8069967547312, 160.97396816461642, 160.89544537210116, 158.3024256064526, 159.27865767495712, 162.9865651241187, 163.4117439504307, 163.30799868516814, 164.2857604184619, 167.70663476805694, 169.43879318286193, 168.38074104440753, 166.80253489250364, 166.65810054384684, 167.98945279131533, 169.1024368919795], "metrics": {"backtest": {"startDate": 1668355200.0, "endDate": 1750176000.0, "version": "1.3.0", "feeRatio": 0.000475, "taxRatio": 0.003, "tradeAt": "open", "market": "tw_stock", "freq": "1d", "expired": 1750266780.0, "updateDate": 1750118400.0, "nextTradingDate": 1750118400.0, "currentRebalanceDate": 1750118400.0, "nextRebalanceDate": 1750118400.0, "livePerformanceStart": null, "stopLoss": 0.08, "takeProfit": Infinity, "trailStop": 0.2}, "profitability": {"annualReturn": 3.8562284676499132, "alpha": 3.7449942294989387, "beta": 0.483153614358076, "avgNStock": 1.8449612403100775, "maxNStock": 2}, "risk": {"maxDrawdown": -0.17882460026423008, "avgDrawdown": -0.04998822291229033, "avgDrawdownDays": 12.035087719298245, "valueAtRisk": -0.0697776792597759, "cvalueAtRisk": -0.10483115653061348}, "ratio": {"sharpeRatio": 3.987902140592197, "sortinoRatio": 7.898362170798454, "calmarRatio": 21.563100551863528, "volatility": 0.4355796159752057, "profitFactor": 6.445208295476193, "tailRatio": 1.6409690190156452}, "winrate": {"winRate": 0.5859375, "m12WinRate": 1.0, "expectancy": 0.07596629537209496, "mae": -0.02439909183183561, "mfe": 0.13558408810608133}, "liquidity": {"capacity": 1204684.8832500002, "disposalStockRatio": 0.046875, "warningStockRatio": 0.109375, "fullDeliveryStockRatio": 0.0, "buyHigh": 0.015625, "sellLow": 0.015625}}, "trades": [{"stock_id": "6269 \u53f0\u90e1", "entry_date": 1668470400000, "exit_date": 1669075200000, "entry_sig_date": 1668384000000, "exit_sig_date": 1668988800000, "position": 0.5, "period": 5, "entry_index": 3842, "exit_index": 3847, "return": 0.0246464349, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 104.5, "trade_price@exit_date": 107.5, "pct_change@entry_date": 0.0, "pct_change@exit_date": -0.0046296296, "turnover@entry_date": 347272101.0, "turnover@exit_date": 181157925.0, "volume@entry_date": 3323178.0, "volume@exit_date": 1685190.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0330019139, "bmfe": 0.0186546651, "mdd": -0.0092592593, "pdays": 6.0, "market_value@entry_date": 34379307600.0}, {"stock_id": "6472 \u4fdd\u745e", "entry_date": 1668470400000, "exit_date": 1670457600000, "entry_sig_date": 1668384000000, "exit_sig_date": 1670371200000, "position": 0.5, "period": 17, "entry_index": 3842, "exit_index": 3859, "return": 0.0977988622, "industry": "\u751f\u6280\u91ab\u7642\u696d", "trade_price@entry_date": 372.0, "trade_price@exit_date": 410.0, "pct_change@entry_date": 0.0191780822, "pct_change@exit_date": 0.025, "turnover@entry_date": 4913835048.0, "turnover@exit_date": 1457324910.0, "volume@entry_date": 13209234.0, "volume@exit_date": 3554451.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.2561234879, "bmfe": 0.0787884073, "mdd": -0.1711229947, "pdays": 18.0, "market_value@entry_date": 30265672250.0}, {"stock_id": "6269 \u53f0\u90e1", "entry_date": 1670457600000, "exit_date": 1670889600000, "entry_sig_date": 1670371200000, "exit_sig_date": 1670803200000, "position": 0.5, "period": 3, "entry_index": 3859, "exit_index": 3862, "return": -0.0135720368, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 103.5, "trade_price@exit_date": 102.5, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0049019608, "turnover@entry_date": 249170454.0, "turnover@exit_date": 193025130.0, "volume@entry_date": 2407444.0, "volume@exit_date": 1883172.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0294467391, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0294467391, "pdays": 0.0, "market_value@entry_date": 33249471200.0}, {"stock_id": "5284 jpp-KY", "entry_date": 1669075200000, "exit_date": 1672099200000, "entry_sig_date": 1668988800000, "exit_sig_date": 1672012800000, "position": 0.5, "period": 25, "entry_index": 3847, "exit_index": 3872, "return": 0.1467149255, "industry": "\u5176\u4ed6", "trade_price@entry_date": 59.5, "trade_price@exit_date": 68.5, "pct_change@entry_date": 0.0101867572, "pct_change@exit_date": 0.011816839, "turnover@entry_date": 151381744.5, "turnover@exit_date": 212930606.0, "volume@entry_date": 2544231.0, "volume@exit_date": 3108476.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0609504622, "gmfe": 0.1843111345, "bmfe": 0.0, "mdd": -0.0609504622, "pdays": 16.0, "market_value@entry_date": 2695527480.0}, {"stock_id": "5284 jpp-KY", "entry_date": 1672704000000, "exit_date": 1672963200000, "entry_sig_date": 1672358400000, "exit_sig_date": 1672876800000, "position": 0.5, "period": 3, "entry_index": 3876, "exit_index": 3879, "return": 0.0328878803, "industry": "\u5176\u4ed6", "trade_price@entry_date": 67.6, "trade_price@exit_date": 70.1, "pct_change@entry_date": 0.0014814815, "pct_change@exit_date": 0.0028612303, "turnover@entry_date": 73324435.6, "turnover@exit_date": 66178535.89999999, "volume@entry_date": 1084681.0, "volume@exit_date": 944059.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0645828402, "bmfe": 0.0276181583, "mdd": -0.0291666667, "pdays": 4.0, "market_value@entry_date": 3191467800.0}, {"stock_id": "6441 \u5ee3\u9320", "entry_date": 1675382400000, "exit_date": 1675814400000, "entry_sig_date": 1675296000000, "exit_sig_date": 1675728000000, "position": 0.5, "period": 3, "entry_index": 3891, "exit_index": 3894, "return": 0.136174171, "industry": "\u96fb\u8166\u53ca\u9031\u908a\u8a2d\u5099\u696d", "trade_price@entry_date": 59.0, "trade_price@exit_date": 67.3, "pct_change@entry_date": 0.0051107325, "pct_change@exit_date": -0.0044378698, "turnover@entry_date": 201290595.0, "turnover@exit_date": 187718005.6, "volume@entry_date": 3411705.0, "volume@exit_date": 2789272.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.1638536864, "bmfe": 0.0164661017, "mdd": 0.0, "pdays": 4.0, "market_value@entry_date": 2599110000.0}, {"stock_id": "5284 jpp-KY", "entry_date": 1673222400000, "exit_date": 1675987200000, "entry_sig_date": 1672963200000, "exit_sig_date": 1675900800000, "position": 0.5, "period": 16, "entry_index": 3880, "exit_index": 3896, "return": 0.2716163724, "industry": "\u5176\u4ed6", "trade_price@entry_date": 69.4, "trade_price@exit_date": 88.6, "pct_change@entry_date": -0.0113960114, "pct_change@exit_date": -0.004494382, "turnover@entry_date": 144780892.0, "turnover@exit_date": 346665042.79999995, "volume@entry_date": 2086180.0, "volume@exit_date": 3912698.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0263992795, "gmfe": 0.2818115994, "bmfe": 0.0, "mdd": -0.0279126214, "pdays": 16.0, "market_value@entry_date": 3104219040.0}, {"stock_id": "5439 \u9ad8\u6280", "entry_date": 1675987200000, "exit_date": 1676246400000, "entry_sig_date": 1675900800000, "exit_sig_date": 1675987200000, "position": 0.5, "period": 1, "entry_index": 3896, "exit_index": 3897, "return": 0.0082198209, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 57.3, "trade_price@exit_date": 58.0, "pct_change@entry_date": -0.0120689655, "pct_change@exit_date": 0.0034602076, "turnover@entry_date": 33984973.8, "turnover@exit_date": 25426098.0, "volume@entry_date": 593106.0, "volume@exit_date": 438381.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0082468586, "bmfe": 0.0082468586, "mdd": -0.0069204152, "pdays": 2.0, "market_value@entry_date": 5373995459.999999}, {"stock_id": "5284 jpp-KY", "entry_date": 1676246400000, "exit_date": 1676332800000, "entry_sig_date": 1675987200000, "exit_sig_date": 1676246400000, "position": 0.5, "period": 1, "entry_index": 3897, "exit_index": 3898, "return": -0.0039483494, "industry": "\u5176\u4ed6", "trade_price@entry_date": 87.0, "trade_price@exit_date": 87.0, "pct_change@entry_date": -0.0147225368, "pct_change@exit_date": 0.0034602076, "turnover@entry_date": 144486120.0, "turnover@exit_date": 245515305.0, "volume@entry_date": 1660760.0, "volume@exit_date": 2822015.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0039216379, "gmfe": 0.0167581897, "bmfe": 0.0, "mdd": -0.0039216379, "pdays": 1.0, "market_value@entry_date": 3981298680.0000005}, {"stock_id": "6472 \u4fdd\u745e", "entry_date": 1675814400000, "exit_date": 1677628800000, "entry_sig_date": 1675728000000, "exit_sig_date": 1677196800000, "position": 0.5, "period": 13, "entry_index": 3894, "exit_index": 3907, "return": 0.0556266182, "industry": "\u751f\u6280\u91ab\u7642\u696d", "trade_price@entry_date": 476.5, "trade_price@exit_date": 505.0, "pct_change@entry_date": 0.0181623932, "pct_change@exit_date": 0.0039761431, "turnover@entry_date": 6180545697.5, "turnover@exit_date": 247868645.0, "volume@entry_date": 12970715.0, "volume@exit_date": 490829.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0162072928, "gmfe": 0.1348227177, "bmfe": 0.1348227177, "mdd": -0.1330868762, "pdays": 12.0, "market_value@entry_date": 38746091000.0}, {"stock_id": "2916 \u6eff\u5fc3", "entry_date": 1676332800000, "exit_date": 1678665600000, "entry_sig_date": 1676246400000, "exit_sig_date": 1678406400000, "position": 0.5, "period": 17, "entry_index": 3898, "exit_index": 3915, "return": 0.0215098398, "industry": "\u5c45\u5bb6\u751f\u6d3b", "trade_price@entry_date": 31.3, "trade_price@exit_date": 32.1, "pct_change@entry_date": 0.0016, "pct_change@exit_date": -0.0153374233, "turnover@entry_date": 9161009.200000001, "turnover@exit_date": 14333548.8, "volume@entry_date": 292684.0, "volume@exit_date": 446528.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0387954473, "gmfe": 0.1065029153, "bmfe": 0.0, "mdd": -0.0735930736, "pdays": 10.0, "market_value@entry_date": 1668851795.0000002}, {"stock_id": "2345 \u667a\u90a6", "entry_date": 1678665600000, "exit_date": 1678838400000, "entry_sig_date": 1678406400000, "exit_sig_date": 1678752000000, "position": 0.5, "period": 2, "entry_index": 3915, "exit_index": 3917, "return": -0.0073133887, "industry": "\u901a\u4fe1\u7db2\u8def\u696d", "trade_price@entry_date": 296.0, "trade_price@exit_date": 295.0, "pct_change@entry_date": -0.0067114094, "pct_change@exit_date": 0.0154905336, "turnover@entry_date": 980394624.0, "turnover@exit_date": 1608852415.0, "volume@entry_date": 3312144.0, "volume@exit_date": 5453737.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0190472551, "gmfe": 0.0197856419, "bmfe": 0.0147204814, "mdd": -0.0332778702, "pdays": 2.0, "market_value@entry_date": 168297549200.0}, {"stock_id": "8938 \u660e\u5b89", "entry_date": 1678838400000, "exit_date": 1678924800000, "entry_sig_date": 1678752000000, "exit_sig_date": 1678838400000, "position": 0.5, "period": 1, "entry_index": 3917, "exit_index": 3918, "return": -0.0345288825, "industry": "\u904b\u52d5\u4f11\u9592", "trade_price@entry_date": 114.0, "trade_price@exit_date": 110.5, "pct_change@entry_date": 0.0044052863, "pct_change@exit_date": -0.0133928571, "turnover@entry_date": 135844224.0, "turnover@exit_date": 298022478.0, "volume@entry_date": 1191616.0, "volume@exit_date": 2697036.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0662332237, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0662332237, "pdays": 0.0, "market_value@entry_date": 15365604800.0}, {"stock_id": "2243 \u5b8f\u65ed-KY", "entry_date": 1677628800000, "exit_date": 1680739200000, "entry_sig_date": 1677196800000, "exit_sig_date": 1680220800000, "position": 0.5, "period": 23, "entry_index": 3907, "exit_index": 3930, "return": 0.0997016955, "industry": "\u6c7d\u8eca\u5de5\u696d", "trade_price@entry_date": 19.7, "trade_price@exit_date": 21.75, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0023041475, "turnover@entry_date": 40482199.8, "turnover@exit_date": 35987441.25, "volume@entry_date": 2054934.0, "volume@exit_date": 1654595.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0410648477, "gmfe": 0.2430640863, "bmfe": 0.0, "mdd": -0.1367346939, "pdays": 21.0, "market_value@entry_date": 876288570.0000001}, {"stock_id": "2404 \u6f22\u5510", "entry_date": 1680739200000, "exit_date": 1681084800000, "entry_sig_date": 1680220800000, "exit_sig_date": 1680825600000, "position": 0.5, "period": 2, "entry_index": 3930, "exit_index": 3932, "return": -0.0039483494, "industry": "\u5176\u4ed6\u96fb\u5b50\u696d", "trade_price@entry_date": 211.0, "trade_price@exit_date": 211.0, "pct_change@entry_date": -0.0023640662, "pct_change@exit_date": 0.0023752969, "turnover@entry_date": 183601861.0, "turnover@exit_date": 182450012.0, "volume@entry_date": 870151.0, "volume@exit_date": 864692.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0052120853, "gmfe": 0.006630628, "bmfe": 0.0, "mdd": -0.0052120853, "pdays": 1.0, "market_value@entry_date": 40023207000.0}, {"stock_id": "3027 \u76db\u9054", "entry_date": 1681084800000, "exit_date": 1681171200000, "entry_sig_date": 1680825600000, "exit_sig_date": 1681084800000, "position": 0.5, "period": 1, "entry_index": 3932, "exit_index": 3933, "return": -0.0102392019, "industry": "\u901a\u4fe1\u7db2\u8def\u696d", "trade_price@entry_date": 47.5, "trade_price@exit_date": 47.2, "pct_change@entry_date": 0.0063559322, "pct_change@exit_date": -0.0094438615, "turnover@entry_date": 287497740.0, "turnover@exit_date": 342965348.0, "volume@entry_date": 6052584.0, "volume@exit_date": 7266215.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0162569737, "gmfe": 0.0026813947, "bmfe": 0.0026813947, "mdd": -0.018887723, "pdays": 1.0, "market_value@entry_date": 4756318170.0}, {"stock_id": "4153 \u923a\u7def", "entry_date": 1681171200000, "exit_date": 1681344000000, "entry_sig_date": 1681084800000, "exit_sig_date": 1681257600000, "position": 0.5, "period": 2, "entry_index": 3933, "exit_index": 3935, "return": -0.0215775821, "industry": "\u751f\u6280\u91ab\u7642\u696d", "trade_price@entry_date": 56.5, "trade_price@exit_date": 55.5, "pct_change@entry_date": 0.0125448029, "pct_change@exit_date": 0.0018050542, "turnover@entry_date": 94987404.5, "turnover@exit_date": 74890978.5, "volume@entry_date": 1681193.0, "volume@exit_date": 1349387.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0199347788, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0199347788, "pdays": 0.0, "market_value@entry_date": 3446157780.0}, {"stock_id": "4503 \u91d1\u96e8", "entry_date": 1681344000000, "exit_date": 1681948800000, "entry_sig_date": 1681257600000, "exit_sig_date": 1681862400000, "position": 0.5, "period": 5, "entry_index": 3935, "exit_index": 3940, "return": 0.0424626594, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 55.8, "trade_price@exit_date": 58.4, "pct_change@entry_date": -0.0017889088, "pct_change@exit_date": 0.0051635112, "turnover@entry_date": 146909626.2, "turnover@exit_date": 82334480.8, "volume@entry_date": 2632789.0, "volume@exit_date": 1409837.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0022662634, "gmfe": 0.0550541667, "bmfe": 0.0031075269, "mdd": -0.0053571429, "pdays": 5.0, "market_value@entry_date": 2680344800.0}, {"stock_id": "4934 \u592a\u6975", "entry_date": 1681948800000, "exit_date": 1682294400000, "entry_sig_date": 1681862400000, "exit_sig_date": 1682035200000, "position": 0.5, "period": 2, "entry_index": 3940, "exit_index": 3942, "return": -0.1330141971, "industry": "\u5149\u96fb\u696d", "trade_price@entry_date": 35.5, "trade_price@exit_date": 30.9, "pct_change@entry_date": 0.0070921986, "pct_change@exit_date": -0.0032258065, "turnover@entry_date": 458251501.5, "turnover@exit_date": 44882713.5, "volume@entry_date": 12908493.0, "volume@exit_date": 1452515.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.1271753521, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.1271753521, "pdays": 0.0, "market_value@entry_date": 7323750000.0}, {"stock_id": "6472 \u4fdd\u745e", "entry_date": 1678924800000, "exit_date": 1682294400000, "entry_sig_date": 1678838400000, "exit_sig_date": 1682035200000, "position": 0.5, "period": 24, "entry_index": 3918, "exit_index": 3942, "return": 0.2150787152, "industry": "\u751f\u6280\u91ab\u7642\u696d", "trade_price@entry_date": 573.0, "trade_price@exit_date": 699.0, "pct_change@entry_date": 0.0017482517, "pct_change@exit_date": -0.0168776371, "turnover@entry_date": 4463394387.0, "turnover@exit_date": 3387386853.0, "volume@entry_date": 7789519.0, "volume@exit_date": 4846047.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0562948953, "gmfe": 0.4757384817, "bmfe": 0.0152243455, "mdd": -0.1595744681, "pdays": 22.0, "market_value@entry_date": 42515166000.0}, {"stock_id": "4503 \u91d1\u96e8", "entry_date": 1683244800000, "exit_date": 1683504000000, "entry_sig_date": 1683158400000, "exit_sig_date": 1683244800000, "position": 0.5, "period": 1, "entry_index": 3950, "exit_index": 3951, "return": -0.0207043585, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 53.5, "trade_price@exit_date": 52.6, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0019047619, "turnover@entry_date": 21679430.5, "turnover@exit_date": 89553498.8, "volume@entry_date": 405223.0, "volume@exit_date": 1702538.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0191577103, "gmfe": 0.0779923832, "bmfe": 0.0, "mdd": -0.0191577103, "pdays": 1.0, "market_value@entry_date": 2512823250.0}, {"stock_id": "2916 \u6eff\u5fc3", "entry_date": 1683504000000, "exit_date": 1683590400000, "entry_sig_date": 1683244800000, "exit_sig_date": 1683504000000, "position": 0.5, "period": 1, "entry_index": 3951, "exit_index": 3952, "return": 0.0155311484, "industry": "\u5c45\u5bb6\u751f\u6d3b", "trade_price@entry_date": 38.35, "trade_price@exit_date": 39.1, "pct_change@entry_date": 0.0065616798, "pct_change@exit_date": 0.0249017038, "turnover@entry_date": 8828515.15, "turnover@exit_date": 21522047.6, "volume@entry_date": 230209.0, "volume@exit_date": 550436.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0056876467, "gmfe": 0.019072425, "bmfe": 0.0, "mdd": -0.0056876467, "pdays": 1.0, "market_value@entry_date": 2084016234.9999998}, {"stock_id": "3131 \u5f18\u5851", "entry_date": 1683244800000, "exit_date": 1683590400000, "entry_sig_date": 1683158400000, "exit_sig_date": 1683504000000, "position": 0.5, "period": 2, "entry_index": 3950, "exit_index": 3952, "return": 0.0421376225, "industry": "\u5176\u4ed6\u96fb\u5b50\u696d", "trade_price@entry_date": 335.0, "trade_price@exit_date": 350.5, "pct_change@entry_date": -0.0074074074, "pct_change@exit_date": 0.0369822485, "turnover@entry_date": 109849850.0, "turnover@exit_date": 114935960.0, "volume@entry_date": 327910.0, "volume@exit_date": 327920.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0338370522, "bmfe": 0.0338370522, "mdd": -0.0245310245, "pdays": 3.0, "market_value@entry_date": 10123344000.0}, {"stock_id": "6230 \u5c3c\u5f97\u79d1\u8d85\u773e", "entry_date": 1683590400000, "exit_date": 1683676800000, "entry_sig_date": 1683504000000, "exit_sig_date": 1683590400000, "position": 0.5, "period": 1, "entry_index": 3952, "exit_index": 3953, "return": -0.0199277876, "industry": "\u96fb\u8166\u53ca\u9031\u908a\u8a2d\u5099\u696d", "trade_price@entry_date": 187.0, "trade_price@exit_date": 184.0, "pct_change@entry_date": 0.0163043478, "pct_change@exit_date": -0.0054054054, "turnover@entry_date": 97645042.0, "turnover@exit_date": 50488128.0, "volume@entry_date": 522166.0, "volume@exit_date": 274392.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0298727941, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0298727941, "pdays": 0.0, "market_value@entry_date": 15973529000.0}, {"stock_id": "5439 \u9ad8\u6280", "entry_date": 1683590400000, "exit_date": 1683763200000, "entry_sig_date": 1683504000000, "exit_sig_date": 1683676800000, "position": 0.5, "period": 2, "entry_index": 3952, "exit_index": 3954, "return": 0.0180032022, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 72.6, "trade_price@exit_date": 74.2, "pct_change@entry_date": 0.0139664804, "pct_change@exit_date": 0.0108991826, "turnover@entry_date": 421170604.79999995, "turnover@exit_date": 337402759.40000004, "volume@entry_date": 5801248.0, "volume@exit_date": 4547207.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0169960744, "gmfe": 0.0105390496, "bmfe": 0.0105390496, "mdd": -0.0272479564, "pdays": 1.0, "market_value@entry_date": 6684952830.0}, {"stock_id": "2387 \u7cbe\u5143", "entry_date": 1683763200000, "exit_date": 1684886400000, "entry_sig_date": 1683676800000, "exit_sig_date": 1684800000000, "position": 0.5, "period": 9, "entry_index": 3954, "exit_index": 3963, "return": -0.0321384904, "industry": "\u96fb\u8166\u53ca\u9031\u908a\u8a2d\u5099\u696d", "trade_price@entry_date": 42.4, "trade_price@exit_date": 41.2, "pct_change@entry_date": -0.0093457944, "pct_change@exit_date": 0.0, "turnover@entry_date": 257224518.4, "turnover@exit_date": 17658031.6, "volume@entry_date": 6066616.0, "volume@exit_date": 428593.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0570518868, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0570518868, "pdays": 0.0, "market_value@entry_date": 7810040000.0}, {"stock_id": "4503 \u91d1\u96e8", "entry_date": 1683676800000, "exit_date": 1684972800000, "entry_sig_date": 1683590400000, "exit_sig_date": 1684886400000, "position": 0.5, "period": 11, "entry_index": 3953, "exit_index": 3964, "return": -0.0376855827, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 62.0, "trade_price@exit_date": 59.9, "pct_change@entry_date": 0.0081300813, "pct_change@exit_date": 0.005033557, "turnover@entry_date": 740764282.0, "turnover@exit_date": 39381614.4, "volume@entry_date": 11947811.0, "volume@exit_date": 657456.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0536755242, "gmfe": 0.0898046774, "bmfe": 0.0898046774, "mdd": -0.1316568047, "pdays": 4.0, "market_value@entry_date": 3235559079.9999995}, {"stock_id": "8210 \u52e4\u8aa0", "entry_date": 1684972800000, "exit_date": 1686268800000, "entry_sig_date": 1684886400000, "exit_sig_date": 1686182400000, "position": 0.5, "period": 11, "entry_index": 3964, "exit_index": 3975, "return": 0.2718978513, "industry": "\u96fb\u8166\u53ca\u9031\u908a\u8a2d\u5099\u696d", "trade_price@entry_date": 92.8, "trade_price@exit_date": 118.5, "pct_change@entry_date": 0.0153172867, "pct_change@exit_date": 0.0128205128, "turnover@entry_date": 562722774.4, "turnover@exit_date": 1476259728.0, "volume@entry_date": 6063823.0, "volume@exit_date": 12457888.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.3517283136, "bmfe": 0.0393767511, "mdd": -0.0343347639, "pdays": 12.0, "market_value@entry_date": 11640988000.0}, {"stock_id": "6005 \u7fa4\u76ca\u8b49", "entry_date": 1686268800000, "exit_date": 1686614400000, "entry_sig_date": 1686182400000, "exit_sig_date": 1686528000000, "position": 0.5, "period": 2, "entry_index": 3975, "exit_index": 3977, "return": -0.0339298372, "industry": "\u91d1\u878d\u4fdd\u96aa\u696d", "trade_price@entry_date": 14.95, "trade_price@exit_date": 14.5, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0034602076, "turnover@entry_date": 119258272.89999999, "turnover@exit_date": 103321084.0, "volume@entry_date": 7977142.0, "volume@exit_date": 7125592.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0339039298, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0339039298, "pdays": 0.0, "market_value@entry_date": 31803803665.000004}, {"stock_id": "2916 \u6eff\u5fc3", "entry_date": 1684886400000, "exit_date": 1686700800000, "entry_sig_date": 1684800000000, "exit_sig_date": 1686614400000, "position": 0.5, "period": 15, "entry_index": 3963, "exit_index": 3978, "return": 0.1254820911, "industry": "\u5c45\u5bb6\u751f\u6d3b", "trade_price@entry_date": 44.25, "trade_price@exit_date": 50.0, "pct_change@entry_date": -0.0011286682, "pct_change@exit_date": -0.0118577075, "turnover@entry_date": 18062982.75, "turnover@exit_date": 18945150.0, "volume@entry_date": 408203.0, "volume@exit_date": 378903.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0264513559, "gmfe": 0.1474772881, "bmfe": 0.0063014407, "mdd": -0.0669291339, "pdays": 12.0, "market_value@entry_date": 2376270150.0}, {"stock_id": "5439 \u9ad8\u6280", "entry_date": 1686614400000, "exit_date": 1687219200000, "entry_sig_date": 1686528000000, "exit_sig_date": 1687132800000, "position": 0.5, "period": 5, "entry_index": 3977, "exit_index": 3982, "return": 0.0020519618, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 83.0, "trade_price@exit_date": 83.5, "pct_change@entry_date": -0.0119047619, "pct_change@exit_date": -0.0011961722, "turnover@entry_date": 391206639.0, "turnover@exit_date": 79371175.5, "volume@entry_date": 4713333.0, "volume@exit_date": 950553.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0113132229, "gmfe": 0.0212014458, "bmfe": 0.0212014458, "mdd": -0.0318396226, "pdays": 3.0, "market_value@entry_date": 7642602540.000001}, {"stock_id": "3027 \u76db\u9054", "entry_date": 1686700800000, "exit_date": 1689638400000, "entry_sig_date": 1686614400000, "exit_sig_date": 1689552000000, "position": 0.5, "period": 22, "entry_index": 3978, "exit_index": 4000, "return": 0.0153549772, "industry": "\u901a\u4fe1\u7db2\u8def\u696d", "trade_price@entry_date": 51.6, "trade_price@exit_date": 52.6, "pct_change@entry_date": -0.001934236, "pct_change@exit_date": 0.0019047619, "turnover@entry_date": 357053940.0, "turnover@exit_date": 501397507.2, "volume@entry_date": 6919650.0, "volume@exit_date": 9532272.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0643981105, "gmfe": 0.0886299419, "bmfe": 0.0886299419, "mdd": -0.140569395, "pdays": 11.0, "market_value@entry_date": 5874931230.0}, {"stock_id": "8087 \u9e97\u5347\u80fd\u6e90", "entry_date": 1687219200000, "exit_date": 1689811200000, "entry_sig_date": 1687132800000, "exit_sig_date": 1689724800000, "position": 0.5, "period": 20, "entry_index": 3982, "exit_index": 4002, "return": 0.4054716543, "industry": "\u7da0\u80fd\u74b0\u4fdd", "trade_price@entry_date": 48.9, "trade_price@exit_date": 69.0, "pct_change@entry_date": 0.0, "pct_change@exit_date": -0.0281690141, "turnover@entry_date": 60206462.4, "turnover@exit_date": 54686640.0, "volume@entry_date": 1231216.0, "volume@exit_date": 792560.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.5575420245, "bmfe": 0.064933589, "mdd": -0.0682414698, "pdays": 21.0, "market_value@entry_date": 1514494900.0}, {"stock_id": "6472 \u4fdd\u745e", "entry_date": 1689811200000, "exit_date": 1691539200000, "entry_sig_date": 1689724800000, "exit_sig_date": 1691452800000, "position": 0.5, "period": 13, "entry_index": 4002, "exit_index": 4015, "return": 0.0157537712, "industry": "\u751f\u6280\u91ab\u7642\u696d", "trade_price@entry_date": 910.0, "trade_price@exit_date": 928.0, "pct_change@entry_date": 0.0259301015, "pct_change@exit_date": 0.0010787487, "turnover@entry_date": 7032366250.0, "turnover@exit_date": 2500683456.0, "volume@entry_date": 7727875.0, "volume@exit_date": 2694702.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0411150275, "gmfe": 0.1093629121, "bmfe": 0.1093629121, "mdd": -0.1356435644, "pdays": 6.0, "market_value@entry_date": 74085175500.0}, {"stock_id": "1580 \u65b0\u9ea5", "entry_date": 1691539200000, "exit_date": 1691712000000, "entry_sig_date": 1691452800000, "exit_sig_date": 1691625600000, "position": 0.5, "period": 2, "entry_index": 4015, "exit_index": 4017, "return": -0.0522642877, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 134.0, "trade_price@exit_date": 127.5, "pct_change@entry_date": -0.0183150183, "pct_change@exit_date": 0.0, "turnover@entry_date": 66570798.0, "turnover@exit_date": 21673215.0, "volume@entry_date": 496797.0, "volume@exit_date": 169986.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0489594216, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0489594216, "pdays": 0.0, "market_value@entry_date": 6630386400.0}, {"stock_id": "3056 \u5bcc\u83ef\u65b0", "entry_date": 1691712000000, "exit_date": 1692144000000, "entry_sig_date": 1691625600000, "exit_sig_date": 1692057600000, "position": 0.5, "period": 3, "entry_index": 4017, "exit_index": 4020, "return": -0.0625396229, "industry": "\u5efa\u6750\u71df\u9020", "trade_price@entry_date": 52.7, "trade_price@exit_date": 49.6, "pct_change@entry_date": 0.0038095238, "pct_change@exit_date": -0.013916501, "turnover@entry_date": 160976734.9, "turnover@exit_date": 397304729.6, "volume@entry_date": 3054587.0, "volume@exit_date": 8010176.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0459941651, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0459941651, "pdays": 0.0, "market_value@entry_date": 17866791540.0}, {"stock_id": "6005 \u7fa4\u76ca\u8b49", "entry_date": 1689638400000, "exit_date": 1692144000000, "entry_sig_date": 1689552000000, "exit_sig_date": 1692057600000, "position": 0.5, "period": 20, "entry_index": 4000, "exit_index": 4020, "return": -0.023737455, "industry": "\u91d1\u878d\u4fdd\u96aa\u696d", "trade_price@entry_date": 15.1, "trade_price@exit_date": 14.8, "pct_change@entry_date": 0.0033222591, "pct_change@exit_date": -0.0067114094, "turnover@entry_date": 122125266.6, "turnover@exit_date": 47234732.800000004, "volume@entry_date": 8087766.0, "volume@exit_date": 3191536.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0302621689, "gmfe": 0.0557896523, "bmfe": 0.0557896523, "mdd": -0.0815047022, "pdays": 13.0, "market_value@entry_date": 32237985284.999996}, {"stock_id": "6531 \u611b\u666e*", "entry_date": 1692144000000, "exit_date": 1692230400000, "entry_sig_date": 1692057600000, "exit_sig_date": 1692144000000, "position": 0.5, "period": 1, "entry_index": 4020, "exit_index": 4021, "return": 0.0151758423, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 312.5, "trade_price@exit_date": 318.5, "pct_change@entry_date": -0.0157480315, "pct_change@exit_date": -0.007788162, "turnover@entry_date": 1108673125.0, "turnover@exit_date": 2267934350.5, "volume@entry_date": 3547754.0, "volume@exit_date": 7120673.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.06829232, "bmfe": 0.02671208, "mdd": 0.0, "pdays": 2.0, "market_value@entry_date": 51956482200.0}, {"stock_id": "1580 \u65b0\u9ea5", "entry_date": 1692144000000, "exit_date": 1692662400000, "entry_sig_date": 1692057600000, "exit_sig_date": 1692576000000, "position": 0.5, "period": 4, "entry_index": 4020, "exit_index": 4024, "return": 0.024863062, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 121.0, "trade_price@exit_date": 124.5, "pct_change@entry_date": -0.020242915, "pct_change@exit_date": 0.008097166, "turnover@entry_date": 20069060.0, "turnover@exit_date": 9411951.0, "volume@entry_date": 165860.0, "volume@exit_date": 75598.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0490882231, "bmfe": 0.0325671488, "mdd": -0.0275590551, "pdays": 5.0, "market_value@entry_date": 6278775000.0}, {"stock_id": "8927 \u5317\u57fa", "entry_date": 1692835200000, "exit_date": 1693872000000, "entry_sig_date": 1692748800000, "exit_sig_date": 1693785600000, "position": 0.5, "period": 8, "entry_index": 4026, "exit_index": 4034, "return": 0.2723562279, "industry": "\u6cb9\u96fb\u71c3\u6c23\u696d", "trade_price@entry_date": 54.0, "trade_price@exit_date": 62.4, "pct_change@entry_date": 0.0018552876, "pct_change@exit_date": 0.0080775444, "turnover@entry_date": 172378584.0, "turnover@exit_date": 65500219.199999996, "volume@entry_date": 3192196.0, "volume@exit_date": 1049683.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.2706546556, "bmfe": 0.0550541667, "mdd": -0.0033500838, "pdays": 9.0, "market_value@entry_date": 18111864000.0}, {"stock_id": "8068 \u5168\u9054", "entry_date": 1693872000000, "exit_date": 1694476800000, "entry_sig_date": 1693785600000, "exit_sig_date": 1694390400000, "position": 0.5, "period": 5, "entry_index": 4034, "exit_index": 4039, "return": 0.12590501, "industry": "\u96fb\u5b50\u901a\u8def\u696d", "trade_price@entry_date": 32.6, "trade_price@exit_date": 36.85, "pct_change@entry_date": 0.01875, "pct_change@exit_date": -0.0040540541, "turnover@entry_date": 97502133.8, "turnover@exit_date": 103212464.85000001, "volume@entry_date": 2990863.0, "volume@exit_date": 2800881.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.1436282975, "bmfe": 0.0792417178, "mdd": -0.0201612903, "pdays": 6.0, "market_value@entry_date": 2842959680.0}, {"stock_id": "1471 \u9996\u5229", "entry_date": 1692748800000, "exit_date": 1695168000000, "entry_sig_date": 1692662400000, "exit_sig_date": 1695081600000, "position": 0.5, "period": 20, "entry_index": 4025, "exit_index": 4045, "return": 0.0229719655, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 18.5, "trade_price@exit_date": 19.0, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0052910053, "turnover@entry_date": 390468326.0, "turnover@exit_date": 65233935.0, "volume@entry_date": 21106396.0, "volume@exit_date": 3433365.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0382948649, "gmfe": 0.2777711486, "bmfe": 0.1237902703, "mdd": -0.200845666, "pdays": 18.0, "market_value@entry_date": 2812751150.0}, {"stock_id": "1515 \u529b\u5c71", "entry_date": 1694476800000, "exit_date": 1696204800000, "entry_sig_date": 1694390400000, "exit_sig_date": 1695859200000, "position": 0.5, "period": 13, "entry_index": 4039, "exit_index": 4052, "return": 0.0681752408, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 40.05, "trade_price@exit_date": 42.95, "pct_change@entry_date": 0.0100882724, "pct_change@exit_date": 0.0, "turnover@entry_date": 788749105.5, "turnover@exit_date": 163403232.05, "volume@entry_date": 19694110.0, "volume@exit_date": 3804499.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.1243096442, "bmfe": 0.0881220974, "mdd": -0.1032186459, "pdays": 14.0, "market_value@entry_date": 7912244600.0}, {"stock_id": "3615 \u5b89\u53ef", "entry_date": 1695686400000, "exit_date": 1696291200000, "entry_sig_date": 1695600000000, "exit_sig_date": 1696204800000, "position": 0.5, "period": 4, "entry_index": 4049, "exit_index": 4053, "return": -0.085374625, "industry": "\u5149\u96fb\u696d", "trade_price@entry_date": 26.3, "trade_price@exit_date": 24.15, "pct_change@entry_date": 0.0019047619, "pct_change@exit_date": 0.0041580042, "turnover@entry_date": 96764301.3, "turnover@exit_date": 18807657.75, "volume@entry_date": 3679251.0, "volume@exit_date": 778785.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.1030878327, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.1030878327, "pdays": 0.0, "market_value@entry_date": 1711675000.0}, {"stock_id": "5210 \u5bf6\u78a9", "entry_date": 1696204800000, "exit_date": 1696291200000, "entry_sig_date": 1695859200000, "exit_sig_date": 1696204800000, "position": 0.5, "period": 1, "entry_index": 4052, "exit_index": 4053, "return": 0.0259118714, "industry": "\u8cc7\u8a0a\u670d\u52d9\u696d", "trade_price@entry_date": 23.35, "trade_price@exit_date": 24.05, "pct_change@entry_date": -0.0250521921, "pct_change@exit_date": 0.0041753653, "turnover@entry_date": 8160241.250000001, "turnover@exit_date": 15534808.9, "volume@entry_date": 349475.0, "volume@exit_date": 645938.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0252087259, "bmfe": 0.0252087259, "mdd": -0.0187891441, "pdays": 2.0, "market_value@entry_date": 1489158310.0}, {"stock_id": "3010 \u83ef\u7acb", "entry_date": 1697068800000, "exit_date": 1697500800000, "entry_sig_date": 1696982400000, "exit_sig_date": 1697414400000, "position": 0.5, "period": 3, "entry_index": 4058, "exit_index": 4061, "return": 0.0064271887, "industry": "\u96fb\u5b50\u901a\u8def\u696d", "trade_price@entry_date": 96.0, "trade_price@exit_date": 97.0, "pct_change@entry_date": 0.0010427529, "pct_change@exit_date": 0.0031023785, "turnover@entry_date": 42237504.0, "turnover@exit_date": 29931581.0, "volume@entry_date": 439974.0, "volume@exit_date": 308573.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0056808594, "gmfe": 0.0068132031, "bmfe": 0.0068132031, "mdd": -0.012409514, "pdays": 2.0, "market_value@entry_date": 22634116610.000004}, {"stock_id": "2404 \u6f22\u5510", "entry_date": 1697500800000, "exit_date": 1697587200000, "entry_sig_date": 1697414400000, "exit_sig_date": 1697500800000, "position": 0.5, "period": 1, "entry_index": 4061, "exit_index": 4062, "return": -0.0101736722, "industry": "\u5176\u4ed6\u96fb\u5b50\u696d", "trade_price@entry_date": 240.0, "trade_price@exit_date": 238.5, "pct_change@entry_date": 0.0041841004, "pct_change@exit_date": 0.0, "turnover@entry_date": 183507360.0, "turnover@exit_date": 387063081.0, "volume@entry_date": 764614.0, "volume@exit_date": 1622906.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0212984375, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0212984375, "pdays": 0.0, "market_value@entry_date": 45454927950.0}, {"stock_id": "5533 \u7687\u9f0e", "entry_date": 1696291200000, "exit_date": 1697673600000, "entry_sig_date": 1696204800000, "exit_sig_date": 1697587200000, "position": 0.5, "period": 10, "entry_index": 4053, "exit_index": 4063, "return": -0.0336074556, "industry": "\u5efa\u6750\u71df\u9020", "trade_price@entry_date": 20.15, "trade_price@exit_date": 19.55, "pct_change@entry_date": 0.0, "pct_change@exit_date": -0.0076142132, "turnover@entry_date": 6154958.55, "turnover@exit_date": 1701065.05, "volume@entry_date": 305457.0, "volume@exit_date": 87011.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0252771092, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0252771092, "pdays": 0.0, "market_value@entry_date": 5733424500.000001}, {"stock_id": "8176 \u667a\u6377", "entry_date": 1697587200000, "exit_date": 1698710400000, "entry_sig_date": 1697500800000, "exit_sig_date": 1698624000000, "position": 0.5, "period": 9, "entry_index": 4062, "exit_index": 4071, "return": 0.1052079959, "industry": "\u901a\u4fe1\u7db2\u8def\u696d", "trade_price@entry_date": 14.6, "trade_price@exit_date": 16.2, "pct_change@entry_date": -0.0068027211, "pct_change@exit_date": 0.0156739812, "turnover@entry_date": 55002682.199999996, "turnover@exit_date": 26946918.0, "volume@entry_date": 3767307.0, "volume@exit_date": 1663390.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.000475, "gmfe": 0.2425601884, "bmfe": 0.0, "mdd": -0.1212121212, "pdays": 9.0, "market_value@entry_date": 1046834600.0}, {"stock_id": "2230 \u6cf0\u8302", "entry_date": 1699488000000, "exit_date": 1699833600000, "entry_sig_date": 1699401600000, "exit_sig_date": 1699574400000, "position": 0.5, "period": 2, "entry_index": 4078, "exit_index": 4080, "return": 0.011988477, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 125.0, "trade_price@exit_date": 127.0, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0325203252, "turnover@entry_date": 148478000.0, "turnover@exit_date": 145298414.0, "volume@entry_date": 1187824.0, "volume@exit_date": 1144082.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0284617, "gmfe": 0.0075212, "bmfe": 0.0, "mdd": -0.0284617, "pdays": 1.0, "market_value@entry_date": 5780641950.0}, {"stock_id": "2404 \u6f22\u5510", "entry_date": 1697673600000, "exit_date": 1699833600000, "entry_sig_date": 1697587200000, "exit_sig_date": 1699574400000, "position": 0.5, "period": 17, "entry_index": 4063, "exit_index": 4080, "return": 0.0491460883, "industry": "\u5176\u4ed6\u96fb\u5b50\u696d", "trade_price@entry_date": 234.5, "trade_price@exit_date": 247.0, "pct_change@entry_date": -0.0021276596, "pct_change@exit_date": 0.0040650407, "turnover@entry_date": 325576517.0, "turnover@exit_date": 235819792.0, "volume@entry_date": 1388386.0, "volume@exit_date": 954736.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0613293177, "bmfe": 0.0016561834, "mdd": -0.0240963855, "pdays": 18.0, "market_value@entry_date": 44787874500.0}, {"stock_id": "1808 \u6f64\u9686", "entry_date": 1699833600000, "exit_date": 1700697600000, "entry_sig_date": 1699574400000, "exit_sig_date": 1700611200000, "position": 0.5, "period": 8, "entry_index": 4080, "exit_index": 4088, "return": 0.0127920145, "industry": "\u5efa\u6750\u71df\u9020", "trade_price@entry_date": 95.2, "trade_price@exit_date": 96.8, "pct_change@entry_date": 0.0042194093, "pct_change@exit_date": 0.0020703934, "turnover@entry_date": 251115037.6, "turnover@exit_date": 94915594.39999999, "volume@entry_date": 2637763.0, "volume@exit_date": 980533.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0414219275, "gmfe": 0.0142238971, "bmfe": 0.0, "mdd": -0.0414219275, "pdays": 4.0, "market_value@entry_date": 41494401200.0}, {"stock_id": "1515 \u529b\u5c71", "entry_date": 1699833600000, "exit_date": 1702252800000, "entry_sig_date": 1699574400000, "exit_sig_date": 1701993600000, "position": 0.5, "period": 20, "entry_index": 4080, "exit_index": 4100, "return": 0.1850981884, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 49.0, "trade_price@exit_date": 58.3, "pct_change@entry_date": 0.0675381264, "pct_change@exit_date": 0.073664825, "turnover@entry_date": 861573811.0, "turnover@exit_date": 1106249029.6, "volume@entry_date": 17583139.0, "volume@exit_date": 18975112.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.2300277041, "bmfe": 0.0280828571, "mdd": -0.1144278607, "pdays": 21.0, "market_value@entry_date": 9146264400.0}, {"stock_id": "3437 \u69ae\u5275", "entry_date": 1702252800000, "exit_date": 1702339200000, "entry_sig_date": 1701993600000, "exit_sig_date": 1702252800000, "position": 0.5, "period": 1, "entry_index": 4100, "exit_index": 4101, "return": 0.0342389344, "industry": "\u5149\u96fb\u696d", "trade_price@entry_date": 31.3, "trade_price@exit_date": 32.5, "pct_change@entry_date": 0.0032051282, "pct_change@exit_date": 0.001540832, "turnover@entry_date": 106446292.0, "turnover@exit_date": 128229855.0, "volume@entry_date": 3400840.0, "volume@exit_date": 3945534.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.036248762, "bmfe": 0.036248762, "mdd": -0.0292758089, "pdays": 2.0, "market_value@entry_date": 4690582600.000001}, {"stock_id": "6531 \u611b\u666e*", "entry_date": 1702339200000, "exit_date": 1702512000000, "entry_sig_date": 1702252800000, "exit_sig_date": 1702425600000, "position": 0.5, "period": 2, "entry_index": 4101, "exit_index": 4103, "return": 0.0313403377, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 437.5, "trade_price@exit_date": 453.0, "pct_change@entry_date": 0.0174418605, "pct_change@exit_date": 0.0156950673, "turnover@entry_date": 3951108437.5, "turnover@exit_date": 3558506166.0, "volume@entry_date": 9031105.0, "volume@exit_date": 7855422.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0520714571, "bmfe": 0.0132327714, "mdd": 0.0, "pdays": 3.0, "market_value@entry_date": 71987146000.0}, {"stock_id": "8299 \u7fa4\u806f", "entry_date": 1702512000000, "exit_date": 1702944000000, "entry_sig_date": 1702425600000, "exit_sig_date": 1702857600000, "position": 0.5, "period": 3, "entry_index": 4103, "exit_index": 4106, "return": -0.0462162238, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 542.0, "trade_price@exit_date": 519.0, "pct_change@entry_date": 0.0037037037, "pct_change@exit_date": -0.0019230769, "turnover@entry_date": 1254486100.0, "turnover@exit_date": 732824886.0, "volume@entry_date": 2314550.0, "volume@exit_date": 1411994.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0521109779, "gmfe": 0.0013691421, "bmfe": 0.0013691421, "mdd": -0.0534069982, "pdays": 1.0, "market_value@entry_date": 111115990500.0}, {"stock_id": "2230 \u6cf0\u8302", "entry_date": 1700697600000, "exit_date": 1704240000000, "entry_sig_date": 1700611200000, "exit_sig_date": 1704153600000, "position": 0.5, "period": 28, "entry_index": 4088, "exit_index": 4116, "return": 0.1383447436, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 150.5, "trade_price@exit_date": 172.0, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0, "turnover@entry_date": 315878430.0, "turnover@exit_date": 181872456.0, "volume@entry_date": 2098860.0, "volume@exit_date": 1057398.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0170784053, "gmfe": 0.1456349668, "bmfe": 0.0460145349, "mdd": -0.0603174603, "pdays": 25.0, "market_value@entry_date": 7291365000.0}, {"stock_id": "1808 \u6f64\u9686", "entry_date": 1702944000000, "exit_date": 1704672000000, "entry_sig_date": 1702857600000, "exit_sig_date": 1704412800000, "position": 0.5, "period": 13, "entry_index": 4106, "exit_index": 4119, "return": 0.0154868048, "industry": "\u5efa\u6750\u71df\u9020", "trade_price@entry_date": 102.5, "trade_price@exit_date": 104.5, "pct_change@entry_date": 0.0270541082, "pct_change@exit_date": 0.0, "turnover@entry_date": 1098738090.0, "turnover@exit_date": 93534188.0, "volume@entry_date": 10719396.0, "volume@exit_date": 895064.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0248536585, "gmfe": 0.0921639024, "bmfe": 0.0921639024, "mdd": -0.1071428571, "pdays": 6.0, "market_value@entry_date": 47583253550.0}, {"stock_id": "5533 \u7687\u9f0e", "entry_date": 1704240000000, "exit_date": 1705881600000, "entry_sig_date": 1704153600000, "exit_sig_date": 1705622400000, "position": 0.5, "period": 13, "entry_index": 4116, "exit_index": 4129, "return": -0.0588328281, "industry": "\u5efa\u6750\u71df\u9020", "trade_price@entry_date": 24.5, "trade_price@exit_date": 23.15, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0, "turnover@entry_date": 23929248.0, "turnover@exit_date": 25140807.4, "volume@entry_date": 976704.0, "volume@exit_date": 1085996.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.067789949, "gmfe": 0.0444016327, "bmfe": 0.0444016327, "mdd": -0.107421875, "pdays": 2.0, "market_value@entry_date": 6988502500.0}, {"stock_id": "6462 \u795e\u76fe", "entry_date": 1705881600000, "exit_date": 1706486400000, "entry_sig_date": 1705622400000, "exit_sig_date": 1706227200000, "position": 0.5, "period": 5, "entry_index": 4129, "exit_index": 4134, "return": 0.2161095734, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 172.0, "trade_price@exit_date": 210.0, "pct_change@entry_date": -0.0114942529, "pct_change@exit_date": 0.0218978102, "turnover@entry_date": 2323615940.0, "turnover@exit_date": 5805819810.0, "volume@entry_date": 13509395.0, "volume@exit_date": 27646761.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": true, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.3133293605, "bmfe": 0.0169585756, "mdd": 0.0, "pdays": 6.0, "market_value@entry_date": 12997565000.0}, {"stock_id": "6531 \u611b\u666e*", "entry_date": 1704672000000, "exit_date": 1706659200000, "entry_sig_date": 1704412800000, "exit_sig_date": 1706572800000, "position": 0.5, "period": 17, "entry_index": 4119, "exit_index": 4136, "return": 0.0462558669, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 496.0, "trade_price@exit_date": 521.0, "pct_change@entry_date": -0.0040160643, "pct_change@exit_date": -0.0038240918, "turnover@entry_date": 2841632608.0, "turnover@exit_date": 1820440688.0, "volume@entry_date": 5729098.0, "volume@exit_date": 3494128.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0236494708, "gmfe": 0.0962532258, "bmfe": 0.0, "mdd": -0.0983455882, "pdays": 13.0, "market_value@entry_date": 78642102000.0}, {"stock_id": "8150 \u5357\u8302", "entry_date": 1706659200000, "exit_date": 1706745600000, "entry_sig_date": 1706572800000, "exit_sig_date": 1706659200000, "position": 0.5, "period": 1, "entry_index": 4136, "exit_index": 4137, "return": 0.0007169979, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 42.7, "trade_price@exit_date": 42.9, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0023364486, "turnover@entry_date": 44466755.2, "turnover@exit_date": 54141687.6, "volume@entry_date": 1041376.0, "volume@exit_date": 1262044.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0110086358, "gmfe": 0.001865808, "bmfe": 0.001865808, "mdd": -0.0128504673, "pdays": 1.0, "market_value@entry_date": 31125876279.999992}, {"stock_id": "6201 \u4e9e\u5f18\u96fb", "entry_date": 1706486400000, "exit_date": 1708041600000, "entry_sig_date": 1706227200000, "exit_sig_date": 1707955200000, "position": 0.5, "period": 7, "entry_index": 4134, "exit_index": 4141, "return": 0.0581998986, "industry": "\u5176\u4ed6\u96fb\u5b50\u696d", "trade_price@entry_date": 59.3, "trade_price@exit_date": 63.0, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0015898251, "turnover@entry_date": 6121123.899999999, "turnover@exit_date": 18181359.0, "volume@entry_date": 103223.0, "volume@exit_date": 288593.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0021605396, "gmfe": 0.0787453626, "bmfe": 0.0, "mdd": -0.0047543582, "pdays": 7.0, "market_value@entry_date": 5280640000.0}, {"stock_id": "2062 \u6a4b\u693f", "entry_date": 1708041600000, "exit_date": 1708300800000, "entry_sig_date": 1707955200000, "exit_sig_date": 1708041600000, "position": 0.5, "period": 1, "entry_index": 4141, "exit_index": 4142, "return": 0.0476987732, "industry": "\u5c45\u5bb6\u751f\u6d3b", "trade_price@entry_date": 27.0, "trade_price@exit_date": 28.4, "pct_change@entry_date": 0.0285714286, "pct_change@exit_date": 0.0215827338, "turnover@entry_date": 69617691.0, "turnover@exit_date": 59485220.0, "volume@entry_date": 2578433.0, "volume@exit_date": 2094550.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0532031944, "bmfe": 0.0291405556, "mdd": 0.0, "pdays": 2.0, "market_value@entry_date": 5559838760.0}, {"stock_id": "5490 \u540c\u4ea8", "entry_date": 1708300800000, "exit_date": 1709164800000, "entry_sig_date": 1708041600000, "exit_sig_date": 1708992000000, "position": 0.5, "period": 7, "entry_index": 4142, "exit_index": 4149, "return": -0.0312125369, "industry": "\u96fb\u8166\u53ca\u9031\u908a\u8a2d\u5099\u696d", "trade_price@entry_date": 27.4, "trade_price@exit_date": 26.65, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0152380952, "turnover@entry_date": 42737067.8, "turnover@exit_date": 8024341.649999999, "volume@entry_date": 1559747.0, "volume@exit_date": 301101.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0424258668, "gmfe": 0.0287082117, "bmfe": 0.0287082117, "mdd": -0.0691489362, "pdays": 1.0, "market_value@entry_date": 2711604840.0}, {"stock_id": "3313 \u6590\u6210", "entry_date": 1706745600000, "exit_date": 1709251200000, "entry_sig_date": 1706659200000, "exit_sig_date": 1709164800000, "position": 0.5, "period": 13, "entry_index": 4137, "exit_index": 4150, "return": 0.7322637402, "industry": "\u5176\u4ed6", "trade_price@entry_date": 13.8, "trade_price@exit_date": 24.0, "pct_change@entry_date": 0.078125, "pct_change@exit_date": 0.0105263158, "turnover@entry_date": 25299540.0, "turnover@exit_date": 39192840.0, "volume@entry_date": 1833300.0, "volume@exit_date": 1633035.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": true, "\u8655\u7f6e\u80a1@exit_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0366896739, "gmfe": 0.7201970109, "bmfe": 0.0538470109, "mdd": -0.0859106529, "pdays": 12.0, "market_value@entry_date": 2233314940.0000005}, {"stock_id": "5490 \u540c\u4ea8", "entry_date": 1709251200000, "exit_date": 1709683200000, "entry_sig_date": 1709164800000, "exit_sig_date": 1709596800000, "position": 0.5, "period": 3, "entry_index": 4150, "exit_index": 4153, "return": 0.0147392989, "industry": "\u96fb\u8166\u53ca\u9031\u908a\u8a2d\u5099\u696d", "trade_price@entry_date": 26.65, "trade_price@exit_date": 27.15, "pct_change@entry_date": 0.0056603774, "pct_change@exit_date": -0.0054945055, "turnover@entry_date": 12521502.5, "turnover@exit_date": 7941809.399999999, "volume@entry_date": 469850.0, "volume@exit_date": 292516.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0239036585, "bmfe": 0.0089014071, "mdd": -0.0073260073, "pdays": 4.0, "market_value@entry_date": 2586601780.0}, {"stock_id": "2230 \u6cf0\u8302", "entry_date": 1709683200000, "exit_date": 1710115200000, "entry_sig_date": 1709596800000, "exit_sig_date": 1709856000000, "position": 0.5, "period": 3, "entry_index": 4153, "exit_index": 4156, "return": -0.1417001734, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 188.0, "trade_price@exit_date": 162.0, "pct_change@entry_date": -0.0157068063, "pct_change@exit_date": -0.012195122, "turnover@entry_date": 292062136.0, "turnover@exit_date": 286983162.0, "volume@entry_date": 1553522.0, "volume@exit_date": 1771501.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.1838984707, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.1838984707, "pdays": 0.0, "market_value@entry_date": 9114206250.0}, {"stock_id": "2455 \u5168\u65b0", "entry_date": 1710201600000, "exit_date": 1710892800000, "entry_sig_date": 1710115200000, "exit_sig_date": 1710806400000, "position": 0.5, "period": 6, "entry_index": 4157, "exit_index": 4163, "return": -0.0180968103, "industry": "\u901a\u4fe1\u7db2\u8def\u696d", "trade_price@entry_date": 176.0, "trade_price@exit_date": 173.5, "pct_change@entry_date": 0.0262390671, "pct_change@exit_date": 0.0, "turnover@entry_date": 976691936.0, "turnover@exit_date": 527661733.0, "volume@entry_date": 5549386.0, "volume@exit_date": 3041278.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0231914773, "gmfe": 0.0108832386, "bmfe": 0.0108832386, "mdd": -0.0337078652, "pdays": 1.0, "market_value@entry_date": 32913250200.0}, {"stock_id": "8936 \u570b\u7d71", "entry_date": 1710892800000, "exit_date": 1711929600000, "entry_sig_date": 1710806400000, "exit_sig_date": 1711670400000, "position": 0.5, "period": 8, "entry_index": 4163, "exit_index": 4171, "return": 0.0674870193, "industry": "\u5176\u4ed6", "trade_price@entry_date": 73.9, "trade_price@exit_date": 79.2, "pct_change@entry_date": 0.0013550136, "pct_change@exit_date": -0.0087609512, "turnover@entry_date": 1030471650.4000001, "turnover@exit_date": 770824929.6, "volume@entry_date": 13944136.0, "volume@exit_date": 9732638.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0031800744, "gmfe": 0.088792456, "bmfe": 0.0, "mdd": -0.0310559006, "pdays": 8.0, "market_value@entry_date": 18283363340.0}, {"stock_id": "5508 \u6c38\u4fe1\u5efa", "entry_date": 1709164800000, "exit_date": 1714435200000, "entry_sig_date": 1708992000000, "exit_sig_date": 1714348800000, "position": 0.5, "period": 41, "entry_index": 4149, "exit_index": 4190, "return": 0.8127195917, "industry": "\u5efa\u6750\u71df\u9020", "trade_price@entry_date": 105.5, "trade_price@exit_date": 192.0, "pct_change@entry_date": 0.0144230769, "pct_change@exit_date": 0.0294906166, "turnover@entry_date": 218185394.0, "turnover@exit_date": 2203573248.0, "volume@entry_date": 2068108.0, "volume@exit_date": 11476944.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.9422049763, "bmfe": 0.0184733412, "mdd": -0.0576368876, "pdays": 42.0, "market_value@entry_date": 23373520750.0}, {"stock_id": "3557 \u5609\u5a01", "entry_date": 1714435200000, "exit_date": 1714694400000, "entry_sig_date": 1714348800000, "exit_sig_date": 1714608000000, "position": 0.5, "period": 2, "entry_index": 4190, "exit_index": 4192, "return": 0.0234659162, "industry": "\u5c45\u5bb6\u751f\u6d3b", "trade_price@entry_date": 76.3, "trade_price@exit_date": 78.4, "pct_change@entry_date": 0.0105960265, "pct_change@exit_date": 0.0025575448, "turnover@entry_date": 72743122.89999999, "turnover@exit_date": 58957270.400000006, "volume@entry_date": 953383.0, "volume@exit_date": 752006.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0017849934, "gmfe": 0.0244148755, "bmfe": 0.0, "mdd": -0.0063938619, "pdays": 2.0, "market_value@entry_date": 6118890480.0}, {"stock_id": "2348 \u6d77\u6085", "entry_date": 1711929600000, "exit_date": 1715558400000, "entry_sig_date": 1711670400000, "exit_sig_date": 1715299200000, "position": 0.5, "period": 27, "entry_index": 4171, "exit_index": 4198, "return": 0.5890318162, "industry": "\u5176\u4ed6", "trade_price@entry_date": 128.5, "trade_price@exit_date": 205.0, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0199004975, "turnover@entry_date": 74649505.0, "turnover@exit_date": 683884305.0, "volume@entry_date": 580930.0, "volume@exit_date": 3336021.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.7190274319, "bmfe": 0.034527821, "mdd": -0.1133501259, "pdays": 28.0, "market_value@entry_date": 19565377300.0}, {"stock_id": "4532 \u745e\u667a", "entry_date": 1715558400000, "exit_date": 1715644800000, "entry_sig_date": 1715299200000, "exit_sig_date": 1715558400000, "position": 0.5, "period": 1, "entry_index": 4198, "exit_index": 4199, "return": -0.0228389841, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 29.0, "trade_price@exit_date": 28.45, "pct_change@entry_date": 0.013986014, "pct_change@exit_date": 0.0106571936, "turnover@entry_date": 179426683.0, "turnover@exit_date": 252999591.0, "volume@entry_date": 6187127.0, "volume@exit_date": 8892780.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0297714224, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0297714224, "pdays": 0.0, "market_value@entry_date": 14213360065.000002}, {"stock_id": "1446 \u5b8f\u548c", "entry_date": 1714694400000, "exit_date": 1715731200000, "entry_sig_date": 1714608000000, "exit_sig_date": 1715644800000, "position": 0.5, "period": 8, "entry_index": 4192, "exit_index": 4200, "return": 0.0359800483, "industry": "\u7d21\u7e54\u7e96\u7dad", "trade_price@entry_date": 46.15, "trade_price@exit_date": 48.0, "pct_change@entry_date": 0.0548571429, "pct_change@exit_date": -0.0194075587, "turnover@entry_date": 506401273.3, "turnover@exit_date": 120440208.0, "volume@entry_date": 10972942.0, "volume@exit_date": 2509171.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.1218937161, "bmfe": 0.001690818, "mdd": -0.0598455598, "pdays": 9.0, "market_value@entry_date": 6369064375.0}, {"stock_id": "2348 \u6d77\u6085", "entry_date": 1715731200000, "exit_date": 1715904000000, "entry_sig_date": 1715644800000, "exit_sig_date": 1715817600000, "position": 0.5, "period": 2, "entry_index": 4200, "exit_index": 4202, "return": 0.0356954974, "industry": "\u5176\u4ed6", "trade_price@entry_date": 201.0, "trade_price@exit_date": 209.0, "pct_change@entry_date": 0.005, "pct_change@exit_date": -0.0071258907, "turnover@entry_date": 680771925.0, "turnover@exit_date": 772633081.0, "volume@entry_date": 3386925.0, "volume@exit_date": 3696809.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0452298507, "gmfe": 0.0492526119, "bmfe": 0.0, "mdd": -0.0452298507, "pdays": 2.0, "market_value@entry_date": 28244755200.0}, {"stock_id": "1447 \u529b\u9d6c", "entry_date": 1715904000000, "exit_date": 1716508800000, "entry_sig_date": 1715817600000, "exit_sig_date": 1716422400000, "position": 0.5, "period": 5, "entry_index": 4202, "exit_index": 4207, "return": -0.0319454769, "industry": "\u7d21\u7e54\u7e96\u7dad", "trade_price@entry_date": 9.25, "trade_price@exit_date": 8.99, "pct_change@entry_date": 0.0043431053, "pct_change@exit_date": -0.0033259424, "turnover@entry_date": 43954057.5, "turnover@exit_date": 23433936.330000002, "volume@entry_date": 4751790.0, "volume@exit_date": 2606667.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0253280541, "gmfe": 0.0049278378, "bmfe": 0.0049278378, "mdd": -0.0301075269, "pdays": 1.0, "market_value@entry_date": 8463662160.0}, {"stock_id": "8927 \u5317\u57fa", "entry_date": 1715644800000, "exit_date": 1716940800000, "entry_sig_date": 1715558400000, "exit_sig_date": 1716854400000, "position": 0.5, "period": 11, "entry_index": 4199, "exit_index": 4210, "return": -0.0574173797, "industry": "\u6cb9\u96fb\u71c3\u6c23\u696d", "trade_price@entry_date": 65.2, "trade_price@exit_date": 61.7, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0065252855, "turnover@entry_date": 54298690.400000006, "turnover@exit_date": 13292339.5, "volume@entry_date": 832802.0, "volume@exit_date": 215435.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.070993635, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.070993635, "pdays": 0.0, "market_value@entry_date": 21284011880.000004}, {"stock_id": "4160 \u8a0a\u806f\u57fa\u56e0", "entry_date": 1716940800000, "exit_date": 1717113600000, "entry_sig_date": 1716854400000, "exit_sig_date": 1717027200000, "position": 0.5, "period": 2, "entry_index": 4210, "exit_index": 4212, "return": 0.2270201493, "industry": "\u751f\u6280\u91ab\u7642\u696d", "trade_price@entry_date": 69.0, "trade_price@exit_date": 85.0, "pct_change@entry_date": 0.0058309038, "pct_change@exit_date": 0.0429447853, "turnover@entry_date": 81748578.0, "turnover@exit_date": 125871060.0, "volume@entry_date": 1184762.0, "volume@exit_date": 1480836.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.297933913, "bmfe": 0.0922345652, "mdd": 0.0, "pdays": 3.0, "market_value@entry_date": 1915529460.0000002}, {"stock_id": "2348 \u6d77\u6085", "entry_date": 1717113600000, "exit_date": 1717632000000, "entry_sig_date": 1717027200000, "exit_sig_date": 1717545600000, "position": 0.5, "period": 4, "entry_index": 4212, "exit_index": 4216, "return": 0.0849848337, "industry": "\u5176\u4ed6", "trade_price@entry_date": 224.0, "trade_price@exit_date": 244.0, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0020533881, "turnover@entry_date": 2205657440.0, "turnover@exit_date": 659866036.0, "volume@entry_date": 9846685.0, "volume@exit_date": 2704369.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.086537221, "bmfe": 0.0820750558, "mdd": -0.0349075975, "pdays": 5.0, "market_value@entry_date": 35673714250.0}, {"stock_id": "6161 \u6377\u6ce2", "entry_date": 1716508800000, "exit_date": 1718150400000, "entry_sig_date": 1716422400000, "exit_sig_date": 1718064000000, "position": 0.5, "period": 12, "entry_index": 4207, "exit_index": 4219, "return": 0.1402676232, "industry": "\u96fb\u8166\u53ca\u9031\u908a\u8a2d\u5099\u696d", "trade_price@entry_date": 51.8, "trade_price@exit_date": 59.3, "pct_change@entry_date": -0.0189393939, "pct_change@exit_date": 0.0, "turnover@entry_date": 253013111.39999998, "turnover@exit_date": 77893574.3, "volume@entry_date": 4884423.0, "volume@exit_date": 1313551.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.333343195, "bmfe": 0.0516237934, "mdd": -0.1476121563, "pdays": 13.0, "market_value@entry_date": 4086589850.0}, {"stock_id": "3029 \u96f6\u58f9", "entry_date": 1718150400000, "exit_date": 1719964800000, "entry_sig_date": 1718064000000, "exit_sig_date": 1719878400000, "position": 0.5, "period": 15, "entry_index": 4219, "exit_index": 4234, "return": 0.2373694795, "industry": "\u8cc7\u8a0a\u670d\u52d9\u696d", "trade_price@entry_date": 80.9, "trade_price@exit_date": 100.5, "pct_change@entry_date": 0.0137844612, "pct_change@exit_date": 0.0070140281, "turnover@entry_date": 763386719.3000001, "turnover@exit_date": 556842460.5, "volume@entry_date": 9436177.0, "volume@exit_date": 5540721.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.2787495365, "bmfe": 0.0514162855, "mdd": -0.0235017626, "pdays": 16.0, "market_value@entry_date": 13157242919.999998}, {"stock_id": "5484 \u6167\u53cb", "entry_date": 1717632000000, "exit_date": 1720483200000, "entry_sig_date": 1717545600000, "exit_sig_date": 1720396800000, "position": 0.5, "period": 22, "entry_index": 4216, "exit_index": 4238, "return": 1.547669959, "industry": "\u5149\u96fb\u696d", "trade_price@entry_date": 37.65, "trade_price@exit_date": 96.3, "pct_change@entry_date": 0.099270073, "pct_change@exit_date": -0.1, "turnover@entry_date": 110267588.1, "turnover@exit_date": 18014841.0, "volume@entry_date": 2928754.0, "volume@exit_date": 187070.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": true, "\u8655\u7f6e\u80a1@exit_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.000475, "gmfe": 2.1459153386, "bmfe": 0.0, "mdd": -0.1873417722, "pdays": 22.0, "market_value@entry_date": 2515057650.0}, {"stock_id": "1519 \u83ef\u57ce", "entry_date": 1719964800000, "exit_date": 1720656000000, "entry_sig_date": 1719878400000, "exit_sig_date": 1720569600000, "position": 0.5, "period": 6, "entry_index": 4234, "exit_index": 4240, "return": -0.0101414166, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 965.0, "trade_price@exit_date": 959.0, "pct_change@entry_date": 0.0104712042, "pct_change@exit_date": 0.0148148148, "turnover@entry_date": 695548840.0, "turnover@exit_date": 8463216237.0, "volume@entry_date": 720776.0, "volume@exit_date": 8825043.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0626216321, "gmfe": 0.0513138601, "bmfe": 0.0513138601, "mdd": -0.1083743842, "pdays": 2.0, "market_value@entry_date": 253226745000.0}, {"stock_id": "8927 \u5317\u57fa", "entry_date": 1721088000000, "exit_date": 1722816000000, "entry_sig_date": 1721001600000, "exit_sig_date": 1722556800000, "position": 0.5, "period": 12, "entry_index": 4243, "exit_index": 4255, "return": -0.0219222137, "industry": "\u6cb9\u96fb\u71c3\u6c23\u696d", "trade_price@entry_date": 66.5, "trade_price@exit_date": 65.3, "pct_change@entry_date": 0.0075757576, "pct_change@exit_date": -0.0075987842, "turnover@entry_date": 352651229.0, "turnover@exit_date": 241276708.79999998, "volume@entry_date": 5303026.0, "volume@exit_date": 3694896.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.107191203, "gmfe": 0.1528356015, "bmfe": 0.1528356015, "mdd": -0.2255541069, "pdays": 9.0, "market_value@entry_date": 23634393560.000004}, {"stock_id": "2243 \u5b8f\u65ed-KY", "entry_date": 1720656000000, "exit_date": 1722902400000, "entry_sig_date": 1720569600000, "exit_sig_date": 1722816000000, "position": 0.5, "period": 16, "entry_index": 4240, "exit_index": 4256, "return": 0.2853809396, "industry": "\u6c7d\u8eca\u5de5\u696d", "trade_price@entry_date": 21.0, "trade_price@exit_date": 27.1, "pct_change@entry_date": 0.0023866348, "pct_change@exit_date": 0.0363288719, "turnover@entry_date": 463756041.0, "turnover@exit_date": 34665859.300000004, "volume@entry_date": 22083621.0, "volume@exit_date": 1279183.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.4921480357, "bmfe": 0.0947178571, "mdd": -0.2376395534, "pdays": 17.0, "market_value@entry_date": 1595592800.0}, {"stock_id": "2348 \u6d77\u6085", "entry_date": 1722988800000, "exit_date": 1723507200000, "entry_sig_date": 1722902400000, "exit_sig_date": 1723420800000, "position": 0.5, "period": 4, "entry_index": 4257, "exit_index": 4261, "return": 0.095458003, "industry": "\u5176\u4ed6", "trade_price@entry_date": 250.5, "trade_price@exit_date": 275.5, "pct_change@entry_date": 0.0141700405, "pct_change@exit_date": 0.0203703704, "turnover@entry_date": 796451724.0, "turnover@exit_date": 627138557.5, "volume@entry_date": 3179448.0, "volume@exit_date": 2276365.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0773323353, "bmfe": 0.0354360778, "mdd": -0.0203703704, "pdays": 5.0, "market_value@entry_date": 38174551950.0}, {"stock_id": "9911 \u6afb\u82b1", "entry_date": 1722816000000, "exit_date": 1723680000000, "entry_sig_date": 1722556800000, "exit_sig_date": 1723593600000, "position": 0.5, "period": 8, "entry_index": 4255, "exit_index": 4263, "return": -0.0093557959, "industry": "\u5c45\u5bb6\u751f\u6d3b", "trade_price@entry_date": 92.1, "trade_price@exit_date": 91.6, "pct_change@entry_date": -0.020212766, "pct_change@exit_date": -0.0032644178, "turnover@entry_date": 112280399.39999999, "turnover@exit_date": 25183038.4, "volume@entry_date": 1219114.0, "volume@exit_date": 274924.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.063420114, "gmfe": 0.0201449511, "bmfe": 0.0, "mdd": -0.063420114, "pdays": 3.0, "market_value@entry_date": 19325992880.000004}, {"stock_id": "5519 \u9686\u5927", "entry_date": 1723507200000, "exit_date": 1723766400000, "entry_sig_date": 1723420800000, "exit_sig_date": 1723680000000, "position": 0.5, "period": 3, "entry_index": 4261, "exit_index": 4264, "return": 0.0318073509, "industry": "\u5efa\u6750\u71df\u9020", "trade_price@entry_date": 48.75, "trade_price@exit_date": 50.5, "pct_change@entry_date": 0.0103626943, "pct_change@exit_date": 0.0243407708, "turnover@entry_date": 162938002.5, "turnover@exit_date": 232800354.0, "volume@entry_date": 3342318.0, "volume@exit_date": 4609908.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0097013846, "gmfe": 0.0354053846, "bmfe": 0.0, "mdd": -0.0097013846, "pdays": 2.0, "market_value@entry_date": 10598184620.000002}, {"stock_id": "1232 \u5927\u7d71\u76ca", "entry_date": 1723766400000, "exit_date": 1724025600000, "entry_sig_date": 1723680000000, "exit_sig_date": 1723766400000, "position": 0.5, "period": 1, "entry_index": 4264, "exit_index": 4265, "return": -0.0174085068, "industry": "\u98df\u54c1\u5de5\u696d", "trade_price@entry_date": 148.0, "trade_price@exit_date": 146.0, "pct_change@entry_date": 0.0, "pct_change@exit_date": -0.0068027211, "turnover@entry_date": 13997100.0, "turnover@exit_date": 5075398.0, "volume@entry_date": 94575.0, "volume@exit_date": 34763.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0173588682, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0173588682, "pdays": 0.0, "market_value@entry_date": 23516310300.0}, {"stock_id": "3131 \u5f18\u5851", "entry_date": 1723680000000, "exit_date": 1724025600000, "entry_sig_date": 1723593600000, "exit_sig_date": 1723766400000, "position": 0.5, "period": 2, "entry_index": 4263, "exit_index": 4265, "return": 0.1145620453, "industry": "\u5176\u4ed6\u96fb\u5b50\u696d", "trade_price@entry_date": 1765.0, "trade_price@exit_date": 1975.0, "pct_change@entry_date": -0.0194444444, "pct_change@exit_date": 0.0025380711, "turnover@entry_date": 2331019615.0, "turnover@exit_date": 1896570775.0, "volume@entry_date": 1320691.0, "volume@exit_date": 960289.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.12128017, "bmfe": 0.12128017, "mdd": -0.0101010101, "pdays": 3.0, "market_value@entry_date": 57847680000.0}, {"stock_id": "6609 \u7027\u6fa4\u79d1", "entry_date": 1724025600000, "exit_date": 1724198400000, "entry_sig_date": 1723766400000, "exit_sig_date": 1724112000000, "position": 0.5, "period": 2, "entry_index": 4265, "exit_index": 4267, "return": 0.0010992097, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 59.2, "trade_price@exit_date": 59.5, "pct_change@entry_date": 0.0515097691, "pct_change@exit_date": 0.0033726813, "turnover@entry_date": 1208936046.4, "turnover@exit_date": 499529275.0, "volume@entry_date": 20421217.0, "volume@exit_date": 8395450.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0089169341, "gmfe": 0.0467998311, "bmfe": 0.0, "mdd": -0.0089169341, "pdays": 2.0, "market_value@entry_date": 4253178939.9999995}, {"stock_id": "6788 \u83ef\u666f\u96fb", "entry_date": 1724025600000, "exit_date": 1726012800000, "entry_sig_date": 1723766400000, "exit_sig_date": 1725926400000, "position": 0.5, "period": 17, "entry_index": 4265, "exit_index": 4282, "return": -0.0507296402, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 255.5, "trade_price@exit_date": 243.5, "pct_change@entry_date": 0.0179282869, "pct_change@exit_date": -0.0240480962, "turnover@entry_date": 987735917.0, "turnover@exit_date": 380851045.0, "volume@entry_date": 3865894.0, "volume@exit_date": 1564070.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0493754403, "gmfe": 0.1657864971, "bmfe": 0.1657864971, "mdd": -0.1845637584, "pdays": 16.0, "market_value@entry_date": 9101801400.0}, {"stock_id": "3680 \u5bb6\u767b", "entry_date": 1724198400000, "exit_date": 1726099200000, "entry_sig_date": 1724112000000, "exit_sig_date": 1726012800000, "position": 0.5, "period": 16, "entry_index": 4267, "exit_index": 4283, "return": -0.0333520881, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 542.0, "trade_price@exit_date": 526.0, "pct_change@entry_date": -0.0163339383, "pct_change@exit_date": 0.0213592233, "turnover@entry_date": 482778912.0, "turnover@exit_date": 1193153678.0, "volume@entry_date": 890736.0, "volume@exit_date": 2268353.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0613316882, "gmfe": 0.054849262, "bmfe": 0.054849262, "mdd": -0.1101398601, "pdays": 7.0, "market_value@entry_date": 50920650000.0}, {"stock_id": "3131 \u5f18\u5851", "entry_date": 1726012800000, "exit_date": 1726185600000, "entry_sig_date": 1725926400000, "exit_sig_date": 1726099200000, "position": 0.5, "period": 2, "entry_index": 4282, "exit_index": 4284, "return": 0.1527007233, "industry": "\u5176\u4ed6\u96fb\u5b50\u696d", "trade_price@entry_date": 1685.0, "trade_price@exit_date": 1950.0, "pct_change@entry_date": 0.0243161094, "pct_change@exit_date": 0.0182767624, "turnover@entry_date": 2562013855.0, "turnover@exit_date": 4018086150.0, "volume@entry_date": 1520483.0, "volume@exit_date": 2060557.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.1567203264, "bmfe": 0.0351163947, "mdd": 0.0, "pdays": 3.0, "market_value@entry_date": 50981920000.0}, {"stock_id": "6279 \u80e1\u9023", "entry_date": 1726185600000, "exit_date": 1726617600000, "entry_sig_date": 1726099200000, "exit_sig_date": 1726444800000, "position": 0.5, "period": 2, "entry_index": 4284, "exit_index": 4286, "return": 0.0163792353, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 171.5, "trade_price@exit_date": 175.0, "pct_change@entry_date": 0.0029239766, "pct_change@exit_date": 0.0057471264, "turnover@entry_date": 969385571.0, "turnover@exit_date": 347155900.0, "volume@entry_date": 5652394.0, "volume@exit_date": 1983748.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0150453353, "gmfe": 0.0286656706, "bmfe": 0.0286656706, "mdd": -0.0424929178, "pdays": 2.0, "market_value@entry_date": 18029051400.0}, {"stock_id": "3680 \u5bb6\u767b", "entry_date": 1726617600000, "exit_date": 1728864000000, "entry_sig_date": 1726444800000, "exit_sig_date": 1728604800000, "position": 0.5, "period": 15, "entry_index": 4286, "exit_index": 4301, "return": 0.0392830591, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 576.0, "trade_price@exit_date": 601.0, "pct_change@entry_date": 0.0034843206, "pct_change@exit_date": 0.0050167224, "turnover@entry_date": 503922240.0, "turnover@exit_date": 307894103.0, "volume@entry_date": 874865.0, "volume@exit_date": 512303.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0265042969, "gmfe": 0.0446424479, "bmfe": 0.0, "mdd": -0.0504201681, "pdays": 8.0, "market_value@entry_date": 52900897500.0}, {"stock_id": "6183 \u95dc\u8cbf", "entry_date": 1728864000000, "exit_date": 1729036800000, "entry_sig_date": 1728604800000, "exit_sig_date": 1728950400000, "position": 0.5, "period": 2, "entry_index": 4301, "exit_index": 4303, "return": -0.0039483494, "industry": "\u8cc7\u8a0a\u670d\u52d9\u696d", "trade_price@entry_date": 77.0, "trade_price@exit_date": 77.0, "pct_change@entry_date": 0.0013003901, "pct_change@exit_date": 0.0, "turnover@entry_date": 2170784.0, "turnover@exit_date": 2860319.0, "volume@entry_date": 28192.0, "volume@exit_date": 37147.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.000475, "gmfe": 0.0021211688, "bmfe": 0.0008230844, "mdd": -0.0012970169, "pdays": 2.0, "market_value@entry_date": 11564999999.999998}, {"stock_id": "3680 \u5bb6\u767b", "entry_date": 1729036800000, "exit_date": 1729468800000, "entry_sig_date": 1728950400000, "exit_sig_date": 1729209600000, "position": 0.5, "period": 3, "entry_index": 4303, "exit_index": 4306, "return": -0.0161377927, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 572.0, "trade_price@exit_date": 565.0, "pct_change@entry_date": -0.0354131535, "pct_change@exit_date": 0.0, "turnover@entry_date": 1077796720.0, "turnover@exit_date": 523638045.0, "volume@entry_date": 1884260.0, "volume@exit_date": 926793.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0179492133, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0179492133, "pdays": 0.0, "market_value@entry_date": 53938170000.0}, {"stock_id": "6609 \u7027\u6fa4\u79d1", "entry_date": 1726099200000, "exit_date": 1730160000000, "entry_sig_date": 1726012800000, "exit_sig_date": 1730073600000, "position": 0.5, "period": 29, "entry_index": 4283, "exit_index": 4312, "return": 0.4798481666, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 70.0, "trade_price@exit_date": 104.0, "pct_change@entry_date": 0.0339734121, "pct_change@exit_date": -0.0095238095, "turnover@entry_date": 233973600.0, "turnover@exit_date": 796481816.0, "volume@entry_date": 3342480.0, "volume@exit_date": 7658479.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.6991925, "bmfe": 0.0623522857, "mdd": -0.1176470588, "pdays": 30.0, "market_value@entry_date": 5390741280.0}, {"stock_id": "6183 \u95dc\u8cbf", "entry_date": 1729468800000, "exit_date": 1730851200000, "entry_sig_date": 1729209600000, "exit_sig_date": 1730764800000, "position": 0.5, "period": 11, "entry_index": 4306, "exit_index": 4317, "return": -0.0064260898, "industry": "\u8cc7\u8a0a\u670d\u52d9\u696d", "trade_price@entry_date": 80.4, "trade_price@exit_date": 80.2, "pct_change@entry_date": 0.0255102041, "pct_change@exit_date": -0.0024875622, "turnover@entry_date": 3873189.6, "turnover@exit_date": 2869556.0, "volume@entry_date": 48174.0, "volume@exit_date": 35780.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0290683769, "gmfe": 0.0069841418, "bmfe": 0.0, "mdd": -0.0290683769, "pdays": 1.0, "market_value@entry_date": 11939999999.999998}, {"stock_id": "3526 \u51e1\u7532", "entry_date": 1730851200000, "exit_date": 1731369600000, "entry_sig_date": 1730764800000, "exit_sig_date": 1731283200000, "position": 0.5, "period": 4, "entry_index": 4317, "exit_index": 4321, "return": 0.0216382985, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 272.5, "trade_price@exit_date": 279.5, "pct_change@entry_date": -0.0090909091, "pct_change@exit_date": -0.0141093474, "turnover@entry_date": 79635400.0, "turnover@exit_date": 101995140.0, "volume@entry_date": 292240.0, "volume@exit_date": 364920.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0041429817, "gmfe": 0.0398727982, "bmfe": 0.0, "mdd": -0.0052910053, "pdays": 4.0, "market_value@entry_date": 17071539899.999998}, {"stock_id": "6183 \u95dc\u8cbf", "entry_date": 1731283200000, "exit_date": 1731369600000, "entry_sig_date": 1731024000000, "exit_sig_date": 1731283200000, "position": 0.5, "period": 1, "entry_index": 4320, "exit_index": 4321, "return": -0.0244482017, "industry": "\u8cc7\u8a0a\u670d\u52d9\u696d", "trade_price@entry_date": 82.6, "trade_price@exit_date": 80.9, "pct_change@entry_date": 0.0036452005, "pct_change@exit_date": -0.0097919217, "turnover@entry_date": 1242964.7999999998, "turnover@exit_date": 3085040.6, "volume@entry_date": 15048.0, "volume@exit_date": 38134.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.031937046, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.031937046, "pdays": 0.0, "market_value@entry_date": 12255000000.0}, {"stock_id": "8176 \u667a\u6377", "entry_date": 1731369600000, "exit_date": 1731456000000, "entry_sig_date": 1731283200000, "exit_sig_date": 1731369600000, "position": 0.5, "period": 1, "entry_index": 4321, "exit_index": 4322, "return": 0.0386459646, "industry": "\u901a\u4fe1\u7db2\u8def\u696d", "trade_price@entry_date": 15.2, "trade_price@exit_date": 15.85, "pct_change@entry_date": 0.0099667774, "pct_change@exit_date": 0.0095541401, "turnover@entry_date": 13396474.399999999, "turnover@exit_date": 7917994.3, "volume@entry_date": 881347.0, "volume@exit_date": 499558.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0324041118, "bmfe": 0.0324041118, "mdd": -0.0063694268, "pdays": 2.0, "market_value@entry_date": 1125705700.0}, {"stock_id": "1531 \u9ad8\u6797\u80a1", "entry_date": 1731369600000, "exit_date": 1731542400000, "entry_sig_date": 1731283200000, "exit_sig_date": 1731456000000, "position": 0.5, "period": 2, "entry_index": 4321, "exit_index": 4323, "return": -0.0877004401, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 16.65, "trade_price@exit_date": 15.25, "pct_change@entry_date": -0.0059701493, "pct_change@exit_date": 0.0032894737, "turnover@entry_date": 48426708.15, "turnover@exit_date": 44051028.0, "volume@entry_date": 2908511.0, "volume@exit_date": 2888592.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0875207207, "gmfe": 0.0025265766, "bmfe": 0.0, "mdd": -0.0875207207, "pdays": 1.0, "market_value@entry_date": 2813570145.0}, {"stock_id": "6151 \u6649\u502b", "entry_date": 1731542400000, "exit_date": 1731974400000, "entry_sig_date": 1731456000000, "exit_sig_date": 1731888000000, "position": 0.5, "period": 3, "entry_index": 4323, "exit_index": 4326, "return": -0.0206419525, "industry": "\u5176\u4ed6\u96fb\u5b50\u696d", "trade_price@entry_date": 53.7, "trade_price@exit_date": 52.8, "pct_change@entry_date": 0.0132075472, "pct_change@exit_date": 0.0038022814, "turnover@entry_date": 412440165.0, "turnover@exit_date": 226219012.79999998, "volume@entry_date": 7680450.0, "volume@exit_date": 4284451.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0209494413, "gmfe": 0.0311673184, "bmfe": 0.0, "mdd": -0.0209494413, "pdays": 1.0, "market_value@entry_date": 2923111170.0}, {"stock_id": "1531 \u9ad8\u6797\u80a1", "entry_date": 1731974400000, "exit_date": 1732060800000, "entry_sig_date": 1731888000000, "exit_sig_date": 1731974400000, "position": 0.5, "period": 1, "entry_index": 4326, "exit_index": 4327, "return": 0.0179085834, "industry": "\u96fb\u6a5f\u6a5f\u68b0", "trade_price@entry_date": 15.95, "trade_price@exit_date": 16.3, "pct_change@entry_date": -0.0093167702, "pct_change@exit_date": 0.0061728395, "turnover@entry_date": 15696044.1, "turnover@exit_date": 8568502.5, "volume@entry_date": 984078.0, "volume@exit_date": 525675.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0067416144, "gmfe": 0.0151915361, "bmfe": 0.0151915361, "mdd": -0.0216049383, "pdays": 1.0, "market_value@entry_date": 2950151219.9999995}, {"stock_id": "1220 \u53f0\u69ae", "entry_date": 1731456000000, "exit_date": 1733184000000, "entry_sig_date": 1731369600000, "exit_sig_date": 1733097600000, "position": 0.5, "period": 14, "entry_index": 4322, "exit_index": 4336, "return": -0.0097058734, "industry": "\u98df\u54c1\u5de5\u696d", "trade_price@entry_date": 17.3, "trade_price@exit_date": 17.2, "pct_change@entry_date": -0.0280898876, "pct_change@exit_date": 0.0, "turnover@entry_date": 33535219.6, "turnover@exit_date": 5545572.399999999, "volume@entry_date": 1938452.0, "volume@exit_date": 322417.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0293630058, "gmfe": 0.0341906069, "bmfe": 0.0, "mdd": -0.0446927374, "pdays": 7.0, "market_value@entry_date": 2974908720.0}, {"stock_id": "5243 \u4e59\u76db-KY", "entry_date": 1732060800000, "exit_date": 1733788800000, "entry_sig_date": 1731974400000, "exit_sig_date": 1733702400000, "position": 0.5, "period": 14, "entry_index": 4327, "exit_index": 4341, "return": -0.0638203065, "industry": "\u5149\u96fb\u696d", "trade_price@entry_date": 73.2, "trade_price@exit_date": 68.8, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.004379562, "turnover@entry_date": 856737192.0, "turnover@exit_date": 120749641.6, "volume@entry_date": 11704060.0, "volume@exit_date": 1755082.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0769413934, "gmfe": 0.0281998975, "bmfe": 0.0281998975, "mdd": -0.1022576361, "pdays": 2.0, "market_value@entry_date": 11914993230.0}, {"stock_id": "3526 \u51e1\u7532", "entry_date": 1733788800000, "exit_date": 1733875200000, "entry_sig_date": 1733702400000, "exit_sig_date": 1733788800000, "position": 0.5, "period": 1, "entry_index": 4341, "exit_index": 4342, "return": -0.0237255482, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 277.0, "trade_price@exit_date": 271.5, "pct_change@entry_date": 0.0018083183, "pct_change@exit_date": 0.0018450185, "turnover@entry_date": 61091796.0, "turnover@exit_date": 35033274.0, "volume@entry_date": 220548.0, "volume@exit_date": 129036.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.022125361, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.022125361, "pdays": 0.0, "market_value@entry_date": 17040100600.000002}, {"stock_id": "5314 \u4e16\u7d00*", "entry_date": 1733184000000, "exit_date": 1737417600000, "entry_sig_date": 1733097600000, "exit_sig_date": 1737331200000, "position": 0.5, "period": 34, "entry_index": 4336, "exit_index": 4370, "return": 0.7510497054, "industry": "\u5176\u4ed6", "trade_price@entry_date": 438.0, "trade_price@exit_date": 770.0, "pct_change@entry_date": 0.0, "pct_change@exit_date": -0.0586797066, "turnover@entry_date": 89707656.0, "turnover@exit_date": 880539660.0, "volume@entry_date": 204812.0, "volume@exit_date": 1143558.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.000475, "gmfe": 1.0720746575, "bmfe": 0.0, "mdd": -0.1883259912, "pdays": 34.0, "market_value@entry_date": 6438600000.0}, {"stock_id": "6183 \u95dc\u8cbf", "entry_date": 1733875200000, "exit_date": 1737504000000, "entry_sig_date": 1733788800000, "exit_sig_date": 1737417600000, "position": 0.5, "period": 29, "entry_index": 4342, "exit_index": 4371, "return": 0.1110272361, "industry": "\u8cc7\u8a0a\u670d\u52d9\u696d", "trade_price@entry_date": 82.3, "trade_price@exit_date": 91.8, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.0032786885, "turnover@entry_date": 2552863.6999999997, "turnover@exit_date": 1780002.0, "volume@entry_date": 31019.0, "volume@exit_date": 19390.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0029039793, "gmfe": 0.1246174362, "bmfe": 0.0, "mdd": -0.0262557078, "pdays": 29.0, "market_value@entry_date": 12314999999.999998}, {"stock_id": "9802 \u923a\u9f4a-KY", "entry_date": 1737504000000, "exit_date": 1739836800000, "entry_sig_date": 1737417600000, "exit_sig_date": 1739750400000, "position": 0.5, "period": 12, "entry_index": 4371, "exit_index": 4383, "return": -0.0076238167, "industry": "\u904b\u52d5\u4f11\u9592", "trade_price@entry_date": 135.5, "trade_price@exit_date": 135.0, "pct_change@entry_date": 0.0074349442, "pct_change@exit_date": -0.0073529412, "turnover@entry_date": 622148521.0, "turnover@exit_date": 163160865.0, "volume@entry_date": 4591502.0, "volume@exit_date": 1208599.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0041632841, "gmfe": 0.0659141144, "bmfe": 0.0659141144, "mdd": -0.0657439446, "pdays": 11.0, "market_value@entry_date": 26834080950.0}, {"stock_id": "5314 \u4e16\u7d00*", "entry_date": 1739836800000, "exit_date": 1740009600000, "entry_sig_date": 1739750400000, "exit_sig_date": 1739923200000, "position": 0.5, "period": 2, "entry_index": 4383, "exit_index": 4385, "return": -0.005160091, "industry": "\u5176\u4ed6", "trade_price@entry_date": 822.0, "trade_price@exit_date": 821.0, "pct_change@entry_date": 0.0236612702, "pct_change@exit_date": 0.0085995086, "turnover@entry_date": 715331526.0, "turnover@exit_date": 397278616.0, "volume@entry_date": 870233.0, "volume@exit_date": 483896.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0272262774, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0272262774, "pdays": 0.0, "market_value@entry_date": 11951100000.0}, {"stock_id": "6183 \u95dc\u8cbf", "entry_date": 1739836800000, "exit_date": 1740355200000, "entry_sig_date": 1739750400000, "exit_sig_date": 1740096000000, "position": 0.5, "period": 4, "entry_index": 4383, "exit_index": 4387, "return": -0.0029140278, "industry": "\u8cc7\u8a0a\u670d\u52d9\u696d", "trade_price@entry_date": 96.3, "trade_price@exit_date": 96.4, "pct_change@entry_date": -0.0112936345, "pct_change@exit_date": 0.0, "turnover@entry_date": 5163894.899999999, "turnover@exit_date": 2228382.4, "volume@entry_date": 53623.0, "volume@exit_date": 23116.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0244352804, "bmfe": 0.0140559969, "mdd": -0.0233029382, "pdays": 5.0, "market_value@entry_date": 14655000000.0}, {"stock_id": "2441 \u8d85\u8c50", "entry_date": 1740009600000, "exit_date": 1740614400000, "entry_sig_date": 1739923200000, "exit_sig_date": 1740528000000, "position": 0.5, "period": 5, "entry_index": 4385, "exit_index": 4390, "return": -0.025270556, "industry": "\u534a\u5c0e\u9ad4\u696d", "trade_price@entry_date": 65.4, "trade_price@exit_date": 64.0, "pct_change@entry_date": 0.0015313936, "pct_change@exit_date": 0.0047095761, "turnover@entry_date": 101531799.60000001, "turnover@exit_date": 102694528.0, "volume@entry_date": 1552474.0, "volume@exit_date": 1604602.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0264565367, "gmfe": 0.0071666284, "bmfe": 0.0071666284, "mdd": -0.033383915, "pdays": 2.0, "market_value@entry_date": 37486944810.0}, {"stock_id": "9802 \u923a\u9f4a-KY", "entry_date": 1740355200000, "exit_date": 1740960000000, "entry_sig_date": 1740096000000, "exit_sig_date": 1740614400000, "position": 0.5, "period": 4, "entry_index": 4387, "exit_index": 4391, "return": -0.0169686324, "industry": "\u904b\u52d5\u4f11\u9592", "trade_price@entry_date": 153.0, "trade_price@exit_date": 151.0, "pct_change@entry_date": 0.0032786885, "pct_change@exit_date": 0.0033222591, "turnover@entry_date": 2877627978.0, "turnover@exit_date": 459265896.0, "volume@entry_date": 18808026.0, "volume@exit_date": 3041496.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0331392157, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0331392157, "pdays": 0.0, "market_value@entry_date": 28743979950.0}, {"stock_id": "3526 \u51e1\u7532", "entry_date": 1740960000000, "exit_date": 1741305600000, "entry_sig_date": 1740614400000, "exit_sig_date": 1741219200000, "position": 0.5, "period": 4, "entry_index": 4391, "exit_index": 4395, "return": -0.0258952502, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 295.0, "trade_price@exit_date": 288.5, "pct_change@entry_date": -0.0016920474, "pct_change@exit_date": 0.0105078809, "turnover@entry_date": 158118820.0, "turnover@exit_date": 145521996.5, "volume@entry_date": 535996.0, "volume@exit_date": 504409.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0428277542, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.0428277542, "pdays": 0.0, "market_value@entry_date": 17920401000.0}, {"stock_id": "2383 \u53f0\u5149\u96fb", "entry_date": 1740614400000, "exit_date": 1741564800000, "entry_sig_date": 1740528000000, "exit_sig_date": 1741305600000, "position": 0.5, "period": 6, "entry_index": 4390, "exit_index": 4396, "return": -0.086562962, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 639.0, "trade_price@exit_date": 586.0, "pct_change@entry_date": 0.009478673, "pct_change@exit_date": 0.0103448276, "turnover@entry_date": 19017125001.0, "turnover@exit_date": 2228869166.0, "volume@entry_date": 29760759.0, "volume@exit_date": 3803531.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.1068407277, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.1068407277, "pdays": 0.0, "market_value@entry_date": 219071992800.0}, {"stock_id": "3526 \u51e1\u7532", "entry_date": 1741651200000, "exit_date": 1742169600000, "entry_sig_date": 1741564800000, "exit_sig_date": 1741910400000, "position": 0.5, "period": 4, "entry_index": 4397, "exit_index": 4401, "return": 0.0032433593, "industry": "\u96fb\u5b50\u96f6\u7d44\u4ef6\u696d", "trade_price@entry_date": 277.0, "trade_price@exit_date": 279.0, "pct_change@entry_date": -0.0053859964, "pct_change@exit_date": 0.0054054054, "turnover@entry_date": 102651214.0, "turnover@exit_date": 64950642.0, "volume@entry_date": 370582.0, "volume@exit_date": 232798.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0058875903, "gmfe": 0.0121543773, "bmfe": 0.0121543773, "mdd": -0.0178253119, "pdays": 4.0, "market_value@entry_date": 17637447300.0}, {"stock_id": "5314 \u4e16\u7d00*", "entry_date": 1741305600000, "exit_date": 1743984000000, "entry_sig_date": 1741219200000, "exit_sig_date": 1743552000000, "position": 0.5, "period": 19, "entry_index": 4395, "exit_index": 4414, "return": 0.3391592129, "industry": "\u5176\u4ed6", "trade_price@entry_date": 958.0, "trade_price@exit_date": 64.4, "pct_change@entry_date": -0.0244399185, "pct_change@exit_date": -0.0993006993, "turnover@entry_date": 1972089942.0, "turnover@exit_date": 9908197.600000001, "volume@entry_date": 2058549.0, "volume@exit_date": 153854.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.6568326722, "bmfe": 0.0339554019, "mdd": -0.1889168766, "pdays": 20.0, "market_value@entry_date": 14567700000.0}, {"stock_id": "8284 \u4e09\u7af9", "entry_date": 1742947200000, "exit_date": 1744070400000, "entry_sig_date": 1742860800000, "exit_sig_date": 1743984000000, "position": 0.5, "period": 7, "entry_index": 4408, "exit_index": 4415, "return": -0.1136828533, "industry": "\u8cc7\u8a0a\u670d\u52d9\u696d", "trade_price@entry_date": 70.8, "trade_price@exit_date": 63.0, "pct_change@entry_date": 0.0071123755, "pct_change@exit_date": 0.0096153846, "turnover@entry_date": 4610566.8, "turnover@exit_date": 2784600.0, "volume@entry_date": 65121.0, "volume@exit_date": 44200.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.1190627119, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.1190627119, "pdays": 0.0, "market_value@entry_date": 3230037400.0}, {"stock_id": "1232 \u5927\u7d71\u76ca", "entry_date": 1746489600000, "exit_date": 1747872000000, "entry_sig_date": 1746403200000, "exit_sig_date": 1747785600000, "position": 0.5, "period": 12, "entry_index": 4434, "exit_index": 4446, "return": -0.0307880645, "industry": "\u98df\u54c1\u5de5\u696d", "trade_price@entry_date": 167.0, "trade_price@exit_date": 162.5, "pct_change@entry_date": 0.0340557276, "pct_change@exit_date": -0.006116208, "turnover@entry_date": 95917452.0, "turnover@exit_date": 10314687.5, "volume@entry_date": 574356.0, "volume@exit_date": 63475.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.033393488, "gmfe": 0.0, "bmfe": 0.0, "mdd": -0.033393488, "pdays": 0.0, "market_value@entry_date": 25835946350.0}, {"stock_id": "6499 \u76ca\u5b89", "entry_date": 1746748800000, "exit_date": 1748822400000, "entry_sig_date": 1746662400000, "exit_sig_date": 1748476800000, "position": 0.5, "period": 15, "entry_index": 4437, "exit_index": 4452, "return": 0.7826606588, "industry": "\u751f\u6280\u91ab\u7642\u696d", "trade_price@entry_date": 62.3, "trade_price@exit_date": 111.5, "pct_change@entry_date": 0.0987654321, "pct_change@exit_date": -0.0132743363, "turnover@entry_date": 210843136.0, "turnover@exit_date": 183818565.5, "volume@entry_date": 3384320.0, "volume@exit_date": 1648597.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.000475, "gmfe": 0.9733800161, "bmfe": 0.0, "mdd": -0.1138211382, "pdays": 15.0, "market_value@entry_date": 5746857270.0}, {"stock_id": "8931 \u5927\u6c7d\u96fb", "entry_date": 1747872000000, "exit_date": 1749081600000, "entry_sig_date": 1747785600000, "exit_sig_date": 1748995200000, "position": 0.5, "period": 9, "entry_index": 4446, "exit_index": 4455, "return": -0.0150155899, "industry": "\u6cb9\u96fb\u71c3\u6c23\u696d", "trade_price@entry_date": 54.0, "trade_price@exit_date": 53.4, "pct_change@entry_date": 0.0055865922, "pct_change@exit_date": -0.0037313433, "turnover@entry_date": 7251606.0, "turnover@exit_date": 4863458.399999999, "volume@entry_date": 134289.0, "volume@exit_date": 91076.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0115808333, "gmfe": 0.0143327778, "bmfe": 0.0143327778, "mdd": -0.0255474453, "pdays": 5.0, "market_value@entry_date": 6589539110.0}, {"stock_id": "3036 \u6587\u66c4", "entry_date": 1749081600000, "exit_date": 1749600000000, "entry_sig_date": 1748995200000, "exit_sig_date": 1749513600000, "position": 0.5, "period": 4, "entry_index": 4455, "exit_index": 4459, "return": -0.0079009353, "industry": "\u96fb\u5b50\u901a\u8def\u696d", "trade_price@entry_date": 126.0, "trade_price@exit_date": 125.5, "pct_change@entry_date": 0.0, "pct_change@exit_date": 0.016194332, "turnover@entry_date": 317417562.0, "turnover@exit_date": 874080643.0, "volume@entry_date": 2519187.0, "volume@exit_date": 6964786.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": -0.0203068452, "gmfe": 0.0114241071, "bmfe": 0.0114241071, "mdd": -0.031372549, "pdays": 3.0, "market_value@entry_date": 157033525000.0}, {"stock_id": "6499 \u76ca\u5b89", "entry_date": 1749600000000, "exit_date": 1749686400000, "entry_sig_date": 1749513600000, "exit_sig_date": 1749600000000, "position": 0.5, "period": 1, "entry_index": 4459, "exit_index": 4460, "return": 0.0632371474, "industry": "\u751f\u6280\u91ab\u7642\u696d", "trade_price@entry_date": 93.4, "trade_price@exit_date": 99.7, "pct_change@entry_date": 0.0309050773, "pct_change@exit_date": 0.0010040161, "turnover@entry_date": 127455601.4, "turnover@exit_date": 132524430.4, "volume@entry_date": 1364621.0, "volume@exit_date": 1329232.0, "\u8b66\u793a\u80a1@entry_sig_date": false, "\u8655\u7f6e\u80a1@entry_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": false, "\u8655\u7f6e\u80a1@exit_sig_date": true, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0862075749, "bmfe": 0.0658746253, "mdd": 0.0, "pdays": 2.0, "market_value@entry_date": 9187592040.0}, {"stock_id": "6499 \u76ca\u5b89", "entry_date": 1750204800000, "exit_date": null, "entry_sig_date": 1750118400000, "exit_sig_date": null, "position": 0.5, "period": 1, "entry_index": 4464, "exit_index": -1, "return": 0.0371011278, "industry": "\u751f\u6280\u91ab\u7642\u696d", "trade_price@entry_date": 133.0, "trade_price@exit_date": 133.0, "pct_change@entry_date": -0.0111524164, "pct_change@exit_date": -0.0111524164, "turnover@entry_date": 3096565983.0, "turnover@exit_date": 3096565983.0, "volume@entry_date": 23282451.0, "volume@exit_date": 23282451.0, "\u8b66\u793a\u80a1@entry_sig_date": true, "\u8655\u7f6e\u80a1@entry_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@entry_sig_date": false, "\u8b66\u793a\u80a1@exit_sig_date": true, "\u8655\u7f6e\u80a1@exit_sig_date": false, "\u5168\u984d\u4ea4\u5272\u80a1@exit_sig_date": false, "mae": 0.0, "gmfe": 0.0371011278, "bmfe": 0.0371011278, "mdd": 0.0, "pdays": 1.0, "market_value@entry_date": 12729796200.0}]}
  </script>
  <script>
   const positionJson = {"positions": [{"assetName": "\u76ca\u5b89", "assetId": "6499", "entryDate": "2025-06-18T00:00:00", "entrySigDate": "2025-06-17T00:00:00", "exitDate": null, "exitSigDate": null, "entryPrice": 133.0, "entryAdjPrice": 215.4178889077138, "exitPrice": 133.0, "currentPrice": 138.0, "profit": 0.037101127819548774, "currentWeight": 0.5, "nextWeight": 0.5, "rsv20": 1.0, "action": {"type": "hold", "reason": "_", "date": "2025-06-17T00:00:00", "profit": 0.037101127819548774}, "industry": "\u751f\u6280\u91ab\u7642\u696d"}], "positionConfig": {"isDailyStrategy": 1, "sl": 0.08, "tp": Infinity, "resample": null, "entryTradePrice": "open", "exitTradePrice": "open", "currentRebalanceDate": 1750118400.0, "nextRebalanceDate": 1750118400.0, "scheduled": "2025-06-17T00:00:00", "dataFreq": "1d", "created": "2025-06-18T20:46:41.650917", "lastTimestamp": "2025-06-18T00:00:00"}}
  </script>
  <script type="module">
   var __defProp = Object.defineProperty;
var __typeError = (msg) => {
  throw TypeError(msg);
};
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
var __privateGet = (obj, member, getter) => (__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, "write to private field"), setter ? setter.call(obj, value) : member.set(obj, value), value);
var _t2, _e3, _a, _b, _c, _d, _e;
"undefined" != typeof window && (window.__svelte || (window.__svelte = { v: /* @__PURE__ */ new Set() })).v.add("5");
let d = false;
!function enable_legacy_mode_flag() {
  d = true;
}();
const g = 1, _ = 2, O = 4, $ = 8, st = 16, ot = 1, lt = 2, ct = 4, ut = 8, gt = 16, mt = 4, bt = "[", yt = "[!", wt = "]", Pt = {}, At = Symbol(), St = "http://www.w3.org/2000/svg";
function is_capture_event(d2) {
  return d2.endsWith("capture") && "gotpointercapture" !== d2 && "lostpointercapture" !== d2;
}
const Mt = ["beforeinput", "click", "change", "dblclick", "contextmenu", "focusin", "focusout", "input", "keydown", "keyup", "mousedown", "mousemove", "mouseout", "mouseover", "mouseup", "pointerdown", "pointermove", "pointerout", "pointerover", "pointerup", "touchend", "touchmove", "touchstart"];
function is_delegated(d2) {
  return Mt.includes(d2);
}
const Vt = { formnovalidate: "formNoValidate", ismap: "isMap", nomodule: "noModule", playsinline: "playsInline", readonly: "readOnly", defaultvalue: "defaultValue", defaultchecked: "defaultChecked", srcobject: "srcObject" };
function normalize_attribute(d2) {
  return d2 = d2.toLowerCase(), Vt[d2] ?? d2;
}
const Ot = ["touchstart", "touchmove"];
function is_passive_event(d2) {
  return Ot.includes(d2);
}
const zt = ["textarea", "script", "style", "title"];
var Bt = Array.isArray, Zt = Array.from, ce = Object.keys, ue = Object.defineProperty, de = Object.getOwnPropertyDescriptor, pe = Object.getOwnPropertyDescriptors, fe = Object.prototype, ge = Array.prototype, ve = Object.getPrototypeOf;
function is_function(d2) {
  return "function" == typeof d2;
}
const noop$2 = () => {
};
function run(d2) {
  return d2();
}
function run_all(d2) {
  for (var g2 = 0; g2 < d2.length; g2++) d2[g2]();
}
const Ee = 2, Ie = 4, Ae = 8, Re = 16, Ve = 32, De = 64, Oe = 128, Le = 256, Ne = 512, $e = 1024, Fe = 2048, ze = 4096, Be = 8192, Ue = 16384, We = 32768, je = 65536, qe = 1 << 17, He = 1 << 19, Ke = 1 << 20, Ge = Symbol("$state"), Ye = Symbol("legacy props"), Qe = Symbol("");
function equals(d2) {
  return d2 === this.v;
}
function safe_not_equal(d2, g2) {
  return d2 != d2 ? g2 == g2 : d2 !== g2 || null !== d2 && "object" == typeof d2 || "function" == typeof d2;
}
function not_equal(d2, g2) {
  return d2 !== g2;
}
function safe_equals(d2) {
  return !safe_not_equal(d2, this.v);
}
function source(d2, g2) {
  return { f: 0, v: d2, reactions: null, equals, version: 0 };
}
function state(d2) {
  return push_derived_source(source(d2));
}
function mutable_source(g2, _2 = false) {
  var _a3;
  const O2 = source(g2);
  return _2 || (O2.equals = safe_equals), d && null !== On && null !== On.l && ((_a3 = On.l).s ?? (_a3.s = [])).push(O2), O2;
}
function mutable_state(d2, g2 = false) {
  return push_derived_source(mutable_source(d2, g2));
}
function push_derived_source(d2) {
  return null !== ln && ln.f & Ee && (null === _n ? function set_derived_sources(d3) {
    _n = d3;
  }([d2]) : _n.push(d2)), d2;
}
function mutate(d2, g2) {
  return set$1(d2, untrack(() => get(d2))), g2;
}
function set$1(d2, g2) {
  return null !== ln && is_runes() && ln.f & (Ee | Re) && (null === _n || !_n.includes(d2)) && function state_unsafe_mutation() {
    throw new Error("https://svelte.dev/e/state_unsafe_mutation");
  }(), internal_set(d2, g2);
}
function internal_set(d2, g2) {
  return d2.equals(g2) || (d2.v = g2, d2.version = increment_version(), mark_reactions(d2, Fe), is_runes() && null !== pn && pn.f & $e && !(pn.f & Ve) && (null !== mn && mn.includes(d2) ? (set_signal_status(pn, Fe), schedule_effect(pn)) : null === In ? function set_untracked_writes(d3) {
    In = d3;
  }([d2]) : In.push(d2))), g2;
}
function mark_reactions(d2, g2) {
  var _2 = d2.reactions;
  if (null !== _2) for (var O2 = is_runes(), $2 = _2.length, st2 = 0; st2 < $2; st2++) {
    var ot2 = _2[st2], lt2 = ot2.f;
    lt2 & Fe || (O2 || ot2 !== pn) && (set_signal_status(ot2, g2), lt2 & ($e | Le) && (lt2 & Ee ? mark_reactions(ot2, ze) : schedule_effect(ot2)));
  }
}
function hydration_mismatch(d2) {
  console.warn("https://svelte.dev/e/hydration_mismatch");
}
let Xe, Je = false;
function set_hydrating(d2) {
  Je = d2;
}
function set_hydrate_node(d2) {
  if (null === d2) throw hydration_mismatch(), Pt;
  return Xe = d2;
}
function hydrate_next() {
  return set_hydrate_node(get_next_sibling(Xe));
}
function reset(d2) {
  if (Je) {
    if (null !== get_next_sibling(Xe)) throw hydration_mismatch(), Pt;
    Xe = d2;
  }
}
function next(d2 = 1) {
  if (Je) {
    for (var g2 = d2, _2 = Xe; g2--; ) _2 = get_next_sibling(_2);
    Xe = _2;
  }
}
function remove_nodes() {
  for (var d2 = 0, g2 = Xe; ; ) {
    if (8 === g2.nodeType) {
      var _2 = g2.data;
      if (_2 === wt) {
        if (0 === d2) return g2;
        d2 -= 1;
      } else _2 !== bt && _2 !== yt || (d2 += 1);
    }
    var O2 = get_next_sibling(g2);
    g2.remove(), g2 = O2;
  }
}
function proxy(d2, g2 = null, _2) {
  if ("object" != typeof d2 || null === d2 || Ge in d2) return d2;
  const O2 = ve(d2);
  if (O2 !== fe && O2 !== ge) return d2;
  var $2, st2 = /* @__PURE__ */ new Map(), ot2 = Bt(d2), lt2 = source(0);
  return ot2 && st2.set("length", source(d2.length)), new Proxy(d2, { defineProperty(d3, g3, _3) {
    "value" in _3 && false !== _3.configurable && false !== _3.enumerable && false !== _3.writable || function state_descriptors_fixed() {
      throw new Error("https://svelte.dev/e/state_descriptors_fixed");
    }();
    var O3 = st2.get(g3);
    return void 0 === O3 ? (O3 = source(_3.value), st2.set(g3, O3)) : set$1(O3, proxy(_3.value, $2)), true;
  }, deleteProperty(d3, g3) {
    var _3 = st2.get(g3);
    if (void 0 === _3) g3 in d3 && st2.set(g3, source(At));
    else {
      if (ot2 && "string" == typeof g3) {
        var O3 = st2.get("length"), $3 = Number(g3);
        Number.isInteger($3) && $3 < O3.v && set$1(O3, $3);
      }
      set$1(_3, At), update_version(lt2);
    }
    return true;
  }, get(g3, _3, O3) {
    var _a3;
    if (_3 === Ge) return d2;
    var ot3 = st2.get(_3), lt3 = _3 in g3;
    if (void 0 !== ot3 || lt3 && !((_a3 = de(g3, _3)) == null ? void 0 : _a3.writable) || (ot3 = source(proxy(lt3 ? g3[_3] : At, $2)), st2.set(_3, ot3)), void 0 !== ot3) {
      var ct2 = get(ot3);
      return ct2 === At ? void 0 : ct2;
    }
    return Reflect.get(g3, _3, O3);
  }, getOwnPropertyDescriptor(d3, g3) {
    var _3 = Reflect.getOwnPropertyDescriptor(d3, g3);
    if (_3 && "value" in _3) {
      var O3 = st2.get(g3);
      O3 && (_3.value = get(O3));
    } else if (void 0 === _3) {
      var $3 = st2.get(g3), ot3 = $3 == null ? void 0 : $3.v;
      if (void 0 !== $3 && ot3 !== At) return { enumerable: true, configurable: true, value: ot3, writable: true };
    }
    return _3;
  }, has(d3, g3) {
    var _a3;
    if (g3 === Ge) return true;
    var _3 = st2.get(g3), O3 = void 0 !== _3 && _3.v !== At || Reflect.has(d3, g3);
    if ((void 0 !== _3 || null !== pn && (!O3 || ((_a3 = de(d3, g3)) == null ? void 0 : _a3.writable))) && (void 0 === _3 && (_3 = source(O3 ? proxy(d3[g3], $2) : At), st2.set(g3, _3)), get(_3) === At)) return false;
    return O3;
  }, set(d3, g3, _3, O3) {
    var _a3;
    var ct2 = st2.get(g3), ut2 = g3 in d3;
    if (ot2 && "length" === g3) for (var gt2 = _3; gt2 < ct2.v; gt2 += 1) {
      var mt2 = st2.get(gt2 + "");
      void 0 !== mt2 ? set$1(mt2, At) : gt2 in d3 && (mt2 = source(At), st2.set(gt2 + "", mt2));
    }
    void 0 === ct2 ? ut2 && !((_a3 = de(d3, g3)) == null ? void 0 : _a3.writable) || (set$1(ct2 = source(void 0), proxy(_3, $2)), st2.set(g3, ct2)) : (ut2 = ct2.v !== At, set$1(ct2, proxy(_3, $2)));
    var bt2 = Reflect.getOwnPropertyDescriptor(d3, g3);
    if ((bt2 == null ? void 0 : bt2.set) && bt2.set.call(O3, _3), !ut2) {
      if (ot2 && "string" == typeof g3) {
        var yt2 = st2.get("length"), wt2 = Number(g3);
        Number.isInteger(wt2) && wt2 >= yt2.v && set$1(yt2, wt2 + 1);
      }
      update_version(lt2);
    }
    return true;
  }, ownKeys(d3) {
    get(lt2);
    var g3 = Reflect.ownKeys(d3).filter((d4) => {
      var g4 = st2.get(d4);
      return void 0 === g4 || g4.v !== At;
    });
    for (var [_3, O3] of st2) O3.v === At || _3 in d3 || g3.push(_3);
    return g3;
  }, setPrototypeOf() {
    !function state_prototype_fixed() {
      throw new Error("https://svelte.dev/e/state_prototype_fixed");
    }();
  } });
}
function update_version(d2, g2 = 1) {
  set$1(d2, d2.v + g2);
}
var Ze, ti, ai;
function init_operations() {
  if (void 0 === Ze) {
    Ze = window;
    var d2 = Element.prototype, g2 = Node.prototype;
    ti = de(g2, "firstChild").get, ai = de(g2, "nextSibling").get, d2.__click = void 0, d2.__className = "", d2.__attributes = null, d2.__styles = null, d2.__e = void 0, Text.prototype.__t = void 0;
  }
}
function create_text(d2 = "") {
  return document.createTextNode(d2);
}
function get_first_child(d2) {
  return ti.call(d2);
}
function get_next_sibling(d2) {
  return ai.call(d2);
}
function child(d2, g2) {
  if (!Je) return get_first_child(d2);
  var _2 = get_first_child(Xe);
  if (null === _2) _2 = Xe.appendChild(create_text());
  else if (g2 && 3 !== _2.nodeType) {
    var O2 = create_text();
    return _2 == null ? void 0 : _2.before(O2), set_hydrate_node(O2), O2;
  }
  return set_hydrate_node(_2), _2;
}
function first_child(d2, g2) {
  if (!Je) {
    var _2 = get_first_child(d2);
    return _2 instanceof Comment && "" === _2.data ? get_next_sibling(_2) : _2;
  }
  return Xe;
}
function sibling(d2, g2 = 1, _2 = false) {
  let O2 = Je ? Xe : d2;
  for (var $2; g2--; ) $2 = O2, O2 = get_next_sibling(O2);
  if (!Je) return O2;
  var st2 = O2 == null ? void 0 : O2.nodeType;
  if (_2 && 3 !== st2) {
    var ot2 = create_text();
    return null === O2 ? $2 == null ? void 0 : $2.after(ot2) : O2.before(ot2), set_hydrate_node(ot2), ot2;
  }
  return set_hydrate_node(O2), O2;
}
function clear_text_content(d2) {
  d2.textContent = "";
}
function derived(d2) {
  var g2 = Ee | Fe;
  null === pn ? g2 |= Le : pn.f |= Ke;
  var _2 = null !== ln && ln.f & Ee ? ln : null;
  const O2 = { children: null, ctx: On, deps: null, equals, f: g2, fn: d2, reactions: null, v: null, version: 0, parent: _2 ?? pn };
  return null !== _2 && (_2.children ?? (_2.children = [])).push(O2), O2;
}
function derived_safe_equal(d2) {
  const g2 = derived(d2);
  return g2.equals = safe_equals, g2;
}
function destroy_derived_children(d2) {
  var g2 = d2.children;
  if (null !== g2) {
    d2.children = null;
    for (var _2 = 0; _2 < g2.length; _2 += 1) {
      var O2 = g2[_2];
      O2.f & Ee ? destroy_derived(O2) : destroy_effect(O2);
    }
  }
}
function execute_derived(d2) {
  var g2, _2 = pn;
  set_active_effect(function get_derived_parent_effect(d3) {
    for (var g3 = d3.parent; null !== g3; ) {
      if (!(g3.f & Ee)) return g3;
      g3 = g3.parent;
    }
    return null;
  }(d2));
  try {
    destroy_derived_children(d2), g2 = update_reaction(d2);
  } finally {
    set_active_effect(_2);
  }
  return g2;
}
function update_derived(d2) {
  var g2 = execute_derived(d2);
  set_signal_status(d2, (Vn || d2.f & Le) && null !== d2.deps ? ze : $e), d2.equals(g2) || (d2.v = g2, d2.version = increment_version());
}
function destroy_derived(d2) {
  destroy_derived_children(d2), remove_reactions(d2, 0), set_signal_status(d2, Ue), d2.v = d2.children = d2.deps = d2.ctx = d2.reactions = null;
}
function validate_effect(d2) {
  null === pn && null === ln && function effect_orphan(d3) {
    throw new Error("https://svelte.dev/e/effect_orphan");
  }(), null !== ln && ln.f & Le && function effect_in_unowned_derived() {
    throw new Error("https://svelte.dev/e/effect_in_unowned_derived");
  }(), rn && function effect_in_teardown(d3) {
    throw new Error("https://svelte.dev/e/effect_in_teardown");
  }();
}
function create_effect(d2, g2, _2, O2 = true) {
  var $2 = !!(d2 & De), st2 = pn, ot2 = { ctx: On, deps: null, deriveds: null, nodes_start: null, nodes_end: null, f: d2 | Fe, first: null, fn: g2, last: null, next: null, parent: $2 ? null : st2, prev: null, teardown: null, transitions: null, version: 0 };
  if (_2) {
    var lt2 = nn;
    try {
      set_is_flushing_effect(true), update_effect(ot2), ot2.f |= We;
    } catch (d3) {
      throw destroy_effect(ot2), d3;
    } finally {
      set_is_flushing_effect(lt2);
    }
  } else null !== g2 && schedule_effect(ot2);
  if (!(_2 && null === ot2.deps && null === ot2.first && null === ot2.nodes_start && null === ot2.teardown && !(ot2.f & Ke)) && !$2 && O2 && (null !== st2 && function push_effect(d3, g3) {
    var _3 = g3.last;
    null === _3 ? g3.last = g3.first = d3 : (_3.next = d3, d3.prev = _3, g3.last = d3);
  }(ot2, st2), null !== ln && ln.f & Ee)) {
    var ct2 = ln;
    (ct2.children ?? (ct2.children = [])).push(ot2);
  }
  return ot2;
}
function teardown(d2) {
  const g2 = create_effect(Ae, null, false);
  return set_signal_status(g2, $e), g2.teardown = d2, g2;
}
function user_effect(d2) {
  if (validate_effect(), !(null !== pn && !!(pn.f & Ve) && null !== On && !On.m)) return effect(d2);
  var g2 = On;
  (g2.e ?? (g2.e = [])).push({ fn: d2, effect: pn, reaction: ln });
}
function effect(d2) {
  return create_effect(Ie, d2, false);
}
function legacy_pre_effect(d2, g2) {
  var _2 = On, O2 = { effect: null, ran: false };
  _2.l.r1.push(O2), O2.effect = render_effect(() => {
    d2(), O2.ran || (O2.ran = true, set$1(_2.l.r2, true), untrack(g2));
  });
}
function legacy_pre_effect_reset() {
  var d2 = On;
  render_effect(() => {
    if (get(d2.l.r2)) {
      for (var g2 of d2.l.r1) {
        var _2 = g2.effect;
        _2.f & $e && set_signal_status(_2, ze), check_dirtiness(_2) && update_effect(_2), g2.ran = false;
      }
      d2.l.r2.v = false;
    }
  });
}
function render_effect(d2) {
  return create_effect(Ae, d2, true);
}
function template_effect(d2) {
  return block(d2);
}
function block(d2, g2 = 0) {
  return create_effect(Ae | Re | g2, d2, true);
}
function branch(d2, g2 = true) {
  return create_effect(Ae | Ve, d2, true, g2);
}
function execute_effect_teardown(d2) {
  var g2 = d2.teardown;
  if (null !== g2) {
    const d3 = rn, _2 = ln;
    set_is_destroying_effect(true), set_active_reaction(null);
    try {
      g2.call(null);
    } finally {
      set_is_destroying_effect(d3), set_active_reaction(_2);
    }
  }
}
function destroy_effect_deriveds(d2) {
  var g2 = d2.deriveds;
  if (null !== g2) {
    d2.deriveds = null;
    for (var _2 = 0; _2 < g2.length; _2 += 1) destroy_derived(g2[_2]);
  }
}
function destroy_effect_children(d2, g2 = false) {
  var _2 = d2.first;
  for (d2.first = d2.last = null; null !== _2; ) {
    var O2 = _2.next;
    destroy_effect(_2, g2), _2 = O2;
  }
}
function destroy_effect(d2, g2 = true) {
  var _2 = false;
  if ((g2 || d2.f & He) && null !== d2.nodes_start) {
    for (var O2 = d2.nodes_start, $2 = d2.nodes_end; null !== O2; ) {
      var st2 = O2 === $2 ? null : get_next_sibling(O2);
      O2.remove(), O2 = st2;
    }
    _2 = true;
  }
  destroy_effect_children(d2, g2 && !_2), destroy_effect_deriveds(d2), remove_reactions(d2, 0), set_signal_status(d2, Ue);
  var ot2 = d2.transitions;
  if (null !== ot2) for (const d3 of ot2) d3.stop();
  execute_effect_teardown(d2);
  var lt2 = d2.parent;
  null !== lt2 && null !== lt2.first && unlink_effect(d2), d2.next = d2.prev = d2.teardown = d2.ctx = d2.deps = d2.fn = d2.nodes_start = d2.nodes_end = null;
}
function unlink_effect(d2) {
  var g2 = d2.parent, _2 = d2.prev, O2 = d2.next;
  null !== _2 && (_2.next = O2), null !== O2 && (O2.prev = _2), null !== g2 && (g2.first === d2 && (g2.first = O2), g2.last === d2 && (g2.last = _2));
}
function pause_effect(d2, g2) {
  var _2 = [];
  pause_children(d2, _2, true), run_out_transitions(_2, () => {
    destroy_effect(d2), g2 && g2();
  });
}
function run_out_transitions(d2, g2) {
  var _2 = d2.length;
  if (_2 > 0) {
    var check = () => --_2 || g2();
    for (var O2 of d2) O2.out(check);
  } else g2();
}
function pause_children(d2, g2, _2) {
  if (!(d2.f & Be)) {
    if (d2.f ^= Be, null !== d2.transitions) for (const O3 of d2.transitions) (O3.is_global || _2) && g2.push(O3);
    for (var O2 = d2.first; null !== O2; ) {
      var $2 = O2.next;
      pause_children(O2, g2, !!(!!(O2.f & je) || !!(O2.f & Ve)) && _2), O2 = $2;
    }
  }
}
function resume_effect(d2) {
  resume_children(d2, true);
}
function resume_children(d2, g2) {
  if (d2.f & Be) {
    check_dirtiness(d2) && update_effect(d2), d2.f ^= Be;
    for (var _2 = d2.first; null !== _2; ) {
      var O2 = _2.next;
      resume_children(_2, !!(!!(_2.f & je) || !!(_2.f & Ve)) && g2), _2 = O2;
    }
    if (null !== d2.transitions) for (const _3 of d2.transitions) (_3.is_global || g2) && _3.in();
  }
}
const Vi = "undefined" == typeof requestIdleCallback ? (d2) => setTimeout(d2, 1) : requestIdleCallback;
let Li = false, zi = false, is = [], As = [];
function process_micro_tasks() {
  Li = false;
  const d2 = is.slice();
  is = [], run_all(d2);
}
function process_idle_tasks() {
  zi = false;
  const d2 = As.slice();
  As = [], run_all(d2);
}
function queue_micro_task(d2) {
  Li || (Li = true, queueMicrotask(process_micro_tasks)), is.push(d2);
}
function lifecycle_outside_component(d2) {
  throw new Error("https://svelte.dev/e/lifecycle_outside_component");
}
const Vs = 0, Ls = 1;
let zs = false, Bs = Vs, en = false, sn = null, nn = false, rn = false;
function set_is_flushing_effect(d2) {
  nn = d2;
}
function set_is_destroying_effect(d2) {
  rn = d2;
}
let on = [], an = 0, ln = null;
function set_active_reaction(d2) {
  ln = d2;
}
let pn = null;
function set_active_effect(d2) {
  pn = d2;
}
let _n = null;
let mn = null, vn = 0, In = null;
let An = 1, Vn = false, On = null;
function increment_version() {
  return ++An;
}
function is_runes() {
  return !d || null !== On && null === On.l;
}
function check_dirtiness(d2) {
  var _a3, _b3;
  var g2 = d2.f;
  if (g2 & Fe) return true;
  if (g2 & ze) {
    var _2 = d2.deps, O2 = !!(g2 & Le);
    if (null !== _2) {
      var $2;
      if (g2 & Ne) {
        for ($2 = 0; $2 < _2.length; $2++) ((_a3 = _2[$2]).reactions ?? (_a3.reactions = [])).push(d2);
        d2.f ^= Ne;
      }
      for ($2 = 0; $2 < _2.length; $2++) {
        var st2 = _2[$2];
        if (check_dirtiness(st2) && update_derived(st2), !O2 || null === pn || Vn || ((_b3 = st2 == null ? void 0 : st2.reactions) == null ? void 0 : _b3.includes(d2)) || (st2.reactions ?? (st2.reactions = [])).push(d2), st2.version > d2.version) return true;
      }
    }
    O2 && (null === pn || Vn) || set_signal_status(d2, $e);
  }
  return false;
}
function handle_error(d2, g2, _2, O2) {
  if (zs) {
    if (null === _2 && (zs = false), function should_rethrow_error(d3) {
      return !(d3.f & Ue || null !== d3.parent && d3.parent.f & Oe);
    }(g2)) throw d2;
  } else null !== _2 && (zs = true), function propagate_error(d3, g3) {
    for (var _3 = g3; null !== _3; ) {
      if (_3.f & Oe) try {
        return void _3.fn(d3);
      } catch {
        _3.f ^= Oe;
      }
      _3 = _3.parent;
    }
    throw zs = false, d3;
  }(d2, g2);
}
function update_reaction(d2) {
  var _a3;
  var g2 = mn, _2 = vn, O2 = In, $2 = ln, st2 = Vn, ot2 = _n, lt2 = On, ct2 = d2.f;
  mn = null, vn = 0, In = null, ln = ct2 & (Ve | De) ? null : d2, Vn = !nn && !!(ct2 & Le), _n = null, On = d2.ctx;
  try {
    var ut2 = (0, d2.fn)(), gt2 = d2.deps;
    if (null !== mn) {
      var mt2;
      if (remove_reactions(d2, vn), null !== gt2 && vn > 0) for (gt2.length = vn + mn.length, mt2 = 0; mt2 < mn.length; mt2++) gt2[vn + mt2] = mn[mt2];
      else d2.deps = gt2 = mn;
      if (!Vn) for (mt2 = vn; mt2 < gt2.length; mt2++) ((_a3 = gt2[mt2]).reactions ?? (_a3.reactions = [])).push(d2);
    } else null !== gt2 && vn < gt2.length && (remove_reactions(d2, vn), gt2.length = vn);
    return ut2;
  } finally {
    mn = g2, vn = _2, In = O2, ln = $2, Vn = st2, _n = ot2, On = lt2;
  }
}
function remove_reaction(d2, g2) {
  let _2 = g2.reactions;
  if (null !== _2) {
    var O2 = _2.indexOf(d2);
    if (-1 !== O2) {
      var $2 = _2.length - 1;
      0 === $2 ? _2 = g2.reactions = null : (_2[O2] = _2[$2], _2.pop());
    }
  }
  null === _2 && g2.f & Ee && (null === mn || !mn.includes(g2)) && (set_signal_status(g2, ze), g2.f & (Le | Ne) || (g2.f ^= Ne), remove_reactions(g2, 0));
}
function remove_reactions(d2, g2) {
  var _2 = d2.deps;
  if (null !== _2) for (var O2 = g2; O2 < _2.length; O2++) remove_reaction(d2, _2[O2]);
}
function update_effect(d2) {
  var g2 = d2.f;
  if (!(g2 & Ue)) {
    set_signal_status(d2, $e);
    var _2 = pn, O2 = On;
    pn = d2;
    try {
      g2 & Re ? function destroy_block_effect_children(d3) {
        for (var g3 = d3.first; null !== g3; ) {
          var _3 = g3.next;
          g3.f & Ve || destroy_effect(g3), g3 = _3;
        }
      }(d2) : destroy_effect_children(d2), destroy_effect_deriveds(d2), execute_effect_teardown(d2);
      var $2 = update_reaction(d2);
      d2.teardown = "function" == typeof $2 ? $2 : null, d2.version = An;
    } catch (g3) {
      handle_error(g3, d2, _2, O2 || d2.ctx);
    } finally {
      pn = _2;
    }
  }
}
function infinite_loop_guard() {
  if (an > 1e3) {
    an = 0;
    try {
      !function effect_update_depth_exceeded() {
        throw new Error("https://svelte.dev/e/effect_update_depth_exceeded");
      }();
    } catch (d2) {
      if (null === sn) throw d2;
      handle_error(d2, sn, null);
    }
  }
  an++;
}
function flush_queued_root_effects(d2) {
  var g2 = d2.length;
  if (0 !== g2) {
    infinite_loop_guard();
    var _2 = nn;
    nn = true;
    try {
      for (var O2 = 0; O2 < g2; O2++) {
        var $2 = d2[O2];
        $2.f & $e || ($2.f ^= $e);
        var st2 = [];
        process_effects($2, st2), flush_queued_effects(st2);
      }
    } finally {
      nn = _2;
    }
  }
}
function flush_queued_effects(d2) {
  var g2 = d2.length;
  if (0 !== g2) for (var _2 = 0; _2 < g2; _2++) {
    var O2 = d2[_2];
    if (!(O2.f & (Ue | Be))) try {
      check_dirtiness(O2) && (update_effect(O2), null === O2.deps && null === O2.first && null === O2.nodes_start && (null === O2.teardown ? unlink_effect(O2) : O2.fn = null));
    } catch (d3) {
      handle_error(d3, O2, null, O2.ctx);
    }
  }
}
function process_deferred() {
  if (en = false, an > 1001) return;
  const d2 = on;
  on = [], flush_queued_root_effects(d2), en || (an = 0, sn = null);
}
function schedule_effect(d2) {
  Bs === Vs && (en || (en = true, queueMicrotask(process_deferred))), sn = d2;
  for (var g2 = d2; null !== g2.parent; ) {
    var _2 = (g2 = g2.parent).f;
    if (_2 & (De | Ve)) {
      if (!(_2 & $e)) return;
      g2.f ^= $e;
    }
  }
  on.push(g2);
}
function process_effects(d2, g2) {
  var _2 = d2.first, O2 = [];
  t: for (; null !== _2; ) {
    var $2 = _2.f, st2 = !!($2 & Ve), ot2 = st2 && !!($2 & $e), lt2 = _2.next;
    if (!(ot2 || $2 & Be)) if ($2 & Ae) {
      if (st2) _2.f ^= $e;
      else try {
        check_dirtiness(_2) && update_effect(_2);
      } catch (d3) {
        handle_error(d3, _2, null, _2.ctx);
      }
      var ct2 = _2.first;
      if (null !== ct2) {
        _2 = ct2;
        continue;
      }
    } else $2 & Ie && O2.push(_2);
    if (null === lt2) {
      let g3 = _2.parent;
      for (; null !== g3; ) {
        if (d2 === g3) break t;
        var ut2 = g3.next;
        if (null !== ut2) {
          _2 = ut2;
          continue t;
        }
        g3 = g3.parent;
      }
    }
    _2 = lt2;
  }
  for (var gt2 = 0; gt2 < O2.length; gt2++) ct2 = O2[gt2], g2.push(ct2), process_effects(ct2, g2);
}
function flush_sync(d2) {
  var g2 = Bs, _2 = on;
  try {
    infinite_loop_guard();
    const g3 = [];
    Bs = Ls, on = g3, en = false, flush_queued_root_effects(_2);
    var O2 = d2 == null ? void 0 : d2();
    return function flush_tasks() {
      Li && process_micro_tasks(), zi && process_idle_tasks();
    }(), (on.length > 0 || g3.length > 0) && flush_sync(), an = 0, sn = null, O2;
  } finally {
    Bs = g2, on = _2;
  }
}
async function tick() {
  await Promise.resolve(), flush_sync();
}
function get(d2) {
  var _a3;
  var g2 = d2.f, _2 = !!(g2 & Ee);
  if (_2 && g2 & Ue) {
    var O2 = execute_derived(d2);
    return destroy_derived(d2), O2;
  }
  if (null !== ln) {
    null !== _n && _n.includes(d2) && function state_unsafe_local_read() {
      throw new Error("https://svelte.dev/e/state_unsafe_local_read");
    }();
    var $2 = ln.deps;
    null === mn && null !== $2 && $2[vn] === d2 ? vn++ : null === mn ? mn = [d2] : mn.push(d2), null !== In && null !== pn && pn.f & $e && !(pn.f & Ve) && In.includes(d2) && (set_signal_status(pn, Fe), schedule_effect(pn));
  } else if (_2 && null === d2.deps) for (var st2 = d2, ot2 = st2.parent, lt2 = st2; null !== ot2; ) {
    if (!(ot2.f & Ee)) {
      var ct2 = ot2;
      ((_a3 = ct2.deriveds) == null ? void 0 : _a3.includes(lt2)) || (ct2.deriveds ?? (ct2.deriveds = [])).push(lt2);
      break;
    }
    lt2 = ot2, ot2 = ot2.parent;
  }
  return _2 && check_dirtiness(st2 = d2) && update_derived(st2), d2.v;
}
function untrack(d2) {
  const g2 = ln;
  try {
    return ln = null, d2();
  } finally {
    ln = g2;
  }
}
const Bn = ~(Fe | ze | $e);
function set_signal_status(d2, g2) {
  d2.f = d2.f & Bn | g2;
}
function update(d2, g2 = 1) {
  var _2 = get(d2), O2 = 1 === g2 ? _2++ : _2--;
  return set$1(d2, _2), O2;
}
function push(g2, _2 = false, O2) {
  On = { p: On, c: null, e: null, m: false, s: g2, x: null, l: null }, d && !_2 && (On.l = { s: null, u: null, r1: [], r2: source(false) });
}
function pop(d2) {
  const g2 = On;
  if (null !== g2) {
    void 0 !== d2 && (g2.x = d2);
    const ot2 = g2.e;
    if (null !== ot2) {
      var _2 = pn, O2 = ln;
      g2.e = null;
      try {
        for (var $2 = 0; $2 < ot2.length; $2++) {
          var st2 = ot2[$2];
          set_active_effect(st2.effect), set_active_reaction(st2.reaction), effect(st2.fn);
        }
      } finally {
        set_active_effect(_2), set_active_reaction(O2);
      }
    }
    On = g2.p, g2.m = true;
  }
  return d2 || {};
}
function deep_read_state(d2) {
  if ("object" == typeof d2 && d2 && !(d2 instanceof EventTarget)) {
    if (Ge in d2) deep_read(d2);
    else if (!Array.isArray(d2)) for (let g2 in d2) {
      const _2 = d2[g2];
      "object" == typeof _2 && _2 && Ge in _2 && deep_read(_2);
    }
  }
}
function deep_read(d2, g2 = /* @__PURE__ */ new Set()) {
  if (!("object" != typeof d2 || null === d2 || d2 instanceof EventTarget || g2.has(d2))) {
    g2.add(d2), d2 instanceof Date && d2.getTime();
    for (let _3 in d2) try {
      deep_read(d2[_3], g2);
    } catch (d3) {
    }
    const _2 = ve(d2);
    if (_2 !== Object.prototype && _2 !== Array.prototype && _2 !== Map.prototype && _2 !== Set.prototype && _2 !== Date.prototype) {
      const g3 = pe(_2);
      for (let _3 in g3) {
        const O2 = g3[_3].get;
        if (O2) try {
          O2.call(d2);
        } catch (d3) {
        }
      }
    }
  }
}
function autofocus(d2, g2) {
  if (g2) {
    const g3 = document.body;
    d2.autofocus = true, queue_micro_task(() => {
      document.activeElement === g3 && d2.focus();
    });
  }
}
let Hn = false;
function add_form_reset_listener() {
  Hn || (Hn = true, document.addEventListener("reset", (d2) => {
    Promise.resolve().then(() => {
      var _a3;
      if (!d2.defaultPrevented) for (const g2 of d2.target.elements) (_a3 = g2.__on_r) == null ? void 0 : _a3.call(g2);
    });
  }, { capture: true }));
}
function without_reactive_context(d2) {
  var g2 = ln, _2 = pn;
  set_active_reaction(null), set_active_effect(null);
  try {
    return d2();
  } finally {
    set_active_reaction(g2), set_active_effect(_2);
  }
}
function listen_to_event_and_reset_event(d2, g2, _2, O2 = _2) {
  d2.addEventListener(g2, () => without_reactive_context(_2));
  const $2 = d2.__on_r;
  d2.__on_r = $2 ? () => {
    $2(), O2(true);
  } : () => O2(true), add_form_reset_listener();
}
const Yn = /* @__PURE__ */ new Set(), Xn = /* @__PURE__ */ new Set();
function create_event(d2, g2, _2, O2) {
  function target_handler(d3) {
    if (O2.capture || handle_event_propagation.call(g2, d3), !d3.cancelBubble) return without_reactive_context(() => _2.call(this, d3));
  }
  return d2.startsWith("pointer") || d2.startsWith("touch") || "wheel" === d2 ? queue_micro_task(() => {
    g2.addEventListener(d2, target_handler, O2);
  }) : g2.addEventListener(d2, target_handler, O2), target_handler;
}
function event(d2, g2, _2, O2, $2) {
  var st2 = { capture: O2, passive: $2 }, ot2 = create_event(d2, g2, _2, st2);
  g2 !== document.body && g2 !== window && g2 !== document || teardown(() => {
    g2.removeEventListener(d2, ot2, st2);
  });
}
function delegate(d2) {
  for (var g2 = 0; g2 < d2.length; g2++) Yn.add(d2[g2]);
  for (var _2 of Xn) _2(d2);
}
function handle_event_propagation(d2) {
  var _a3;
  var g2 = this, _2 = g2.ownerDocument, O2 = d2.type, $2 = ((_a3 = d2.composedPath) == null ? void 0 : _a3.call(d2)) || [], st2 = $2[0] || d2.target, ot2 = 0, lt2 = d2.__root;
  if (lt2) {
    var ct2 = $2.indexOf(lt2);
    if (-1 !== ct2 && (g2 === document || g2 === window)) return void (d2.__root = g2);
    var ut2 = $2.indexOf(g2);
    if (-1 === ut2) return;
    ct2 <= ut2 && (ot2 = ct2);
  }
  if ((st2 = $2[ot2] || d2.target) !== g2) {
    ue(d2, "currentTarget", { configurable: true, get: () => st2 || _2 });
    var gt2 = ln, mt2 = pn;
    set_active_reaction(null), set_active_effect(null);
    try {
      for (var bt2, yt2 = []; null !== st2; ) {
        var wt2 = st2.assignedSlot || st2.parentNode || st2.host || null;
        try {
          var Pt2 = st2["__" + O2];
          if (void 0 !== Pt2 && !st2.disabled) if (Bt(Pt2)) {
            var [At2, ...St2] = Pt2;
            At2.apply(st2, [d2, ...St2]);
          } else Pt2.call(st2, d2);
        } catch (d3) {
          bt2 ? yt2.push(d3) : bt2 = d3;
        }
        if (d2.cancelBubble || wt2 === g2 || null === wt2) break;
        st2 = wt2;
      }
      if (bt2) {
        for (let d3 of yt2) queueMicrotask(() => {
          throw d3;
        });
        throw bt2;
      }
    } finally {
      d2.__root = g2, delete d2.currentTarget, set_active_reaction(gt2), set_active_effect(mt2);
    }
  }
}
function create_fragment_from_html(d2) {
  var g2 = document.createElement("template");
  return g2.innerHTML = d2, g2.content;
}
function assign_nodes(d2, g2) {
  var _2 = pn;
  null === _2.nodes_start && (_2.nodes_start = d2, _2.nodes_end = g2);
}
function template(d2, g2) {
  var _2, O2 = !!(1 & g2), $2 = !!(2 & g2), st2 = !d2.startsWith("<!>");
  return () => {
    if (Je) return assign_nodes(Xe, null), Xe;
    void 0 === _2 && (_2 = create_fragment_from_html(st2 ? d2 : "<!>" + d2), O2 || (_2 = get_first_child(_2)));
    var g3 = $2 ? document.importNode(_2, true) : _2.cloneNode(true);
    O2 ? assign_nodes(get_first_child(g3), g3.lastChild) : assign_nodes(g3, g3);
    return g3;
  };
}
function ns_template(d2, g2, _2 = "svg") {
  var O2, $2 = `<${_2}>${!d2.startsWith("<!>") ? d2 : "<!>" + d2}</${_2}>`;
  return () => {
    if (Je) return assign_nodes(Xe, null), Xe;
    if (!O2) {
      var d3 = get_first_child(create_fragment_from_html($2));
      O2 = get_first_child(d3);
    }
    var g3 = O2.cloneNode(true);
    return assign_nodes(g3, g3), g3;
  };
}
function text(d2 = "") {
  if (!Je) {
    var g2 = create_text(d2 + "");
    return assign_nodes(g2, g2), g2;
  }
  var _2 = Xe;
  return 3 !== _2.nodeType && (_2.before(_2 = create_text()), set_hydrate_node(_2)), assign_nodes(_2, _2), _2;
}
function comment() {
  if (Je) return assign_nodes(Xe, null), Xe;
  var d2 = document.createDocumentFragment(), g2 = document.createComment(""), _2 = create_text();
  return d2.append(g2, _2), assign_nodes(g2, _2), d2;
}
function append(d2, g2) {
  if (Je) return pn.nodes_end = Xe, void hydrate_next();
  null !== d2 && d2.before(g2);
}
let tr = true;
function set_should_intro(d2) {
  tr = d2;
}
function set_text(d2, g2) {
  var _2 = null == g2 ? "" : "object" == typeof g2 ? g2 + "" : g2;
  _2 !== (d2.__t ?? (d2.__t = d2.nodeValue)) && (d2.__t = _2, d2.nodeValue = null == _2 ? "" : _2 + "");
}
function mount(d2, g2) {
  return _mount(d2, g2);
}
function hydrate(d2, g2) {
  init_operations(), g2.intro = g2.intro ?? false;
  const _2 = g2.target, O2 = Je, $2 = Xe;
  try {
    for (var st2 = get_first_child(_2); st2 && (8 !== st2.nodeType || st2.data !== bt); ) st2 = get_next_sibling(st2);
    if (!st2) throw Pt;
    set_hydrating(true), set_hydrate_node(st2), hydrate_next();
    const O3 = _mount(d2, { ...g2, anchor: st2 });
    if (null === Xe || 8 !== Xe.nodeType || Xe.data !== wt) throw hydration_mismatch(), Pt;
    return set_hydrating(false), O3;
  } catch (O3) {
    if (O3 === Pt) return false === g2.recover && function hydration_failed() {
      throw new Error("https://svelte.dev/e/hydration_failed");
    }(), init_operations(), clear_text_content(_2), set_hydrating(false), mount(d2, g2);
    throw O3;
  } finally {
    set_hydrating(O2), set_hydrate_node($2);
  }
}
const er = /* @__PURE__ */ new Map();
function _mount(d2, { target: g2, anchor: _2, props: O2 = {}, events: $2, context: st2, intro: ot2 = true }) {
  init_operations();
  var lt2 = /* @__PURE__ */ new Set(), event_handle = (d3) => {
    for (var _3 = 0; _3 < d3.length; _3++) {
      var O3 = d3[_3];
      if (!lt2.has(O3)) {
        lt2.add(O3);
        var $3 = is_passive_event(O3);
        g2.addEventListener(O3, handle_event_propagation, { passive: $3 });
        var st3 = er.get(O3);
        void 0 === st3 ? (document.addEventListener(O3, handle_event_propagation, { passive: $3 }), er.set(O3, 1)) : er.set(O3, st3 + 1);
      }
    }
  };
  event_handle(Zt(Yn)), Xn.add(event_handle);
  var ct2 = void 0, ut2 = function component_root(d3) {
    const g3 = create_effect(De, d3, true);
    return (d4 = {}) => new Promise((_3) => {
      d4.outro ? pause_effect(g3, () => {
        destroy_effect(g3), _3(void 0);
      }) : (destroy_effect(g3), _3(void 0));
    });
  }(() => {
    var ut3 = _2 ?? g2.appendChild(create_text());
    return branch(() => {
      st2 && (push({}), On.c = st2);
      $2 && (O2.$$events = $2), Je && assign_nodes(ut3, null), tr = ot2, ct2 = d2(ut3, O2) || {}, tr = true, Je && (pn.nodes_end = Xe), st2 && pop();
    }), () => {
      var _a3;
      for (var d3 of lt2) {
        g2.removeEventListener(d3, handle_event_propagation);
        var O3 = er.get(d3);
        0 == --O3 ? (document.removeEventListener(d3, handle_event_propagation), er.delete(d3)) : er.set(d3, O3);
      }
      Xn.delete(event_handle), ut3 !== _2 && ((_a3 = ut3.parentNode) == null ? void 0 : _a3.removeChild(ut3));
    };
  });
  return ir.set(ct2, ut2), ct2;
}
let ir = /* @__PURE__ */ new WeakMap();
function if_block(d2, g2, _2 = false) {
  Je && hydrate_next();
  var O2 = d2, $2 = null, st2 = null, ot2 = At, lt2 = false;
  const set_branch = (d3, g3 = true) => {
    lt2 = true, update_branch(g3, d3);
  }, update_branch = (d3, g3) => {
    if (ot2 === (ot2 = d3)) return;
    let _3 = false;
    if (Je) {
      const d4 = O2.data === yt;
      !!ot2 === d4 && (set_hydrate_node(O2 = remove_nodes()), set_hydrating(false), _3 = true);
    }
    ot2 ? ($2 ? resume_effect($2) : g3 && ($2 = branch(() => g3(O2))), st2 && pause_effect(st2, () => {
      st2 = null;
    })) : (st2 ? resume_effect(st2) : g3 && (st2 = branch(() => g3(O2))), $2 && pause_effect($2, () => {
      $2 = null;
    })), _3 && set_hydrating(true);
  };
  block(() => {
    lt2 = false, g2(set_branch), lt2 || update_branch(null, null);
  }, _2 ? je : 0), Je && (O2 = Xe);
}
function key_block(d2, g2, _2) {
  Je && hydrate_next();
  var O2, $2 = d2, st2 = At, ot2 = is_runes() ? not_equal : safe_not_equal;
  block(() => {
    ot2(st2, st2 = g2()) && (O2 && pause_effect(O2), O2 = branch(() => _2($2)));
  }), Je && ($2 = Xe);
}
function index$1(d2, g2) {
  return g2;
}
function each$1(d2, st2, ot2, lt2, ct2, ut2 = null) {
  var gt2 = d2, mt2 = { flags: st2, items: /* @__PURE__ */ new Map(), first: null };
  if (!!(st2 & O)) {
    var bt2 = d2;
    gt2 = Je ? set_hydrate_node(get_first_child(bt2)) : bt2.appendChild(create_text());
  }
  Je && hydrate_next();
  var Pt2 = null, At2 = false;
  block(() => {
    var d3 = ot2(), bt3 = Bt(d3) ? d3 : null == d3 ? [] : Zt(d3), St2 = bt3.length;
    if (At2 && 0 === St2) return;
    At2 = 0 === St2;
    let Mt2 = false;
    Je && (gt2.data === yt !== (0 === St2) && (set_hydrate_node(gt2 = remove_nodes()), set_hydrating(false), Mt2 = true));
    if (Je) {
      for (var Vt2, Ot2 = null, zt2 = 0; zt2 < St2; zt2++) {
        if (8 === Xe.nodeType && Xe.data === wt) {
          gt2 = Xe, Mt2 = true, set_hydrating(false);
          break;
        }
        var ce2 = bt3[zt2], ue2 = lt2(ce2, zt2);
        Vt2 = create_item(Xe, mt2, Ot2, null, ce2, ue2, zt2, ct2, st2), mt2.items.set(ue2, Vt2), Ot2 = Vt2;
      }
      St2 > 0 && set_hydrate_node(remove_nodes());
    }
    Je || function reconcile(d4, st3, ot3, lt3, ct3, ut3, gt3, mt3) {
      var _a3, _b3, _c3, _d3;
      var bt4, yt2, wt2, Pt3, At3, St3, Mt3 = !!(ct3 & $), Vt3 = !!(ct3 & (g | _)), Ot3 = d4.length, zt3 = st3.items, Bt2 = st3.first, ce3 = Bt2, ue3 = null, de2 = [], pe2 = [];
      if (Mt3) for (St3 = 0; St3 < Ot3; St3 += 1) Pt3 = gt3(wt2 = d4[St3], St3), void 0 !== (At3 = zt3.get(Pt3)) && ((_a3 = At3.a) == null ? void 0 : _a3.measure(), (yt2 ?? (yt2 = /* @__PURE__ */ new Set())).add(At3));
      for (St3 = 0; St3 < Ot3; St3 += 1) if (Pt3 = gt3(wt2 = d4[St3], St3), void 0 !== (At3 = zt3.get(Pt3))) {
        if (Vt3 && update_item(At3, wt2, St3, ct3), At3.e.f & Be && (resume_effect(At3.e), Mt3 && ((_b3 = At3.a) == null ? void 0 : _b3.unfix(), (yt2 ?? (yt2 = /* @__PURE__ */ new Set())).delete(At3))), At3 !== ce3) {
          if (void 0 !== bt4 && bt4.has(At3)) {
            if (de2.length < pe2.length) {
              var fe2, ge2 = pe2[0];
              ue3 = ge2.prev;
              var ve2 = de2[0], Ee2 = de2[de2.length - 1];
              for (fe2 = 0; fe2 < de2.length; fe2 += 1) move(de2[fe2], ge2, ot3);
              for (fe2 = 0; fe2 < pe2.length; fe2 += 1) bt4.delete(pe2[fe2]);
              link(st3, ve2.prev, Ee2.next), link(st3, ue3, ve2), link(st3, Ee2, ge2), ce3 = ge2, ue3 = Ee2, St3 -= 1, de2 = [], pe2 = [];
            } else bt4.delete(At3), move(At3, ce3, ot3), link(st3, At3.prev, At3.next), link(st3, At3, null === ue3 ? st3.first : ue3.next), link(st3, ue3, At3), ue3 = At3;
            continue;
          }
          for (de2 = [], pe2 = []; null !== ce3 && ce3.k !== Pt3; ) !ut3 && ce3.e.f & Be || (bt4 ?? (bt4 = /* @__PURE__ */ new Set())).add(ce3), pe2.push(ce3), ce3 = ce3.next;
          if (null === ce3) continue;
          At3 = ce3;
        }
        de2.push(At3), ue3 = At3, ce3 = At3.next;
      } else {
        ue3 = create_item(ce3 ? ce3.e.nodes_start : ot3, st3, ue3, null === ue3 ? st3.first : ue3.next, wt2, Pt3, St3, lt3, ct3), zt3.set(Pt3, ue3), de2 = [], pe2 = [], ce3 = ue3.next;
      }
      if (null !== ce3 || void 0 !== bt4) {
        for (var Ie2 = void 0 === bt4 ? [] : Zt(bt4); null !== ce3; ) !ut3 && ce3.e.f & Be || Ie2.push(ce3), ce3 = ce3.next;
        var Ae2 = Ie2.length;
        if (Ae2 > 0) {
          var Re2 = ct3 & O && 0 === Ot3 ? ot3 : null;
          if (Mt3) {
            for (St3 = 0; St3 < Ae2; St3 += 1) (_c3 = Ie2[St3].a) == null ? void 0 : _c3.measure();
            for (St3 = 0; St3 < Ae2; St3 += 1) (_d3 = Ie2[St3].a) == null ? void 0 : _d3.fix();
          }
          !function pause_effects(d5, g2, _2, O2) {
            for (var $2 = [], st4 = g2.length, ot4 = 0; ot4 < st4; ot4++) pause_children(g2[ot4].e, $2, true);
            var lt4 = st4 > 0 && 0 === $2.length && null !== _2;
            if (lt4) {
              var ct4 = _2.parentNode;
              clear_text_content(ct4), ct4.append(_2), O2.clear(), link(d5, g2[0].prev, g2[st4 - 1].next);
            }
            run_out_transitions($2, () => {
              for (var _3 = 0; _3 < st4; _3++) {
                var $3 = g2[_3];
                lt4 || (O2.delete($3.k), link(d5, $3.prev, $3.next)), destroy_effect($3.e, !lt4);
              }
            });
          }(st3, Ie2, Re2, zt3);
        }
      }
      Mt3 && queue_micro_task(() => {
        var _a4;
        if (void 0 !== yt2) for (At3 of yt2) (_a4 = At3.a) == null ? void 0 : _a4.apply();
      });
      pn.first = st3.first && st3.first.e, pn.last = ue3 && ue3.e;
    }(bt3, mt2, gt2, ct2, st2, !!(ln.f & Be), lt2);
    null !== ut2 && (0 === St2 ? Pt2 ? resume_effect(Pt2) : Pt2 = branch(() => ut2(gt2)) : null !== Pt2 && pause_effect(Pt2, () => {
      Pt2 = null;
    })), Mt2 && set_hydrating(true), ot2();
  }), Je && (gt2 = Xe);
}
function update_item(d2, O2, $2, st2) {
  st2 & g && internal_set(d2.v, O2), st2 & _ ? internal_set(d2.i, $2) : d2.i = $2;
}
function create_item(d2, O2, $2, ot2, lt2, ct2, ut2, gt2, mt2, bt2) {
  var yt2 = !!(mt2 & g) ? !(mt2 & st) ? mutable_source(lt2) : source(lt2) : lt2, wt2 = mt2 & _ ? source(ut2) : ut2, Pt2 = { i: wt2, v: yt2, k: ct2, a: null, e: null, prev: $2, next: ot2 };
  try {
    return Pt2.e = branch(() => gt2(d2, yt2, wt2), Je), Pt2.e.prev = $2 && $2.e, Pt2.e.next = ot2 && ot2.e, null === $2 ? O2.first = Pt2 : ($2.next = Pt2, $2.e.next = Pt2.e), null !== ot2 && (ot2.prev = Pt2, ot2.e.prev = Pt2.e), Pt2;
  } finally {
  }
}
function move(d2, g2, _2) {
  for (var O2 = d2.next ? d2.next.e.nodes_start : _2, $2 = g2 ? g2.e.nodes_start : _2, st2 = d2.e.nodes_start; st2 !== O2; ) {
    var ot2 = get_next_sibling(st2);
    $2.before(st2), st2 = ot2;
  }
}
function link(d2, g2, _2) {
  null === g2 ? d2.first = _2 : (g2.next = _2, g2.e.next = _2 && _2.e), null !== _2 && (_2.prev = g2, _2.e.prev = g2 && g2.e);
}
function html(d2, g2, _2, O2, $2) {
  var st2, ot2 = d2, lt2 = "";
  block(() => {
    lt2 !== (lt2 = g2() ?? "") ? (void 0 !== st2 && (destroy_effect(st2), st2 = void 0), "" !== lt2 && (st2 = branch(() => {
      if (Je) {
        Xe.data;
        for (var d3 = hydrate_next(), g3 = d3; null !== d3 && (8 !== d3.nodeType || "" !== d3.data); ) g3 = d3, d3 = get_next_sibling(d3);
        if (null === d3) throw hydration_mismatch(), Pt;
        return assign_nodes(Xe, g3), void (ot2 = set_hydrate_node(d3));
      }
      var _3 = create_fragment_from_html(lt2 + "");
      assign_nodes(get_first_child(_3), _3.lastChild), ot2.before(_3);
    }))) : Je && hydrate_next();
  });
}
function slot(d2, g2, _2, O2, $2) {
  var _a3;
  Je && hydrate_next();
  var st2 = (_a3 = g2.$$slots) == null ? void 0 : _a3[_2], ot2 = false;
  true === st2 && (st2 = g2["default" === _2 ? "children" : _2], ot2 = true), void 0 === st2 ? null !== $2 && $2(d2) : st2(d2, ot2 ? () => O2 : O2);
}
function component(d2, g2, _2) {
  Je && hydrate_next();
  var O2, $2, st2 = d2;
  block(() => {
    O2 !== (O2 = g2()) && ($2 && (pause_effect($2), $2 = null), O2 && ($2 = branch(() => _2(st2, O2))));
  }, je), Je && (st2 = Xe);
}
function element(d2, g2, _2, O2, $2, st2) {
  let ot2 = Je;
  var lt2, ct2;
  Je && hydrate_next();
  var ut2 = null;
  Je && 1 === Xe.nodeType && (ut2 = Xe, hydrate_next());
  var gt2, mt2 = Je ? Xe : d2;
  block(() => {
    const d3 = g2() || null;
    var _3 = St;
    d3 !== lt2 && (gt2 && (null === d3 ? pause_effect(gt2, () => {
      gt2 = null, ct2 = null;
    }) : d3 === ct2 ? resume_effect(gt2) : (destroy_effect(gt2), set_should_intro(false))), d3 && d3 !== ct2 && (gt2 = branch(() => {
      if (assign_nodes(ut2 = Je ? ut2 : document.createElementNS(_3, d3), ut2), O2) {
        Je && function is_raw_text_element(d4) {
          return zt.includes(d4);
        }(d3) && ut2.append(document.createComment(""));
        var g3 = Je ? get_first_child(ut2) : ut2.appendChild(create_text());
        Je && (null === g3 ? set_hydrating(false) : set_hydrate_node(g3)), O2(ut2, g3);
      }
      pn.nodes_end = ut2, mt2.before(ut2);
    })), (lt2 = d3) && (ct2 = lt2), set_should_intro(true));
  }, je), ot2 && (set_hydrating(true), set_hydrate_node(mt2));
}
function append_styles(d2, g2) {
  queue_micro_task(() => {
    var _2 = d2.getRootNode(), O2 = _2.host ? _2 : _2.head ?? _2.ownerDocument.head;
    if (!O2.querySelector("#" + g2.hash)) {
      const d3 = document.createElement("style");
      d3.id = g2.hash, d3.textContent = g2.code, O2.appendChild(d3);
    }
  });
}
function r$1(d2) {
  var g2, _2, O2 = "";
  if ("string" == typeof d2 || "number" == typeof d2) O2 += d2;
  else if ("object" == typeof d2) if (Array.isArray(d2)) {
    var $2 = d2.length;
    for (g2 = 0; g2 < $2; g2++) d2[g2] && (_2 = r$1(d2[g2])) && (O2 && (O2 += " "), O2 += _2);
  } else for (_2 in d2) d2[_2] && (O2 && (O2 += " "), O2 += _2);
  return O2;
}
function clsx(d2) {
  return "object" == typeof d2 ? function clsx$1() {
    for (var d3, g2, _2 = 0, O2 = "", $2 = arguments.length; _2 < $2; _2++) (d3 = arguments[_2]) && (g2 = r$1(d3)) && (O2 && (O2 += " "), O2 += g2);
    return O2;
  }(d2) : d2 ?? "";
}
function remove_input_defaults(d2) {
  if (Je) {
    var g2 = false, remove_defaults = () => {
      if (!g2) {
        if (g2 = true, d2.hasAttribute("value")) {
          var _2 = d2.value;
          set_attribute(d2, "value", null), d2.value = _2;
        }
        if (d2.hasAttribute("checked")) {
          var O2 = d2.checked;
          set_attribute(d2, "checked", null), d2.checked = O2;
        }
      }
    };
    d2.__on_r = remove_defaults, function queue_idle_task(d3) {
      zi || (zi = true, Vi(process_idle_tasks)), As.push(d3);
    }(remove_defaults), add_form_reset_listener();
  }
}
function set_checked(d2, g2) {
  var _2 = d2.__attributes ?? (d2.__attributes = {});
  _2.checked !== (_2.checked = g2 ?? void 0) && (d2.checked = g2);
}
function set_selected(d2, g2) {
  g2 ? d2.hasAttribute("selected") || d2.setAttribute("selected", "") : d2.removeAttribute("selected");
}
function set_attribute(d2, g2, _2, O2) {
  var $2 = d2.__attributes ?? (d2.__attributes = {});
  Je && ($2[g2] = d2.getAttribute(g2), "src" === g2 || "srcset" === g2 || "href" === g2 && "LINK" === d2.nodeName) || $2[g2] !== ($2[g2] = _2) && ("style" === g2 && "__styles" in d2 && (d2.__styles = {}), "loading" === g2 && (d2[Qe] = _2), null == _2 ? d2.removeAttribute(g2) : "string" != typeof _2 && get_setters(d2).includes(g2) ? d2[g2] = _2 : d2.setAttribute(g2, _2));
}
function set_attributes(d2, g2, _2, O2, $2 = false, st2 = false, ot2 = false) {
  var lt2 = g2 || {}, ct2 = "OPTION" === d2.tagName;
  for (var ut2 in g2) ut2 in _2 || (_2[ut2] = null);
  _2.class && (_2.class = clsx(_2.class));
  var gt2 = get_setters(d2), mt2 = d2.__attributes ?? (d2.__attributes = {});
  for (const St2 in _2) {
    let Mt2 = _2[St2];
    if (ct2 && "value" === St2 && null == Mt2) d2.value = d2.__value = "", lt2[St2] = Mt2;
    else {
      var bt2 = lt2[St2];
      if (Mt2 !== bt2) {
        lt2[St2] = Mt2;
        var yt2 = St2[0] + St2[1];
        if ("$$" !== yt2) {
          if ("on" === yt2) {
            const Vt2 = {}, Ot2 = "$$" + St2;
            let zt2 = St2.slice(2);
            var wt2 = is_delegated(zt2);
            if (is_capture_event(zt2) && (zt2 = zt2.slice(0, -7), Vt2.capture = true), !wt2 && bt2) {
              if (null != Mt2) continue;
              d2.removeEventListener(zt2, lt2[Ot2], Vt2), lt2[Ot2] = null;
            }
            if (null != Mt2) if (wt2) d2[`__${zt2}`] = Mt2, delegate([zt2]);
            else {
              let handle = function(d3) {
                lt2[St2].call(this, d3);
              };
              lt2[Ot2] = create_event(zt2, d2, handle, Vt2);
            }
            else wt2 && (d2[`__${zt2}`] = void 0);
          } else if ("style" === St2 && null != Mt2) d2.style.cssText = Mt2 + "";
          else if ("autofocus" === St2) autofocus(d2, Boolean(Mt2));
          else if ("__value" === St2 || "value" === St2 && null != Mt2) d2.value = d2[St2] = d2.__value = Mt2;
          else if ("selected" === St2 && ct2) set_selected(d2, Mt2);
          else {
            var Pt2 = St2;
            $2 || (Pt2 = normalize_attribute(Pt2));
            var At2 = "defaultValue" === Pt2 || "defaultChecked" === Pt2;
            if (null != Mt2 || st2 || At2) At2 || gt2.includes(Pt2) && (st2 || "string" != typeof Mt2) ? d2[Pt2] = Mt2 : "function" != typeof Mt2 && (!Je || "src" !== Pt2 && "href" !== Pt2 && "srcset" !== Pt2) && set_attribute(d2, Pt2, Mt2);
            else if (mt2[St2] = null, "value" === Pt2 || "checked" === Pt2) {
              let Bt2 = d2;
              if ("value" === Pt2) {
                let Zt2 = Bt2.defaultValue;
                Bt2.removeAttribute(Pt2), Bt2.defaultValue = Zt2;
              } else {
                let ce2 = Bt2.defaultChecked;
                Bt2.removeAttribute(Pt2), Bt2.defaultChecked = ce2;
              }
            } else d2.removeAttribute(St2);
          }
          "style" === St2 && "__styles" in d2 && (d2.__styles = {});
        }
      }
    }
  }
  return lt2;
}
var sr = /* @__PURE__ */ new Map();
function get_setters(d2) {
  var g2, _2 = sr.get(d2.nodeName);
  if (_2) return _2;
  sr.set(d2.nodeName, _2 = []);
  for (var O2 = d2, $2 = Element.prototype; $2 !== O2; ) {
    for (var st2 in g2 = pe(O2)) g2[st2].set && _2.push(st2);
    O2 = ve(O2);
  }
  return _2;
}
function set_class(d2, g2, _2) {
  var O2 = d2.__className, $2 = to_class(g2, _2);
  Je && d2.className === $2 ? d2.__className = $2 : (O2 !== $2 || Je && d2.className !== $2) && (null != g2 || _2 ? d2.className = $2 : d2.removeAttribute("class"), d2.__className = $2);
}
function to_class(d2, g2) {
  return (null == d2 ? "" : d2) + (g2 ? " " + g2 : "");
}
function toggle_class(d2, g2, _2) {
  if (_2) {
    if (d2.classList.contains(g2)) return;
    d2.classList.add(g2);
  } else {
    if (!d2.classList.contains(g2)) return;
    d2.classList.remove(g2);
  }
}
const nr = { tick: (d2) => requestAnimationFrame(d2), now: () => performance.now(), tasks: /* @__PURE__ */ new Set() };
function run_tasks() {
  const d2 = nr.now();
  nr.tasks.forEach((g2) => {
    g2.c(d2) || (nr.tasks.delete(g2), g2.f());
  }), 0 !== nr.tasks.size && nr.tick(run_tasks);
}
function dispatch_event(d2, g2) {
  d2.dispatchEvent(new CustomEvent(g2));
}
function css_property_to_camelcase(d2) {
  if ("float" === d2) return "cssFloat";
  if ("offset" === d2) return "cssOffset";
  if (d2.startsWith("--")) return d2;
  const g2 = d2.split("-");
  return 1 === g2.length ? g2[0] : g2[0] + g2.slice(1).map((d3) => d3[0].toUpperCase() + d3.slice(1)).join("");
}
function css_to_keyframe(d2) {
  const g2 = {}, _2 = d2.split(";");
  for (const d3 of _2) {
    const [_3, O2] = d3.split(":");
    if (!_3 || void 0 === O2) break;
    g2[css_property_to_camelcase(_3.trim())] = O2.trim();
  }
  return g2;
}
const linear$1 = (d2) => d2;
function transition(d2, g2, _2, O2) {
  var $2, st2, ot2 = !!(d2 & mt), lt2 = g2.inert;
  var ct2 = { is_global: ot2, in() {
    g2.inert = lt2, st2 == null ? void 0 : st2.abort(), dispatch_event(g2, "introstart"), st2 = animate(g2, function get_options() {
      var d3 = ln, st3 = pn;
      set_active_reaction(null), set_active_effect(null);
      try {
        return $2 ?? ($2 = _2()(g2, (O2 == null ? void 0 : O2()) ?? {}, { direction: "in" }));
      } finally {
        set_active_reaction(d3), set_active_effect(st3);
      }
    }(), void 0, 1, () => {
      dispatch_event(g2, "introend"), st2 == null ? void 0 : st2.abort(), st2 = $2 = void 0;
    });
  }, out: (d3) => (d3 == null ? void 0 : d3(), void ($2 = void 0)), stop: () => {
    st2 == null ? void 0 : st2.abort();
  } }, ut2 = pn;
  if ((ut2.transitions ?? (ut2.transitions = [])).push(ct2), tr) {
    var gt2 = ot2;
    if (!gt2) {
      for (var bt2 = ut2.parent; bt2 && bt2.f & je; ) for (; (bt2 = bt2.parent) && !(bt2.f & Re); ) ;
      gt2 = !bt2 || !!(bt2.f & We);
    }
    gt2 && effect(() => {
      untrack(() => ct2.in());
    });
  }
}
function animate(d2, g2, _2, O2, $2) {
  if (is_function(g2)) {
    var st2, ot2 = false;
    return queue_micro_task(() => {
      if (!ot2) {
        var lt3 = g2({ direction: "in" });
        st2 = animate(d2, lt3, _2, O2, $2);
      }
    }), { abort: () => {
      ot2 = true, st2 == null ? void 0 : st2.abort();
    }, deactivate: () => st2.deactivate(), reset: () => st2.reset(), t: () => st2.t() };
  }
  if (!(g2 == null ? void 0 : g2.duration)) return $2(), { abort: noop$2, deactivate: noop$2, reset: noop$2, t: () => O2 };
  const { delay: lt2 = 0, css: ct2, tick: ut2, easing: gt2 = linear$1 } = g2;
  var mt2 = [];
  if (ut2 && ut2(0, 1), ct2) {
    var bt2 = css_to_keyframe(ct2(0, 1));
    mt2.push(bt2, bt2);
  }
  var get_t = () => 1 - O2, yt2 = d2.animate(mt2, { duration: lt2 });
  return yt2.onfinish = () => {
    var _3 = 1 - O2, st3 = O2 - _3, ot3 = g2.duration * Math.abs(st3), lt3 = [];
    if (ot3 > 0) {
      if (ct2) for (var mt3 = Math.ceil(ot3 / (1e3 / 60)), bt3 = 0; bt3 <= mt3; bt3 += 1) {
        var wt2 = _3 + st3 * gt2(bt3 / mt3), Pt2 = ct2(wt2, 1 - wt2);
        lt3.push(css_to_keyframe(Pt2));
      }
      get_t = () => {
        var d3 = yt2.currentTime;
        return _3 + st3 * gt2(d3 / ot3);
      }, ut2 && function loop(d3) {
        let g3;
        return 0 === nr.tasks.size && nr.tick(run_tasks), { promise: new Promise((_4) => {
          nr.tasks.add(g3 = { c: d3, f: _4 });
        }), abort() {
          nr.tasks.delete(g3);
        } };
      }(() => {
        if ("running" !== yt2.playState) return false;
        var d3 = get_t();
        return ut2(d3, 1 - d3), true;
      });
    }
    (yt2 = d2.animate(lt3, { duration: ot3, fill: "forwards" })).onfinish = () => {
      get_t = () => O2, ut2 == null ? void 0 : ut2(O2, 1 - O2), $2();
    };
  }, { abort: () => {
    yt2 && (yt2.cancel(), yt2.effect = null, yt2.onfinish = noop$2);
  }, deactivate: () => {
    $2 = noop$2;
  }, reset: () => {
  }, t: () => get_t() };
}
function bind_value(d2, g2, _2 = g2) {
  var O2 = is_runes();
  listen_to_event_and_reset_event(d2, "input", ($2) => {
    var st2 = $2 ? d2.defaultValue : d2.value;
    if (st2 = is_numberlike_input(d2) ? to_number(st2) : st2, _2(st2), O2 && st2 !== (st2 = g2())) {
      var ot2 = d2.selectionStart, lt2 = d2.selectionEnd;
      d2.value = st2 ?? "", null !== lt2 && (d2.selectionStart = ot2, d2.selectionEnd = Math.min(lt2, d2.value.length));
    }
  }), (Je && d2.defaultValue !== d2.value || null == untrack(g2) && d2.value) && _2(is_numberlike_input(d2) ? to_number(d2.value) : d2.value), render_effect(() => {
    var _3 = g2();
    is_numberlike_input(d2) && _3 === to_number(d2.value) || ("date" !== d2.type || _3 || d2.value) && _3 !== d2.value && (d2.value = _3 ?? "");
  });
}
function bind_checked(d2, g2, _2 = g2) {
  listen_to_event_and_reset_event(d2, "change", (g3) => {
    var O2 = g3 ? d2.defaultChecked : d2.checked;
    _2(O2);
  }), (Je && d2.defaultChecked !== d2.checked || null == untrack(g2)) && _2(d2.checked), render_effect(() => {
    var _3 = g2();
    d2.checked = Boolean(_3);
  });
}
function is_numberlike_input(d2) {
  var g2 = d2.type;
  return "number" === g2 || "range" === g2;
}
function to_number(d2) {
  return "" === d2 ? null : +d2;
}
function is_bound_this(d2, g2) {
  return d2 === g2 || (d2 == null ? void 0 : d2[Ge]) === g2;
}
function bind_this(d2 = {}, g2, _2, O2) {
  return effect(() => {
    var O3, $2;
    return render_effect(() => {
      O3 = $2, $2 = [], untrack(() => {
        d2 !== _2(...$2) && (g2(d2, ...$2), O3 && is_bound_this(_2(...O3), d2) && g2(null, ...O3));
      });
    }), () => {
      queue_micro_task(() => {
        $2 && is_bound_this(_2(...$2), d2) && g2(null, ...$2);
      });
    };
  }), d2;
}
function init(d2 = false) {
  const g2 = On, _2 = g2.l.u;
  if (!_2) return;
  let props = () => deep_read_state(g2.s);
  if (d2) {
    let d3 = 0, _3 = {};
    const O2 = derived(() => {
      let O3 = false;
      const $2 = g2.s;
      for (const d4 in $2) $2[d4] !== _3[d4] && (_3[d4] = $2[d4], O3 = true);
      return O3 && d3++, d3;
    });
    props = () => get(O2);
  }
  _2.b.length && function user_pre_effect(d3) {
    return validate_effect(), render_effect(d3);
  }(() => {
    observe_all(g2, props), run_all(_2.b);
  }), user_effect(() => {
    const d3 = untrack(() => _2.m.map(run));
    return () => {
      for (const g3 of d3) "function" == typeof g3 && g3();
    };
  }), _2.a.length && user_effect(() => {
    observe_all(g2, props), run_all(_2.a);
  });
}
function observe_all(d2, g2) {
  if (d2.l.s) for (const g3 of d2.l.s) get(g3);
  g2();
}
function onMount(g2) {
  null === On && lifecycle_outside_component(), d && null !== On.l ? function init_update_callbacks(d2) {
    var g3 = d2.l;
    return g3.u ?? (g3.u = { a: [], b: [], m: [] });
  }(On).m.push(g2) : user_effect(() => {
    const d2 = untrack(g2);
    if ("function" == typeof d2) return d2;
  });
}
function onDestroy(d2) {
  null === On && lifecycle_outside_component(), onMount(() => () => untrack(d2));
}
function createEventDispatcher() {
  const d2 = On;
  return null === d2 && lifecycle_outside_component(), (g2, _2, O2) => {
    var _a3;
    const $2 = (_a3 = d2.s.$$events) == null ? void 0 : _a3[g2];
    if ($2) {
      const st2 = Bt($2) ? $2.slice() : [$2], ot2 = function create_custom_event(d3, g3, { bubbles: _3 = false, cancelable: O3 = false } = {}) {
        return new CustomEvent(d3, { detail: g3, bubbles: _3, cancelable: O3 });
      }(g2, _2, O2);
      for (const g3 of st2) g3.call(d2.x, ot2);
      return !ot2.defaultPrevented;
    }
    return true;
  };
}
let rr = false;
function store_get(d2, g2, _2) {
  const O2 = _2[g2] ?? (_2[g2] = { store: null, source: mutable_source(void 0), unsubscribe: noop$2 });
  if (O2.store !== d2) if (O2.unsubscribe(), O2.store = d2 ?? null, null == d2) O2.source.v = void 0, O2.unsubscribe = noop$2;
  else {
    var $2 = true;
    O2.unsubscribe = function subscribe_to_store(d3, g3, _3) {
      if (null == d3) return g3(void 0), noop$2;
      const O3 = untrack(() => d3.subscribe(g3, _3));
      return O3.unsubscribe ? () => O3.unsubscribe() : O3;
    }(d2, (d3) => {
      $2 ? O2.source.v = d3 : set$1(O2.source, d3);
    }), $2 = false;
  }
  return get(O2.source);
}
function setup_stores() {
  const d2 = {};
  return teardown(() => {
    for (var g2 in d2) {
      d2[g2].unsubscribe();
    }
  }), d2;
}
const or = { get(d2, g2) {
  if (!d2.exclude.includes(g2)) return get(d2.version), g2 in d2.special ? d2.special[g2]() : d2.props[g2];
}, set: (d2, g2, _2) => (g2 in d2.special || (d2.special[g2] = prop({ get [g2]() {
  return d2.props[g2];
} }, g2, ct)), d2.special[g2](_2), update(d2.version), true), getOwnPropertyDescriptor(d2, g2) {
  if (!d2.exclude.includes(g2)) return g2 in d2.props ? { enumerable: true, configurable: true, value: d2.props[g2] } : void 0;
}, deleteProperty: (d2, g2) => (d2.exclude.includes(g2) || (d2.exclude.push(g2), update(d2.version)), true), has: (d2, g2) => !d2.exclude.includes(g2) && g2 in d2.props, ownKeys: (d2) => Reflect.ownKeys(d2.props).filter((g2) => !d2.exclude.includes(g2)) };
function legacy_rest_props(d2, g2) {
  return new Proxy({ props: d2, exclude: g2, special: {}, version: source(0) }, or);
}
const ar = { get(d2, g2) {
  let _2 = d2.props.length;
  for (; _2--; ) {
    let O2 = d2.props[_2];
    if (is_function(O2) && (O2 = O2()), "object" == typeof O2 && null !== O2 && g2 in O2) return O2[g2];
  }
}, set(d2, g2, _2) {
  let O2 = d2.props.length;
  for (; O2--; ) {
    let $2 = d2.props[O2];
    is_function($2) && ($2 = $2());
    const st2 = de($2, g2);
    if (st2 && st2.set) return st2.set(_2), true;
  }
  return false;
}, getOwnPropertyDescriptor(d2, g2) {
  let _2 = d2.props.length;
  for (; _2--; ) {
    let O2 = d2.props[_2];
    if (is_function(O2) && (O2 = O2()), "object" == typeof O2 && null !== O2 && g2 in O2) {
      const d3 = de(O2, g2);
      return d3 && !d3.configurable && (d3.configurable = true), d3;
    }
  }
}, has(d2, g2) {
  if (g2 === Ge || g2 === Ye) return false;
  for (let _2 of d2.props) if (is_function(_2) && (_2 = _2()), null != _2 && g2 in _2) return true;
  return false;
}, ownKeys(d2) {
  const g2 = [];
  for (let _2 of d2.props) {
    is_function(_2) && (_2 = _2());
    for (const d3 in _2) g2.includes(d3) || g2.push(d3);
  }
  return g2;
} };
function spread_props(...d2) {
  return new Proxy({ props: d2 }, ar);
}
function with_parent_branch(d2) {
  for (var g2 = pn, _2 = pn; null !== g2 && !(g2.f & (Ve | De)); ) g2 = g2.parent;
  try {
    return set_active_effect(g2), d2();
  } finally {
    set_active_effect(_2);
  }
}
function prop(g2, _2, O2, $2) {
  var _a3;
  var st2, mt2 = !!(O2 & ot), bt2 = !d || !!(O2 & lt), yt2 = !!(O2 & ut), wt2 = !!(O2 & gt), Pt2 = false;
  yt2 ? [st2, Pt2] = function capture_store_binding(d2) {
    var g3 = rr;
    try {
      return rr = false, [d2(), rr];
    } finally {
      rr = g3;
    }
  }(() => g2[_2]) : st2 = g2[_2];
  var At2, St2 = Ge in g2 || Ye in g2, Mt2 = ((_a3 = de(g2, _2)) == null ? void 0 : _a3.set) ?? (St2 && yt2 && _2 in g2 ? (d2) => g2[_2] = d2 : void 0), Vt2 = $2, Ot2 = true, zt2 = false, get_fallback = () => (zt2 = true, Ot2 && (Ot2 = false, Vt2 = wt2 ? untrack($2) : $2), Vt2);
  if (void 0 === st2 && void 0 !== $2 && (Mt2 && bt2 && function props_invalid_value(d2) {
    throw new Error("https://svelte.dev/e/props_invalid_value");
  }(), st2 = get_fallback(), Mt2 && Mt2(st2)), bt2) At2 = () => {
    var d2 = g2[_2];
    return void 0 === d2 ? get_fallback() : (Ot2 = true, zt2 = false, d2);
  };
  else {
    var Bt2 = with_parent_branch(() => (mt2 ? derived : derived_safe_equal)(() => g2[_2]));
    Bt2.f |= qe, At2 = () => {
      var d2 = get(Bt2);
      return void 0 !== d2 && (Vt2 = void 0), void 0 === d2 ? Vt2 : d2;
    };
  }
  if (!(O2 & ct)) return At2;
  if (Mt2) {
    var Zt2 = g2.$$legacy;
    return function(d2, g3) {
      return arguments.length > 0 ? (bt2 && g3 && !Zt2 && !Pt2 || Mt2(g3 ? At2() : d2), d2) : At2();
    };
  }
  var ce2 = false, ue2 = mutable_source(st2), pe2 = with_parent_branch(() => derived(() => {
    var d2 = At2(), g3 = get(ue2);
    return ce2 ? (ce2 = false, g3) : ue2.v = d2;
  }));
  return mt2 || (pe2.equals = safe_equals), function(d2, g3) {
    if (arguments.length > 0) {
      const _3 = g3 ? get(pe2) : bt2 && yt2 ? proxy(d2) : d2;
      return pe2.equals(_3) || (ce2 = true, set$1(ue2, _3), zt2 && void 0 !== Vt2 && (Vt2 = _3), untrack(() => get(pe2))), d2;
    }
    return get(pe2);
  };
}
class Svelte4Component {
  constructor(d2) {
    __privateAdd(this, _t2);
    __privateAdd(this, _e3);
    var _a3;
    var g2 = /* @__PURE__ */ new Map(), add_source = (d3, _3) => {
      var O2 = mutable_source(_3);
      return g2.set(d3, O2), O2;
    };
    const _2 = new Proxy({ ...d2.props || {}, $$events: {} }, { get: (d3, _3) => get(g2.get(_3) ?? add_source(_3, Reflect.get(d3, _3))), has: (d3, _3) => _3 === Ye || (get(g2.get(_3) ?? add_source(_3, Reflect.get(d3, _3))), Reflect.has(d3, _3)), set: (d3, _3, O2) => (set$1(g2.get(_3) ?? add_source(_3, O2), O2), Reflect.set(d3, _3, O2)) });
    __privateSet(this, _e3, (d2.hydrate ? hydrate : mount)(d2.component, { target: d2.target, anchor: d2.anchor, props: _2, context: d2.context, intro: d2.intro ?? false, recover: d2.recover })), ((_a3 = d2 == null ? void 0 : d2.props) == null ? void 0 : _a3.$$host) && false !== d2.sync || flush_sync(), __privateSet(this, _t2, _2.$$events);
    for (const d3 of Object.keys(__privateGet(this, _e3))) "$set" !== d3 && "$destroy" !== d3 && "$on" !== d3 && ue(this, d3, { get() {
      return __privateGet(this, _e3)[d3];
    }, set(g3) {
      __privateGet(this, _e3)[d3] = g3;
    }, enumerable: true });
    __privateGet(this, _e3).$set = (d3) => {
      Object.assign(_2, d3);
    }, __privateGet(this, _e3).$destroy = () => {
      !function unmount(d3, g3) {
        const _3 = ir.get(d3);
        return _3 ? (ir.delete(d3), _3(g3)) : Promise.resolve();
      }(__privateGet(this, _e3));
    };
  }
  $set(d2) {
    __privateGet(this, _e3).$set(d2);
  }
  $on(d2, g2) {
    __privateGet(this, _t2)[d2] = __privateGet(this, _t2)[d2] || [];
    const cb = (...d3) => g2.call(this, ...d3);
    return __privateGet(this, _t2)[d2].push(cb), () => {
      __privateGet(this, _t2)[d2] = __privateGet(this, _t2)[d2].filter((d3) => d3 !== cb);
    };
  }
  $destroy() {
    __privateGet(this, _e3).$destroy();
  }
}
_t2 = new WeakMap();
_e3 = new WeakMap();
let lr;
function get_custom_element_value(d2, g2, _2, O2) {
  var _a3;
  const $2 = (_a3 = _2[d2]) == null ? void 0 : _a3.type;
  if (g2 = "Boolean" === $2 && "boolean" != typeof g2 ? null != g2 : g2, !O2 || !_2[d2]) return g2;
  if ("toAttribute" === O2) switch ($2) {
    case "Object":
    case "Array":
      return null == g2 ? null : JSON.stringify(g2);
    case "Boolean":
      return g2 ? "" : null;
    case "Number":
      return null == g2 ? null : g2;
    default:
      return g2;
  }
  else switch ($2) {
    case "Object":
    case "Array":
      return g2 && JSON.parse(g2);
    case "Boolean":
    default:
      return g2;
    case "Number":
      return null != g2 ? +g2 : g2;
  }
}
function create_custom_element(d2, g2, _2, O2, $2, st2) {
  let ot2 = class extends lr {
    constructor() {
      super(d2, _2, $2), this.$$p_d = g2;
    }
    static get observedAttributes() {
      return ce(g2).map((d3) => (g2[d3].attribute || d3).toLowerCase());
    }
  };
  return ce(g2).forEach((d3) => {
    ue(ot2.prototype, d3, { get() {
      return this.$$c && d3 in this.$$c ? this.$$c[d3] : this.$$d[d3];
    }, set(_3) {
      var _a3;
      _3 = get_custom_element_value(d3, _3, g2), this.$$d[d3] = _3;
      var O3 = this.$$c;
      if (O3) {
        var $3 = (_a3 = de(O3, d3)) == null ? void 0 : _a3.get;
        $3 ? O3[d3] = _3 : O3.$set({ [d3]: _3 });
      }
    } });
  }), O2.forEach((d3) => {
    ue(ot2.prototype, d3, { get() {
      var _a3;
      return (_a3 = this.$$c) == null ? void 0 : _a3[d3];
    } });
  }), d2.element = ot2, ot2;
}
"function" == typeof HTMLElement && (lr = class extends HTMLElement {
  constructor(d2, g2, _2) {
    super();
    __publicField(this, "$$ctor");
    __publicField(this, "$$s");
    __publicField(this, "$$c");
    __publicField(this, "$$cn", false);
    __publicField(this, "$$d", {});
    __publicField(this, "$$r", false);
    __publicField(this, "$$p_d", {});
    __publicField(this, "$$l", {});
    __publicField(this, "$$l_u", /* @__PURE__ */ new Map());
    __publicField(this, "$$me");
    this.$$ctor = d2, this.$$s = g2, _2 && this.attachShadow({ mode: "open" });
  }
  addEventListener(d2, g2, _2) {
    if (this.$$l[d2] = this.$$l[d2] || [], this.$$l[d2].push(g2), this.$$c) {
      const _3 = this.$$c.$on(d2, g2);
      this.$$l_u.set(g2, _3);
    }
    super.addEventListener(d2, g2, _2);
  }
  removeEventListener(d2, g2, _2) {
    if (super.removeEventListener(d2, g2, _2), this.$$c) {
      const d3 = this.$$l_u.get(g2);
      d3 && (d3(), this.$$l_u.delete(g2));
    }
  }
  async connectedCallback() {
    if (this.$$cn = true, !this.$$c) {
      let create_slot = function(d3) {
        return (g3) => {
          const _2 = document.createElement("slot");
          "default" !== d3 && (_2.name = d3), append(g3, _2);
        };
      };
      if (await Promise.resolve(), !this.$$cn || this.$$c) return;
      const d2 = {}, g2 = function get_custom_elements_slots(d3) {
        const g3 = {};
        return d3.childNodes.forEach((d4) => {
          g3[d4.slot || "default"] = true;
        }), g3;
      }(this);
      for (const _2 of this.$$s) _2 in g2 && ("default" !== _2 || this.$$d.children ? d2[_2] = create_slot(_2) : (this.$$d.children = create_slot(_2), d2.default = true));
      for (const O2 of this.attributes) {
        const $2 = this.$$g_p(O2.name);
        $2 in this.$$d || (this.$$d[$2] = get_custom_element_value($2, O2.value, this.$$p_d, "toProp"));
      }
      for (const st2 in this.$$p_d) st2 in this.$$d || void 0 === this[st2] || (this.$$d[st2] = this[st2], delete this[st2]);
      this.$$c = function createClassComponent(d3) {
        return new Svelte4Component(d3);
      }({ component: this.$$ctor, target: this.shadowRoot || this, props: { ...this.$$d, $$slots: d2, $$host: this } }), this.$$me = function effect_root(d3) {
        const g3 = create_effect(De, d3, true);
        return () => {
          destroy_effect(g3);
        };
      }(() => {
        render_effect(() => {
          var _a3;
          this.$$r = true;
          for (const d3 of ce(this.$$c)) {
            if (!((_a3 = this.$$p_d[d3]) == null ? void 0 : _a3.reflect)) continue;
            this.$$d[d3] = this.$$c[d3];
            const g3 = get_custom_element_value(d3, this.$$d[d3], this.$$p_d, "toAttribute");
            null == g3 ? this.removeAttribute(this.$$p_d[d3].attribute || d3) : this.setAttribute(this.$$p_d[d3].attribute || d3, g3);
          }
          this.$$r = false;
        });
      });
      for (const ot2 in this.$$l) for (const lt2 of this.$$l[ot2]) {
        const ct2 = this.$$c.$on(ot2, lt2);
        this.$$l_u.set(lt2, ct2);
      }
      this.$$l = {};
    }
  }
  attributeChangedCallback(d2, g2, _2) {
    var _a3;
    this.$$r || (d2 = this.$$g_p(d2), this.$$d[d2] = get_custom_element_value(d2, _2, this.$$p_d, "toProp"), (_a3 = this.$$c) == null ? void 0 : _a3.$set({ [d2]: this.$$d[d2] }));
  }
  disconnectedCallback() {
    this.$$cn = false, Promise.resolve().then(() => {
      !this.$$cn && this.$$c && (this.$$c.$destroy(), this.$$me(), this.$$c = void 0);
    });
  }
  $$g_p(d2) {
    return ce(this.$$p_d).find((g2) => this.$$p_d[g2].attribute === d2 || !this.$$p_d[g2].attribute && g2.toLowerCase() === d2) || d2;
  }
});
const cr = [{ backtest: ["startDate", "endDate", "version", "feeRatio", "taxRatio", "tradeAt", "market", "freq", "updateDate", "nextTradingDate", "livePerformanceStart", "stopLoss", "takeProfit"] }, { profitability: ["annualReturn", "alpha", "beta", "avgNStock", "maxNStock"] }, { risk: ["maxDrawdown", "avgDrawdown", "avgDrawdownDays", "valueAtRisk", "cvalueAtRisk"] }, { ratio: ["sharpeRatio", "sortinoRatio", "calmarRatio", "profitFactor", "tailRatio"] }, { winrate: ["winRate", "m12WinRate", "expectancy", "mae", "mfe"] }, { liquidity: ["capacity", "disposalStockRatio", "warningStockRatio", "fullDeliveryStockRatio", "buyHigh", "sellLow"] }];
function orderMetricsByKeys(d2) {
  const g2 = {}, _2 = cr;
  for (const O2 of _2) for (const _3 in O2) {
    g2[_3] = {};
    for (const $2 of O2[_3]) g2[_3][$2] = d2[_3][$2];
  }
  return g2;
}
const hr = { profitability: { annualReturn: (d2) => d2 > 0.15, alpha: (d2) => d2 > 0.1, beta: (d2) => d2 < 0.8 && d2 > 0, avgNStock: (d2) => d2 >= 5, maxNStock: (d2) => d2 <= 20 }, risk: { maxDrawdown: (d2) => d2 > -0.3, avgDrawdown: (d2) => d2 > -0.1, avgDrawdownDays: (d2) => d2 < 40, volatility: (d2) => d2 < 0.2, valueAtRisk: (d2) => d2 > -0.07, cvalueAtRisk: (d2) => d2 > -0.1 }, ratio: { sharpeRatio: (d2) => d2 > 1.3, sortinoRatio: (d2) => d2 > 1.8, calmarRatio: (d2) => d2 > 0.9, profitFactor: (d2) => d2 > 1.5, tailRatio: (d2) => d2 > 1 }, winrate: { winRate: (d2) => d2 > 0.55, m12WinRate: (d2) => d2 > 0.7, expectancy: (d2) => d2 > 0.02, mae: (d2) => d2 > -0.1, mfe: (d2) => d2 > 0.1 }, liquidity: { capacity: (d2) => d2 > 5e5, disposalStockRatio: (d2) => d2 < 0.05, warningStockRatio: (d2) => d2 < 0.05, fullDeliveryStockRatio: (d2) => d2 < 0.05, buyHigh: (d2) => d2 < 0.05, sellLow: (d2) => d2 < 0.05 } };
function calculateScores(d2) {
  const g2 = { profitability: 0, risk: 0, ratio: 0, winrate: 0, liquidity: 0 };
  for (const _2 in hr) for (const O2 in hr[_2]) hr[_2][O2](d2[_2][O2]) && (g2[_2]++, "liquidity" === _2 && "capacity" === O2 && (g2[_2] += 10));
  for (const d3 in g2) {
    let _2 = Object.keys(hr[d3]).length;
    "liquidity" === d3 && (_2 += 10), g2[d3] = g2[d3] / _2;
  }
  return g2;
}
class MetricDisplay {
  constructor() {
    this.percentage = (d2) => (100 * d2).toFixed(1), this.sign = (d2) => "string" == typeof d2 && "-" != d2[0] || "number" == typeof d2 && d2 > 0 ? "+" + String(d2) : String(d2), this.color = (d2) => d2 > 0 ? "text-rise" : "text-fall", this.formatter = { annualReturn: (d2) => this.sign(this.percentage(d2)), alpha: (d2) => this.sign(this.percentage(d2)), avgNStock: (d2) => 0 === d2 ? "-" : d2.toFixed(0), maxNStock: (d2) => 0 === d2 ? "-" : d2.toFixed(0), maxDrawdown: (d2) => this.sign(this.percentage(d2)), avgDrawdown: (d2) => this.sign(this.percentage(d2)), valueAtRisk: (d2) => this.sign(this.percentage(d2)), cvalueAtRisk: (d2) => this.sign(this.percentage(d2)), winRate: (d2) => this.percentage(d2), m12WinRate: (d2) => this.percentage(d2), expectancy: (d2) => this.sign(this.percentage(d2)), mae: (d2) => this.sign(this.percentage(d2)), mfe: (d2) => this.sign(this.percentage(d2)), smallCapRatio: (d2) => this.percentage(d2), capacity: (d2) => (d2 / 1e4).toFixed(0), disposalStockRatio: (d2) => this.percentage(d2), warningStockRatio: (d2) => this.percentage(d2), fullDeliveryStockRatio: (d2) => this.percentage(d2), buyHigh: (d2) => this.percentage(d2), sellLow: (d2) => this.percentage(d2) }, this.units = { annualReturn: "%", alpha: "%", avgNStock: "檔", maxNStock: "檔", maxDrawdown: "%", avgDrawdown: "%", avgDrawdownDays: "天", valueAtRisk: "%", cvalueAtRisk: "%", winRate: "%", m12WinRate: "%", expectancy: "%", mae: "%", mfe: "%", smallCapRatio: "%", capacity: "萬", disposalStockRatio: "%", warningStockRatio: "%", fullDeliveryStockRatio: "%", buyHigh: "%", sellLow: "%" };
  }
  format(d2, g2) {
    if (d2 in this.formatter) try {
      return this.formatter[d2](g2);
    } catch {
    }
    try {
      return String(g2.toFixed(2));
    } catch {
    }
    return String(g2);
  }
  getUnit(d2) {
    return d2 in this.units ? this.units[d2] : "";
  }
}
function binaryInsert(d2, g2, _2, O2) {
  let $2 = g2.length, st2 = void 0 !== _2 ? _2 : 0, ot2 = void 0 !== O2 ? O2 : $2 - 1, lt2 = st2 + Math.floor((ot2 - st2) / 2);
  0 !== $2 ? d2 >= g2[ot2] ? g2.splice(ot2 + 1, 0, d2) : d2 < g2[st2] ? g2.splice(st2, 0, d2) : st2 >= ot2 || (d2 <= g2[lt2] ? binaryInsert(d2, g2, st2, lt2) : d2 > g2[lt2] && binaryInsert(d2, g2, lt2 + 1, ot2)) : g2.push(d2);
}
function calculateQuantileSeries(d2, g2, _2) {
  let O2 = [], $2 = [];
  d2.slice(0, _2).forEach((d3) => binaryInsert(d3, O2));
  for (let st2 = _2; st2 < d2.length; st2++) $2.push(O2[Math.floor(_2 * g2)]), O2.splice(O2.indexOf(d2[st2 - _2]), 1), binaryInsert(d2[st2], O2);
  return $2.push(O2[Math.floor(_2 * g2)]), $2;
}
class Report {
  constructor(d2, g2, _2, O2, $2) {
    this.timestamps = d2, this.strategy = g2, this.benchmark = _2, this.trades = O2, this.metrics = $2;
  }
  createTradingviewSeries(d2, g2 = 0, _2 = -1, O2 = 500) {
    const $2 = this.timestamps.map((g3, _3) => ({ time: g3, value: this[d2][_3] })).slice(this.indexOfTimestamps(g2), this.indexOfTimestamps(_2) + 1), st2 = this.timestamps.map((d3, g3) => 0 === g3 || d3.substring(0, 7) !== this.timestamps[g3 - 1].substring(0, 7)), ot2 = Math.round($2.length / O2);
    return $2.filter((d3, g3) => g3 % ot2 == 0 || g3 === $2.length - 1 || st2[g3]);
  }
  indexOfTimestamps(d2) {
    return "string" == typeof d2 ? function findNextOrPreviousIndex(d3, g2) {
      let _2 = 0, O2 = d3.length - 1, $2 = -1;
      for (; _2 <= O2; ) {
        const st2 = Math.ceil((_2 + O2) / 2);
        if (d3[st2] === g2) return st2;
        d3[st2] < g2 ? ($2 = st2, _2 = st2 + 1) : ($2 = st2, O2 = st2 - 1);
      }
      return g2 < d3[$2] && ($2 -= 1), $2;
    }(this.timestamps, d2) : d2 < 0 ? Math.min(Math.max(this.timestamps.length + d2, 0), this.timestamps.length - 1) : d2;
  }
  calculateAnnualReturn(d2) {
    const g2 = {};
    let _2 = this[d2][0];
    for (let O2 = 1; O2 < this.timestamps.length; O2++) {
      const $2 = new Date(this.timestamps[O2]).getFullYear();
      if (O2 === this.timestamps.length - 1 || new Date(this.timestamps[O2 + 1]).getFullYear() !== $2) {
        const st2 = this[d2][O2];
        g2[$2] = st2 / _2 - 1, _2 = st2;
      }
    }
    return g2;
  }
  calculateMonthlyReturn(d2) {
    const g2 = {};
    let _2 = this[d2][0];
    for (let O2 = 1; O2 < this.timestamps.length; O2++) {
      const $2 = new Date(this.timestamps[O2]), st2 = $2.getFullYear(), ot2 = $2.getMonth() + 1;
      if (O2 === this.timestamps.length - 1 || new Date(this.timestamps[O2 + 1]).getMonth() + 1 !== ot2) {
        const $3 = this[d2][O2];
        g2[`${st2}${ot2}`] = $3 / _2 - 1, _2 = $3;
      }
    }
    return g2;
  }
  calculateMostRecentNDayReturn(d2, g2) {
    const _2 = this[d2], O2 = _2.length, $2 = {};
    for (const d3 of g2) {
      const g3 = parseInt(d3);
      if (O2 < g3) continue;
      const st2 = 100 * (_2[O2 - 1] / _2[O2 - g3 - 1] - 1);
      $2[d3] = st2;
    }
    return $2;
  }
  createTradingViewDrawdown(d2, g2 = 100) {
    const _2 = this[d2], O2 = [];
    let $2 = -1 / 0, st2 = _2[0];
    for (let d3 = 0; d3 < _2.length; d3++) $2 = Math.max($2, _2[d3]), st2 = Math.min(st2, _2[d3]), O2.push((_2[d3] - $2) / $2 * 100);
    const ot2 = Math.ceil(O2.length / g2);
    return this.timestamps.map((d3, g3) => ({ time: d3, value: O2[g3] })).filter((d3, g3) => g3 % ot2 == 0 || g3 === O2.length - 1);
  }
  calculateDrawdown(d2) {
    let g2 = 0, _2 = 1, O2 = 1, $2 = 0, st2 = [];
    const ot2 = this[d2];
    for (let d3 = 0; d3 < this.timestamps.length; d3 += 1) {
      const lt3 = ot2[d3];
      if (lt3 > _2) d3 - g2 >= 2 && st2.push({ maxDrawdown: O2 - 1, start: g2, end: d3, at: $2 }), g2 = d3, _2 = lt3, O2 = 1, $2 = d3;
      else {
        const g3 = lt3 / _2;
        O2 > g3 && (O2 = g3, $2 = d3);
      }
    }
    O2 < 1 && this.timestamps.length - g2 >= 2 && st2.push({ maxDrawdown: O2 - 1, start: g2, end: this.timestamps.length - 1, at: $2 }), st2.sort((d3, g3) => -(d3.end - d3.start) + (g3.end - g3.start));
    const lt2 = st2.slice(0, 5);
    st2.sort((d3, g3) => d3.maxDrawdown - g3.maxDrawdown);
    return [st2.slice(0, 5), lt2];
  }
  calculateSharpe(d2, g2, _2) {
    let O2 = [], $2 = 0, st2 = 0;
    const ot2 = this[d2];
    for (let d3 = 1; d3 < ot2.length; d3++) {
      if ($2 += ot2[d3] / ot2[d3 - 1] - 1, d3 >= _2) {
        $2 -= ot2[d3 - _2 + 1] / ot2[d3 - _2] - 1;
      }
      const lt2 = $2 / Math.min(d3, _2);
      st2 = 0;
      for (let g3 = Math.max(1, d3 - _2 + 1); g3 <= d3; g3++) {
        const d4 = ot2[g3] / ot2[g3 - 1] - 1;
        st2 += (d4 - lt2) * (d4 - lt2);
      }
      if (d3 >= _2 - 1) {
        const $3 = st2 / Math.min(d3, _2), ot3 = (lt2 - g2) / Math.sqrt($3);
        O2.push({ time: this.timestamps[d3], value: ot3 * Math.sqrt(_2) });
      }
    }
    return O2;
  }
  calculateSortino(d2, g2, _2) {
    let O2 = [], $2 = 0, st2 = 0, ot2 = [], lt2 = [];
    const ct2 = this[d2];
    for (let d3 = 1; d3 < ct2.length; d3++) {
      let ut2 = ct2[d3] / ct2[d3 - 1] - 1;
      $2 += ut2, ot2.push(ut2);
      let gt2 = $2 / _2, mt2 = (ut2 - gt2) * (ut2 - gt2);
      if (lt2.push(mt2), ut2 < g2 && (st2 += mt2), d3 >= _2) {
        let d4 = ot2.shift(), _3 = lt2.shift();
        $2 -= d4, d4 < g2 && (st2 -= _3);
      }
      if (d3 >= _2 - 1) {
        let d4 = st2 / _2, $3 = (gt2 - g2) / Math.sqrt(d4);
        O2.push($3);
      }
    }
    return O2.map((d3, g3) => ({ time: this.timestamps[g3 + _2 - 1], value: d3 * Math.sqrt(_2) }));
  }
  calculateVolitility(d2, g2, _2) {
    let O2 = [], $2 = 0, st2 = 0, ot2 = [], lt2 = [];
    const ct2 = this[d2];
    for (let d3 = 1; d3 < ct2.length; d3++) {
      let g3 = ct2[d3] / ct2[d3 - 1] - 1;
      $2 += g3, ot2.push(g3);
      let ut2 = $2 / _2, gt2 = (g3 - ut2) * (g3 - ut2);
      if (st2 += gt2, lt2.push(gt2), d3 >= _2) {
        $2 -= ot2.shift(), st2 -= lt2.shift();
      }
      if (d3 >= _2 - 1) {
        let d4 = st2 / _2, g4 = Math.sqrt(d4);
        O2.push(g4);
      }
    }
    return O2.map((d3, g3) => ({ time: this.timestamps[g3 + _2 - 1], value: d3 * Math.sqrt(_2) }));
  }
  calculateCorrelation(d2) {
    let g2 = this.strategy, _2 = this.benchmark, O2 = [];
    for (let $2 = 0; $2 < g2.length; $2++) {
      let st2 = 0, ot2 = 0, lt2 = 0, ct2 = 0, ut2 = 0;
      for (let O3 = Math.max(0, $2 - d2 + 1); O3 <= $2; O3++) st2 += g2[O3], ot2 += _2[O3], lt2 += g2[O3] * g2[O3], ct2 += _2[O3] * _2[O3], ut2 += g2[O3] * _2[O3];
      let gt2 = Math.min($2 + 1, d2), mt2 = (gt2 * ut2 - st2 * ot2) / Math.sqrt((gt2 * lt2 - st2 * st2) * (gt2 * ct2 - ot2 * ot2));
      O2.push(mt2);
    }
    return O2.map((g3, _3) => ({ time: this.timestamps[_3 + d2 - 1], value: g3 })).filter((d3) => void 0 !== d3.time).slice(1, -1);
  }
  calculateTailRatio(d2, g2) {
    let _2 = this[d2];
    _2 = _2.map((d3, g3) => d3 / _2[g3 - 1] - 1), _2[0] = 0;
    const O2 = calculateQuantileSeries(_2, 0.95, g2), $2 = calculateQuantileSeries(_2, 0.05, g2);
    return O2.map((d3, g3) => Math.abs(d3 / $2[g3])).map((d3, _3) => ({ time: this.timestamps[_3 + g2 - 1], value: d3 }));
  }
}
function round(d2) {
  return d2 + 0.5 | 0;
}
const lim = (d2, g2, _2) => Math.max(Math.min(d2, _2), g2);
function p2b(d2) {
  return lim(round(2.55 * d2), 0, 255);
}
function n2b(d2) {
  return lim(round(255 * d2), 0, 255);
}
function b2n(d2) {
  return lim(round(d2 / 2.55) / 100, 0, 1);
}
function n2p(d2) {
  return lim(round(100 * d2), 0, 100);
}
const ur = { 0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15 }, dr = [..."0123456789ABCDEF"], h1 = (d2) => dr[15 & d2], h2 = (d2) => dr[(240 & d2) >> 4] + dr[15 & d2], eq = (d2) => (240 & d2) >> 4 == (15 & d2);
function hexString(d2) {
  var g2 = ((d3) => eq(d3.r) && eq(d3.g) && eq(d3.b) && eq(d3.a))(d2) ? h1 : h2;
  return d2 ? "#" + g2(d2.r) + g2(d2.g) + g2(d2.b) + ((d3, g3) => d3 < 255 ? g3(d3) : "")(d2.a, g2) : void 0;
}
const pr = /^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;
function hsl2rgbn(d2, g2, _2) {
  const O2 = g2 * Math.min(_2, 1 - _2), f2 = (g3, $2 = (g3 + d2 / 30) % 12) => _2 - O2 * Math.max(Math.min($2 - 3, 9 - $2, 1), -1);
  return [f2(0), f2(8), f2(4)];
}
function hsv2rgbn(d2, g2, _2) {
  const f2 = (O2, $2 = (O2 + d2 / 60) % 6) => _2 - _2 * g2 * Math.max(Math.min($2, 4 - $2, 1), 0);
  return [f2(5), f2(3), f2(1)];
}
function hwb2rgbn(d2, g2, _2) {
  const O2 = hsl2rgbn(d2, 1, 0.5);
  let $2;
  for (g2 + _2 > 1 && ($2 = 1 / (g2 + _2), g2 *= $2, _2 *= $2), $2 = 0; $2 < 3; $2++) O2[$2] *= 1 - g2 - _2, O2[$2] += g2;
  return O2;
}
function rgb2hsl(d2) {
  const g2 = d2.r / 255, _2 = d2.g / 255, O2 = d2.b / 255, $2 = Math.max(g2, _2, O2), st2 = Math.min(g2, _2, O2), ot2 = ($2 + st2) / 2;
  let lt2, ct2, ut2;
  return $2 !== st2 && (ut2 = $2 - st2, ct2 = ot2 > 0.5 ? ut2 / (2 - $2 - st2) : ut2 / ($2 + st2), lt2 = function hueValue(d3, g3, _3, O3, $3) {
    return d3 === $3 ? (g3 - _3) / O3 + (g3 < _3 ? 6 : 0) : g3 === $3 ? (_3 - d3) / O3 + 2 : (d3 - g3) / O3 + 4;
  }(g2, _2, O2, ut2, $2), lt2 = 60 * lt2 + 0.5), [0 | lt2, ct2 || 0, ot2];
}
function calln(d2, g2, _2, O2) {
  return (Array.isArray(g2) ? d2(g2[0], g2[1], g2[2]) : d2(g2, _2, O2)).map(n2b);
}
function hsl2rgb(d2, g2, _2) {
  return calln(hsl2rgbn, d2, g2, _2);
}
function hue(d2) {
  return (d2 % 360 + 360) % 360;
}
function hueParse(d2) {
  const g2 = pr.exec(d2);
  let _2, O2 = 255;
  if (!g2) return;
  g2[5] !== _2 && (O2 = g2[6] ? p2b(+g2[5]) : n2b(+g2[5]));
  const $2 = hue(+g2[2]), st2 = +g2[3] / 100, ot2 = +g2[4] / 100;
  return _2 = "hwb" === g2[1] ? function hwb2rgb(d3, g3, _3) {
    return calln(hwb2rgbn, d3, g3, _3);
  }($2, st2, ot2) : "hsv" === g2[1] ? function hsv2rgb(d3, g3, _3) {
    return calln(hsv2rgbn, d3, g3, _3);
  }($2, st2, ot2) : hsl2rgb($2, st2, ot2), { r: _2[0], g: _2[1], b: _2[2], a: O2 };
}
const fr = { x: "dark", Z: "light", Y: "re", X: "blu", W: "gr", V: "medium", U: "slate", A: "ee", T: "ol", S: "or", B: "ra", C: "lateg", D: "ights", R: "in", Q: "turquois", E: "hi", P: "ro", O: "al", N: "le", M: "de", L: "yello", F: "en", K: "ch", G: "arks", H: "ea", I: "ightg", J: "wh" }, gr = { OiceXe: "f0f8ff", antiquewEte: "faebd7", aqua: "ffff", aquamarRe: "7fffd4", azuY: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "0", blanKedOmond: "ffebcd", Xe: "ff", XeviTet: "8a2be2", bPwn: "a52a2a", burlywood: "deb887", caMtXe: "5f9ea0", KartYuse: "7fff00", KocTate: "d2691e", cSO: "ff7f50", cSnflowerXe: "6495ed", cSnsilk: "fff8dc", crimson: "dc143c", cyan: "ffff", xXe: "8b", xcyan: "8b8b", xgTMnPd: "b8860b", xWay: "a9a9a9", xgYF: "6400", xgYy: "a9a9a9", xkhaki: "bdb76b", xmagFta: "8b008b", xTivegYF: "556b2f", xSange: "ff8c00", xScEd: "9932cc", xYd: "8b0000", xsOmon: "e9967a", xsHgYF: "8fbc8f", xUXe: "483d8b", xUWay: "2f4f4f", xUgYy: "2f4f4f", xQe: "ced1", xviTet: "9400d3", dAppRk: "ff1493", dApskyXe: "bfff", dimWay: "696969", dimgYy: "696969", dodgerXe: "1e90ff", fiYbrick: "b22222", flSOwEte: "fffaf0", foYstWAn: "228b22", fuKsia: "ff00ff", gaRsbSo: "dcdcdc", ghostwEte: "f8f8ff", gTd: "ffd700", gTMnPd: "daa520", Way: "808080", gYF: "8000", gYFLw: "adff2f", gYy: "808080", honeyMw: "f0fff0", hotpRk: "ff69b4", RdianYd: "cd5c5c", Rdigo: "4b0082", ivSy: "fffff0", khaki: "f0e68c", lavFMr: "e6e6fa", lavFMrXsh: "fff0f5", lawngYF: "7cfc00", NmoncEffon: "fffacd", ZXe: "add8e6", ZcSO: "f08080", Zcyan: "e0ffff", ZgTMnPdLw: "fafad2", ZWay: "d3d3d3", ZgYF: "90ee90", ZgYy: "d3d3d3", ZpRk: "ffb6c1", ZsOmon: "ffa07a", ZsHgYF: "20b2aa", ZskyXe: "87cefa", ZUWay: "778899", ZUgYy: "778899", ZstAlXe: "b0c4de", ZLw: "ffffe0", lime: "ff00", limegYF: "32cd32", lRF: "faf0e6", magFta: "ff00ff", maPon: "800000", VaquamarRe: "66cdaa", VXe: "cd", VScEd: "ba55d3", VpurpN: "9370db", VsHgYF: "3cb371", VUXe: "7b68ee", VsprRggYF: "fa9a", VQe: "48d1cc", VviTetYd: "c71585", midnightXe: "191970", mRtcYam: "f5fffa", mistyPse: "ffe4e1", moccasR: "ffe4b5", navajowEte: "ffdead", navy: "80", Tdlace: "fdf5e6", Tive: "808000", TivedBb: "6b8e23", Sange: "ffa500", SangeYd: "ff4500", ScEd: "da70d6", pOegTMnPd: "eee8aa", pOegYF: "98fb98", pOeQe: "afeeee", pOeviTetYd: "db7093", papayawEp: "ffefd5", pHKpuff: "ffdab9", peru: "cd853f", pRk: "ffc0cb", plum: "dda0dd", powMrXe: "b0e0e6", purpN: "800080", YbeccapurpN: "663399", Yd: "ff0000", Psybrown: "bc8f8f", PyOXe: "4169e1", saddNbPwn: "8b4513", sOmon: "fa8072", sandybPwn: "f4a460", sHgYF: "2e8b57", sHshell: "fff5ee", siFna: "a0522d", silver: "c0c0c0", skyXe: "87ceeb", UXe: "6a5acd", UWay: "708090", UgYy: "708090", snow: "fffafa", sprRggYF: "ff7f", stAlXe: "4682b4", tan: "d2b48c", teO: "8080", tEstN: "d8bfd8", tomato: "ff6347", Qe: "40e0d0", viTet: "ee82ee", JHt: "f5deb3", wEte: "ffffff", wEtesmoke: "f5f5f5", Lw: "ffff00", LwgYF: "9acd32" };
let _r;
function nameParse(d2) {
  _r || (_r = function unpack() {
    const d3 = {}, g3 = Object.keys(gr), _2 = Object.keys(fr);
    let O2, $2, st2, ot2, lt2;
    for (O2 = 0; O2 < g3.length; O2++) {
      for (ot2 = lt2 = g3[O2], $2 = 0; $2 < _2.length; $2++) st2 = _2[$2], lt2 = lt2.replace(st2, fr[st2]);
      st2 = parseInt(gr[ot2], 16), d3[lt2] = [st2 >> 16 & 255, st2 >> 8 & 255, 255 & st2];
    }
    return d3;
  }(), _r.transparent = [0, 0, 0, 0]);
  const g2 = _r[d2.toLowerCase()];
  return g2 && { r: g2[0], g: g2[1], b: g2[2], a: 4 === g2.length ? g2[3] : 255 };
}
const mr = /^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;
const to = (d2) => d2 <= 31308e-7 ? 12.92 * d2 : 1.055 * Math.pow(d2, 1 / 2.4) - 0.055, from = (d2) => d2 <= 0.04045 ? d2 / 12.92 : Math.pow((d2 + 0.055) / 1.055, 2.4);
function modHSL(d2, g2, _2) {
  if (d2) {
    let O2 = rgb2hsl(d2);
    O2[g2] = Math.max(0, Math.min(O2[g2] + O2[g2] * _2, 0 === g2 ? 360 : 1)), O2 = hsl2rgb(O2), d2.r = O2[0], d2.g = O2[1], d2.b = O2[2];
  }
}
function clone$1(d2, g2) {
  return d2 ? Object.assign(g2 || {}, d2) : d2;
}
function fromObject(d2) {
  var g2 = { r: 0, g: 0, b: 0, a: 255 };
  return Array.isArray(d2) ? d2.length >= 3 && (g2 = { r: d2[0], g: d2[1], b: d2[2], a: 255 }, d2.length > 3 && (g2.a = n2b(d2[3]))) : (g2 = clone$1(d2, { r: 0, g: 0, b: 0, a: 1 })).a = n2b(g2.a), g2;
}
function functionParse(d2) {
  return "r" === d2.charAt(0) ? function rgbParse(d3) {
    const g2 = mr.exec(d3);
    let _2, O2, $2, st2 = 255;
    if (g2) {
      if (g2[7] !== _2) {
        const d4 = +g2[7];
        st2 = g2[8] ? p2b(d4) : lim(255 * d4, 0, 255);
      }
      return _2 = +g2[1], O2 = +g2[3], $2 = +g2[5], _2 = 255 & (g2[2] ? p2b(_2) : lim(_2, 0, 255)), O2 = 255 & (g2[4] ? p2b(O2) : lim(O2, 0, 255)), $2 = 255 & (g2[6] ? p2b($2) : lim($2, 0, 255)), { r: _2, g: O2, b: $2, a: st2 };
    }
  }(d2) : hueParse(d2);
}
class Color {
  constructor(d2) {
    if (d2 instanceof Color) return d2;
    const g2 = typeof d2;
    let _2;
    "object" === g2 ? _2 = fromObject(d2) : "string" === g2 && (_2 = function hexParse(d3) {
      var g3, _3 = d3.length;
      return "#" === d3[0] && (4 === _3 || 5 === _3 ? g3 = { r: 255 & 17 * ur[d3[1]], g: 255 & 17 * ur[d3[2]], b: 255 & 17 * ur[d3[3]], a: 5 === _3 ? 17 * ur[d3[4]] : 255 } : 7 !== _3 && 9 !== _3 || (g3 = { r: ur[d3[1]] << 4 | ur[d3[2]], g: ur[d3[3]] << 4 | ur[d3[4]], b: ur[d3[5]] << 4 | ur[d3[6]], a: 9 === _3 ? ur[d3[7]] << 4 | ur[d3[8]] : 255 })), g3;
    }(d2) || nameParse(d2) || functionParse(d2)), this._rgb = _2, this._valid = !!_2;
  }
  get valid() {
    return this._valid;
  }
  get rgb() {
    var d2 = clone$1(this._rgb);
    return d2 && (d2.a = b2n(d2.a)), d2;
  }
  set rgb(d2) {
    this._rgb = fromObject(d2);
  }
  rgbString() {
    return this._valid ? function rgbString(d2) {
      return d2 && (d2.a < 255 ? `rgba(${d2.r}, ${d2.g}, ${d2.b}, ${b2n(d2.a)})` : `rgb(${d2.r}, ${d2.g}, ${d2.b})`);
    }(this._rgb) : void 0;
  }
  hexString() {
    return this._valid ? hexString(this._rgb) : void 0;
  }
  hslString() {
    return this._valid ? function hslString(d2) {
      if (!d2) return;
      const g2 = rgb2hsl(d2), _2 = g2[0], O2 = n2p(g2[1]), $2 = n2p(g2[2]);
      return d2.a < 255 ? `hsla(${_2}, ${O2}%, ${$2}%, ${b2n(d2.a)})` : `hsl(${_2}, ${O2}%, ${$2}%)`;
    }(this._rgb) : void 0;
  }
  mix(d2, g2) {
    if (d2) {
      const _2 = this.rgb, O2 = d2.rgb;
      let $2;
      const st2 = g2 === $2 ? 0.5 : g2, ot2 = 2 * st2 - 1, lt2 = _2.a - O2.a, ct2 = ((ot2 * lt2 == -1 ? ot2 : (ot2 + lt2) / (1 + ot2 * lt2)) + 1) / 2;
      $2 = 1 - ct2, _2.r = 255 & ct2 * _2.r + $2 * O2.r + 0.5, _2.g = 255 & ct2 * _2.g + $2 * O2.g + 0.5, _2.b = 255 & ct2 * _2.b + $2 * O2.b + 0.5, _2.a = st2 * _2.a + (1 - st2) * O2.a, this.rgb = _2;
    }
    return this;
  }
  interpolate(d2, g2) {
    return d2 && (this._rgb = function interpolate$1(d3, g3, _2) {
      const O2 = from(b2n(d3.r)), $2 = from(b2n(d3.g)), st2 = from(b2n(d3.b));
      return { r: n2b(to(O2 + _2 * (from(b2n(g3.r)) - O2))), g: n2b(to($2 + _2 * (from(b2n(g3.g)) - $2))), b: n2b(to(st2 + _2 * (from(b2n(g3.b)) - st2))), a: d3.a + _2 * (g3.a - d3.a) };
    }(this._rgb, d2._rgb, g2)), this;
  }
  clone() {
    return new Color(this.rgb);
  }
  alpha(d2) {
    return this._rgb.a = n2b(d2), this;
  }
  clearer(d2) {
    return this._rgb.a *= 1 - d2, this;
  }
  greyscale() {
    const d2 = this._rgb, g2 = round(0.3 * d2.r + 0.59 * d2.g + 0.11 * d2.b);
    return d2.r = d2.g = d2.b = g2, this;
  }
  opaquer(d2) {
    return this._rgb.a *= 1 + d2, this;
  }
  negate() {
    const d2 = this._rgb;
    return d2.r = 255 - d2.r, d2.g = 255 - d2.g, d2.b = 255 - d2.b, this;
  }
  lighten(d2) {
    return modHSL(this._rgb, 2, d2), this;
  }
  darken(d2) {
    return modHSL(this._rgb, 2, -d2), this;
  }
  saturate(d2) {
    return modHSL(this._rgb, 1, d2), this;
  }
  desaturate(d2) {
    return modHSL(this._rgb, 1, -d2), this;
  }
  rotate(d2) {
    return function rotate(d3, g2) {
      var _2 = rgb2hsl(d3);
      _2[0] = hue(_2[0] + g2), _2 = hsl2rgb(_2), d3.r = _2[0], d3.g = _2[1], d3.b = _2[2];
    }(this._rgb, d2), this;
  }
}
function noop$1() {
}
const vr = /* @__PURE__ */ (() => {
  let d2 = 0;
  return () => d2++;
})();
function isNullOrUndef(d2) {
  return null == d2;
}
function isArray$1(d2) {
  if (Array.isArray && Array.isArray(d2)) return true;
  const g2 = Object.prototype.toString.call(d2);
  return "[object" === g2.slice(0, 7) && "Array]" === g2.slice(-6);
}
function isObject$1(d2) {
  return null !== d2 && "[object Object]" === Object.prototype.toString.call(d2);
}
function isNumberFinite(d2) {
  return ("number" == typeof d2 || d2 instanceof Number) && isFinite(+d2);
}
function finiteOrDefault(d2, g2) {
  return isNumberFinite(d2) ? d2 : g2;
}
function valueOrDefault(d2, g2) {
  return void 0 === d2 ? g2 : d2;
}
const toDimension = (d2, g2) => "string" == typeof d2 && d2.endsWith("%") ? parseFloat(d2) / 100 * g2 : +d2;
function callback(d2, g2, _2) {
  if (d2 && "function" == typeof d2.call) return d2.apply(_2, g2);
}
function each(d2, g2, _2, O2) {
  let $2, st2, ot2;
  if (isArray$1(d2)) for (st2 = d2.length, $2 = 0; $2 < st2; $2++) g2.call(_2, d2[$2], $2);
  else if (isObject$1(d2)) for (ot2 = Object.keys(d2), st2 = ot2.length, $2 = 0; $2 < st2; $2++) g2.call(_2, d2[ot2[$2]], ot2[$2]);
}
function _elementsEqual(d2, g2) {
  let _2, O2, $2, st2;
  if (!d2 || !g2 || d2.length !== g2.length) return false;
  for (_2 = 0, O2 = d2.length; _2 < O2; ++_2) if ($2 = d2[_2], st2 = g2[_2], $2.datasetIndex !== st2.datasetIndex || $2.index !== st2.index) return false;
  return true;
}
function clone(d2) {
  if (isArray$1(d2)) return d2.map(clone);
  if (isObject$1(d2)) {
    const g2 = /* @__PURE__ */ Object.create(null), _2 = Object.keys(d2), O2 = _2.length;
    let $2 = 0;
    for (; $2 < O2; ++$2) g2[_2[$2]] = clone(d2[_2[$2]]);
    return g2;
  }
  return d2;
}
function isValidKey(d2) {
  return -1 === ["__proto__", "prototype", "constructor"].indexOf(d2);
}
function _merger(d2, g2, _2, O2) {
  if (!isValidKey(d2)) return;
  const $2 = g2[d2], st2 = _2[d2];
  isObject$1($2) && isObject$1(st2) ? merge($2, st2, O2) : g2[d2] = clone(st2);
}
function merge(d2, g2, _2) {
  const O2 = isArray$1(g2) ? g2 : [g2], $2 = O2.length;
  if (!isObject$1(d2)) return d2;
  const st2 = (_2 = _2 || {}).merger || _merger;
  let ot2;
  for (let g3 = 0; g3 < $2; ++g3) {
    if (ot2 = O2[g3], !isObject$1(ot2)) continue;
    const $3 = Object.keys(ot2);
    for (let g4 = 0, O3 = $3.length; g4 < O3; ++g4) st2($3[g4], d2, ot2, _2);
  }
  return d2;
}
function mergeIf(d2, g2) {
  return merge(d2, g2, { merger: _mergerIf });
}
function _mergerIf(d2, g2, _2) {
  if (!isValidKey(d2)) return;
  const O2 = g2[d2], $2 = _2[d2];
  isObject$1(O2) && isObject$1($2) ? mergeIf(O2, $2) : Object.prototype.hasOwnProperty.call(g2, d2) || (g2[d2] = clone($2));
}
const br = { "": (d2) => d2, x: (d2) => d2.x, y: (d2) => d2.y };
function resolveObjectKey(d2, g2) {
  const _2 = br[g2] || (br[g2] = function _getKeyResolver(d3) {
    const g3 = function _splitKey(d4) {
      const g4 = d4.split("."), _3 = [];
      let O2 = "";
      for (const d5 of g4) O2 += d5, O2.endsWith("\\") ? O2 = O2.slice(0, -1) + "." : (_3.push(O2), O2 = "");
      return _3;
    }(d3);
    return (d4) => {
      for (const _3 of g3) {
        if ("" === _3) break;
        d4 = d4 && d4[_3];
      }
      return d4;
    };
  }(g2));
  return _2(d2);
}
function _capitalize(d2) {
  return d2.charAt(0).toUpperCase() + d2.slice(1);
}
const defined = (d2) => void 0 !== d2, isFunction = (d2) => "function" == typeof d2, setsEqual = (d2, g2) => {
  if (d2.size !== g2.size) return false;
  for (const _2 of d2) if (!g2.has(_2)) return false;
  return true;
};
const yr = Math.PI, wr = 2 * yr, xr = wr + yr, Tr = Number.POSITIVE_INFINITY, Er = yr / 180, Pr = yr / 2, Ir = yr / 4, Ar = 2 * yr / 3, Rr = Math.log10, kr = Math.sign;
function almostEquals(d2, g2, _2) {
  return Math.abs(d2 - g2) < _2;
}
function niceNum(d2) {
  const g2 = Math.round(d2);
  d2 = almostEquals(d2, g2, d2 / 1e3) ? g2 : d2;
  const _2 = Math.pow(10, Math.floor(Rr(d2))), O2 = d2 / _2;
  return (O2 <= 1 ? 1 : O2 <= 2 ? 2 : O2 <= 5 ? 5 : 10) * _2;
}
function isNumber(d2) {
  return !isNaN(parseFloat(d2)) && isFinite(d2);
}
function _setMinAndMaxByKey(d2, g2, _2) {
  let O2, $2, st2;
  for (O2 = 0, $2 = d2.length; O2 < $2; O2++) st2 = d2[O2][_2], isNaN(st2) || (g2.min = Math.min(g2.min, st2), g2.max = Math.max(g2.max, st2));
}
function toRadians(d2) {
  return d2 * (yr / 180);
}
function toDegrees(d2) {
  return d2 * (180 / yr);
}
function _decimalPlaces(d2) {
  if (!isNumberFinite(d2)) return;
  let g2 = 1, _2 = 0;
  for (; Math.round(d2 * g2) / g2 !== d2; ) g2 *= 10, _2++;
  return _2;
}
function getAngleFromPoint(d2, g2) {
  const _2 = g2.x - d2.x, O2 = g2.y - d2.y, $2 = Math.sqrt(_2 * _2 + O2 * O2);
  let st2 = Math.atan2(O2, _2);
  return st2 < -0.5 * yr && (st2 += wr), { angle: st2, distance: $2 };
}
function distanceBetweenPoints(d2, g2) {
  return Math.sqrt(Math.pow(g2.x - d2.x, 2) + Math.pow(g2.y - d2.y, 2));
}
function _angleDiff(d2, g2) {
  return (d2 - g2 + xr) % wr - yr;
}
function _normalizeAngle(d2) {
  return (d2 % wr + wr) % wr;
}
function _angleBetween(d2, g2, _2, O2) {
  const $2 = _normalizeAngle(d2), st2 = _normalizeAngle(g2), ot2 = _normalizeAngle(_2), lt2 = _normalizeAngle(st2 - $2), ct2 = _normalizeAngle(ot2 - $2), ut2 = _normalizeAngle($2 - st2), gt2 = _normalizeAngle($2 - ot2);
  return $2 === st2 || $2 === ot2 || O2 && st2 === ot2 || lt2 > ct2 && ut2 < gt2;
}
function _limitValue(d2, g2, _2) {
  return Math.max(g2, Math.min(_2, d2));
}
function _isBetween(d2, g2, _2, O2 = 1e-6) {
  return d2 >= Math.min(g2, _2) - O2 && d2 <= Math.max(g2, _2) + O2;
}
function _lookup(d2, g2, _2) {
  _2 = _2 || ((_3) => d2[_3] < g2);
  let O2, $2 = d2.length - 1, st2 = 0;
  for (; $2 - st2 > 1; ) O2 = st2 + $2 >> 1, _2(O2) ? st2 = O2 : $2 = O2;
  return { lo: st2, hi: $2 };
}
const _lookupByKey = (d2, g2, _2, O2) => _lookup(d2, _2, O2 ? (O3) => {
  const $2 = d2[O3][g2];
  return $2 < _2 || $2 === _2 && d2[O3 + 1][g2] === _2;
} : (O3) => d2[O3][g2] < _2), _rlookupByKey = (d2, g2, _2) => _lookup(d2, _2, (O2) => d2[O2][g2] >= _2);
const Sr = ["push", "pop", "shift", "splice", "unshift"];
function unlistenArrayEvents(d2, g2) {
  const _2 = d2._chartjs;
  if (!_2) return;
  const O2 = _2.listeners, $2 = O2.indexOf(g2);
  -1 !== $2 && O2.splice($2, 1), O2.length > 0 || (Sr.forEach((g3) => {
    delete d2[g3];
  }), delete d2._chartjs);
}
function _arrayUnique(d2) {
  const g2 = new Set(d2);
  return g2.size === d2.length ? d2 : Array.from(g2);
}
const Cr = "undefined" == typeof window ? function(d2) {
  return d2();
} : window.requestAnimationFrame;
function throttled(d2, g2) {
  let _2 = [], O2 = false;
  return function(...$2) {
    _2 = $2, O2 || (O2 = true, Cr.call(window, () => {
      O2 = false, d2.apply(g2, _2);
    }));
  };
}
const _toLeftRightCenter = (d2) => "start" === d2 ? "left" : "end" === d2 ? "right" : "center", _alignStartEnd = (d2, g2, _2) => "start" === d2 ? g2 : "end" === d2 ? _2 : (g2 + _2) / 2;
function _getStartAndCountOfVisiblePoints(d2, g2, _2) {
  const O2 = g2.length;
  let $2 = 0, st2 = O2;
  if (d2._sorted) {
    const { iScale: ot2, _parsed: lt2 } = d2, ct2 = ot2.axis, { min: ut2, max: gt2, minDefined: mt2, maxDefined: bt2 } = ot2.getUserBounds();
    mt2 && ($2 = _limitValue(Math.min(_lookupByKey(lt2, ct2, ut2).lo, _2 ? O2 : _lookupByKey(g2, ct2, ot2.getPixelForValue(ut2)).lo), 0, O2 - 1)), st2 = bt2 ? _limitValue(Math.max(_lookupByKey(lt2, ot2.axis, gt2, true).hi + 1, _2 ? 0 : _lookupByKey(g2, ct2, ot2.getPixelForValue(gt2), true).hi + 1), $2, O2) - $2 : O2 - $2;
  }
  return { start: $2, count: st2 };
}
function _scaleRangesChanged(d2) {
  const { xScale: g2, yScale: _2, _scaleRanges: O2 } = d2, $2 = { xmin: g2.min, xmax: g2.max, ymin: _2.min, ymax: _2.max };
  if (!O2) return d2._scaleRanges = $2, true;
  const st2 = O2.xmin !== g2.min || O2.xmax !== g2.max || O2.ymin !== _2.min || O2.ymax !== _2.max;
  return Object.assign(O2, $2), st2;
}
const atEdge = (d2) => 0 === d2 || 1 === d2, elasticIn = (d2, g2, _2) => -Math.pow(2, 10 * (d2 -= 1)) * Math.sin((d2 - g2) * wr / _2), elasticOut = (d2, g2, _2) => Math.pow(2, -10 * d2) * Math.sin((d2 - g2) * wr / _2) + 1, Mr = { linear: (d2) => d2, easeInQuad: (d2) => d2 * d2, easeOutQuad: (d2) => -d2 * (d2 - 2), easeInOutQuad: (d2) => (d2 /= 0.5) < 1 ? 0.5 * d2 * d2 : -0.5 * (--d2 * (d2 - 2) - 1), easeInCubic: (d2) => d2 * d2 * d2, easeOutCubic: (d2) => (d2 -= 1) * d2 * d2 + 1, easeInOutCubic: (d2) => (d2 /= 0.5) < 1 ? 0.5 * d2 * d2 * d2 : 0.5 * ((d2 -= 2) * d2 * d2 + 2), easeInQuart: (d2) => d2 * d2 * d2 * d2, easeOutQuart: (d2) => -((d2 -= 1) * d2 * d2 * d2 - 1), easeInOutQuart: (d2) => (d2 /= 0.5) < 1 ? 0.5 * d2 * d2 * d2 * d2 : -0.5 * ((d2 -= 2) * d2 * d2 * d2 - 2), easeInQuint: (d2) => d2 * d2 * d2 * d2 * d2, easeOutQuint: (d2) => (d2 -= 1) * d2 * d2 * d2 * d2 + 1, easeInOutQuint: (d2) => (d2 /= 0.5) < 1 ? 0.5 * d2 * d2 * d2 * d2 * d2 : 0.5 * ((d2 -= 2) * d2 * d2 * d2 * d2 + 2), easeInSine: (d2) => 1 - Math.cos(d2 * Pr), easeOutSine: (d2) => Math.sin(d2 * Pr), easeInOutSine: (d2) => -0.5 * (Math.cos(yr * d2) - 1), easeInExpo: (d2) => 0 === d2 ? 0 : Math.pow(2, 10 * (d2 - 1)), easeOutExpo: (d2) => 1 === d2 ? 1 : 1 - Math.pow(2, -10 * d2), easeInOutExpo: (d2) => atEdge(d2) ? d2 : d2 < 0.5 ? 0.5 * Math.pow(2, 10 * (2 * d2 - 1)) : 0.5 * (2 - Math.pow(2, -10 * (2 * d2 - 1))), easeInCirc: (d2) => d2 >= 1 ? d2 : -(Math.sqrt(1 - d2 * d2) - 1), easeOutCirc: (d2) => Math.sqrt(1 - (d2 -= 1) * d2), easeInOutCirc: (d2) => (d2 /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - d2 * d2) - 1) : 0.5 * (Math.sqrt(1 - (d2 -= 2) * d2) + 1), easeInElastic: (d2) => atEdge(d2) ? d2 : elasticIn(d2, 0.075, 0.3), easeOutElastic: (d2) => atEdge(d2) ? d2 : elasticOut(d2, 0.075, 0.3), easeInOutElastic(d2) {
  const g2 = 0.1125;
  return atEdge(d2) ? d2 : d2 < 0.5 ? 0.5 * elasticIn(2 * d2, g2, 0.45) : 0.5 + 0.5 * elasticOut(2 * d2 - 1, g2, 0.45);
}, easeInBack(d2) {
  const g2 = 1.70158;
  return d2 * d2 * ((g2 + 1) * d2 - g2);
}, easeOutBack(d2) {
  const g2 = 1.70158;
  return (d2 -= 1) * d2 * ((g2 + 1) * d2 + g2) + 1;
}, easeInOutBack(d2) {
  let g2 = 1.70158;
  return (d2 /= 0.5) < 1 ? d2 * d2 * ((1 + (g2 *= 1.525)) * d2 - g2) * 0.5 : 0.5 * ((d2 -= 2) * d2 * ((1 + (g2 *= 1.525)) * d2 + g2) + 2);
}, easeInBounce: (d2) => 1 - Mr.easeOutBounce(1 - d2), easeOutBounce(d2) {
  const g2 = 7.5625, _2 = 2.75;
  return d2 < 1 / _2 ? g2 * d2 * d2 : d2 < 2 / _2 ? g2 * (d2 -= 1.5 / _2) * d2 + 0.75 : d2 < 2.5 / _2 ? g2 * (d2 -= 2.25 / _2) * d2 + 0.9375 : g2 * (d2 -= 2.625 / _2) * d2 + 0.984375;
}, easeInOutBounce: (d2) => d2 < 0.5 ? 0.5 * Mr.easeInBounce(2 * d2) : 0.5 * Mr.easeOutBounce(2 * d2 - 1) + 0.5 };
function isPatternOrGradient(d2) {
  if (d2 && "object" == typeof d2) {
    const g2 = d2.toString();
    return "[object CanvasPattern]" === g2 || "[object CanvasGradient]" === g2;
  }
  return false;
}
function color(d2) {
  return isPatternOrGradient(d2) ? d2 : new Color(d2);
}
function getHoverColor(d2) {
  return isPatternOrGradient(d2) ? d2 : new Color(d2).saturate(0.5).darken(0.1).hexString();
}
const Vr = ["x", "y", "borderWidth", "radius", "tension"], Dr = ["color", "borderColor", "backgroundColor"];
const Or = /* @__PURE__ */ new Map();
function formatNumber(d2, g2, _2) {
  return function getNumberFormat(d3, g3) {
    g3 = g3 || {};
    const _3 = d3 + JSON.stringify(g3);
    let O2 = Or.get(_3);
    return O2 || (O2 = new Intl.NumberFormat(d3, g3), Or.set(_3, O2)), O2;
  }(g2, _2).format(d2);
}
const Lr = { values: (d2) => isArray$1(d2) ? d2 : "" + d2, numeric(d2, g2, _2) {
  if (0 === d2) return "0";
  const O2 = this.chart.options.locale;
  let $2, st2 = d2;
  if (_2.length > 1) {
    const g3 = Math.max(Math.abs(_2[0].value), Math.abs(_2[_2.length - 1].value));
    (g3 < 1e-4 || g3 > 1e15) && ($2 = "scientific"), st2 = function calculateDelta(d3, g4) {
      let _3 = g4.length > 3 ? g4[2].value - g4[1].value : g4[1].value - g4[0].value;
      Math.abs(_3) >= 1 && d3 !== Math.floor(d3) && (_3 = d3 - Math.floor(d3));
      return _3;
    }(d2, _2);
  }
  const ot2 = Rr(Math.abs(st2)), lt2 = isNaN(ot2) ? 1 : Math.max(Math.min(-1 * Math.floor(ot2), 20), 0), ct2 = { notation: $2, minimumFractionDigits: lt2, maximumFractionDigits: lt2 };
  return Object.assign(ct2, this.options.ticks.format), formatNumber(d2, O2, ct2);
}, logarithmic(d2, g2, _2) {
  if (0 === d2) return "0";
  const O2 = _2[g2].significand || d2 / Math.pow(10, Math.floor(Rr(d2)));
  return [1, 2, 3, 5, 10, 15].includes(O2) || g2 > 0.8 * _2.length ? Lr.numeric.call(this, d2, g2, _2) : "";
} };
var Nr = { formatters: Lr };
const $r = /* @__PURE__ */ Object.create(null), Fr = /* @__PURE__ */ Object.create(null);
function getScope$1(d2, g2) {
  if (!g2) return d2;
  const _2 = g2.split(".");
  for (let g3 = 0, O2 = _2.length; g3 < O2; ++g3) {
    const O3 = _2[g3];
    d2 = d2[O3] || (d2[O3] = /* @__PURE__ */ Object.create(null));
  }
  return d2;
}
function set(d2, g2, _2) {
  return "string" == typeof g2 ? merge(getScope$1(d2, g2), _2) : merge(getScope$1(d2, ""), g2);
}
class Defaults {
  constructor(d2, g2) {
    this.animation = void 0, this.backgroundColor = "rgba(0,0,0,0.1)", this.borderColor = "rgba(0,0,0,0.1)", this.color = "#666", this.datasets = {}, this.devicePixelRatio = (d3) => d3.chart.platform.getDevicePixelRatio(), this.elements = {}, this.events = ["mousemove", "mouseout", "click", "touchstart", "touchmove"], this.font = { family: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif", size: 12, style: "normal", lineHeight: 1.2, weight: null }, this.hover = {}, this.hoverBackgroundColor = (d3, g3) => getHoverColor(g3.backgroundColor), this.hoverBorderColor = (d3, g3) => getHoverColor(g3.borderColor), this.hoverColor = (d3, g3) => getHoverColor(g3.color), this.indexAxis = "x", this.interaction = { mode: "nearest", intersect: true, includeInvisible: false }, this.maintainAspectRatio = true, this.onHover = null, this.onClick = null, this.parsing = true, this.plugins = {}, this.responsive = true, this.scale = void 0, this.scales = {}, this.showLine = true, this.drawActiveElementsOnTop = true, this.describe(d2), this.apply(g2);
  }
  set(d2, g2) {
    return set(this, d2, g2);
  }
  get(d2) {
    return getScope$1(this, d2);
  }
  describe(d2, g2) {
    return set(Fr, d2, g2);
  }
  override(d2, g2) {
    return set($r, d2, g2);
  }
  route(d2, g2, _2, O2) {
    const $2 = getScope$1(this, d2), st2 = getScope$1(this, _2), ot2 = "_" + g2;
    Object.defineProperties($2, { [ot2]: { value: $2[g2], writable: true }, [g2]: { enumerable: true, get() {
      const d3 = this[ot2], g3 = st2[O2];
      return isObject$1(d3) ? Object.assign({}, g3, d3) : valueOrDefault(d3, g3);
    }, set(d3) {
      this[ot2] = d3;
    } } });
  }
  apply(d2) {
    d2.forEach((d3) => d3(this));
  }
}
var zr = new Defaults({ _scriptable: (d2) => !d2.startsWith("on"), _indexable: (d2) => "events" !== d2, hover: { _fallback: "interaction" }, interaction: { _scriptable: false, _indexable: false } }, [function applyAnimationsDefaults(d2) {
  d2.set("animation", { delay: void 0, duration: 1e3, easing: "easeOutQuart", fn: void 0, from: void 0, loop: void 0, to: void 0, type: void 0 }), d2.describe("animation", { _fallback: false, _indexable: false, _scriptable: (d3) => "onProgress" !== d3 && "onComplete" !== d3 && "fn" !== d3 }), d2.set("animations", { colors: { type: "color", properties: Dr }, numbers: { type: "number", properties: Vr } }), d2.describe("animations", { _fallback: "animation" }), d2.set("transitions", { active: { animation: { duration: 400 } }, resize: { animation: { duration: 0 } }, show: { animations: { colors: { from: "transparent" }, visible: { type: "boolean", duration: 0 } } }, hide: { animations: { colors: { to: "transparent" }, visible: { type: "boolean", easing: "linear", fn: (d3) => 0 | d3 } } } });
}, function applyLayoutsDefaults(d2) {
  d2.set("layout", { autoPadding: true, padding: { top: 0, right: 0, bottom: 0, left: 0 } });
}, function applyScaleDefaults(d2) {
  d2.set("scale", { display: true, offset: false, reverse: false, beginAtZero: false, bounds: "ticks", clip: true, grace: 0, grid: { display: true, lineWidth: 1, drawOnChartArea: true, drawTicks: true, tickLength: 8, tickWidth: (d3, g2) => g2.lineWidth, tickColor: (d3, g2) => g2.color, offset: false }, border: { display: true, dash: [], dashOffset: 0, width: 1 }, title: { display: false, text: "", padding: { top: 4, bottom: 4 } }, ticks: { minRotation: 0, maxRotation: 50, mirror: false, textStrokeWidth: 0, textStrokeColor: "", padding: 3, display: true, autoSkip: true, autoSkipPadding: 3, labelOffset: 0, callback: Nr.formatters.values, minor: {}, major: {}, align: "center", crossAlign: "near", showLabelBackdrop: false, backdropColor: "rgba(255, 255, 255, 0.75)", backdropPadding: 2 } }), d2.route("scale.ticks", "color", "", "color"), d2.route("scale.grid", "color", "", "borderColor"), d2.route("scale.border", "color", "", "borderColor"), d2.route("scale.title", "color", "", "color"), d2.describe("scale", { _fallback: false, _scriptable: (d3) => !d3.startsWith("before") && !d3.startsWith("after") && "callback" !== d3 && "parser" !== d3, _indexable: (d3) => "borderDash" !== d3 && "tickBorderDash" !== d3 && "dash" !== d3 }), d2.describe("scales", { _fallback: "scale" }), d2.describe("scale.ticks", { _scriptable: (d3) => "backdropPadding" !== d3 && "callback" !== d3, _indexable: (d3) => "backdropPadding" !== d3 });
}]);
function _measureText(d2, g2, _2, O2, $2) {
  let st2 = g2[$2];
  return st2 || (st2 = g2[$2] = d2.measureText($2).width, _2.push($2)), st2 > O2 && (O2 = st2), O2;
}
function _longestText(d2, g2, _2, O2) {
  let $2 = (O2 = O2 || {}).data = O2.data || {}, st2 = O2.garbageCollect = O2.garbageCollect || [];
  O2.font !== g2 && ($2 = O2.data = {}, st2 = O2.garbageCollect = [], O2.font = g2), d2.save(), d2.font = g2;
  let ot2 = 0;
  const lt2 = _2.length;
  let ct2, ut2, gt2, mt2, bt2;
  for (ct2 = 0; ct2 < lt2; ct2++) if (mt2 = _2[ct2], null == mt2 || isArray$1(mt2)) {
    if (isArray$1(mt2)) for (ut2 = 0, gt2 = mt2.length; ut2 < gt2; ut2++) bt2 = mt2[ut2], null == bt2 || isArray$1(bt2) || (ot2 = _measureText(d2, $2, st2, ot2, bt2));
  } else ot2 = _measureText(d2, $2, st2, ot2, mt2);
  d2.restore();
  const yt2 = st2.length / 2;
  if (yt2 > _2.length) {
    for (ct2 = 0; ct2 < yt2; ct2++) delete $2[st2[ct2]];
    st2.splice(0, yt2);
  }
  return ot2;
}
function _alignPixel(d2, g2, _2) {
  const O2 = d2.currentDevicePixelRatio, $2 = 0 !== _2 ? Math.max(_2 / 2, 0.5) : 0;
  return Math.round((g2 - $2) * O2) / O2 + $2;
}
function clearCanvas(d2, g2) {
  (g2 || d2) && ((g2 = g2 || d2.getContext("2d")).save(), g2.resetTransform(), g2.clearRect(0, 0, d2.width, d2.height), g2.restore());
}
function drawPoint(d2, g2, _2, O2) {
  drawPointLegend(d2, g2, _2, O2, null);
}
function drawPointLegend(d2, g2, _2, O2, $2) {
  let st2, ot2, lt2, ct2, ut2, gt2, mt2, bt2;
  const yt2 = g2.pointStyle, wt2 = g2.rotation, Pt2 = g2.radius;
  let At2 = (wt2 || 0) * Er;
  if (yt2 && "object" == typeof yt2 && (st2 = yt2.toString(), "[object HTMLImageElement]" === st2 || "[object HTMLCanvasElement]" === st2)) return d2.save(), d2.translate(_2, O2), d2.rotate(At2), d2.drawImage(yt2, -yt2.width / 2, -yt2.height / 2, yt2.width, yt2.height), void d2.restore();
  if (!(isNaN(Pt2) || Pt2 <= 0)) {
    switch (d2.beginPath(), yt2) {
      default:
        $2 ? d2.ellipse(_2, O2, $2 / 2, Pt2, 0, 0, wr) : d2.arc(_2, O2, Pt2, 0, wr), d2.closePath();
        break;
      case "triangle":
        gt2 = $2 ? $2 / 2 : Pt2, d2.moveTo(_2 + Math.sin(At2) * gt2, O2 - Math.cos(At2) * Pt2), At2 += Ar, d2.lineTo(_2 + Math.sin(At2) * gt2, O2 - Math.cos(At2) * Pt2), At2 += Ar, d2.lineTo(_2 + Math.sin(At2) * gt2, O2 - Math.cos(At2) * Pt2), d2.closePath();
        break;
      case "rectRounded":
        ut2 = 0.516 * Pt2, ct2 = Pt2 - ut2, ot2 = Math.cos(At2 + Ir) * ct2, mt2 = Math.cos(At2 + Ir) * ($2 ? $2 / 2 - ut2 : ct2), lt2 = Math.sin(At2 + Ir) * ct2, bt2 = Math.sin(At2 + Ir) * ($2 ? $2 / 2 - ut2 : ct2), d2.arc(_2 - mt2, O2 - lt2, ut2, At2 - yr, At2 - Pr), d2.arc(_2 + bt2, O2 - ot2, ut2, At2 - Pr, At2), d2.arc(_2 + mt2, O2 + lt2, ut2, At2, At2 + Pr), d2.arc(_2 - bt2, O2 + ot2, ut2, At2 + Pr, At2 + yr), d2.closePath();
        break;
      case "rect":
        if (!wt2) {
          ct2 = Math.SQRT1_2 * Pt2, gt2 = $2 ? $2 / 2 : ct2, d2.rect(_2 - gt2, O2 - ct2, 2 * gt2, 2 * ct2);
          break;
        }
        At2 += Ir;
      case "rectRot":
        mt2 = Math.cos(At2) * ($2 ? $2 / 2 : Pt2), ot2 = Math.cos(At2) * Pt2, lt2 = Math.sin(At2) * Pt2, bt2 = Math.sin(At2) * ($2 ? $2 / 2 : Pt2), d2.moveTo(_2 - mt2, O2 - lt2), d2.lineTo(_2 + bt2, O2 - ot2), d2.lineTo(_2 + mt2, O2 + lt2), d2.lineTo(_2 - bt2, O2 + ot2), d2.closePath();
        break;
      case "crossRot":
        At2 += Ir;
      case "cross":
        mt2 = Math.cos(At2) * ($2 ? $2 / 2 : Pt2), ot2 = Math.cos(At2) * Pt2, lt2 = Math.sin(At2) * Pt2, bt2 = Math.sin(At2) * ($2 ? $2 / 2 : Pt2), d2.moveTo(_2 - mt2, O2 - lt2), d2.lineTo(_2 + mt2, O2 + lt2), d2.moveTo(_2 + bt2, O2 - ot2), d2.lineTo(_2 - bt2, O2 + ot2);
        break;
      case "star":
        mt2 = Math.cos(At2) * ($2 ? $2 / 2 : Pt2), ot2 = Math.cos(At2) * Pt2, lt2 = Math.sin(At2) * Pt2, bt2 = Math.sin(At2) * ($2 ? $2 / 2 : Pt2), d2.moveTo(_2 - mt2, O2 - lt2), d2.lineTo(_2 + mt2, O2 + lt2), d2.moveTo(_2 + bt2, O2 - ot2), d2.lineTo(_2 - bt2, O2 + ot2), At2 += Ir, mt2 = Math.cos(At2) * ($2 ? $2 / 2 : Pt2), ot2 = Math.cos(At2) * Pt2, lt2 = Math.sin(At2) * Pt2, bt2 = Math.sin(At2) * ($2 ? $2 / 2 : Pt2), d2.moveTo(_2 - mt2, O2 - lt2), d2.lineTo(_2 + mt2, O2 + lt2), d2.moveTo(_2 + bt2, O2 - ot2), d2.lineTo(_2 - bt2, O2 + ot2);
        break;
      case "line":
        ot2 = $2 ? $2 / 2 : Math.cos(At2) * Pt2, lt2 = Math.sin(At2) * Pt2, d2.moveTo(_2 - ot2, O2 - lt2), d2.lineTo(_2 + ot2, O2 + lt2);
        break;
      case "dash":
        d2.moveTo(_2, O2), d2.lineTo(_2 + Math.cos(At2) * ($2 ? $2 / 2 : Pt2), O2 + Math.sin(At2) * Pt2);
        break;
      case false:
        d2.closePath();
    }
    d2.fill(), g2.borderWidth > 0 && d2.stroke();
  }
}
function _isPointInArea(d2, g2, _2) {
  return _2 = _2 || 0.5, !g2 || d2 && d2.x > g2.left - _2 && d2.x < g2.right + _2 && d2.y > g2.top - _2 && d2.y < g2.bottom + _2;
}
function clipArea(d2, g2) {
  d2.save(), d2.beginPath(), d2.rect(g2.left, g2.top, g2.right - g2.left, g2.bottom - g2.top), d2.clip();
}
function unclipArea(d2) {
  d2.restore();
}
function _steppedLineTo(d2, g2, _2, O2, $2) {
  if (!g2) return d2.lineTo(_2.x, _2.y);
  if ("middle" === $2) {
    const O3 = (g2.x + _2.x) / 2;
    d2.lineTo(O3, g2.y), d2.lineTo(O3, _2.y);
  } else "after" === $2 != !!O2 ? d2.lineTo(g2.x, _2.y) : d2.lineTo(_2.x, g2.y);
  d2.lineTo(_2.x, _2.y);
}
function _bezierCurveTo(d2, g2, _2, O2) {
  if (!g2) return d2.lineTo(_2.x, _2.y);
  d2.bezierCurveTo(O2 ? g2.cp1x : g2.cp2x, O2 ? g2.cp1y : g2.cp2y, O2 ? _2.cp2x : _2.cp1x, O2 ? _2.cp2y : _2.cp1y, _2.x, _2.y);
}
function decorateText(d2, g2, _2, O2, $2) {
  if ($2.strikethrough || $2.underline) {
    const st2 = d2.measureText(O2), ot2 = g2 - st2.actualBoundingBoxLeft, lt2 = g2 + st2.actualBoundingBoxRight, ct2 = _2 - st2.actualBoundingBoxAscent, ut2 = _2 + st2.actualBoundingBoxDescent, gt2 = $2.strikethrough ? (ct2 + ut2) / 2 : ut2;
    d2.strokeStyle = d2.fillStyle, d2.beginPath(), d2.lineWidth = $2.decorationWidth || 2, d2.moveTo(ot2, gt2), d2.lineTo(lt2, gt2), d2.stroke();
  }
}
function drawBackdrop(d2, g2) {
  const _2 = d2.fillStyle;
  d2.fillStyle = g2.color, d2.fillRect(g2.left, g2.top, g2.width, g2.height), d2.fillStyle = _2;
}
function renderText(d2, g2, _2, O2, $2, st2 = {}) {
  const ot2 = isArray$1(g2) ? g2 : [g2], lt2 = st2.strokeWidth > 0 && "" !== st2.strokeColor;
  let ct2, ut2;
  for (d2.save(), d2.font = $2.string, function setRenderOpts(d3, g3) {
    g3.translation && d3.translate(g3.translation[0], g3.translation[1]), isNullOrUndef(g3.rotation) || d3.rotate(g3.rotation), g3.color && (d3.fillStyle = g3.color), g3.textAlign && (d3.textAlign = g3.textAlign), g3.textBaseline && (d3.textBaseline = g3.textBaseline);
  }(d2, st2), ct2 = 0; ct2 < ot2.length; ++ct2) ut2 = ot2[ct2], st2.backdrop && drawBackdrop(d2, st2.backdrop), lt2 && (st2.strokeColor && (d2.strokeStyle = st2.strokeColor), isNullOrUndef(st2.strokeWidth) || (d2.lineWidth = st2.strokeWidth), d2.strokeText(ut2, _2, O2, st2.maxWidth)), d2.fillText(ut2, _2, O2, st2.maxWidth), decorateText(d2, _2, O2, ut2, st2), O2 += Number($2.lineHeight);
  d2.restore();
}
function addRoundedRectPath(d2, g2) {
  const { x: _2, y: O2, w: $2, h: st2, radius: ot2 } = g2;
  d2.arc(_2 + ot2.topLeft, O2 + ot2.topLeft, ot2.topLeft, 1.5 * yr, yr, true), d2.lineTo(_2, O2 + st2 - ot2.bottomLeft), d2.arc(_2 + ot2.bottomLeft, O2 + st2 - ot2.bottomLeft, ot2.bottomLeft, yr, Pr, true), d2.lineTo(_2 + $2 - ot2.bottomRight, O2 + st2), d2.arc(_2 + $2 - ot2.bottomRight, O2 + st2 - ot2.bottomRight, ot2.bottomRight, Pr, 0, true), d2.lineTo(_2 + $2, O2 + ot2.topRight), d2.arc(_2 + $2 - ot2.topRight, O2 + ot2.topRight, ot2.topRight, 0, -Pr, true), d2.lineTo(_2 + ot2.topLeft, O2);
}
const Br = /^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/, Ur = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;
function toLineHeight(d2, g2) {
  const _2 = ("" + d2).match(Br);
  if (!_2 || "normal" === _2[1]) return 1.2 * g2;
  switch (d2 = +_2[2], _2[3]) {
    case "px":
      return d2;
    case "%":
      d2 /= 100;
  }
  return g2 * d2;
}
const numberOrZero = (d2) => +d2 || 0;
function _readValueToProps(d2, g2) {
  const _2 = {}, O2 = isObject$1(g2), $2 = O2 ? Object.keys(g2) : g2, st2 = isObject$1(d2) ? O2 ? (_3) => valueOrDefault(d2[_3], d2[g2[_3]]) : (g3) => d2[g3] : () => d2;
  for (const d3 of $2) _2[d3] = numberOrZero(st2(d3));
  return _2;
}
function toTRBL(d2) {
  return _readValueToProps(d2, { top: "y", right: "x", bottom: "y", left: "x" });
}
function toTRBLCorners(d2) {
  return _readValueToProps(d2, ["topLeft", "topRight", "bottomLeft", "bottomRight"]);
}
function toPadding(d2) {
  const g2 = toTRBL(d2);
  return g2.width = g2.left + g2.right, g2.height = g2.top + g2.bottom, g2;
}
function toFont(d2, g2) {
  d2 = d2 || {}, g2 = g2 || zr.font;
  let _2 = valueOrDefault(d2.size, g2.size);
  "string" == typeof _2 && (_2 = parseInt(_2, 10));
  let O2 = valueOrDefault(d2.style, g2.style);
  O2 && !("" + O2).match(Ur) && (console.warn('Invalid font style specified: "' + O2 + '"'), O2 = void 0);
  const $2 = { family: valueOrDefault(d2.family, g2.family), lineHeight: toLineHeight(valueOrDefault(d2.lineHeight, g2.lineHeight), _2), size: _2, style: O2, weight: valueOrDefault(d2.weight, g2.weight), string: "" };
  return $2.string = function toFontString(d3) {
    return !d3 || isNullOrUndef(d3.size) || isNullOrUndef(d3.family) ? null : (d3.style ? d3.style + " " : "") + (d3.weight ? d3.weight + " " : "") + d3.size + "px " + d3.family;
  }($2), $2;
}
function resolve(d2, g2, _2, O2) {
  let $2, st2, ot2;
  for ($2 = 0, st2 = d2.length; $2 < st2; ++$2) if (ot2 = d2[$2], void 0 !== ot2 && void 0 !== ot2) return ot2;
}
function createContext(d2, g2) {
  return Object.assign(Object.create(d2), g2);
}
function _createResolver(d2, g2 = [""], _2, O2, $2 = () => d2[0]) {
  const st2 = _2 || d2;
  void 0 === O2 && (O2 = _resolve("_fallback", d2));
  const ot2 = { [Symbol.toStringTag]: "Object", _cacheable: true, _scopes: d2, _rootScopes: st2, _fallback: O2, _getTarget: $2, override: (_3) => _createResolver([_3, ...d2], g2, st2, O2) };
  return new Proxy(ot2, { deleteProperty: (g3, _3) => (delete g3[_3], delete g3._keys, delete d2[0][_3], true), get: (_3, O3) => _cached(_3, O3, () => function _resolveWithPrefixes(d3, g3, _4, O4) {
    let $3;
    for (const st3 of g3) if ($3 = _resolve(readKey(st3, d3), _4), void 0 !== $3) return needsSubResolver(d3, $3) ? createSubResolver(_4, O4, d3, $3) : $3;
  }(O3, g2, d2, _3)), getOwnPropertyDescriptor: (d3, g3) => Reflect.getOwnPropertyDescriptor(d3._scopes[0], g3), getPrototypeOf: () => Reflect.getPrototypeOf(d2[0]), has: (d3, g3) => getKeysFromAllScopes(d3).includes(g3), ownKeys: (d3) => getKeysFromAllScopes(d3), set(d3, g3, _3) {
    const O3 = d3._storage || (d3._storage = $2());
    return d3[g3] = O3[g3] = _3, delete d3._keys, true;
  } });
}
function _attachContext(d2, g2, _2, O2) {
  const $2 = { _cacheable: false, _proxy: d2, _context: g2, _subProxy: _2, _stack: /* @__PURE__ */ new Set(), _descriptors: _descriptors(d2, O2), setContext: (g3) => _attachContext(d2, g3, _2, O2), override: ($3) => _attachContext(d2.override($3), g2, _2, O2) };
  return new Proxy($2, { deleteProperty: (g3, _3) => (delete g3[_3], delete d2[_3], true), get: (d3, g3, _3) => _cached(d3, g3, () => function _resolveWithContext(d4, g4, _4) {
    const { _proxy: O3, _context: $3, _subProxy: st2, _descriptors: ot2 } = d4;
    let lt2 = O3[g4];
    isFunction(lt2) && ot2.isScriptable(g4) && (lt2 = function _resolveScriptable(d5, g5, _5, O4) {
      const { _proxy: $4, _context: st3, _subProxy: ot3, _stack: lt3 } = _5;
      if (lt3.has(d5)) throw new Error("Recursion detected: " + Array.from(lt3).join("->") + "->" + d5);
      lt3.add(d5);
      let ct2 = g5(st3, ot3 || O4);
      lt3.delete(d5), needsSubResolver(d5, ct2) && (ct2 = createSubResolver($4._scopes, $4, d5, ct2));
      return ct2;
    }(g4, lt2, d4, _4));
    isArray$1(lt2) && lt2.length && (lt2 = function _resolveArray(d5, g5, _5, O4) {
      const { _proxy: $4, _context: st3, _subProxy: ot3, _descriptors: lt3 } = _5;
      if (void 0 !== st3.index && O4(d5)) return g5[st3.index % g5.length];
      if (isObject$1(g5[0])) {
        const _6 = g5, O5 = $4._scopes.filter((d6) => d6 !== _6);
        g5 = [];
        for (const ct2 of _6) {
          const _7 = createSubResolver(O5, $4, d5, ct2);
          g5.push(_attachContext(_7, st3, ot3 && ot3[d5], lt3));
        }
      }
      return g5;
    }(g4, lt2, d4, ot2.isIndexable));
    needsSubResolver(g4, lt2) && (lt2 = _attachContext(lt2, $3, st2 && st2[g4], ot2));
    return lt2;
  }(d3, g3, _3)), getOwnPropertyDescriptor: (g3, _3) => g3._descriptors.allKeys ? Reflect.has(d2, _3) ? { enumerable: true, configurable: true } : void 0 : Reflect.getOwnPropertyDescriptor(d2, _3), getPrototypeOf: () => Reflect.getPrototypeOf(d2), has: (g3, _3) => Reflect.has(d2, _3), ownKeys: () => Reflect.ownKeys(d2), set: (g3, _3, O3) => (d2[_3] = O3, delete g3[_3], true) });
}
function _descriptors(d2, g2 = { scriptable: true, indexable: true }) {
  const { _scriptable: _2 = g2.scriptable, _indexable: O2 = g2.indexable, _allKeys: $2 = g2.allKeys } = d2;
  return { allKeys: $2, scriptable: _2, indexable: O2, isScriptable: isFunction(_2) ? _2 : () => _2, isIndexable: isFunction(O2) ? O2 : () => O2 };
}
const readKey = (d2, g2) => d2 ? d2 + _capitalize(g2) : g2, needsSubResolver = (d2, g2) => isObject$1(g2) && "adapters" !== d2 && (null === Object.getPrototypeOf(g2) || g2.constructor === Object);
function _cached(d2, g2, _2) {
  if (Object.prototype.hasOwnProperty.call(d2, g2) || "constructor" === g2) return d2[g2];
  const O2 = _2();
  return d2[g2] = O2, O2;
}
function resolveFallback(d2, g2, _2) {
  return isFunction(d2) ? d2(g2, _2) : d2;
}
const getScope = (d2, g2) => true === d2 ? g2 : "string" == typeof d2 ? resolveObjectKey(g2, d2) : void 0;
function addScopes(d2, g2, _2, O2, $2) {
  for (const st2 of g2) {
    const g3 = getScope(_2, st2);
    if (g3) {
      d2.add(g3);
      const st3 = resolveFallback(g3._fallback, _2, $2);
      if (void 0 !== st3 && st3 !== _2 && st3 !== O2) return st3;
    } else if (false === g3 && void 0 !== O2 && _2 !== O2) return null;
  }
  return false;
}
function createSubResolver(d2, g2, _2, O2) {
  const $2 = g2._rootScopes, st2 = resolveFallback(g2._fallback, _2, O2), ot2 = [...d2, ...$2], lt2 = /* @__PURE__ */ new Set();
  lt2.add(O2);
  let ct2 = addScopesFromKey(lt2, ot2, _2, st2 || _2, O2);
  return null !== ct2 && ((void 0 === st2 || st2 === _2 || (ct2 = addScopesFromKey(lt2, ot2, st2, ct2, O2), null !== ct2)) && _createResolver(Array.from(lt2), [""], $2, st2, () => function subGetTarget(d3, g3, _3) {
    const O3 = d3._getTarget();
    g3 in O3 || (O3[g3] = {});
    const $3 = O3[g3];
    if (isArray$1($3) && isObject$1(_3)) return _3;
    return $3 || {};
  }(g2, _2, O2)));
}
function addScopesFromKey(d2, g2, _2, O2, $2) {
  for (; _2; ) _2 = addScopes(d2, g2, _2, O2, $2);
  return _2;
}
function _resolve(d2, g2) {
  for (const _2 of g2) {
    if (!_2) continue;
    const g3 = _2[d2];
    if (void 0 !== g3) return g3;
  }
}
function getKeysFromAllScopes(d2) {
  let g2 = d2._keys;
  return g2 || (g2 = d2._keys = function resolveKeysFromAllScopes(d3) {
    const g3 = /* @__PURE__ */ new Set();
    for (const _2 of d3) for (const d4 of Object.keys(_2).filter((d5) => !d5.startsWith("_"))) g3.add(d4);
    return Array.from(g3);
  }(d2._scopes)), g2;
}
function _parseObjectDataRadialScale(d2, g2, _2, O2) {
  const { iScale: $2 } = d2, { key: st2 = "r" } = this._parsing, ot2 = new Array(O2);
  let lt2, ct2, ut2, gt2;
  for (lt2 = 0, ct2 = O2; lt2 < ct2; ++lt2) ut2 = lt2 + _2, gt2 = g2[ut2], ot2[lt2] = { r: $2.parse(resolveObjectKey(gt2, st2), ut2) };
  return ot2;
}
const Wr = Number.EPSILON || 1e-14, getPoint = (d2, g2) => g2 < d2.length && !d2[g2].skip && d2[g2], getValueAxis = (d2) => "x" === d2 ? "y" : "x";
function splineCurve(d2, g2, _2, O2) {
  const $2 = d2.skip ? g2 : d2, st2 = g2, ot2 = _2.skip ? g2 : _2, lt2 = distanceBetweenPoints(st2, $2), ct2 = distanceBetweenPoints(ot2, st2);
  let ut2 = lt2 / (lt2 + ct2), gt2 = ct2 / (lt2 + ct2);
  ut2 = isNaN(ut2) ? 0 : ut2, gt2 = isNaN(gt2) ? 0 : gt2;
  const mt2 = O2 * ut2, bt2 = O2 * gt2;
  return { previous: { x: st2.x - mt2 * (ot2.x - $2.x), y: st2.y - mt2 * (ot2.y - $2.y) }, next: { x: st2.x + bt2 * (ot2.x - $2.x), y: st2.y + bt2 * (ot2.y - $2.y) } };
}
function splineCurveMonotone(d2, g2 = "x") {
  const _2 = getValueAxis(g2), O2 = d2.length, $2 = Array(O2).fill(0), st2 = Array(O2);
  let ot2, lt2, ct2, ut2 = getPoint(d2, 0);
  for (ot2 = 0; ot2 < O2; ++ot2) if (lt2 = ct2, ct2 = ut2, ut2 = getPoint(d2, ot2 + 1), ct2) {
    if (ut2) {
      const d3 = ut2[g2] - ct2[g2];
      $2[ot2] = 0 !== d3 ? (ut2[_2] - ct2[_2]) / d3 : 0;
    }
    st2[ot2] = lt2 ? ut2 ? kr($2[ot2 - 1]) !== kr($2[ot2]) ? 0 : ($2[ot2 - 1] + $2[ot2]) / 2 : $2[ot2 - 1] : $2[ot2];
  }
  !function monotoneAdjust(d3, g3, _3) {
    const O3 = d3.length;
    let $3, st3, ot3, lt3, ct3, ut3 = getPoint(d3, 0);
    for (let gt2 = 0; gt2 < O3 - 1; ++gt2) ct3 = ut3, ut3 = getPoint(d3, gt2 + 1), ct3 && ut3 && (almostEquals(g3[gt2], 0, Wr) ? _3[gt2] = _3[gt2 + 1] = 0 : ($3 = _3[gt2] / g3[gt2], st3 = _3[gt2 + 1] / g3[gt2], lt3 = Math.pow($3, 2) + Math.pow(st3, 2), lt3 <= 9 || (ot3 = 3 / Math.sqrt(lt3), _3[gt2] = $3 * ot3 * g3[gt2], _3[gt2 + 1] = st3 * ot3 * g3[gt2])));
  }(d2, $2, st2), function monotoneCompute(d3, g3, _3 = "x") {
    const O3 = getValueAxis(_3), $3 = d3.length;
    let st3, ot3, lt3, ct3 = getPoint(d3, 0);
    for (let ut3 = 0; ut3 < $3; ++ut3) {
      if (ot3 = lt3, lt3 = ct3, ct3 = getPoint(d3, ut3 + 1), !lt3) continue;
      const $4 = lt3[_3], gt2 = lt3[O3];
      ot3 && (st3 = ($4 - ot3[_3]) / 3, lt3[`cp1${_3}`] = $4 - st3, lt3[`cp1${O3}`] = gt2 - st3 * g3[ut3]), ct3 && (st3 = (ct3[_3] - $4) / 3, lt3[`cp2${_3}`] = $4 + st3, lt3[`cp2${O3}`] = gt2 + st3 * g3[ut3]);
    }
  }(d2, st2, g2);
}
function capControlPoint(d2, g2, _2) {
  return Math.max(Math.min(d2, _2), g2);
}
function _updateBezierControlPoints(d2, g2, _2, O2, $2) {
  let st2, ot2, lt2, ct2;
  if (g2.spanGaps && (d2 = d2.filter((d3) => !d3.skip)), "monotone" === g2.cubicInterpolationMode) splineCurveMonotone(d2, $2);
  else {
    let _3 = O2 ? d2[d2.length - 1] : d2[0];
    for (st2 = 0, ot2 = d2.length; st2 < ot2; ++st2) lt2 = d2[st2], ct2 = splineCurve(_3, lt2, d2[Math.min(st2 + 1, ot2 - (O2 ? 0 : 1)) % ot2], g2.tension), lt2.cp1x = ct2.previous.x, lt2.cp1y = ct2.previous.y, lt2.cp2x = ct2.next.x, lt2.cp2y = ct2.next.y, _3 = lt2;
  }
  g2.capBezierPoints && function capBezierPoints(d3, g3) {
    let _3, O3, $3, st3, ot3, lt3 = _isPointInArea(d3[0], g3);
    for (_3 = 0, O3 = d3.length; _3 < O3; ++_3) ot3 = st3, st3 = lt3, lt3 = _3 < O3 - 1 && _isPointInArea(d3[_3 + 1], g3), st3 && ($3 = d3[_3], ot3 && ($3.cp1x = capControlPoint($3.cp1x, g3.left, g3.right), $3.cp1y = capControlPoint($3.cp1y, g3.top, g3.bottom)), lt3 && ($3.cp2x = capControlPoint($3.cp2x, g3.left, g3.right), $3.cp2y = capControlPoint($3.cp2y, g3.top, g3.bottom)));
  }(d2, _2);
}
function _isDomSupported() {
  return "undefined" != typeof window && "undefined" != typeof document;
}
function _getParentNode(d2) {
  let g2 = d2.parentNode;
  return g2 && "[object ShadowRoot]" === g2.toString() && (g2 = g2.host), g2;
}
function parseMaxStyle(d2, g2, _2) {
  let O2;
  return "string" == typeof d2 ? (O2 = parseInt(d2, 10), -1 !== d2.indexOf("%") && (O2 = O2 / 100 * g2.parentNode[_2])) : O2 = d2, O2;
}
const getComputedStyle$1 = (d2) => d2.ownerDocument.defaultView.getComputedStyle(d2, null);
const jr = ["top", "right", "bottom", "left"];
function getPositionedStyle(d2, g2, _2) {
  const O2 = {};
  _2 = _2 ? "-" + _2 : "";
  for (let $2 = 0; $2 < 4; $2++) {
    const st2 = jr[$2];
    O2[st2] = parseFloat(d2[g2 + "-" + st2 + _2]) || 0;
  }
  return O2.width = O2.left + O2.right, O2.height = O2.top + O2.bottom, O2;
}
const useOffsetPos = (d2, g2, _2) => (d2 > 0 || g2 > 0) && (!_2 || !_2.shadowRoot);
function getRelativePosition(d2, g2) {
  if ("native" in d2) return d2;
  const { canvas: _2, currentDevicePixelRatio: O2 } = g2, $2 = getComputedStyle$1(_2), st2 = "border-box" === $2.boxSizing, ot2 = getPositionedStyle($2, "padding"), lt2 = getPositionedStyle($2, "border", "width"), { x: ct2, y: ut2, box: gt2 } = function getCanvasPosition(d3, g3) {
    const _3 = d3.touches, O3 = _3 && _3.length ? _3[0] : d3, { offsetX: $3, offsetY: st3 } = O3;
    let ot3, lt3, ct3 = false;
    if (useOffsetPos($3, st3, d3.target)) ot3 = $3, lt3 = st3;
    else {
      const d4 = g3.getBoundingClientRect();
      ot3 = O3.clientX - d4.left, lt3 = O3.clientY - d4.top, ct3 = true;
    }
    return { x: ot3, y: lt3, box: ct3 };
  }(d2, _2), mt2 = ot2.left + (gt2 && lt2.left), bt2 = ot2.top + (gt2 && lt2.top);
  let { width: yt2, height: wt2 } = g2;
  return st2 && (yt2 -= ot2.width + lt2.width, wt2 -= ot2.height + lt2.height), { x: Math.round((ct2 - mt2) / yt2 * _2.width / O2), y: Math.round((ut2 - bt2) / wt2 * _2.height / O2) };
}
const round1 = (d2) => Math.round(10 * d2) / 10;
function getMaximumSize(d2, g2, _2, O2) {
  const $2 = getComputedStyle$1(d2), st2 = getPositionedStyle($2, "margin"), ot2 = parseMaxStyle($2.maxWidth, d2, "clientWidth") || Tr, lt2 = parseMaxStyle($2.maxHeight, d2, "clientHeight") || Tr, ct2 = function getContainerSize(d3, g3, _3) {
    let O3, $3;
    if (void 0 === g3 || void 0 === _3) {
      const st3 = d3 && _getParentNode(d3);
      if (st3) {
        const d4 = st3.getBoundingClientRect(), ot3 = getComputedStyle$1(st3), lt3 = getPositionedStyle(ot3, "border", "width"), ct3 = getPositionedStyle(ot3, "padding");
        g3 = d4.width - ct3.width - lt3.width, _3 = d4.height - ct3.height - lt3.height, O3 = parseMaxStyle(ot3.maxWidth, st3, "clientWidth"), $3 = parseMaxStyle(ot3.maxHeight, st3, "clientHeight");
      } else g3 = d3.clientWidth, _3 = d3.clientHeight;
    }
    return { width: g3, height: _3, maxWidth: O3 || Tr, maxHeight: $3 || Tr };
  }(d2, g2, _2);
  let { width: ut2, height: gt2 } = ct2;
  if ("content-box" === $2.boxSizing) {
    const d3 = getPositionedStyle($2, "border", "width"), g3 = getPositionedStyle($2, "padding");
    ut2 -= g3.width + d3.width, gt2 -= g3.height + d3.height;
  }
  ut2 = Math.max(0, ut2 - st2.width), gt2 = Math.max(0, O2 ? ut2 / O2 : gt2 - st2.height), ut2 = round1(Math.min(ut2, ot2, ct2.maxWidth)), gt2 = round1(Math.min(gt2, lt2, ct2.maxHeight)), ut2 && !gt2 && (gt2 = round1(ut2 / 2));
  return (void 0 !== g2 || void 0 !== _2) && O2 && ct2.height && gt2 > ct2.height && (gt2 = ct2.height, ut2 = round1(Math.floor(gt2 * O2))), { width: ut2, height: gt2 };
}
function retinaScale(d2, g2, _2) {
  const O2 = g2 || 1, $2 = Math.floor(d2.height * O2), st2 = Math.floor(d2.width * O2);
  d2.height = Math.floor(d2.height), d2.width = Math.floor(d2.width);
  const ot2 = d2.canvas;
  return ot2.style && (_2 || !ot2.style.height && !ot2.style.width) && (ot2.style.height = `${d2.height}px`, ot2.style.width = `${d2.width}px`), (d2.currentDevicePixelRatio !== O2 || ot2.height !== $2 || ot2.width !== st2) && (d2.currentDevicePixelRatio = O2, ot2.height = $2, ot2.width = st2, d2.ctx.setTransform(O2, 0, 0, O2, 0, 0), true);
}
const qr = function() {
  let d2 = false;
  try {
    const g2 = { get passive() {
      return d2 = true, false;
    } };
    _isDomSupported() && (window.addEventListener("test", null, g2), window.removeEventListener("test", null, g2));
  } catch (d3) {
  }
  return d2;
}();
function readUsedSize(d2, g2) {
  const _2 = function getStyle(d3, g3) {
    return getComputedStyle$1(d3).getPropertyValue(g3);
  }(d2, g2), O2 = _2 && _2.match(/^(\d+)(\.\d+)?px$/);
  return O2 ? +O2[1] : void 0;
}
function _pointInLine(d2, g2, _2, O2) {
  return { x: d2.x + _2 * (g2.x - d2.x), y: d2.y + _2 * (g2.y - d2.y) };
}
function _steppedInterpolation(d2, g2, _2, O2) {
  return { x: d2.x + _2 * (g2.x - d2.x), y: "middle" === O2 ? _2 < 0.5 ? d2.y : g2.y : "after" === O2 ? _2 < 1 ? d2.y : g2.y : _2 > 0 ? g2.y : d2.y };
}
function _bezierInterpolation(d2, g2, _2, O2) {
  const $2 = { x: d2.cp2x, y: d2.cp2y }, st2 = { x: g2.cp1x, y: g2.cp1y }, ot2 = _pointInLine(d2, $2, _2), lt2 = _pointInLine($2, st2, _2), ct2 = _pointInLine(st2, g2, _2), ut2 = _pointInLine(ot2, lt2, _2), gt2 = _pointInLine(lt2, ct2, _2);
  return _pointInLine(ut2, gt2, _2);
}
function getRtlAdapter(d2, g2, _2) {
  return d2 ? /* @__PURE__ */ function(d3, g3) {
    return { x: (_3) => d3 + d3 + g3 - _3, setWidth(d4) {
      g3 = d4;
    }, textAlign: (d4) => "center" === d4 ? d4 : "right" === d4 ? "left" : "right", xPlus: (d4, g4) => d4 - g4, leftForLtr: (d4, g4) => d4 - g4 };
  }(g2, _2) : { x: (d3) => d3, setWidth(d3) {
  }, textAlign: (d3) => d3, xPlus: (d3, g3) => d3 + g3, leftForLtr: (d3, g3) => d3 };
}
function overrideTextDirection(d2, g2) {
  let _2, O2;
  "ltr" !== g2 && "rtl" !== g2 || (_2 = d2.canvas.style, O2 = [_2.getPropertyValue("direction"), _2.getPropertyPriority("direction")], _2.setProperty("direction", g2, "important"), d2.prevTextDirection = O2);
}
function restoreTextDirection(d2, g2) {
  void 0 !== g2 && (delete d2.prevTextDirection, d2.canvas.style.setProperty("direction", g2[0], g2[1]));
}
function propertyFn(d2) {
  return "angle" === d2 ? { between: _angleBetween, compare: _angleDiff, normalize: _normalizeAngle } : { between: _isBetween, compare: (d3, g2) => d3 - g2, normalize: (d3) => d3 };
}
function normalizeSegment({ start: d2, end: g2, count: _2, loop: O2, style: $2 }) {
  return { start: d2 % _2, end: g2 % _2, loop: O2 && (g2 - d2 + 1) % _2 == 0, style: $2 };
}
function _boundSegment(d2, g2, _2) {
  if (!_2) return [d2];
  const { property: O2, start: $2, end: st2 } = _2, ot2 = g2.length, { compare: lt2, between: ct2, normalize: ut2 } = propertyFn(O2), { start: gt2, end: mt2, loop: bt2, style: yt2 } = function getSegment(d3, g3, _3) {
    const { property: O3, start: $3, end: st3 } = _3, { between: ot3, normalize: lt3 } = propertyFn(O3), ct3 = g3.length;
    let ut3, gt3, { start: mt3, end: bt3, loop: yt3 } = d3;
    if (yt3) {
      for (mt3 += ct3, bt3 += ct3, ut3 = 0, gt3 = ct3; ut3 < gt3 && ot3(lt3(g3[mt3 % ct3][O3]), $3, st3); ++ut3) mt3--, bt3--;
      mt3 %= ct3, bt3 %= ct3;
    }
    return bt3 < mt3 && (bt3 += ct3), { start: mt3, end: bt3, loop: yt3, style: d3.style };
  }(d2, g2, _2), wt2 = [];
  let Pt2, At2, St2, Mt2 = false, Vt2 = null;
  const shouldStart = () => Mt2 || ct2($2, St2, Pt2) && 0 !== lt2($2, St2), shouldStop = () => !Mt2 || 0 === lt2(st2, Pt2) || ct2(st2, St2, Pt2);
  for (let d3 = gt2, _3 = gt2; d3 <= mt2; ++d3) At2 = g2[d3 % ot2], At2.skip || (Pt2 = ut2(At2[O2]), Pt2 !== St2 && (Mt2 = ct2(Pt2, $2, st2), null === Vt2 && shouldStart() && (Vt2 = 0 === lt2(Pt2, $2) ? d3 : _3), null !== Vt2 && shouldStop() && (wt2.push(normalizeSegment({ start: Vt2, end: d3, loop: bt2, count: ot2, style: yt2 })), Vt2 = null), _3 = d3, St2 = Pt2));
  return null !== Vt2 && wt2.push(normalizeSegment({ start: Vt2, end: mt2, loop: bt2, count: ot2, style: yt2 })), wt2;
}
function _boundSegments(d2, g2) {
  const _2 = [], O2 = d2.segments;
  for (let $2 = 0; $2 < O2.length; $2++) {
    const st2 = _boundSegment(O2[$2], d2.points, g2);
    st2.length && _2.push(...st2);
  }
  return _2;
}
function splitByStyles(d2, g2, _2, O2) {
  return O2 && O2.setContext && _2 ? function doSplitByStyles(d3, g3, _3, O3) {
    const $2 = d3._chart.getContext(), st2 = readStyle(d3.options), { _datasetIndex: ot2, options: { spanGaps: lt2 } } = d3, ct2 = _3.length, ut2 = [];
    let gt2 = st2, mt2 = g3[0].start, bt2 = mt2;
    function addStyle(d4, g4, O4, $3) {
      const st3 = lt2 ? -1 : 1;
      if (d4 !== g4) {
        for (d4 += ct2; _3[d4 % ct2].skip; ) d4 -= st3;
        for (; _3[g4 % ct2].skip; ) g4 += st3;
        d4 % ct2 != g4 % ct2 && (ut2.push({ start: d4 % ct2, end: g4 % ct2, loop: O4, style: $3 }), gt2 = $3, mt2 = g4 % ct2);
      }
    }
    for (const d4 of g3) {
      mt2 = lt2 ? mt2 : d4.start;
      let g4, st3 = _3[mt2 % ct2];
      for (bt2 = mt2 + 1; bt2 <= d4.end; bt2++) {
        const lt3 = _3[bt2 % ct2];
        g4 = readStyle(O3.setContext(createContext($2, { type: "segment", p0: st3, p1: lt3, p0DataIndex: (bt2 - 1) % ct2, p1DataIndex: bt2 % ct2, datasetIndex: ot2 }))), styleChanged(g4, gt2) && addStyle(mt2, bt2 - 1, d4.loop, gt2), st3 = lt3, gt2 = g4;
      }
      mt2 < bt2 - 1 && addStyle(mt2, bt2 - 1, d4.loop, gt2);
    }
    return ut2;
  }(d2, g2, _2, O2) : g2;
}
function readStyle(d2) {
  return { backgroundColor: d2.backgroundColor, borderCapStyle: d2.borderCapStyle, borderDash: d2.borderDash, borderDashOffset: d2.borderDashOffset, borderJoinStyle: d2.borderJoinStyle, borderWidth: d2.borderWidth, borderColor: d2.borderColor };
}
function styleChanged(d2, g2) {
  if (!g2) return false;
  const _2 = [], replacer = function(d3, g3) {
    return isPatternOrGradient(g3) ? (_2.includes(g3) || _2.push(g3), _2.indexOf(g3)) : g3;
  };
  return JSON.stringify(d2, replacer) !== JSON.stringify(g2, replacer);
}
class Animator {
  constructor() {
    this._request = null, this._charts = /* @__PURE__ */ new Map(), this._running = false, this._lastDate = void 0;
  }
  _notify(d2, g2, _2, O2) {
    const $2 = g2.listeners[O2], st2 = g2.duration;
    $2.forEach((O3) => O3({ chart: d2, initial: g2.initial, numSteps: st2, currentStep: Math.min(_2 - g2.start, st2) }));
  }
  _refresh() {
    this._request || (this._running = true, this._request = Cr.call(window, () => {
      this._update(), this._request = null, this._running && this._refresh();
    }));
  }
  _update(d2 = Date.now()) {
    let g2 = 0;
    this._charts.forEach((_2, O2) => {
      if (!_2.running || !_2.items.length) return;
      const $2 = _2.items;
      let st2, ot2 = $2.length - 1, lt2 = false;
      for (; ot2 >= 0; --ot2) st2 = $2[ot2], st2._active ? (st2._total > _2.duration && (_2.duration = st2._total), st2.tick(d2), lt2 = true) : ($2[ot2] = $2[$2.length - 1], $2.pop());
      lt2 && (O2.draw(), this._notify(O2, _2, d2, "progress")), $2.length || (_2.running = false, this._notify(O2, _2, d2, "complete"), _2.initial = false), g2 += $2.length;
    }), this._lastDate = d2, 0 === g2 && (this._running = false);
  }
  _getAnims(d2) {
    const g2 = this._charts;
    let _2 = g2.get(d2);
    return _2 || (_2 = { running: false, initial: true, items: [], listeners: { complete: [], progress: [] } }, g2.set(d2, _2)), _2;
  }
  listen(d2, g2, _2) {
    this._getAnims(d2).listeners[g2].push(_2);
  }
  add(d2, g2) {
    g2 && g2.length && this._getAnims(d2).items.push(...g2);
  }
  has(d2) {
    return this._getAnims(d2).items.length > 0;
  }
  start(d2) {
    const g2 = this._charts.get(d2);
    g2 && (g2.running = true, g2.start = Date.now(), g2.duration = g2.items.reduce((d3, g3) => Math.max(d3, g3._duration), 0), this._refresh());
  }
  running(d2) {
    if (!this._running) return false;
    const g2 = this._charts.get(d2);
    return !!(g2 && g2.running && g2.items.length);
  }
  stop(d2) {
    const g2 = this._charts.get(d2);
    if (!g2 || !g2.items.length) return;
    const _2 = g2.items;
    let O2 = _2.length - 1;
    for (; O2 >= 0; --O2) _2[O2].cancel();
    g2.items = [], this._notify(d2, g2, Date.now(), "complete");
  }
  remove(d2) {
    return this._charts.delete(d2);
  }
}
var Hr = new Animator();
const Kr = "transparent", Gr = { boolean: (d2, g2, _2) => _2 > 0.5 ? g2 : d2, color(d2, g2, _2) {
  const O2 = color(d2 || Kr), $2 = O2.valid && color(g2 || Kr);
  return $2 && $2.valid ? $2.mix(O2, _2).hexString() : g2;
}, number: (d2, g2, _2) => d2 + (g2 - d2) * _2 };
class Animation {
  constructor(d2, g2, _2, O2) {
    const $2 = g2[_2];
    O2 = resolve([d2.to, O2, $2, d2.from]);
    const st2 = resolve([d2.from, $2, O2]);
    this._active = true, this._fn = d2.fn || Gr[d2.type || typeof st2], this._easing = Mr[d2.easing] || Mr.linear, this._start = Math.floor(Date.now() + (d2.delay || 0)), this._duration = this._total = Math.floor(d2.duration), this._loop = !!d2.loop, this._target = g2, this._prop = _2, this._from = st2, this._to = O2, this._promises = void 0;
  }
  active() {
    return this._active;
  }
  update(d2, g2, _2) {
    if (this._active) {
      this._notify(false);
      const O2 = this._target[this._prop], $2 = _2 - this._start, st2 = this._duration - $2;
      this._start = _2, this._duration = Math.floor(Math.max(st2, d2.duration)), this._total += $2, this._loop = !!d2.loop, this._to = resolve([d2.to, g2, O2, d2.from]), this._from = resolve([d2.from, O2, g2]);
    }
  }
  cancel() {
    this._active && (this.tick(Date.now()), this._active = false, this._notify(false));
  }
  tick(d2) {
    const g2 = d2 - this._start, _2 = this._duration, O2 = this._prop, $2 = this._from, st2 = this._loop, ot2 = this._to;
    let lt2;
    if (this._active = $2 !== ot2 && (st2 || g2 < _2), !this._active) return this._target[O2] = ot2, void this._notify(true);
    g2 < 0 ? this._target[O2] = $2 : (lt2 = g2 / _2 % 2, lt2 = st2 && lt2 > 1 ? 2 - lt2 : lt2, lt2 = this._easing(Math.min(1, Math.max(0, lt2))), this._target[O2] = this._fn($2, ot2, lt2));
  }
  wait() {
    const d2 = this._promises || (this._promises = []);
    return new Promise((g2, _2) => {
      d2.push({ res: g2, rej: _2 });
    });
  }
  _notify(d2) {
    const g2 = d2 ? "res" : "rej", _2 = this._promises || [];
    for (let d3 = 0; d3 < _2.length; d3++) _2[d3][g2]();
  }
}
class Animations {
  constructor(d2, g2) {
    this._chart = d2, this._properties = /* @__PURE__ */ new Map(), this.configure(g2);
  }
  configure(d2) {
    if (!isObject$1(d2)) return;
    const g2 = Object.keys(zr.animation), _2 = this._properties;
    Object.getOwnPropertyNames(d2).forEach((O2) => {
      const $2 = d2[O2];
      if (!isObject$1($2)) return;
      const st2 = {};
      for (const d3 of g2) st2[d3] = $2[d3];
      (isArray$1($2.properties) && $2.properties || [O2]).forEach((d3) => {
        d3 !== O2 && _2.has(d3) || _2.set(d3, st2);
      });
    });
  }
  _animateOptions(d2, g2) {
    const _2 = g2.options, O2 = function resolveTargetOptions(d3, g3) {
      if (!g3) return;
      let _3 = d3.options;
      if (!_3) return void (d3.options = g3);
      _3.$shared && (d3.options = _3 = Object.assign({}, _3, { $shared: false, $animations: {} }));
      return _3;
    }(d2, _2);
    if (!O2) return [];
    const $2 = this._createAnimations(O2, _2);
    return _2.$shared && function awaitAll(d3, g3) {
      const _3 = [], O3 = Object.keys(g3);
      for (let g4 = 0; g4 < O3.length; g4++) {
        const $3 = d3[O3[g4]];
        $3 && $3.active() && _3.push($3.wait());
      }
      return Promise.all(_3);
    }(d2.options.$animations, _2).then(() => {
      d2.options = _2;
    }, () => {
    }), $2;
  }
  _createAnimations(d2, g2) {
    const _2 = this._properties, O2 = [], $2 = d2.$animations || (d2.$animations = {}), st2 = Object.keys(g2), ot2 = Date.now();
    let lt2;
    for (lt2 = st2.length - 1; lt2 >= 0; --lt2) {
      const ct2 = st2[lt2];
      if ("$" === ct2.charAt(0)) continue;
      if ("options" === ct2) {
        O2.push(...this._animateOptions(d2, g2));
        continue;
      }
      const ut2 = g2[ct2];
      let gt2 = $2[ct2];
      const mt2 = _2.get(ct2);
      if (gt2) {
        if (mt2 && gt2.active()) {
          gt2.update(mt2, ut2, ot2);
          continue;
        }
        gt2.cancel();
      }
      mt2 && mt2.duration ? ($2[ct2] = gt2 = new Animation(mt2, d2, ct2, ut2), O2.push(gt2)) : d2[ct2] = ut2;
    }
    return O2;
  }
  update(d2, g2) {
    if (0 === this._properties.size) return void Object.assign(d2, g2);
    const _2 = this._createAnimations(d2, g2);
    return _2.length ? (Hr.add(this._chart, _2), true) : void 0;
  }
}
function scaleClip(d2, g2) {
  const _2 = d2 && d2.options || {}, O2 = _2.reverse, $2 = void 0 === _2.min ? g2 : 0, st2 = void 0 === _2.max ? g2 : 0;
  return { start: O2 ? st2 : $2, end: O2 ? $2 : st2 };
}
function getSortedDatasetIndices(d2, g2) {
  const _2 = [], O2 = d2._getSortedDatasetMetas(g2);
  let $2, st2;
  for ($2 = 0, st2 = O2.length; $2 < st2; ++$2) _2.push(O2[$2].index);
  return _2;
}
function applyStack(d2, g2, _2, O2 = {}) {
  const $2 = d2.keys, st2 = "single" === O2.mode;
  let ot2, lt2, ct2, ut2;
  if (null !== g2) {
    for (ot2 = 0, lt2 = $2.length; ot2 < lt2; ++ot2) {
      if (ct2 = +$2[ot2], ct2 === _2) {
        if (O2.all) continue;
        break;
      }
      ut2 = d2.values[ct2], isNumberFinite(ut2) && (st2 || 0 === g2 || kr(g2) === kr(ut2)) && (g2 += ut2);
    }
    return g2;
  }
}
function isStacked(d2, g2) {
  const _2 = d2 && d2.options.stacked;
  return _2 || void 0 === _2 && void 0 !== g2.stack;
}
function getOrCreateStack(d2, g2, _2) {
  const O2 = d2[g2] || (d2[g2] = {});
  return O2[_2] || (O2[_2] = {});
}
function getLastIndexInStack(d2, g2, _2, O2) {
  for (const $2 of g2.getMatchingVisibleMetas(O2).reverse()) {
    const g3 = d2[$2.index];
    if (_2 && g3 > 0 || !_2 && g3 < 0) return $2.index;
  }
  return null;
}
function updateStacks(d2, g2) {
  const { chart: _2, _cachedMeta: O2 } = d2, $2 = _2._stacks || (_2._stacks = {}), { iScale: st2, vScale: ot2, index: lt2 } = O2, ct2 = st2.axis, ut2 = ot2.axis, gt2 = function getStackKey(d3, g3, _3) {
    return `${d3.id}.${g3.id}.${_3.stack || _3.type}`;
  }(st2, ot2, O2), mt2 = g2.length;
  let bt2;
  for (let d3 = 0; d3 < mt2; ++d3) {
    const _3 = g2[d3], { [ct2]: st3, [ut2]: mt3 } = _3;
    bt2 = (_3._stacks || (_3._stacks = {}))[ut2] = getOrCreateStack($2, gt2, st3), bt2[lt2] = mt3, bt2._top = getLastIndexInStack(bt2, ot2, true, O2.type), bt2._bottom = getLastIndexInStack(bt2, ot2, false, O2.type);
    (bt2._visualValues || (bt2._visualValues = {}))[lt2] = mt3;
  }
}
function getFirstScaleId(d2, g2) {
  const _2 = d2.scales;
  return Object.keys(_2).filter((d3) => _2[d3].axis === g2).shift();
}
function clearStacks(d2, g2) {
  const _2 = d2.controller.index, O2 = d2.vScale && d2.vScale.axis;
  if (O2) {
    g2 = g2 || d2._parsed;
    for (const d3 of g2) {
      const g3 = d3._stacks;
      if (!g3 || void 0 === g3[O2] || void 0 === g3[O2][_2]) return;
      delete g3[O2][_2], void 0 !== g3[O2]._visualValues && void 0 !== g3[O2]._visualValues[_2] && delete g3[O2]._visualValues[_2];
    }
  }
}
const isDirectUpdateMode = (d2) => "reset" === d2 || "none" === d2, cloneIfNotShared = (d2, g2) => g2 ? d2 : Object.assign({}, d2);
class DatasetController {
  constructor(d2, g2) {
    this.chart = d2, this._ctx = d2.ctx, this.index = g2, this._cachedDataOpts = {}, this._cachedMeta = this.getMeta(), this._type = this._cachedMeta.type, this.options = void 0, this._parsing = false, this._data = void 0, this._objectData = void 0, this._sharedOptions = void 0, this._drawStart = void 0, this._drawCount = void 0, this.enableOptionSharing = false, this.supportsDecimation = false, this.$context = void 0, this._syncList = [], this.datasetElementType = new.target.datasetElementType, this.dataElementType = new.target.dataElementType, this.initialize();
  }
  initialize() {
    const d2 = this._cachedMeta;
    this.configure(), this.linkScales(), d2._stacked = isStacked(d2.vScale, d2), this.addElements(), this.options.fill && !this.chart.isPluginEnabled("filler") && console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options");
  }
  updateIndex(d2) {
    this.index !== d2 && clearStacks(this._cachedMeta), this.index = d2;
  }
  linkScales() {
    const d2 = this.chart, g2 = this._cachedMeta, _2 = this.getDataset(), chooseId = (d3, g3, _3, O3) => "x" === d3 ? g3 : "r" === d3 ? O3 : _3, O2 = g2.xAxisID = valueOrDefault(_2.xAxisID, getFirstScaleId(d2, "x")), $2 = g2.yAxisID = valueOrDefault(_2.yAxisID, getFirstScaleId(d2, "y")), st2 = g2.rAxisID = valueOrDefault(_2.rAxisID, getFirstScaleId(d2, "r")), ot2 = g2.indexAxis, lt2 = g2.iAxisID = chooseId(ot2, O2, $2, st2), ct2 = g2.vAxisID = chooseId(ot2, $2, O2, st2);
    g2.xScale = this.getScaleForId(O2), g2.yScale = this.getScaleForId($2), g2.rScale = this.getScaleForId(st2), g2.iScale = this.getScaleForId(lt2), g2.vScale = this.getScaleForId(ct2);
  }
  getDataset() {
    return this.chart.data.datasets[this.index];
  }
  getMeta() {
    return this.chart.getDatasetMeta(this.index);
  }
  getScaleForId(d2) {
    return this.chart.scales[d2];
  }
  _getOtherScale(d2) {
    const g2 = this._cachedMeta;
    return d2 === g2.iScale ? g2.vScale : g2.iScale;
  }
  reset() {
    this._update("reset");
  }
  _destroy() {
    const d2 = this._cachedMeta;
    this._data && unlistenArrayEvents(this._data, this), d2._stacked && clearStacks(d2);
  }
  _dataCheck() {
    const d2 = this.getDataset(), g2 = d2.data || (d2.data = []), _2 = this._data;
    if (isObject$1(g2)) {
      const d3 = this._cachedMeta;
      this._data = function convertObjectDataToArray(d4, g3) {
        const { iScale: _3, vScale: O2 } = g3, $2 = "x" === _3.axis ? "x" : "y", st2 = "x" === O2.axis ? "x" : "y", ot2 = Object.keys(d4), lt2 = new Array(ot2.length);
        let ct2, ut2, gt2;
        for (ct2 = 0, ut2 = ot2.length; ct2 < ut2; ++ct2) gt2 = ot2[ct2], lt2[ct2] = { [$2]: gt2, [st2]: d4[gt2] };
        return lt2;
      }(g2, d3);
    } else if (_2 !== g2) {
      if (_2) {
        unlistenArrayEvents(_2, this);
        const d3 = this._cachedMeta;
        clearStacks(d3), d3._parsed = [];
      }
      g2 && Object.isExtensible(g2) && function listenArrayEvents(d3, g3) {
        d3._chartjs ? d3._chartjs.listeners.push(g3) : (Object.defineProperty(d3, "_chartjs", { configurable: true, enumerable: false, value: { listeners: [g3] } }), Sr.forEach((g4) => {
          const _3 = "_onData" + _capitalize(g4), O2 = d3[g4];
          Object.defineProperty(d3, g4, { configurable: true, enumerable: false, value(...g5) {
            const $2 = O2.apply(this, g5);
            return d3._chartjs.listeners.forEach((d4) => {
              "function" == typeof d4[_3] && d4[_3](...g5);
            }), $2;
          } });
        }));
      }(g2, this), this._syncList = [], this._data = g2;
    }
  }
  addElements() {
    const d2 = this._cachedMeta;
    this._dataCheck(), this.datasetElementType && (d2.dataset = new this.datasetElementType());
  }
  buildOrUpdateElements(d2) {
    const g2 = this._cachedMeta, _2 = this.getDataset();
    let O2 = false;
    this._dataCheck();
    const $2 = g2._stacked;
    g2._stacked = isStacked(g2.vScale, g2), g2.stack !== _2.stack && (O2 = true, clearStacks(g2), g2.stack = _2.stack), this._resyncElements(d2), (O2 || $2 !== g2._stacked) && updateStacks(this, g2._parsed);
  }
  configure() {
    const d2 = this.chart.config, g2 = d2.datasetScopeKeys(this._type), _2 = d2.getOptionScopes(this.getDataset(), g2, true);
    this.options = d2.createResolver(_2, this.getContext()), this._parsing = this.options.parsing, this._cachedDataOpts = {};
  }
  parse(d2, g2) {
    const { _cachedMeta: _2, _data: O2 } = this, { iScale: $2, _stacked: st2 } = _2, ot2 = $2.axis;
    let lt2, ct2, ut2, gt2 = 0 === d2 && g2 === O2.length || _2._sorted, mt2 = d2 > 0 && _2._parsed[d2 - 1];
    if (false === this._parsing) _2._parsed = O2, _2._sorted = true, ut2 = O2;
    else {
      ut2 = isArray$1(O2[d2]) ? this.parseArrayData(_2, O2, d2, g2) : isObject$1(O2[d2]) ? this.parseObjectData(_2, O2, d2, g2) : this.parsePrimitiveData(_2, O2, d2, g2);
      const isNotInOrderComparedToPrev = () => null === ct2[ot2] || mt2 && ct2[ot2] < mt2[ot2];
      for (lt2 = 0; lt2 < g2; ++lt2) _2._parsed[lt2 + d2] = ct2 = ut2[lt2], gt2 && (isNotInOrderComparedToPrev() && (gt2 = false), mt2 = ct2);
      _2._sorted = gt2;
    }
    st2 && updateStacks(this, ut2);
  }
  parsePrimitiveData(d2, g2, _2, O2) {
    const { iScale: $2, vScale: st2 } = d2, ot2 = $2.axis, lt2 = st2.axis, ct2 = $2.getLabels(), ut2 = $2 === st2, gt2 = new Array(O2);
    let mt2, bt2, yt2;
    for (mt2 = 0, bt2 = O2; mt2 < bt2; ++mt2) yt2 = mt2 + _2, gt2[mt2] = { [ot2]: ut2 || $2.parse(ct2[yt2], yt2), [lt2]: st2.parse(g2[yt2], yt2) };
    return gt2;
  }
  parseArrayData(d2, g2, _2, O2) {
    const { xScale: $2, yScale: st2 } = d2, ot2 = new Array(O2);
    let lt2, ct2, ut2, gt2;
    for (lt2 = 0, ct2 = O2; lt2 < ct2; ++lt2) ut2 = lt2 + _2, gt2 = g2[ut2], ot2[lt2] = { x: $2.parse(gt2[0], ut2), y: st2.parse(gt2[1], ut2) };
    return ot2;
  }
  parseObjectData(d2, g2, _2, O2) {
    const { xScale: $2, yScale: st2 } = d2, { xAxisKey: ot2 = "x", yAxisKey: lt2 = "y" } = this._parsing, ct2 = new Array(O2);
    let ut2, gt2, mt2, bt2;
    for (ut2 = 0, gt2 = O2; ut2 < gt2; ++ut2) mt2 = ut2 + _2, bt2 = g2[mt2], ct2[ut2] = { x: $2.parse(resolveObjectKey(bt2, ot2), mt2), y: st2.parse(resolveObjectKey(bt2, lt2), mt2) };
    return ct2;
  }
  getParsed(d2) {
    return this._cachedMeta._parsed[d2];
  }
  getDataElement(d2) {
    return this._cachedMeta.data[d2];
  }
  applyStack(d2, g2, _2) {
    const O2 = this.chart, $2 = this._cachedMeta, st2 = g2[d2.axis];
    return applyStack({ keys: getSortedDatasetIndices(O2, true), values: g2._stacks[d2.axis]._visualValues }, st2, $2.index, { mode: _2 });
  }
  updateRangeFromParsed(d2, g2, _2, O2) {
    const $2 = _2[g2.axis];
    let st2 = null === $2 ? NaN : $2;
    const ot2 = O2 && _2._stacks[g2.axis];
    O2 && ot2 && (O2.values = ot2, st2 = applyStack(O2, $2, this._cachedMeta.index)), d2.min = Math.min(d2.min, st2), d2.max = Math.max(d2.max, st2);
  }
  getMinMax(d2, g2) {
    const _2 = this._cachedMeta, O2 = _2._parsed, $2 = _2._sorted && d2 === _2.iScale, st2 = O2.length, ot2 = this._getOtherScale(d2), lt2 = ((d3, g3, _3) => d3 && !g3.hidden && g3._stacked && { keys: getSortedDatasetIndices(_3, true), values: null })(g2, _2, this.chart), ct2 = { min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY }, { min: ut2, max: gt2 } = function getUserBounds(d3) {
      const { min: g3, max: _3, minDefined: O3, maxDefined: $3 } = d3.getUserBounds();
      return { min: O3 ? g3 : Number.NEGATIVE_INFINITY, max: $3 ? _3 : Number.POSITIVE_INFINITY };
    }(ot2);
    let mt2, bt2;
    function _skip() {
      bt2 = O2[mt2];
      const g3 = bt2[ot2.axis];
      return !isNumberFinite(bt2[d2.axis]) || ut2 > g3 || gt2 < g3;
    }
    for (mt2 = 0; mt2 < st2 && (_skip() || (this.updateRangeFromParsed(ct2, d2, bt2, lt2), !$2)); ++mt2) ;
    if ($2) {
      for (mt2 = st2 - 1; mt2 >= 0; --mt2) if (!_skip()) {
        this.updateRangeFromParsed(ct2, d2, bt2, lt2);
        break;
      }
    }
    return ct2;
  }
  getAllParsedValues(d2) {
    const g2 = this._cachedMeta._parsed, _2 = [];
    let O2, $2, st2;
    for (O2 = 0, $2 = g2.length; O2 < $2; ++O2) st2 = g2[O2][d2.axis], isNumberFinite(st2) && _2.push(st2);
    return _2;
  }
  getMaxOverflow() {
    return false;
  }
  getLabelAndValue(d2) {
    const g2 = this._cachedMeta, _2 = g2.iScale, O2 = g2.vScale, $2 = this.getParsed(d2);
    return { label: _2 ? "" + _2.getLabelForValue($2[_2.axis]) : "", value: O2 ? "" + O2.getLabelForValue($2[O2.axis]) : "" };
  }
  _update(d2) {
    const g2 = this._cachedMeta;
    this.update(d2 || "default"), g2._clip = function toClip(d3) {
      let g3, _2, O2, $2;
      return isObject$1(d3) ? (g3 = d3.top, _2 = d3.right, O2 = d3.bottom, $2 = d3.left) : g3 = _2 = O2 = $2 = d3, { top: g3, right: _2, bottom: O2, left: $2, disabled: false === d3 };
    }(valueOrDefault(this.options.clip, function defaultClip(d3, g3, _2) {
      if (false === _2) return false;
      const O2 = scaleClip(d3, _2), $2 = scaleClip(g3, _2);
      return { top: $2.end, right: O2.end, bottom: $2.start, left: O2.start };
    }(g2.xScale, g2.yScale, this.getMaxOverflow())));
  }
  update(d2) {
  }
  draw() {
    const d2 = this._ctx, g2 = this.chart, _2 = this._cachedMeta, O2 = _2.data || [], $2 = g2.chartArea, st2 = [], ot2 = this._drawStart || 0, lt2 = this._drawCount || O2.length - ot2, ct2 = this.options.drawActiveElementsOnTop;
    let ut2;
    for (_2.dataset && _2.dataset.draw(d2, $2, ot2, lt2), ut2 = ot2; ut2 < ot2 + lt2; ++ut2) {
      const g3 = O2[ut2];
      g3.hidden || (g3.active && ct2 ? st2.push(g3) : g3.draw(d2, $2));
    }
    for (ut2 = 0; ut2 < st2.length; ++ut2) st2[ut2].draw(d2, $2);
  }
  getStyle(d2, g2) {
    const _2 = g2 ? "active" : "default";
    return void 0 === d2 && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(_2) : this.resolveDataElementOptions(d2 || 0, _2);
  }
  getContext(d2, g2, _2) {
    const O2 = this.getDataset();
    let $2;
    if (d2 >= 0 && d2 < this._cachedMeta.data.length) {
      const g3 = this._cachedMeta.data[d2];
      $2 = g3.$context || (g3.$context = function createDataContext(d3, g4, _3) {
        return createContext(d3, { active: false, dataIndex: g4, parsed: void 0, raw: void 0, element: _3, index: g4, mode: "default", type: "data" });
      }(this.getContext(), d2, g3)), $2.parsed = this.getParsed(d2), $2.raw = O2.data[d2], $2.index = $2.dataIndex = d2;
    } else $2 = this.$context || (this.$context = function createDatasetContext(d3, g3) {
      return createContext(d3, { active: false, dataset: void 0, datasetIndex: g3, index: g3, mode: "default", type: "dataset" });
    }(this.chart.getContext(), this.index)), $2.dataset = O2, $2.index = $2.datasetIndex = this.index;
    return $2.active = !!g2, $2.mode = _2, $2;
  }
  resolveDatasetElementOptions(d2) {
    return this._resolveElementOptions(this.datasetElementType.id, d2);
  }
  resolveDataElementOptions(d2, g2) {
    return this._resolveElementOptions(this.dataElementType.id, g2, d2);
  }
  _resolveElementOptions(d2, g2 = "default", _2) {
    const O2 = "active" === g2, $2 = this._cachedDataOpts, st2 = d2 + "-" + g2, ot2 = $2[st2], lt2 = this.enableOptionSharing && defined(_2);
    if (ot2) return cloneIfNotShared(ot2, lt2);
    const ct2 = this.chart.config, ut2 = ct2.datasetElementScopeKeys(this._type, d2), gt2 = O2 ? [`${d2}Hover`, "hover", d2, ""] : [d2, ""], mt2 = ct2.getOptionScopes(this.getDataset(), ut2), bt2 = Object.keys(zr.elements[d2]), yt2 = ct2.resolveNamedOptions(mt2, bt2, () => this.getContext(_2, O2, g2), gt2);
    return yt2.$shared && (yt2.$shared = lt2, $2[st2] = Object.freeze(cloneIfNotShared(yt2, lt2))), yt2;
  }
  _resolveAnimations(d2, g2, _2) {
    const O2 = this.chart, $2 = this._cachedDataOpts, st2 = `animation-${g2}`, ot2 = $2[st2];
    if (ot2) return ot2;
    let lt2;
    if (false !== O2.options.animation) {
      const O3 = this.chart.config, $3 = O3.datasetAnimationScopeKeys(this._type, g2), st3 = O3.getOptionScopes(this.getDataset(), $3);
      lt2 = O3.createResolver(st3, this.getContext(d2, _2, g2));
    }
    const ct2 = new Animations(O2, lt2 && lt2.animations);
    return lt2 && lt2._cacheable && ($2[st2] = Object.freeze(ct2)), ct2;
  }
  getSharedOptions(d2) {
    if (d2.$shared) return this._sharedOptions || (this._sharedOptions = Object.assign({}, d2));
  }
  includeOptions(d2, g2) {
    return !g2 || isDirectUpdateMode(d2) || this.chart._animationsDisabled;
  }
  _getSharedOptions(d2, g2) {
    const _2 = this.resolveDataElementOptions(d2, g2), O2 = this._sharedOptions, $2 = this.getSharedOptions(_2), st2 = this.includeOptions(g2, $2) || $2 !== O2;
    return this.updateSharedOptions($2, g2, _2), { sharedOptions: $2, includeOptions: st2 };
  }
  updateElement(d2, g2, _2, O2) {
    isDirectUpdateMode(O2) ? Object.assign(d2, _2) : this._resolveAnimations(g2, O2).update(d2, _2);
  }
  updateSharedOptions(d2, g2, _2) {
    d2 && !isDirectUpdateMode(g2) && this._resolveAnimations(void 0, g2).update(d2, _2);
  }
  _setStyle(d2, g2, _2, O2) {
    d2.active = O2;
    const $2 = this.getStyle(g2, O2);
    this._resolveAnimations(g2, _2, O2).update(d2, { options: !O2 && this.getSharedOptions($2) || $2 });
  }
  removeHoverStyle(d2, g2, _2) {
    this._setStyle(d2, _2, "active", false);
  }
  setHoverStyle(d2, g2, _2) {
    this._setStyle(d2, _2, "active", true);
  }
  _removeDatasetHoverStyle() {
    const d2 = this._cachedMeta.dataset;
    d2 && this._setStyle(d2, void 0, "active", false);
  }
  _setDatasetHoverStyle() {
    const d2 = this._cachedMeta.dataset;
    d2 && this._setStyle(d2, void 0, "active", true);
  }
  _resyncElements(d2) {
    const g2 = this._data, _2 = this._cachedMeta.data;
    for (const [d3, g3, _3] of this._syncList) this[d3](g3, _3);
    this._syncList = [];
    const O2 = _2.length, $2 = g2.length, st2 = Math.min($2, O2);
    st2 && this.parse(0, st2), $2 > O2 ? this._insertElements(O2, $2 - O2, d2) : $2 < O2 && this._removeElements($2, O2 - $2);
  }
  _insertElements(d2, g2, _2 = true) {
    const O2 = this._cachedMeta, $2 = O2.data, st2 = d2 + g2;
    let ot2;
    const move2 = (d3) => {
      for (d3.length += g2, ot2 = d3.length - 1; ot2 >= st2; ot2--) d3[ot2] = d3[ot2 - g2];
    };
    for (move2($2), ot2 = d2; ot2 < st2; ++ot2) $2[ot2] = new this.dataElementType();
    this._parsing && move2(O2._parsed), this.parse(d2, g2), _2 && this.updateElements($2, d2, g2, "reset");
  }
  updateElements(d2, g2, _2, O2) {
  }
  _removeElements(d2, g2) {
    const _2 = this._cachedMeta;
    if (this._parsing) {
      const O2 = _2._parsed.splice(d2, g2);
      _2._stacked && clearStacks(_2, O2);
    }
    _2.data.splice(d2, g2);
  }
  _sync(d2) {
    if (this._parsing) this._syncList.push(d2);
    else {
      const [g2, _2, O2] = d2;
      this[g2](_2, O2);
    }
    this.chart._dataChanges.push([this.index, ...d2]);
  }
  _onDataPush() {
    const d2 = arguments.length;
    this._sync(["_insertElements", this.getDataset().data.length - d2, d2]);
  }
  _onDataPop() {
    this._sync(["_removeElements", this._cachedMeta.data.length - 1, 1]);
  }
  _onDataShift() {
    this._sync(["_removeElements", 0, 1]);
  }
  _onDataSplice(d2, g2) {
    g2 && this._sync(["_removeElements", d2, g2]);
    const _2 = arguments.length - 2;
    _2 && this._sync(["_insertElements", d2, _2]);
  }
  _onDataUnshift() {
    this._sync(["_insertElements", 0, arguments.length]);
  }
}
__publicField(DatasetController, "defaults", {});
__publicField(DatasetController, "datasetElementType", null);
__publicField(DatasetController, "dataElementType", null);
function computeMinSampleSize(d2) {
  const g2 = d2.iScale, _2 = function getAllScaleValues(d3, g3) {
    if (!d3._cache.$bar) {
      const _3 = d3.getMatchingVisibleMetas(g3);
      let O3 = [];
      for (let g4 = 0, $3 = _3.length; g4 < $3; g4++) O3 = O3.concat(_3[g4].controller.getAllParsedValues(d3));
      d3._cache.$bar = _arrayUnique(O3.sort((d4, g4) => d4 - g4));
    }
    return d3._cache.$bar;
  }(g2, d2.type);
  let O2, $2, st2, ot2, lt2 = g2._length;
  const updateMinAndPrev = () => {
    32767 !== st2 && -32768 !== st2 && (defined(ot2) && (lt2 = Math.min(lt2, Math.abs(st2 - ot2) || lt2)), ot2 = st2);
  };
  for (O2 = 0, $2 = _2.length; O2 < $2; ++O2) st2 = g2.getPixelForValue(_2[O2]), updateMinAndPrev();
  for (ot2 = void 0, O2 = 0, $2 = g2.ticks.length; O2 < $2; ++O2) st2 = g2.getPixelForTick(O2), updateMinAndPrev();
  return lt2;
}
function parseValue(d2, g2, _2, O2) {
  return isArray$1(d2) ? function parseFloatBar(d3, g3, _3, O3) {
    const $2 = _3.parse(d3[0], O3), st2 = _3.parse(d3[1], O3), ot2 = Math.min($2, st2), lt2 = Math.max($2, st2);
    let ct2 = ot2, ut2 = lt2;
    Math.abs(ot2) > Math.abs(lt2) && (ct2 = lt2, ut2 = ot2), g3[_3.axis] = ut2, g3._custom = { barStart: ct2, barEnd: ut2, start: $2, end: st2, min: ot2, max: lt2 };
  }(d2, g2, _2, O2) : g2[_2.axis] = _2.parse(d2, O2), g2;
}
function parseArrayOrPrimitive(d2, g2, _2, O2) {
  const $2 = d2.iScale, st2 = d2.vScale, ot2 = $2.getLabels(), lt2 = $2 === st2, ct2 = [];
  let ut2, gt2, mt2, bt2;
  for (ut2 = _2, gt2 = _2 + O2; ut2 < gt2; ++ut2) bt2 = g2[ut2], mt2 = {}, mt2[$2.axis] = lt2 || $2.parse(ot2[ut2], ut2), ct2.push(parseValue(bt2, mt2, st2, ut2));
  return ct2;
}
function isFloatBar(d2) {
  return d2 && void 0 !== d2.barStart && void 0 !== d2.barEnd;
}
function setBorderSkipped(d2, g2, _2, O2) {
  let $2 = g2.borderSkipped;
  const st2 = {};
  if (!$2) return void (d2.borderSkipped = st2);
  if (true === $2) return void (d2.borderSkipped = { top: true, right: true, bottom: true, left: true });
  const { start: ot2, end: lt2, reverse: ct2, top: ut2, bottom: gt2 } = function borderProps(d3) {
    let g3, _3, O3, $3, st3;
    return d3.horizontal ? (g3 = d3.base > d3.x, _3 = "left", O3 = "right") : (g3 = d3.base < d3.y, _3 = "bottom", O3 = "top"), g3 ? ($3 = "end", st3 = "start") : ($3 = "start", st3 = "end"), { start: _3, end: O3, reverse: g3, top: $3, bottom: st3 };
  }(d2);
  "middle" === $2 && _2 && (d2.enableBorderRadius = true, (_2._top || 0) === O2 ? $2 = ut2 : (_2._bottom || 0) === O2 ? $2 = gt2 : (st2[parseEdge(gt2, ot2, lt2, ct2)] = true, $2 = ut2)), st2[parseEdge($2, ot2, lt2, ct2)] = true, d2.borderSkipped = st2;
}
function parseEdge(d2, g2, _2, O2) {
  return d2 = O2 ? startEnd(d2 = /* @__PURE__ */ function swap(d3, g3, _3) {
    return d3 === g3 ? _3 : d3 === _3 ? g3 : d3;
  }(d2, g2, _2), _2, g2) : startEnd(d2, g2, _2);
}
function startEnd(d2, g2, _2) {
  return "start" === d2 ? g2 : "end" === d2 ? _2 : d2;
}
function setInflateAmount(d2, { inflateAmount: g2 }, _2) {
  d2.inflateAmount = "auto" === g2 ? 1 === _2 ? 0.33 : 0 : g2;
}
class BarController extends DatasetController {
  parsePrimitiveData(d2, g2, _2, O2) {
    return parseArrayOrPrimitive(d2, g2, _2, O2);
  }
  parseArrayData(d2, g2, _2, O2) {
    return parseArrayOrPrimitive(d2, g2, _2, O2);
  }
  parseObjectData(d2, g2, _2, O2) {
    const { iScale: $2, vScale: st2 } = d2, { xAxisKey: ot2 = "x", yAxisKey: lt2 = "y" } = this._parsing, ct2 = "x" === $2.axis ? ot2 : lt2, ut2 = "x" === st2.axis ? ot2 : lt2, gt2 = [];
    let mt2, bt2, yt2, wt2;
    for (mt2 = _2, bt2 = _2 + O2; mt2 < bt2; ++mt2) wt2 = g2[mt2], yt2 = {}, yt2[$2.axis] = $2.parse(resolveObjectKey(wt2, ct2), mt2), gt2.push(parseValue(resolveObjectKey(wt2, ut2), yt2, st2, mt2));
    return gt2;
  }
  updateRangeFromParsed(d2, g2, _2, O2) {
    super.updateRangeFromParsed(d2, g2, _2, O2);
    const $2 = _2._custom;
    $2 && g2 === this._cachedMeta.vScale && (d2.min = Math.min(d2.min, $2.min), d2.max = Math.max(d2.max, $2.max));
  }
  getMaxOverflow() {
    return 0;
  }
  getLabelAndValue(d2) {
    const g2 = this._cachedMeta, { iScale: _2, vScale: O2 } = g2, $2 = this.getParsed(d2), st2 = $2._custom, ot2 = isFloatBar(st2) ? "[" + st2.start + ", " + st2.end + "]" : "" + O2.getLabelForValue($2[O2.axis]);
    return { label: "" + _2.getLabelForValue($2[_2.axis]), value: ot2 };
  }
  initialize() {
    this.enableOptionSharing = true, super.initialize();
    this._cachedMeta.stack = this.getDataset().stack;
  }
  update(d2) {
    const g2 = this._cachedMeta;
    this.updateElements(g2.data, 0, g2.data.length, d2);
  }
  updateElements(d2, g2, _2, O2) {
    const $2 = "reset" === O2, { index: st2, _cachedMeta: { vScale: ot2 } } = this, lt2 = ot2.getBasePixel(), ct2 = ot2.isHorizontal(), ut2 = this._getRuler(), { sharedOptions: gt2, includeOptions: mt2 } = this._getSharedOptions(g2, O2);
    for (let bt2 = g2; bt2 < g2 + _2; bt2++) {
      const g3 = this.getParsed(bt2), _3 = $2 || isNullOrUndef(g3[ot2.axis]) ? { base: lt2, head: lt2 } : this._calculateBarValuePixels(bt2), yt2 = this._calculateBarIndexPixels(bt2, ut2), wt2 = (g3._stacks || {})[ot2.axis], Pt2 = { horizontal: ct2, base: _3.base, enableBorderRadius: !wt2 || isFloatBar(g3._custom) || st2 === wt2._top || st2 === wt2._bottom, x: ct2 ? _3.head : yt2.center, y: ct2 ? yt2.center : _3.head, height: ct2 ? yt2.size : Math.abs(_3.size), width: ct2 ? Math.abs(_3.size) : yt2.size };
      mt2 && (Pt2.options = gt2 || this.resolveDataElementOptions(bt2, d2[bt2].active ? "active" : O2));
      const At2 = Pt2.options || d2[bt2].options;
      setBorderSkipped(Pt2, At2, wt2, st2), setInflateAmount(Pt2, At2, ut2.ratio), this.updateElement(d2[bt2], bt2, Pt2, O2);
    }
  }
  _getStacks(d2, g2) {
    const { iScale: _2 } = this._cachedMeta, O2 = _2.getMatchingVisibleMetas(this._type).filter((d3) => d3.controller.options.grouped), $2 = _2.options.stacked, st2 = [], skipNull = (d3) => {
      const _3 = d3.controller.getParsed(g2), O3 = _3 && _3[d3.vScale.axis];
      if (isNullOrUndef(O3) || isNaN(O3)) return true;
    };
    for (const _3 of O2) if ((void 0 === g2 || !skipNull(_3)) && ((false === $2 || -1 === st2.indexOf(_3.stack) || void 0 === $2 && void 0 === _3.stack) && st2.push(_3.stack), _3.index === d2)) break;
    return st2.length || st2.push(void 0), st2;
  }
  _getStackCount(d2) {
    return this._getStacks(void 0, d2).length;
  }
  _getStackIndex(d2, g2, _2) {
    const O2 = this._getStacks(d2, _2), $2 = void 0 !== g2 ? O2.indexOf(g2) : -1;
    return -1 === $2 ? O2.length - 1 : $2;
  }
  _getRuler() {
    const d2 = this.options, g2 = this._cachedMeta, _2 = g2.iScale, O2 = [];
    let $2, st2;
    for ($2 = 0, st2 = g2.data.length; $2 < st2; ++$2) O2.push(_2.getPixelForValue(this.getParsed($2)[_2.axis], $2));
    const ot2 = d2.barThickness;
    return { min: ot2 || computeMinSampleSize(g2), pixels: O2, start: _2._startPixel, end: _2._endPixel, stackCount: this._getStackCount(), scale: _2, grouped: d2.grouped, ratio: ot2 ? 1 : d2.categoryPercentage * d2.barPercentage };
  }
  _calculateBarValuePixels(d2) {
    const { _cachedMeta: { vScale: g2, _stacked: _2, index: O2 }, options: { base: $2, minBarLength: st2 } } = this, ot2 = $2 || 0, lt2 = this.getParsed(d2), ct2 = lt2._custom, ut2 = isFloatBar(ct2);
    let gt2, mt2, bt2 = lt2[g2.axis], yt2 = 0, wt2 = _2 ? this.applyStack(g2, lt2, _2) : bt2;
    wt2 !== bt2 && (yt2 = wt2 - bt2, wt2 = bt2), ut2 && (bt2 = ct2.barStart, wt2 = ct2.barEnd - ct2.barStart, 0 !== bt2 && kr(bt2) !== kr(ct2.barEnd) && (yt2 = 0), yt2 += bt2);
    const Pt2 = isNullOrUndef($2) || ut2 ? yt2 : $2;
    let At2 = g2.getPixelForValue(Pt2);
    if (gt2 = this.chart.getDataVisibility(d2) ? g2.getPixelForValue(yt2 + wt2) : At2, mt2 = gt2 - At2, Math.abs(mt2) < st2) {
      mt2 = function barSign(d4, g3, _3) {
        return 0 !== d4 ? kr(d4) : (g3.isHorizontal() ? 1 : -1) * (g3.min >= _3 ? 1 : -1);
      }(mt2, g2, ot2) * st2, bt2 === ot2 && (At2 -= mt2 / 2);
      const d3 = g2.getPixelForDecimal(0), $3 = g2.getPixelForDecimal(1), ct3 = Math.min(d3, $3), yt3 = Math.max(d3, $3);
      At2 = Math.max(Math.min(At2, yt3), ct3), gt2 = At2 + mt2, _2 && !ut2 && (lt2._stacks[g2.axis]._visualValues[O2] = g2.getValueForPixel(gt2) - g2.getValueForPixel(At2));
    }
    if (At2 === g2.getPixelForValue(ot2)) {
      const d3 = kr(mt2) * g2.getLineWidthForValue(ot2) / 2;
      At2 += d3, mt2 -= d3;
    }
    return { size: mt2, base: At2, head: gt2, center: gt2 + mt2 / 2 };
  }
  _calculateBarIndexPixels(d2, g2) {
    const _2 = g2.scale, O2 = this.options, $2 = O2.skipNull, st2 = valueOrDefault(O2.maxBarThickness, 1 / 0);
    let ot2, lt2;
    if (g2.grouped) {
      const _3 = $2 ? this._getStackCount(d2) : g2.stackCount, ct2 = "flex" === O2.barThickness ? function computeFlexCategoryTraits(d3, g3, _4, O3) {
        const $3 = g3.pixels, st3 = $3[d3];
        let ot3 = d3 > 0 ? $3[d3 - 1] : null, lt3 = d3 < $3.length - 1 ? $3[d3 + 1] : null;
        const ct3 = _4.categoryPercentage;
        null === ot3 && (ot3 = st3 - (null === lt3 ? g3.end - g3.start : lt3 - st3)), null === lt3 && (lt3 = st3 + st3 - ot3);
        const ut3 = st3 - (st3 - Math.min(ot3, lt3)) / 2 * ct3;
        return { chunk: Math.abs(lt3 - ot3) / 2 * ct3 / O3, ratio: _4.barPercentage, start: ut3 };
      }(d2, g2, O2, _3) : function computeFitCategoryTraits(d3, g3, _4, O3) {
        const $3 = _4.barThickness;
        let st3, ot3;
        return isNullOrUndef($3) ? (st3 = g3.min * _4.categoryPercentage, ot3 = _4.barPercentage) : (st3 = $3 * O3, ot3 = 1), { chunk: st3 / O3, ratio: ot3, start: g3.pixels[d3] - st3 / 2 };
      }(d2, g2, O2, _3), ut2 = this._getStackIndex(this.index, this._cachedMeta.stack, $2 ? d2 : void 0);
      ot2 = ct2.start + ct2.chunk * ut2 + ct2.chunk / 2, lt2 = Math.min(st2, ct2.chunk * ct2.ratio);
    } else ot2 = _2.getPixelForValue(this.getParsed(d2)[_2.axis], d2), lt2 = Math.min(st2, g2.min * g2.ratio);
    return { base: ot2 - lt2 / 2, head: ot2 + lt2 / 2, center: ot2, size: lt2 };
  }
  draw() {
    const d2 = this._cachedMeta, g2 = d2.vScale, _2 = d2.data, O2 = _2.length;
    let $2 = 0;
    for (; $2 < O2; ++$2) null === this.getParsed($2)[g2.axis] || _2[$2].hidden || _2[$2].draw(this._ctx);
  }
}
__publicField(BarController, "id", "bar");
__publicField(BarController, "defaults", { datasetElementType: false, dataElementType: "bar", categoryPercentage: 0.8, barPercentage: 0.9, grouped: true, animations: { numbers: { type: "number", properties: ["x", "y", "base", "width", "height"] } } });
__publicField(BarController, "overrides", { scales: { _index_: { type: "category", offset: true, grid: { offset: true } }, _value_: { type: "linear", beginAtZero: true } } });
class BubbleController extends DatasetController {
  initialize() {
    this.enableOptionSharing = true, super.initialize();
  }
  parsePrimitiveData(d2, g2, _2, O2) {
    const $2 = super.parsePrimitiveData(d2, g2, _2, O2);
    for (let d3 = 0; d3 < $2.length; d3++) $2[d3]._custom = this.resolveDataElementOptions(d3 + _2).radius;
    return $2;
  }
  parseArrayData(d2, g2, _2, O2) {
    const $2 = super.parseArrayData(d2, g2, _2, O2);
    for (let d3 = 0; d3 < $2.length; d3++) {
      const O3 = g2[_2 + d3];
      $2[d3]._custom = valueOrDefault(O3[2], this.resolveDataElementOptions(d3 + _2).radius);
    }
    return $2;
  }
  parseObjectData(d2, g2, _2, O2) {
    const $2 = super.parseObjectData(d2, g2, _2, O2);
    for (let d3 = 0; d3 < $2.length; d3++) {
      const O3 = g2[_2 + d3];
      $2[d3]._custom = valueOrDefault(O3 && O3.r && +O3.r, this.resolveDataElementOptions(d3 + _2).radius);
    }
    return $2;
  }
  getMaxOverflow() {
    const d2 = this._cachedMeta.data;
    let g2 = 0;
    for (let _2 = d2.length - 1; _2 >= 0; --_2) g2 = Math.max(g2, d2[_2].size(this.resolveDataElementOptions(_2)) / 2);
    return g2 > 0 && g2;
  }
  getLabelAndValue(d2) {
    const g2 = this._cachedMeta, _2 = this.chart.data.labels || [], { xScale: O2, yScale: $2 } = g2, st2 = this.getParsed(d2), ot2 = O2.getLabelForValue(st2.x), lt2 = $2.getLabelForValue(st2.y), ct2 = st2._custom;
    return { label: _2[d2] || "", value: "(" + ot2 + ", " + lt2 + (ct2 ? ", " + ct2 : "") + ")" };
  }
  update(d2) {
    const g2 = this._cachedMeta.data;
    this.updateElements(g2, 0, g2.length, d2);
  }
  updateElements(d2, g2, _2, O2) {
    const $2 = "reset" === O2, { iScale: st2, vScale: ot2 } = this._cachedMeta, { sharedOptions: lt2, includeOptions: ct2 } = this._getSharedOptions(g2, O2), ut2 = st2.axis, gt2 = ot2.axis;
    for (let mt2 = g2; mt2 < g2 + _2; mt2++) {
      const g3 = d2[mt2], _3 = !$2 && this.getParsed(mt2), bt2 = {}, yt2 = bt2[ut2] = $2 ? st2.getPixelForDecimal(0.5) : st2.getPixelForValue(_3[ut2]), wt2 = bt2[gt2] = $2 ? ot2.getBasePixel() : ot2.getPixelForValue(_3[gt2]);
      bt2.skip = isNaN(yt2) || isNaN(wt2), ct2 && (bt2.options = lt2 || this.resolveDataElementOptions(mt2, g3.active ? "active" : O2), $2 && (bt2.options.radius = 0)), this.updateElement(g3, mt2, bt2, O2);
    }
  }
  resolveDataElementOptions(d2, g2) {
    const _2 = this.getParsed(d2);
    let O2 = super.resolveDataElementOptions(d2, g2);
    O2.$shared && (O2 = Object.assign({}, O2, { $shared: false }));
    const $2 = O2.radius;
    return "active" !== g2 && (O2.radius = 0), O2.radius += valueOrDefault(_2 && _2._custom, $2), O2;
  }
}
__publicField(BubbleController, "id", "bubble");
__publicField(BubbleController, "defaults", { datasetElementType: false, dataElementType: "point", animations: { numbers: { type: "number", properties: ["x", "y", "borderWidth", "radius"] } } });
__publicField(BubbleController, "overrides", { scales: { x: { type: "linear" }, y: { type: "linear" } } });
class DoughnutController extends DatasetController {
  constructor(d2, g2) {
    super(d2, g2), this.enableOptionSharing = true, this.innerRadius = void 0, this.outerRadius = void 0, this.offsetX = void 0, this.offsetY = void 0;
  }
  linkScales() {
  }
  parse(d2, g2) {
    const _2 = this.getDataset().data, O2 = this._cachedMeta;
    if (false === this._parsing) O2._parsed = _2;
    else {
      let $2, st2, getter = (d3) => +_2[d3];
      if (isObject$1(_2[d2])) {
        const { key: d3 = "value" } = this._parsing;
        getter = (g3) => +resolveObjectKey(_2[g3], d3);
      }
      for ($2 = d2, st2 = d2 + g2; $2 < st2; ++$2) O2._parsed[$2] = getter($2);
    }
  }
  _getRotation() {
    return toRadians(this.options.rotation - 90);
  }
  _getCircumference() {
    return toRadians(this.options.circumference);
  }
  _getRotationExtents() {
    let d2 = wr, g2 = -wr;
    for (let _2 = 0; _2 < this.chart.data.datasets.length; ++_2) if (this.chart.isDatasetVisible(_2) && this.chart.getDatasetMeta(_2).type === this._type) {
      const O2 = this.chart.getDatasetMeta(_2).controller, $2 = O2._getRotation(), st2 = O2._getCircumference();
      d2 = Math.min(d2, $2), g2 = Math.max(g2, $2 + st2);
    }
    return { rotation: d2, circumference: g2 - d2 };
  }
  update(d2) {
    const g2 = this.chart, { chartArea: _2 } = g2, O2 = this._cachedMeta, $2 = O2.data, st2 = this.getMaxBorderWidth() + this.getMaxOffset($2) + this.options.spacing, ot2 = Math.max((Math.min(_2.width, _2.height) - st2) / 2, 0), lt2 = Math.min((ct2 = this.options.cutout, ut2 = ot2, "string" == typeof ct2 && ct2.endsWith("%") ? parseFloat(ct2) / 100 : +ct2 / ut2), 1);
    var ct2, ut2;
    const gt2 = this._getRingWeight(this.index), { circumference: mt2, rotation: bt2 } = this._getRotationExtents(), { ratioX: yt2, ratioY: wt2, offsetX: Pt2, offsetY: At2 } = function getRatioAndOffset(d3, g3, _3) {
      let O3 = 1, $3 = 1, st3 = 0, ot3 = 0;
      if (g3 < wr) {
        const lt3 = d3, ct3 = lt3 + g3, ut3 = Math.cos(lt3), gt3 = Math.sin(lt3), mt3 = Math.cos(ct3), bt3 = Math.sin(ct3), calcMax = (d4, g4, O4) => _angleBetween(d4, lt3, ct3, true) ? 1 : Math.max(g4, g4 * _3, O4, O4 * _3), calcMin = (d4, g4, O4) => _angleBetween(d4, lt3, ct3, true) ? -1 : Math.min(g4, g4 * _3, O4, O4 * _3), yt3 = calcMax(0, ut3, mt3), wt3 = calcMax(Pr, gt3, bt3), Pt3 = calcMin(yr, ut3, mt3), At3 = calcMin(yr + Pr, gt3, bt3);
        O3 = (yt3 - Pt3) / 2, $3 = (wt3 - At3) / 2, st3 = -(yt3 + Pt3) / 2, ot3 = -(wt3 + At3) / 2;
      }
      return { ratioX: O3, ratioY: $3, offsetX: st3, offsetY: ot3 };
    }(bt2, mt2, lt2), St2 = (_2.width - st2) / yt2, Mt2 = (_2.height - st2) / wt2, Vt2 = Math.max(Math.min(St2, Mt2) / 2, 0), Ot2 = toDimension(this.options.radius, Vt2), zt2 = (Ot2 - Math.max(Ot2 * lt2, 0)) / this._getVisibleDatasetWeightTotal();
    this.offsetX = Pt2 * Ot2, this.offsetY = At2 * Ot2, O2.total = this.calculateTotal(), this.outerRadius = Ot2 - zt2 * this._getRingWeightOffset(this.index), this.innerRadius = Math.max(this.outerRadius - zt2 * gt2, 0), this.updateElements($2, 0, $2.length, d2);
  }
  _circumference(d2, g2) {
    const _2 = this.options, O2 = this._cachedMeta, $2 = this._getCircumference();
    return g2 && _2.animation.animateRotate || !this.chart.getDataVisibility(d2) || null === O2._parsed[d2] || O2.data[d2].hidden ? 0 : this.calculateCircumference(O2._parsed[d2] * $2 / wr);
  }
  updateElements(d2, g2, _2, O2) {
    const $2 = "reset" === O2, st2 = this.chart, ot2 = st2.chartArea, lt2 = st2.options.animation, ct2 = (ot2.left + ot2.right) / 2, ut2 = (ot2.top + ot2.bottom) / 2, gt2 = $2 && lt2.animateScale, mt2 = gt2 ? 0 : this.innerRadius, bt2 = gt2 ? 0 : this.outerRadius, { sharedOptions: yt2, includeOptions: wt2 } = this._getSharedOptions(g2, O2);
    let Pt2, At2 = this._getRotation();
    for (Pt2 = 0; Pt2 < g2; ++Pt2) At2 += this._circumference(Pt2, $2);
    for (Pt2 = g2; Pt2 < g2 + _2; ++Pt2) {
      const g3 = this._circumference(Pt2, $2), _3 = d2[Pt2], st3 = { x: ct2 + this.offsetX, y: ut2 + this.offsetY, startAngle: At2, endAngle: At2 + g3, circumference: g3, outerRadius: bt2, innerRadius: mt2 };
      wt2 && (st3.options = yt2 || this.resolveDataElementOptions(Pt2, _3.active ? "active" : O2)), At2 += g3, this.updateElement(_3, Pt2, st3, O2);
    }
  }
  calculateTotal() {
    const d2 = this._cachedMeta, g2 = d2.data;
    let _2, O2 = 0;
    for (_2 = 0; _2 < g2.length; _2++) {
      const $2 = d2._parsed[_2];
      null === $2 || isNaN($2) || !this.chart.getDataVisibility(_2) || g2[_2].hidden || (O2 += Math.abs($2));
    }
    return O2;
  }
  calculateCircumference(d2) {
    const g2 = this._cachedMeta.total;
    return g2 > 0 && !isNaN(d2) ? wr * (Math.abs(d2) / g2) : 0;
  }
  getLabelAndValue(d2) {
    const g2 = this._cachedMeta, _2 = this.chart, O2 = _2.data.labels || [], $2 = formatNumber(g2._parsed[d2], _2.options.locale);
    return { label: O2[d2] || "", value: $2 };
  }
  getMaxBorderWidth(d2) {
    let g2 = 0;
    const _2 = this.chart;
    let O2, $2, st2, ot2, lt2;
    if (!d2) {
      for (O2 = 0, $2 = _2.data.datasets.length; O2 < $2; ++O2) if (_2.isDatasetVisible(O2)) {
        st2 = _2.getDatasetMeta(O2), d2 = st2.data, ot2 = st2.controller;
        break;
      }
    }
    if (!d2) return 0;
    for (O2 = 0, $2 = d2.length; O2 < $2; ++O2) lt2 = ot2.resolveDataElementOptions(O2), "inner" !== lt2.borderAlign && (g2 = Math.max(g2, lt2.borderWidth || 0, lt2.hoverBorderWidth || 0));
    return g2;
  }
  getMaxOffset(d2) {
    let g2 = 0;
    for (let _2 = 0, O2 = d2.length; _2 < O2; ++_2) {
      const d3 = this.resolveDataElementOptions(_2);
      g2 = Math.max(g2, d3.offset || 0, d3.hoverOffset || 0);
    }
    return g2;
  }
  _getRingWeightOffset(d2) {
    let g2 = 0;
    for (let _2 = 0; _2 < d2; ++_2) this.chart.isDatasetVisible(_2) && (g2 += this._getRingWeight(_2));
    return g2;
  }
  _getRingWeight(d2) {
    return Math.max(valueOrDefault(this.chart.data.datasets[d2].weight, 1), 0);
  }
  _getVisibleDatasetWeightTotal() {
    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;
  }
}
__publicField(DoughnutController, "id", "doughnut");
__publicField(DoughnutController, "defaults", { datasetElementType: false, dataElementType: "arc", animation: { animateRotate: true, animateScale: false }, animations: { numbers: { type: "number", properties: ["circumference", "endAngle", "innerRadius", "outerRadius", "startAngle", "x", "y", "offset", "borderWidth", "spacing"] } }, cutout: "50%", rotation: 0, circumference: 360, radius: "100%", spacing: 0, indexAxis: "r" });
__publicField(DoughnutController, "descriptors", { _scriptable: (d2) => "spacing" !== d2, _indexable: (d2) => "spacing" !== d2 && !d2.startsWith("borderDash") && !d2.startsWith("hoverBorderDash") });
__publicField(DoughnutController, "overrides", { aspectRatio: 1, plugins: { legend: { labels: { generateLabels(d2) {
  const g2 = d2.data;
  if (g2.labels.length && g2.datasets.length) {
    const { labels: { pointStyle: _2, color: O2 } } = d2.legend.options;
    return g2.labels.map((g3, $2) => {
      const st2 = d2.getDatasetMeta(0).controller.getStyle($2);
      return { text: g3, fillStyle: st2.backgroundColor, strokeStyle: st2.borderColor, fontColor: O2, lineWidth: st2.borderWidth, pointStyle: _2, hidden: !d2.getDataVisibility($2), index: $2 };
    });
  }
  return [];
} }, onClick(d2, g2, _2) {
  _2.chart.toggleDataVisibility(g2.index), _2.chart.update();
} } } });
class LineController extends DatasetController {
  initialize() {
    this.enableOptionSharing = true, this.supportsDecimation = true, super.initialize();
  }
  update(d2) {
    const g2 = this._cachedMeta, { dataset: _2, data: O2 = [], _dataset: $2 } = g2, st2 = this.chart._animationsDisabled;
    let { start: ot2, count: lt2 } = _getStartAndCountOfVisiblePoints(g2, O2, st2);
    this._drawStart = ot2, this._drawCount = lt2, _scaleRangesChanged(g2) && (ot2 = 0, lt2 = O2.length), _2._chart = this.chart, _2._datasetIndex = this.index, _2._decimated = !!$2._decimated, _2.points = O2;
    const ct2 = this.resolveDatasetElementOptions(d2);
    this.options.showLine || (ct2.borderWidth = 0), ct2.segment = this.options.segment, this.updateElement(_2, void 0, { animated: !st2, options: ct2 }, d2), this.updateElements(O2, ot2, lt2, d2);
  }
  updateElements(d2, g2, _2, O2) {
    const $2 = "reset" === O2, { iScale: st2, vScale: ot2, _stacked: lt2, _dataset: ct2 } = this._cachedMeta, { sharedOptions: ut2, includeOptions: gt2 } = this._getSharedOptions(g2, O2), mt2 = st2.axis, bt2 = ot2.axis, { spanGaps: yt2, segment: wt2 } = this.options, Pt2 = isNumber(yt2) ? yt2 : Number.POSITIVE_INFINITY, At2 = this.chart._animationsDisabled || $2 || "none" === O2, St2 = g2 + _2, Mt2 = d2.length;
    let Vt2 = g2 > 0 && this.getParsed(g2 - 1);
    for (let _3 = 0; _3 < Mt2; ++_3) {
      const yt3 = d2[_3], Mt3 = At2 ? yt3 : {};
      if (_3 < g2 || _3 >= St2) {
        Mt3.skip = true;
        continue;
      }
      const Ot2 = this.getParsed(_3), zt2 = isNullOrUndef(Ot2[bt2]), Bt2 = Mt3[mt2] = st2.getPixelForValue(Ot2[mt2], _3), Zt2 = Mt3[bt2] = $2 || zt2 ? ot2.getBasePixel() : ot2.getPixelForValue(lt2 ? this.applyStack(ot2, Ot2, lt2) : Ot2[bt2], _3);
      Mt3.skip = isNaN(Bt2) || isNaN(Zt2) || zt2, Mt3.stop = _3 > 0 && Math.abs(Ot2[mt2] - Vt2[mt2]) > Pt2, wt2 && (Mt3.parsed = Ot2, Mt3.raw = ct2.data[_3]), gt2 && (Mt3.options = ut2 || this.resolveDataElementOptions(_3, yt3.active ? "active" : O2)), At2 || this.updateElement(yt3, _3, Mt3, O2), Vt2 = Ot2;
    }
  }
  getMaxOverflow() {
    const d2 = this._cachedMeta, g2 = d2.dataset, _2 = g2.options && g2.options.borderWidth || 0, O2 = d2.data || [];
    if (!O2.length) return _2;
    const $2 = O2[0].size(this.resolveDataElementOptions(0)), st2 = O2[O2.length - 1].size(this.resolveDataElementOptions(O2.length - 1));
    return Math.max(_2, $2, st2) / 2;
  }
  draw() {
    const d2 = this._cachedMeta;
    d2.dataset.updateControlPoints(this.chart.chartArea, d2.iScale.axis), super.draw();
  }
}
__publicField(LineController, "id", "line");
__publicField(LineController, "defaults", { datasetElementType: "line", dataElementType: "point", showLine: true, spanGaps: false });
__publicField(LineController, "overrides", { scales: { _index_: { type: "category" }, _value_: { type: "linear" } } });
class PolarAreaController extends DatasetController {
  constructor(d2, g2) {
    super(d2, g2), this.innerRadius = void 0, this.outerRadius = void 0;
  }
  getLabelAndValue(d2) {
    const g2 = this._cachedMeta, _2 = this.chart, O2 = _2.data.labels || [], $2 = formatNumber(g2._parsed[d2].r, _2.options.locale);
    return { label: O2[d2] || "", value: $2 };
  }
  parseObjectData(d2, g2, _2, O2) {
    return _parseObjectDataRadialScale.bind(this)(d2, g2, _2, O2);
  }
  update(d2) {
    const g2 = this._cachedMeta.data;
    this._updateRadius(), this.updateElements(g2, 0, g2.length, d2);
  }
  getMinMax() {
    const d2 = this._cachedMeta, g2 = { min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY };
    return d2.data.forEach((d3, _2) => {
      const O2 = this.getParsed(_2).r;
      !isNaN(O2) && this.chart.getDataVisibility(_2) && (O2 < g2.min && (g2.min = O2), O2 > g2.max && (g2.max = O2));
    }), g2;
  }
  _updateRadius() {
    const d2 = this.chart, g2 = d2.chartArea, _2 = d2.options, O2 = Math.min(g2.right - g2.left, g2.bottom - g2.top), $2 = Math.max(O2 / 2, 0), st2 = ($2 - Math.max(_2.cutoutPercentage ? $2 / 100 * _2.cutoutPercentage : 1, 0)) / d2.getVisibleDatasetCount();
    this.outerRadius = $2 - st2 * this.index, this.innerRadius = this.outerRadius - st2;
  }
  updateElements(d2, g2, _2, O2) {
    const $2 = "reset" === O2, st2 = this.chart, ot2 = st2.options.animation, lt2 = this._cachedMeta.rScale, ct2 = lt2.xCenter, ut2 = lt2.yCenter, gt2 = lt2.getIndexAngle(0) - 0.5 * yr;
    let mt2, bt2 = gt2;
    const yt2 = 360 / this.countVisibleElements();
    for (mt2 = 0; mt2 < g2; ++mt2) bt2 += this._computeAngle(mt2, O2, yt2);
    for (mt2 = g2; mt2 < g2 + _2; mt2++) {
      const g3 = d2[mt2];
      let _3 = bt2, wt2 = bt2 + this._computeAngle(mt2, O2, yt2), Pt2 = st2.getDataVisibility(mt2) ? lt2.getDistanceFromCenterForValue(this.getParsed(mt2).r) : 0;
      bt2 = wt2, $2 && (ot2.animateScale && (Pt2 = 0), ot2.animateRotate && (_3 = wt2 = gt2));
      const At2 = { x: ct2, y: ut2, innerRadius: 0, outerRadius: Pt2, startAngle: _3, endAngle: wt2, options: this.resolveDataElementOptions(mt2, g3.active ? "active" : O2) };
      this.updateElement(g3, mt2, At2, O2);
    }
  }
  countVisibleElements() {
    const d2 = this._cachedMeta;
    let g2 = 0;
    return d2.data.forEach((d3, _2) => {
      !isNaN(this.getParsed(_2).r) && this.chart.getDataVisibility(_2) && g2++;
    }), g2;
  }
  _computeAngle(d2, g2, _2) {
    return this.chart.getDataVisibility(d2) ? toRadians(this.resolveDataElementOptions(d2, g2).angle || _2) : 0;
  }
}
__publicField(PolarAreaController, "id", "polarArea");
__publicField(PolarAreaController, "defaults", { dataElementType: "arc", animation: { animateRotate: true, animateScale: true }, animations: { numbers: { type: "number", properties: ["x", "y", "startAngle", "endAngle", "innerRadius", "outerRadius"] } }, indexAxis: "r", startAngle: 0 });
__publicField(PolarAreaController, "overrides", { aspectRatio: 1, plugins: { legend: { labels: { generateLabels(d2) {
  const g2 = d2.data;
  if (g2.labels.length && g2.datasets.length) {
    const { labels: { pointStyle: _2, color: O2 } } = d2.legend.options;
    return g2.labels.map((g3, $2) => {
      const st2 = d2.getDatasetMeta(0).controller.getStyle($2);
      return { text: g3, fillStyle: st2.backgroundColor, strokeStyle: st2.borderColor, fontColor: O2, lineWidth: st2.borderWidth, pointStyle: _2, hidden: !d2.getDataVisibility($2), index: $2 };
    });
  }
  return [];
} }, onClick(d2, g2, _2) {
  _2.chart.toggleDataVisibility(g2.index), _2.chart.update();
} } }, scales: { r: { type: "radialLinear", angleLines: { display: false }, beginAtZero: true, grid: { circular: true }, pointLabels: { display: false }, startAngle: 0 } } });
var Yr = Object.freeze({ __proto__: null, BarController, BubbleController, DoughnutController, LineController, PieController: (_a = class extends DoughnutController {
}, __publicField(_a, "id", "pie"), __publicField(_a, "defaults", { cutout: 0, rotation: 0, circumference: 360, radius: "100%" }), _a), PolarAreaController, RadarController: (_b = class extends DatasetController {
  getLabelAndValue(d2) {
    const g2 = this._cachedMeta.vScale, _2 = this.getParsed(d2);
    return { label: g2.getLabels()[d2], value: "" + g2.getLabelForValue(_2[g2.axis]) };
  }
  parseObjectData(d2, g2, _2, O2) {
    return _parseObjectDataRadialScale.bind(this)(d2, g2, _2, O2);
  }
  update(d2) {
    const g2 = this._cachedMeta, _2 = g2.dataset, O2 = g2.data || [], $2 = g2.iScale.getLabels();
    if (_2.points = O2, "resize" !== d2) {
      const g3 = this.resolveDatasetElementOptions(d2);
      this.options.showLine || (g3.borderWidth = 0);
      const st2 = { _loop: true, _fullLoop: $2.length === O2.length, options: g3 };
      this.updateElement(_2, void 0, st2, d2);
    }
    this.updateElements(O2, 0, O2.length, d2);
  }
  updateElements(d2, g2, _2, O2) {
    const $2 = this._cachedMeta.rScale, st2 = "reset" === O2;
    for (let ot2 = g2; ot2 < g2 + _2; ot2++) {
      const g3 = d2[ot2], _3 = this.resolveDataElementOptions(ot2, g3.active ? "active" : O2), lt2 = $2.getPointPositionForValue(ot2, this.getParsed(ot2).r), ct2 = st2 ? $2.xCenter : lt2.x, ut2 = st2 ? $2.yCenter : lt2.y, gt2 = { x: ct2, y: ut2, angle: lt2.angle, skip: isNaN(ct2) || isNaN(ut2), options: _3 };
      this.updateElement(g3, ot2, gt2, O2);
    }
  }
}, __publicField(_b, "id", "radar"), __publicField(_b, "defaults", { datasetElementType: "line", dataElementType: "point", indexAxis: "r", showLine: true, elements: { line: { fill: "start" } } }), __publicField(_b, "overrides", { aspectRatio: 1, scales: { r: { type: "radialLinear" } } }), _b), ScatterController: (_c = class extends DatasetController {
  getLabelAndValue(d2) {
    const g2 = this._cachedMeta, _2 = this.chart.data.labels || [], { xScale: O2, yScale: $2 } = g2, st2 = this.getParsed(d2), ot2 = O2.getLabelForValue(st2.x), lt2 = $2.getLabelForValue(st2.y);
    return { label: _2[d2] || "", value: "(" + ot2 + ", " + lt2 + ")" };
  }
  update(d2) {
    const g2 = this._cachedMeta, { data: _2 = [] } = g2, O2 = this.chart._animationsDisabled;
    let { start: $2, count: st2 } = _getStartAndCountOfVisiblePoints(g2, _2, O2);
    if (this._drawStart = $2, this._drawCount = st2, _scaleRangesChanged(g2) && ($2 = 0, st2 = _2.length), this.options.showLine) {
      this.datasetElementType || this.addElements();
      const { dataset: $3, _dataset: st3 } = g2;
      $3._chart = this.chart, $3._datasetIndex = this.index, $3._decimated = !!st3._decimated, $3.points = _2;
      const ot2 = this.resolveDatasetElementOptions(d2);
      ot2.segment = this.options.segment, this.updateElement($3, void 0, { animated: !O2, options: ot2 }, d2);
    } else this.datasetElementType && (delete g2.dataset, this.datasetElementType = false);
    this.updateElements(_2, $2, st2, d2);
  }
  addElements() {
    const { showLine: d2 } = this.options;
    !this.datasetElementType && d2 && (this.datasetElementType = this.chart.registry.getElement("line")), super.addElements();
  }
  updateElements(d2, g2, _2, O2) {
    const $2 = "reset" === O2, { iScale: st2, vScale: ot2, _stacked: lt2, _dataset: ct2 } = this._cachedMeta, ut2 = this.resolveDataElementOptions(g2, O2), gt2 = this.getSharedOptions(ut2), mt2 = this.includeOptions(O2, gt2), bt2 = st2.axis, yt2 = ot2.axis, { spanGaps: wt2, segment: Pt2 } = this.options, At2 = isNumber(wt2) ? wt2 : Number.POSITIVE_INFINITY, St2 = this.chart._animationsDisabled || $2 || "none" === O2;
    let Mt2 = g2 > 0 && this.getParsed(g2 - 1);
    for (let ut3 = g2; ut3 < g2 + _2; ++ut3) {
      const g3 = d2[ut3], _3 = this.getParsed(ut3), wt3 = St2 ? g3 : {}, Vt2 = isNullOrUndef(_3[yt2]), Ot2 = wt3[bt2] = st2.getPixelForValue(_3[bt2], ut3), zt2 = wt3[yt2] = $2 || Vt2 ? ot2.getBasePixel() : ot2.getPixelForValue(lt2 ? this.applyStack(ot2, _3, lt2) : _3[yt2], ut3);
      wt3.skip = isNaN(Ot2) || isNaN(zt2) || Vt2, wt3.stop = ut3 > 0 && Math.abs(_3[bt2] - Mt2[bt2]) > At2, Pt2 && (wt3.parsed = _3, wt3.raw = ct2.data[ut3]), mt2 && (wt3.options = gt2 || this.resolveDataElementOptions(ut3, g3.active ? "active" : O2)), St2 || this.updateElement(g3, ut3, wt3, O2), Mt2 = _3;
    }
    this.updateSharedOptions(gt2, O2, ut2);
  }
  getMaxOverflow() {
    const d2 = this._cachedMeta, g2 = d2.data || [];
    if (!this.options.showLine) {
      let d3 = 0;
      for (let _3 = g2.length - 1; _3 >= 0; --_3) d3 = Math.max(d3, g2[_3].size(this.resolveDataElementOptions(_3)) / 2);
      return d3 > 0 && d3;
    }
    const _2 = d2.dataset, O2 = _2.options && _2.options.borderWidth || 0;
    if (!g2.length) return O2;
    const $2 = g2[0].size(this.resolveDataElementOptions(0)), st2 = g2[g2.length - 1].size(this.resolveDataElementOptions(g2.length - 1));
    return Math.max(O2, $2, st2) / 2;
  }
}, __publicField(_c, "id", "scatter"), __publicField(_c, "defaults", { datasetElementType: false, dataElementType: "point", showLine: false, fill: false }), __publicField(_c, "overrides", { interaction: { mode: "point" }, scales: { x: { type: "linear" }, y: { type: "linear" } } }), _c) });
function abstract() {
  throw new Error("This method is not implemented: Check that a complete date adapter is provided.");
}
class DateAdapterBase {
  constructor(d2) {
    __publicField(this, "options");
    this.options = d2 || {};
  }
  static override(d2) {
    Object.assign(DateAdapterBase.prototype, d2);
  }
  init() {
  }
  formats() {
    return abstract();
  }
  parse() {
    return abstract();
  }
  format() {
    return abstract();
  }
  add() {
    return abstract();
  }
  diff() {
    return abstract();
  }
  startOf() {
    return abstract();
  }
  endOf() {
    return abstract();
  }
}
var Qr = DateAdapterBase;
function binarySearch(d2, g2, _2, O2) {
  const { controller: $2, data: st2, _sorted: ot2 } = d2, lt2 = $2._cachedMeta.iScale;
  if (lt2 && g2 === lt2.axis && "r" !== g2 && ot2 && st2.length) {
    const d3 = lt2._reversePixels ? _rlookupByKey : _lookupByKey;
    if (!O2) return d3(st2, g2, _2);
    if ($2._sharedOptions) {
      const O3 = st2[0], $3 = "function" == typeof O3.getRange && O3.getRange(g2);
      if ($3) {
        const O4 = d3(st2, g2, _2 - $3), ot3 = d3(st2, g2, _2 + $3);
        return { lo: O4.lo, hi: ot3.hi };
      }
    }
  }
  return { lo: 0, hi: st2.length - 1 };
}
function evaluateInteractionItems(d2, g2, _2, O2, $2) {
  const st2 = d2.getSortedVisibleDatasetMetas(), ot2 = _2[g2];
  for (let d3 = 0, _3 = st2.length; d3 < _3; ++d3) {
    const { index: _4, data: lt2 } = st2[d3], { lo: ct2, hi: ut2 } = binarySearch(st2[d3], g2, ot2, $2);
    for (let d4 = ct2; d4 <= ut2; ++d4) {
      const g3 = lt2[d4];
      g3.skip || O2(g3, _4, d4);
    }
  }
}
function getIntersectItems(d2, g2, _2, O2, $2) {
  const st2 = [];
  if (!$2 && !d2.isPointInArea(g2)) return st2;
  return evaluateInteractionItems(d2, _2, g2, function(_3, ot2, lt2) {
    ($2 || _isPointInArea(_3, d2.chartArea, 0)) && _3.inRange(g2.x, g2.y, O2) && st2.push({ element: _3, datasetIndex: ot2, index: lt2 });
  }, true), st2;
}
function getNearestCartesianItems(d2, g2, _2, O2, $2, st2) {
  let ot2 = [];
  const lt2 = function getDistanceMetricForAxis(d3) {
    const g3 = -1 !== d3.indexOf("x"), _3 = -1 !== d3.indexOf("y");
    return function(d4, O3) {
      const $3 = g3 ? Math.abs(d4.x - O3.x) : 0, st3 = _3 ? Math.abs(d4.y - O3.y) : 0;
      return Math.sqrt(Math.pow($3, 2) + Math.pow(st3, 2));
    };
  }(_2);
  let ct2 = Number.POSITIVE_INFINITY;
  return evaluateInteractionItems(d2, _2, g2, function evaluationFunc(_3, ut2, gt2) {
    const mt2 = _3.inRange(g2.x, g2.y, $2);
    if (O2 && !mt2) return;
    const bt2 = _3.getCenterPoint($2);
    if (!(!!st2 || d2.isPointInArea(bt2)) && !mt2) return;
    const yt2 = lt2(g2, bt2);
    yt2 < ct2 ? (ot2 = [{ element: _3, datasetIndex: ut2, index: gt2 }], ct2 = yt2) : yt2 === ct2 && ot2.push({ element: _3, datasetIndex: ut2, index: gt2 });
  }), ot2;
}
function getNearestItems(d2, g2, _2, O2, $2, st2) {
  return st2 || d2.isPointInArea(g2) ? "r" !== _2 || O2 ? getNearestCartesianItems(d2, g2, _2, O2, $2, st2) : function getNearestRadialItems(d3, g3, _3, O3) {
    let $3 = [];
    return evaluateInteractionItems(d3, _3, g3, function evaluationFunc(d4, _4, st3) {
      const { startAngle: ot2, endAngle: lt2 } = d4.getProps(["startAngle", "endAngle"], O3), { angle: ct2 } = getAngleFromPoint(d4, { x: g3.x, y: g3.y });
      _angleBetween(ct2, ot2, lt2) && $3.push({ element: d4, datasetIndex: _4, index: st3 });
    }), $3;
  }(d2, g2, _2, $2) : [];
}
function getAxisItems(d2, g2, _2, O2, $2) {
  const st2 = [], ot2 = "x" === _2 ? "inXRange" : "inYRange";
  let lt2 = false;
  return evaluateInteractionItems(d2, _2, g2, (d3, O3, ct2) => {
    d3[ot2](g2[_2], $2) && (st2.push({ element: d3, datasetIndex: O3, index: ct2 }), lt2 = lt2 || d3.inRange(g2.x, g2.y, $2));
  }), O2 && !lt2 ? [] : st2;
}
var Xr = { evaluateInteractionItems, modes: { index(d2, g2, _2, O2) {
  const $2 = getRelativePosition(g2, d2), st2 = _2.axis || "x", ot2 = _2.includeInvisible || false, lt2 = _2.intersect ? getIntersectItems(d2, $2, st2, O2, ot2) : getNearestItems(d2, $2, st2, false, O2, ot2), ct2 = [];
  return lt2.length ? (d2.getSortedVisibleDatasetMetas().forEach((d3) => {
    const g3 = lt2[0].index, _3 = d3.data[g3];
    _3 && !_3.skip && ct2.push({ element: _3, datasetIndex: d3.index, index: g3 });
  }), ct2) : [];
}, dataset(d2, g2, _2, O2) {
  const $2 = getRelativePosition(g2, d2), st2 = _2.axis || "xy", ot2 = _2.includeInvisible || false;
  let lt2 = _2.intersect ? getIntersectItems(d2, $2, st2, O2, ot2) : getNearestItems(d2, $2, st2, false, O2, ot2);
  if (lt2.length > 0) {
    const g3 = lt2[0].datasetIndex, _3 = d2.getDatasetMeta(g3).data;
    lt2 = [];
    for (let d3 = 0; d3 < _3.length; ++d3) lt2.push({ element: _3[d3], datasetIndex: g3, index: d3 });
  }
  return lt2;
}, point: (d2, g2, _2, O2) => getIntersectItems(d2, getRelativePosition(g2, d2), _2.axis || "xy", O2, _2.includeInvisible || false), nearest(d2, g2, _2, O2) {
  const $2 = getRelativePosition(g2, d2), st2 = _2.axis || "xy", ot2 = _2.includeInvisible || false;
  return getNearestItems(d2, $2, st2, _2.intersect, O2, ot2);
}, x: (d2, g2, _2, O2) => getAxisItems(d2, getRelativePosition(g2, d2), "x", _2.intersect, O2), y: (d2, g2, _2, O2) => getAxisItems(d2, getRelativePosition(g2, d2), "y", _2.intersect, O2) } };
const Jr = ["left", "top", "right", "bottom"];
function filterByPosition(d2, g2) {
  return d2.filter((d3) => d3.pos === g2);
}
function filterDynamicPositionByAxis(d2, g2) {
  return d2.filter((d3) => -1 === Jr.indexOf(d3.pos) && d3.box.axis === g2);
}
function sortByWeight(d2, g2) {
  return d2.sort((d3, _2) => {
    const O2 = g2 ? _2 : d3, $2 = g2 ? d3 : _2;
    return O2.weight === $2.weight ? O2.index - $2.index : O2.weight - $2.weight;
  });
}
function setLayoutDims(d2, g2) {
  const _2 = function buildStacks(d3) {
    const g3 = {};
    for (const _3 of d3) {
      const { stack: d4, pos: O3, stackWeight: $3 } = _3;
      if (!d4 || !Jr.includes(O3)) continue;
      const st3 = g3[d4] || (g3[d4] = { count: 0, placed: 0, weight: 0, size: 0 });
      st3.count++, st3.weight += $3;
    }
    return g3;
  }(d2), { vBoxMaxWidth: O2, hBoxMaxHeight: $2 } = g2;
  let st2, ot2, lt2;
  for (st2 = 0, ot2 = d2.length; st2 < ot2; ++st2) {
    lt2 = d2[st2];
    const { fullSize: ot3 } = lt2.box, ct2 = _2[lt2.stack], ut2 = ct2 && lt2.stackWeight / ct2.weight;
    lt2.horizontal ? (lt2.width = ut2 ? ut2 * O2 : ot3 && g2.availableWidth, lt2.height = $2) : (lt2.width = O2, lt2.height = ut2 ? ut2 * $2 : ot3 && g2.availableHeight);
  }
  return _2;
}
function getCombinedMax(d2, g2, _2, O2) {
  return Math.max(d2[_2], g2[_2]) + Math.max(d2[O2], g2[O2]);
}
function updateMaxPadding(d2, g2) {
  d2.top = Math.max(d2.top, g2.top), d2.left = Math.max(d2.left, g2.left), d2.bottom = Math.max(d2.bottom, g2.bottom), d2.right = Math.max(d2.right, g2.right);
}
function updateDims(d2, g2, _2, O2) {
  const { pos: $2, box: st2 } = _2, ot2 = d2.maxPadding;
  if (!isObject$1($2)) {
    _2.size && (d2[$2] -= _2.size);
    const g3 = O2[_2.stack] || { size: 0, count: 1 };
    g3.size = Math.max(g3.size, _2.horizontal ? st2.height : st2.width), _2.size = g3.size / g3.count, d2[$2] += _2.size;
  }
  st2.getPadding && updateMaxPadding(ot2, st2.getPadding());
  const lt2 = Math.max(0, g2.outerWidth - getCombinedMax(ot2, d2, "left", "right")), ct2 = Math.max(0, g2.outerHeight - getCombinedMax(ot2, d2, "top", "bottom")), ut2 = lt2 !== d2.w, gt2 = ct2 !== d2.h;
  return d2.w = lt2, d2.h = ct2, _2.horizontal ? { same: ut2, other: gt2 } : { same: gt2, other: ut2 };
}
function getMargins(d2, g2) {
  const _2 = g2.maxPadding;
  function marginForPositions(d3) {
    const O2 = { left: 0, top: 0, right: 0, bottom: 0 };
    return d3.forEach((d4) => {
      O2[d4] = Math.max(g2[d4], _2[d4]);
    }), O2;
  }
  return marginForPositions(d2 ? ["left", "right"] : ["top", "bottom"]);
}
function fitBoxes(d2, g2, _2, O2) {
  const $2 = [];
  let st2, ot2, lt2, ct2, ut2, gt2;
  for (st2 = 0, ot2 = d2.length, ut2 = 0; st2 < ot2; ++st2) {
    lt2 = d2[st2], ct2 = lt2.box, ct2.update(lt2.width || g2.w, lt2.height || g2.h, getMargins(lt2.horizontal, g2));
    const { same: ot3, other: mt2 } = updateDims(g2, _2, lt2, O2);
    ut2 |= ot3 && $2.length, gt2 = gt2 || mt2, ct2.fullSize || $2.push(lt2);
  }
  return ut2 && fitBoxes($2, g2, _2, O2) || gt2;
}
function setBoxDims(d2, g2, _2, O2, $2) {
  d2.top = _2, d2.left = g2, d2.right = g2 + O2, d2.bottom = _2 + $2, d2.width = O2, d2.height = $2;
}
function placeBoxes(d2, g2, _2, O2) {
  const $2 = _2.padding;
  let { x: st2, y: ot2 } = g2;
  for (const lt2 of d2) {
    const d3 = lt2.box, ct2 = O2[lt2.stack] || { count: 1, placed: 0, weight: 1 }, ut2 = lt2.stackWeight / ct2.weight || 1;
    if (lt2.horizontal) {
      const O3 = g2.w * ut2, st3 = ct2.size || d3.height;
      defined(ct2.start) && (ot2 = ct2.start), d3.fullSize ? setBoxDims(d3, $2.left, ot2, _2.outerWidth - $2.right - $2.left, st3) : setBoxDims(d3, g2.left + ct2.placed, ot2, O3, st3), ct2.start = ot2, ct2.placed += O3, ot2 = d3.bottom;
    } else {
      const O3 = g2.h * ut2, ot3 = ct2.size || d3.width;
      defined(ct2.start) && (st2 = ct2.start), d3.fullSize ? setBoxDims(d3, st2, $2.top, ot3, _2.outerHeight - $2.bottom - $2.top) : setBoxDims(d3, st2, g2.top + ct2.placed, ot3, O3), ct2.start = st2, ct2.placed += O3, st2 = d3.right;
    }
  }
  g2.x = st2, g2.y = ot2;
}
var Zr = { addBox(d2, g2) {
  d2.boxes || (d2.boxes = []), g2.fullSize = g2.fullSize || false, g2.position = g2.position || "top", g2.weight = g2.weight || 0, g2._layers = g2._layers || function() {
    return [{ z: 0, draw(d3) {
      g2.draw(d3);
    } }];
  }, d2.boxes.push(g2);
}, removeBox(d2, g2) {
  const _2 = d2.boxes ? d2.boxes.indexOf(g2) : -1;
  -1 !== _2 && d2.boxes.splice(_2, 1);
}, configure(d2, g2, _2) {
  g2.fullSize = _2.fullSize, g2.position = _2.position, g2.weight = _2.weight;
}, update(d2, g2, _2, O2) {
  if (!d2) return;
  const $2 = toPadding(d2.options.layout.padding), st2 = Math.max(g2 - $2.width, 0), ot2 = Math.max(_2 - $2.height, 0), lt2 = function buildLayoutBoxes(d3) {
    const g3 = function wrapBoxes(d4) {
      const g4 = [];
      let _4, O4, $4, st4, ot4, lt4;
      for (_4 = 0, O4 = (d4 || []).length; _4 < O4; ++_4) $4 = d4[_4], { position: st4, options: { stack: ot4, stackWeight: lt4 = 1 } } = $4, g4.push({ index: _4, box: $4, pos: st4, horizontal: $4.isHorizontal(), weight: $4.weight, stack: ot4 && st4 + ot4, stackWeight: lt4 });
      return g4;
    }(d3), _3 = sortByWeight(g3.filter((d4) => d4.box.fullSize), true), O3 = sortByWeight(filterByPosition(g3, "left"), true), $3 = sortByWeight(filterByPosition(g3, "right")), st3 = sortByWeight(filterByPosition(g3, "top"), true), ot3 = sortByWeight(filterByPosition(g3, "bottom")), lt3 = filterDynamicPositionByAxis(g3, "x"), ct3 = filterDynamicPositionByAxis(g3, "y");
    return { fullSize: _3, leftAndTop: O3.concat(st3), rightAndBottom: $3.concat(ct3).concat(ot3).concat(lt3), chartArea: filterByPosition(g3, "chartArea"), vertical: O3.concat($3).concat(ct3), horizontal: st3.concat(ot3).concat(lt3) };
  }(d2.boxes), ct2 = lt2.vertical, ut2 = lt2.horizontal;
  each(d2.boxes, (d3) => {
    "function" == typeof d3.beforeLayout && d3.beforeLayout();
  });
  const gt2 = ct2.reduce((d3, g3) => g3.box.options && false === g3.box.options.display ? d3 : d3 + 1, 0) || 1, mt2 = Object.freeze({ outerWidth: g2, outerHeight: _2, padding: $2, availableWidth: st2, availableHeight: ot2, vBoxMaxWidth: st2 / 2 / gt2, hBoxMaxHeight: ot2 / 2 }), bt2 = Object.assign({}, $2);
  updateMaxPadding(bt2, toPadding(O2));
  const yt2 = Object.assign({ maxPadding: bt2, w: st2, h: ot2, x: $2.left, y: $2.top }, $2), wt2 = setLayoutDims(ct2.concat(ut2), mt2);
  fitBoxes(lt2.fullSize, yt2, mt2, wt2), fitBoxes(ct2, yt2, mt2, wt2), fitBoxes(ut2, yt2, mt2, wt2) && fitBoxes(ct2, yt2, mt2, wt2), function handleMaxPadding(d3) {
    const g3 = d3.maxPadding;
    function updatePos(_3) {
      const O3 = Math.max(g3[_3] - d3[_3], 0);
      return d3[_3] += O3, O3;
    }
    d3.y += updatePos("top"), d3.x += updatePos("left"), updatePos("right"), updatePos("bottom");
  }(yt2), placeBoxes(lt2.leftAndTop, yt2, mt2, wt2), yt2.x += yt2.w, yt2.y += yt2.h, placeBoxes(lt2.rightAndBottom, yt2, mt2, wt2), d2.chartArea = { left: yt2.left, top: yt2.top, right: yt2.left + yt2.w, bottom: yt2.top + yt2.h, height: yt2.h, width: yt2.w }, each(lt2.chartArea, (g3) => {
    const _3 = g3.box;
    Object.assign(_3, d2.chartArea), _3.update(yt2.w, yt2.h, { left: 0, top: 0, right: 0, bottom: 0 });
  });
} };
class BasePlatform {
  acquireContext(d2, g2) {
  }
  releaseContext(d2) {
    return false;
  }
  addEventListener(d2, g2, _2) {
  }
  removeEventListener(d2, g2, _2) {
  }
  getDevicePixelRatio() {
    return 1;
  }
  getMaximumSize(d2, g2, _2, O2) {
    return g2 = Math.max(0, g2 || d2.width), _2 = _2 || d2.height, { width: g2, height: Math.max(0, O2 ? Math.floor(g2 / O2) : _2) };
  }
  isAttached(d2) {
    return true;
  }
  updateConfig(d2) {
  }
}
class BasicPlatform extends BasePlatform {
  acquireContext(d2) {
    return d2 && d2.getContext && d2.getContext("2d") || null;
  }
  updateConfig(d2) {
    d2.options.animation = false;
  }
}
const eo = "$chartjs", io = { touchstart: "mousedown", touchmove: "mousemove", touchend: "mouseup", pointerenter: "mouseenter", pointerdown: "mousedown", pointermove: "mousemove", pointerup: "mouseup", pointerleave: "mouseout", pointerout: "mouseout" }, isNullOrEmpty = (d2) => null === d2 || "" === d2;
const so = !!qr && { passive: true };
function removeListener(d2, g2, _2) {
  d2 && d2.canvas && d2.canvas.removeEventListener(g2, _2, so);
}
function nodeListContains(d2, g2) {
  for (const _2 of d2) if (_2 === g2 || _2.contains(g2)) return true;
}
function createAttachObserver(d2, g2, _2) {
  const O2 = d2.canvas, $2 = new MutationObserver((d3) => {
    let g3 = false;
    for (const _3 of d3) g3 = g3 || nodeListContains(_3.addedNodes, O2), g3 = g3 && !nodeListContains(_3.removedNodes, O2);
    g3 && _2();
  });
  return $2.observe(document, { childList: true, subtree: true }), $2;
}
function createDetachObserver(d2, g2, _2) {
  const O2 = d2.canvas, $2 = new MutationObserver((d3) => {
    let g3 = false;
    for (const _3 of d3) g3 = g3 || nodeListContains(_3.removedNodes, O2), g3 = g3 && !nodeListContains(_3.addedNodes, O2);
    g3 && _2();
  });
  return $2.observe(document, { childList: true, subtree: true }), $2;
}
const no = /* @__PURE__ */ new Map();
let ro = 0;
function onWindowResize() {
  const d2 = window.devicePixelRatio;
  d2 !== ro && (ro = d2, no.forEach((g2, _2) => {
    _2.currentDevicePixelRatio !== d2 && g2();
  }));
}
function createResizeObserver(d2, g2, _2) {
  const O2 = d2.canvas, $2 = O2 && _getParentNode(O2);
  if (!$2) return;
  const st2 = throttled((d3, g3) => {
    const O3 = $2.clientWidth;
    _2(d3, g3), O3 < $2.clientWidth && _2();
  }, window), ot2 = new ResizeObserver((d3) => {
    const g3 = d3[0], _3 = g3.contentRect.width, O3 = g3.contentRect.height;
    0 === _3 && 0 === O3 || st2(_3, O3);
  });
  return ot2.observe($2), function listenDevicePixelRatioChanges(d3, g3) {
    no.size || window.addEventListener("resize", onWindowResize), no.set(d3, g3);
  }(d2, st2), ot2;
}
function releaseObserver(d2, g2, _2) {
  _2 && _2.disconnect(), "resize" === g2 && function unlistenDevicePixelRatioChanges(d3) {
    no.delete(d3), no.size || window.removeEventListener("resize", onWindowResize);
  }(d2);
}
function createProxyAndListen(d2, g2, _2) {
  const O2 = d2.canvas, $2 = throttled((g3) => {
    null !== d2.ctx && _2(function fromNativeEvent(d3, g4) {
      const _3 = io[d3.type] || d3.type, { x: O3, y: $3 } = getRelativePosition(d3, g4);
      return { type: _3, chart: g4, native: d3, x: void 0 !== O3 ? O3 : null, y: void 0 !== $3 ? $3 : null };
    }(g3, d2));
  }, d2);
  return function addListener(d3, g3, _3) {
    d3 && d3.addEventListener(g3, _3, so);
  }(O2, g2, $2), $2;
}
class DomPlatform extends BasePlatform {
  acquireContext(d2, g2) {
    const _2 = d2 && d2.getContext && d2.getContext("2d");
    return _2 && _2.canvas === d2 ? (function initCanvas(d3, g3) {
      const _3 = d3.style, O2 = d3.getAttribute("height"), $2 = d3.getAttribute("width");
      if (d3[eo] = { initial: { height: O2, width: $2, style: { display: _3.display, height: _3.height, width: _3.width } } }, _3.display = _3.display || "block", _3.boxSizing = _3.boxSizing || "border-box", isNullOrEmpty($2)) {
        const g4 = readUsedSize(d3, "width");
        void 0 !== g4 && (d3.width = g4);
      }
      if (isNullOrEmpty(O2)) if ("" === d3.style.height) d3.height = d3.width / (g3 || 2);
      else {
        const g4 = readUsedSize(d3, "height");
        void 0 !== g4 && (d3.height = g4);
      }
      return d3;
    }(d2, g2), _2) : null;
  }
  releaseContext(d2) {
    const g2 = d2.canvas;
    if (!g2[eo]) return false;
    const _2 = g2[eo].initial;
    ["height", "width"].forEach((d3) => {
      const O3 = _2[d3];
      isNullOrUndef(O3) ? g2.removeAttribute(d3) : g2.setAttribute(d3, O3);
    });
    const O2 = _2.style || {};
    return Object.keys(O2).forEach((d3) => {
      g2.style[d3] = O2[d3];
    }), g2.width = g2.width, delete g2[eo], true;
  }
  addEventListener(d2, g2, _2) {
    this.removeEventListener(d2, g2);
    const O2 = d2.$proxies || (d2.$proxies = {}), $2 = { attach: createAttachObserver, detach: createDetachObserver, resize: createResizeObserver }[g2] || createProxyAndListen;
    O2[g2] = $2(d2, g2, _2);
  }
  removeEventListener(d2, g2) {
    const _2 = d2.$proxies || (d2.$proxies = {}), O2 = _2[g2];
    if (!O2) return;
    ({ attach: releaseObserver, detach: releaseObserver, resize: releaseObserver }[g2] || removeListener)(d2, g2, O2), _2[g2] = void 0;
  }
  getDevicePixelRatio() {
    return window.devicePixelRatio;
  }
  getMaximumSize(d2, g2, _2, O2) {
    return getMaximumSize(d2, g2, _2, O2);
  }
  isAttached(d2) {
    const g2 = d2 && _getParentNode(d2);
    return !(!g2 || !g2.isConnected);
  }
}
let oo = (_d = class {
  constructor() {
    __publicField(this, "x");
    __publicField(this, "y");
    __publicField(this, "active", false);
    __publicField(this, "options");
    __publicField(this, "$animations");
  }
  tooltipPosition(d2) {
    const { x: g2, y: _2 } = this.getProps(["x", "y"], d2);
    return { x: g2, y: _2 };
  }
  hasValue() {
    return isNumber(this.x) && isNumber(this.y);
  }
  getProps(d2, g2) {
    const _2 = this.$animations;
    if (!g2 || !_2) return this;
    const O2 = {};
    return d2.forEach((d3) => {
      O2[d3] = _2[d3] && _2[d3].active() ? _2[d3]._to : this[d3];
    }), O2;
  }
}, __publicField(_d, "defaults", {}), __publicField(_d, "defaultRoutes"), _d);
function autoSkip(d2, g2) {
  const _2 = d2.options.ticks, O2 = function determineMaxTicks(d3) {
    const g3 = d3.options.offset, _3 = d3._tickSize(), O3 = d3._length / _3 + (g3 ? 0 : 1), $3 = d3._maxLength / _3;
    return Math.floor(Math.min(O3, $3));
  }(d2), $2 = Math.min(_2.maxTicksLimit || O2, O2), st2 = _2.major.enabled ? function getMajorIndices(d3) {
    const g3 = [];
    let _3, O3;
    for (_3 = 0, O3 = d3.length; _3 < O3; _3++) d3[_3].major && g3.push(_3);
    return g3;
  }(g2) : [], ot2 = st2.length, lt2 = st2[0], ct2 = st2[ot2 - 1], ut2 = [];
  if (ot2 > $2) return function skipMajors(d3, g3, _3, O3) {
    let $3, st3 = 0, ot3 = _3[0];
    for (O3 = Math.ceil(O3), $3 = 0; $3 < d3.length; $3++) $3 === ot3 && (g3.push(d3[$3]), st3++, ot3 = _3[st3 * O3]);
  }(g2, ut2, st2, ot2 / $2), ut2;
  const gt2 = function calculateSpacing(d3, g3, _3) {
    const O3 = function getEvenSpacing(d4) {
      const g4 = d4.length;
      let _4, O4;
      if (g4 < 2) return false;
      for (O4 = d4[0], _4 = 1; _4 < g4; ++_4) if (d4[_4] - d4[_4 - 1] !== O4) return false;
      return O4;
    }(d3), $3 = g3.length / _3;
    if (!O3) return Math.max($3, 1);
    const st3 = function _factorize(d4) {
      const g4 = [], _4 = Math.sqrt(d4);
      let O4;
      for (O4 = 1; O4 < _4; O4++) d4 % O4 == 0 && (g4.push(O4), g4.push(d4 / O4));
      return _4 === (0 | _4) && g4.push(_4), g4.sort((d5, g5) => d5 - g5).pop(), g4;
    }(O3);
    for (let d4 = 0, g4 = st3.length - 1; d4 < g4; d4++) {
      const g5 = st3[d4];
      if (g5 > $3) return g5;
    }
    return Math.max($3, 1);
  }(st2, g2, $2);
  if (ot2 > 0) {
    let d3, _3;
    const O3 = ot2 > 1 ? Math.round((ct2 - lt2) / (ot2 - 1)) : null;
    for (skip(g2, ut2, gt2, isNullOrUndef(O3) ? 0 : lt2 - O3, lt2), d3 = 0, _3 = ot2 - 1; d3 < _3; d3++) skip(g2, ut2, gt2, st2[d3], st2[d3 + 1]);
    return skip(g2, ut2, gt2, ct2, isNullOrUndef(O3) ? g2.length : ct2 + O3), ut2;
  }
  return skip(g2, ut2, gt2), ut2;
}
function skip(d2, g2, _2, O2, $2) {
  const st2 = valueOrDefault(O2, 0), ot2 = Math.min(valueOrDefault($2, d2.length), d2.length);
  let lt2, ct2, ut2, gt2 = 0;
  for (_2 = Math.ceil(_2), $2 && (lt2 = $2 - O2, _2 = lt2 / Math.floor(lt2 / _2)), ut2 = st2; ut2 < 0; ) gt2++, ut2 = Math.round(st2 + gt2 * _2);
  for (ct2 = Math.max(st2, 0); ct2 < ot2; ct2++) ct2 === ut2 && (g2.push(d2[ct2]), gt2++, ut2 = Math.round(st2 + gt2 * _2));
}
const offsetFromEdge = (d2, g2, _2) => "top" === g2 || "left" === g2 ? d2[g2] + _2 : d2[g2] - _2, getTicksLimit = (d2, g2) => Math.min(g2 || d2, d2);
function sample(d2, g2) {
  const _2 = [], O2 = d2.length / g2, $2 = d2.length;
  let st2 = 0;
  for (; st2 < $2; st2 += O2) _2.push(d2[Math.floor(st2)]);
  return _2;
}
function getPixelForGridLine(d2, g2, _2) {
  const O2 = d2.ticks.length, $2 = Math.min(g2, O2 - 1), st2 = d2._startPixel, ot2 = d2._endPixel, lt2 = 1e-6;
  let ct2, ut2 = d2.getPixelForTick($2);
  if (!(_2 && (ct2 = 1 === O2 ? Math.max(ut2 - st2, ot2 - ut2) : 0 === g2 ? (d2.getPixelForTick(1) - ut2) / 2 : (ut2 - d2.getPixelForTick($2 - 1)) / 2, ut2 += $2 < g2 ? ct2 : -ct2, ut2 < st2 - lt2 || ut2 > ot2 + lt2))) return ut2;
}
function getTickMarkLength(d2) {
  return d2.drawTicks ? d2.tickLength : 0;
}
function getTitleHeight(d2, g2) {
  if (!d2.display) return 0;
  const _2 = toFont(d2.font, g2), O2 = toPadding(d2.padding);
  return (isArray$1(d2.text) ? d2.text.length : 1) * _2.lineHeight + O2.height;
}
function titleAlign(d2, g2, _2) {
  let O2 = _toLeftRightCenter(d2);
  return (_2 && "right" !== g2 || !_2 && "right" === g2) && (O2 = /* @__PURE__ */ ((d3) => "left" === d3 ? "right" : "right" === d3 ? "left" : d3)(O2)), O2;
}
class Scale extends oo {
  constructor(d2) {
    super(), this.id = d2.id, this.type = d2.type, this.options = void 0, this.ctx = d2.ctx, this.chart = d2.chart, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.width = void 0, this.height = void 0, this._margins = { left: 0, right: 0, top: 0, bottom: 0 }, this.maxWidth = void 0, this.maxHeight = void 0, this.paddingTop = void 0, this.paddingBottom = void 0, this.paddingLeft = void 0, this.paddingRight = void 0, this.axis = void 0, this.labelRotation = void 0, this.min = void 0, this.max = void 0, this._range = void 0, this.ticks = [], this._gridLineItems = null, this._labelItems = null, this._labelSizes = null, this._length = 0, this._maxLength = 0, this._longestTextCache = {}, this._startPixel = void 0, this._endPixel = void 0, this._reversePixels = false, this._userMax = void 0, this._userMin = void 0, this._suggestedMax = void 0, this._suggestedMin = void 0, this._ticksLength = 0, this._borderValue = 0, this._cache = {}, this._dataLimitsCached = false, this.$context = void 0;
  }
  init(d2) {
    this.options = d2.setContext(this.getContext()), this.axis = d2.axis, this._userMin = this.parse(d2.min), this._userMax = this.parse(d2.max), this._suggestedMin = this.parse(d2.suggestedMin), this._suggestedMax = this.parse(d2.suggestedMax);
  }
  parse(d2, g2) {
    return d2;
  }
  getUserBounds() {
    let { _userMin: d2, _userMax: g2, _suggestedMin: _2, _suggestedMax: O2 } = this;
    return d2 = finiteOrDefault(d2, Number.POSITIVE_INFINITY), g2 = finiteOrDefault(g2, Number.NEGATIVE_INFINITY), _2 = finiteOrDefault(_2, Number.POSITIVE_INFINITY), O2 = finiteOrDefault(O2, Number.NEGATIVE_INFINITY), { min: finiteOrDefault(d2, _2), max: finiteOrDefault(g2, O2), minDefined: isNumberFinite(d2), maxDefined: isNumberFinite(g2) };
  }
  getMinMax(d2) {
    let g2, { min: _2, max: O2, minDefined: $2, maxDefined: st2 } = this.getUserBounds();
    if ($2 && st2) return { min: _2, max: O2 };
    const ot2 = this.getMatchingVisibleMetas();
    for (let lt2 = 0, ct2 = ot2.length; lt2 < ct2; ++lt2) g2 = ot2[lt2].controller.getMinMax(this, d2), $2 || (_2 = Math.min(_2, g2.min)), st2 || (O2 = Math.max(O2, g2.max));
    return _2 = st2 && _2 > O2 ? O2 : _2, O2 = $2 && _2 > O2 ? _2 : O2, { min: finiteOrDefault(_2, finiteOrDefault(O2, _2)), max: finiteOrDefault(O2, finiteOrDefault(_2, O2)) };
  }
  getPadding() {
    return { left: this.paddingLeft || 0, top: this.paddingTop || 0, right: this.paddingRight || 0, bottom: this.paddingBottom || 0 };
  }
  getTicks() {
    return this.ticks;
  }
  getLabels() {
    const d2 = this.chart.data;
    return this.options.labels || (this.isHorizontal() ? d2.xLabels : d2.yLabels) || d2.labels || [];
  }
  getLabelItems(d2 = this.chart.chartArea) {
    return this._labelItems || (this._labelItems = this._computeLabelItems(d2));
  }
  beforeLayout() {
    this._cache = {}, this._dataLimitsCached = false;
  }
  beforeUpdate() {
    callback(this.options.beforeUpdate, [this]);
  }
  update(d2, g2, _2) {
    const { beginAtZero: O2, grace: $2, ticks: st2 } = this.options, ot2 = st2.sampleSize;
    this.beforeUpdate(), this.maxWidth = d2, this.maxHeight = g2, this._margins = _2 = Object.assign({ left: 0, right: 0, top: 0, bottom: 0 }, _2), this.ticks = null, this._labelSizes = null, this._gridLineItems = null, this._labelItems = null, this.beforeSetDimensions(), this.setDimensions(), this.afterSetDimensions(), this._maxLength = this.isHorizontal() ? this.width + _2.left + _2.right : this.height + _2.top + _2.bottom, this._dataLimitsCached || (this.beforeDataLimits(), this.determineDataLimits(), this.afterDataLimits(), this._range = function _addGrace(d3, g3, _3) {
      const { min: O3, max: $3 } = d3, st3 = toDimension(g3, ($3 - O3) / 2), keepZero = (d4, g4) => _3 && 0 === d4 ? 0 : d4 + g4;
      return { min: keepZero(O3, -Math.abs(st3)), max: keepZero($3, st3) };
    }(this, $2, O2), this._dataLimitsCached = true), this.beforeBuildTicks(), this.ticks = this.buildTicks() || [], this.afterBuildTicks();
    const lt2 = ot2 < this.ticks.length;
    this._convertTicksToLabels(lt2 ? sample(this.ticks, ot2) : this.ticks), this.configure(), this.beforeCalculateLabelRotation(), this.calculateLabelRotation(), this.afterCalculateLabelRotation(), st2.display && (st2.autoSkip || "auto" === st2.source) && (this.ticks = autoSkip(this, this.ticks), this._labelSizes = null, this.afterAutoSkip()), lt2 && this._convertTicksToLabels(this.ticks), this.beforeFit(), this.fit(), this.afterFit(), this.afterUpdate();
  }
  configure() {
    let d2, g2, _2 = this.options.reverse;
    this.isHorizontal() ? (d2 = this.left, g2 = this.right) : (d2 = this.top, g2 = this.bottom, _2 = !_2), this._startPixel = d2, this._endPixel = g2, this._reversePixels = _2, this._length = g2 - d2, this._alignToPixels = this.options.alignToPixels;
  }
  afterUpdate() {
    callback(this.options.afterUpdate, [this]);
  }
  beforeSetDimensions() {
    callback(this.options.beforeSetDimensions, [this]);
  }
  setDimensions() {
    this.isHorizontal() ? (this.width = this.maxWidth, this.left = 0, this.right = this.width) : (this.height = this.maxHeight, this.top = 0, this.bottom = this.height), this.paddingLeft = 0, this.paddingTop = 0, this.paddingRight = 0, this.paddingBottom = 0;
  }
  afterSetDimensions() {
    callback(this.options.afterSetDimensions, [this]);
  }
  _callHooks(d2) {
    this.chart.notifyPlugins(d2, this.getContext()), callback(this.options[d2], [this]);
  }
  beforeDataLimits() {
    this._callHooks("beforeDataLimits");
  }
  determineDataLimits() {
  }
  afterDataLimits() {
    this._callHooks("afterDataLimits");
  }
  beforeBuildTicks() {
    this._callHooks("beforeBuildTicks");
  }
  buildTicks() {
    return [];
  }
  afterBuildTicks() {
    this._callHooks("afterBuildTicks");
  }
  beforeTickToLabelConversion() {
    callback(this.options.beforeTickToLabelConversion, [this]);
  }
  generateTickLabels(d2) {
    const g2 = this.options.ticks;
    let _2, O2, $2;
    for (_2 = 0, O2 = d2.length; _2 < O2; _2++) $2 = d2[_2], $2.label = callback(g2.callback, [$2.value, _2, d2], this);
  }
  afterTickToLabelConversion() {
    callback(this.options.afterTickToLabelConversion, [this]);
  }
  beforeCalculateLabelRotation() {
    callback(this.options.beforeCalculateLabelRotation, [this]);
  }
  calculateLabelRotation() {
    const d2 = this.options, g2 = d2.ticks, _2 = getTicksLimit(this.ticks.length, d2.ticks.maxTicksLimit), O2 = g2.minRotation || 0, $2 = g2.maxRotation;
    let st2, ot2, lt2, ct2 = O2;
    if (!this._isVisible() || !g2.display || O2 >= $2 || _2 <= 1 || !this.isHorizontal()) return void (this.labelRotation = O2);
    const ut2 = this._getLabelSizes(), gt2 = ut2.widest.width, mt2 = ut2.highest.height, bt2 = _limitValue(this.chart.width - gt2, 0, this.maxWidth);
    st2 = d2.offset ? this.maxWidth / _2 : bt2 / (_2 - 1), gt2 + 6 > st2 && (st2 = bt2 / (_2 - (d2.offset ? 0.5 : 1)), ot2 = this.maxHeight - getTickMarkLength(d2.grid) - g2.padding - getTitleHeight(d2.title, this.chart.options.font), lt2 = Math.sqrt(gt2 * gt2 + mt2 * mt2), ct2 = toDegrees(Math.min(Math.asin(_limitValue((ut2.highest.height + 6) / st2, -1, 1)), Math.asin(_limitValue(ot2 / lt2, -1, 1)) - Math.asin(_limitValue(mt2 / lt2, -1, 1)))), ct2 = Math.max(O2, Math.min($2, ct2))), this.labelRotation = ct2;
  }
  afterCalculateLabelRotation() {
    callback(this.options.afterCalculateLabelRotation, [this]);
  }
  afterAutoSkip() {
  }
  beforeFit() {
    callback(this.options.beforeFit, [this]);
  }
  fit() {
    const d2 = { width: 0, height: 0 }, { chart: g2, options: { ticks: _2, title: O2, grid: $2 } } = this, st2 = this._isVisible(), ot2 = this.isHorizontal();
    if (st2) {
      const st3 = getTitleHeight(O2, g2.options.font);
      if (ot2 ? (d2.width = this.maxWidth, d2.height = getTickMarkLength($2) + st3) : (d2.height = this.maxHeight, d2.width = getTickMarkLength($2) + st3), _2.display && this.ticks.length) {
        const { first: g3, last: O3, widest: $3, highest: st4 } = this._getLabelSizes(), lt2 = 2 * _2.padding, ct2 = toRadians(this.labelRotation), ut2 = Math.cos(ct2), gt2 = Math.sin(ct2);
        if (ot2) {
          const g4 = _2.mirror ? 0 : gt2 * $3.width + ut2 * st4.height;
          d2.height = Math.min(this.maxHeight, d2.height + g4 + lt2);
        } else {
          const g4 = _2.mirror ? 0 : ut2 * $3.width + gt2 * st4.height;
          d2.width = Math.min(this.maxWidth, d2.width + g4 + lt2);
        }
        this._calculatePadding(g3, O3, gt2, ut2);
      }
    }
    this._handleMargins(), ot2 ? (this.width = this._length = g2.width - this._margins.left - this._margins.right, this.height = d2.height) : (this.width = d2.width, this.height = this._length = g2.height - this._margins.top - this._margins.bottom);
  }
  _calculatePadding(d2, g2, _2, O2) {
    const { ticks: { align: $2, padding: st2 }, position: ot2 } = this.options, lt2 = 0 !== this.labelRotation, ct2 = "top" !== ot2 && "x" === this.axis;
    if (this.isHorizontal()) {
      const ot3 = this.getPixelForTick(0) - this.left, ut2 = this.right - this.getPixelForTick(this.ticks.length - 1);
      let gt2 = 0, mt2 = 0;
      lt2 ? ct2 ? (gt2 = O2 * d2.width, mt2 = _2 * g2.height) : (gt2 = _2 * d2.height, mt2 = O2 * g2.width) : "start" === $2 ? mt2 = g2.width : "end" === $2 ? gt2 = d2.width : "inner" !== $2 && (gt2 = d2.width / 2, mt2 = g2.width / 2), this.paddingLeft = Math.max((gt2 - ot3 + st2) * this.width / (this.width - ot3), 0), this.paddingRight = Math.max((mt2 - ut2 + st2) * this.width / (this.width - ut2), 0);
    } else {
      let _3 = g2.height / 2, O3 = d2.height / 2;
      "start" === $2 ? (_3 = 0, O3 = d2.height) : "end" === $2 && (_3 = g2.height, O3 = 0), this.paddingTop = _3 + st2, this.paddingBottom = O3 + st2;
    }
  }
  _handleMargins() {
    this._margins && (this._margins.left = Math.max(this.paddingLeft, this._margins.left), this._margins.top = Math.max(this.paddingTop, this._margins.top), this._margins.right = Math.max(this.paddingRight, this._margins.right), this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom));
  }
  afterFit() {
    callback(this.options.afterFit, [this]);
  }
  isHorizontal() {
    const { axis: d2, position: g2 } = this.options;
    return "top" === g2 || "bottom" === g2 || "x" === d2;
  }
  isFullSize() {
    return this.options.fullSize;
  }
  _convertTicksToLabels(d2) {
    let g2, _2;
    for (this.beforeTickToLabelConversion(), this.generateTickLabels(d2), g2 = 0, _2 = d2.length; g2 < _2; g2++) isNullOrUndef(d2[g2].label) && (d2.splice(g2, 1), _2--, g2--);
    this.afterTickToLabelConversion();
  }
  _getLabelSizes() {
    let d2 = this._labelSizes;
    if (!d2) {
      const g2 = this.options.ticks.sampleSize;
      let _2 = this.ticks;
      g2 < _2.length && (_2 = sample(_2, g2)), this._labelSizes = d2 = this._computeLabelSizes(_2, _2.length, this.options.ticks.maxTicksLimit);
    }
    return d2;
  }
  _computeLabelSizes(d2, g2, _2) {
    const { ctx: O2, _longestTextCache: $2 } = this, st2 = [], ot2 = [], lt2 = Math.floor(g2 / getTicksLimit(g2, _2));
    let ct2, ut2, gt2, mt2, bt2, yt2, wt2, Pt2, At2, St2, Mt2, Vt2 = 0, Ot2 = 0;
    for (ct2 = 0; ct2 < g2; ct2 += lt2) {
      if (mt2 = d2[ct2].label, bt2 = this._resolveTickFontOptions(ct2), O2.font = yt2 = bt2.string, wt2 = $2[yt2] = $2[yt2] || { data: {}, gc: [] }, Pt2 = bt2.lineHeight, At2 = St2 = 0, isNullOrUndef(mt2) || isArray$1(mt2)) {
        if (isArray$1(mt2)) for (ut2 = 0, gt2 = mt2.length; ut2 < gt2; ++ut2) Mt2 = mt2[ut2], isNullOrUndef(Mt2) || isArray$1(Mt2) || (At2 = _measureText(O2, wt2.data, wt2.gc, At2, Mt2), St2 += Pt2);
      } else At2 = _measureText(O2, wt2.data, wt2.gc, At2, mt2), St2 = Pt2;
      st2.push(At2), ot2.push(St2), Vt2 = Math.max(At2, Vt2), Ot2 = Math.max(St2, Ot2);
    }
    !function garbageCollect(d3, g3) {
      each(d3, (d4) => {
        const _3 = d4.gc, O3 = _3.length / 2;
        let $3;
        if (O3 > g3) {
          for ($3 = 0; $3 < O3; ++$3) delete d4.data[_3[$3]];
          _3.splice(0, O3);
        }
      });
    }($2, g2);
    const zt2 = st2.indexOf(Vt2), Bt2 = ot2.indexOf(Ot2), valueAt = (d3) => ({ width: st2[d3] || 0, height: ot2[d3] || 0 });
    return { first: valueAt(0), last: valueAt(g2 - 1), widest: valueAt(zt2), highest: valueAt(Bt2), widths: st2, heights: ot2 };
  }
  getLabelForValue(d2) {
    return d2;
  }
  getPixelForValue(d2, g2) {
    return NaN;
  }
  getValueForPixel(d2) {
  }
  getPixelForTick(d2) {
    const g2 = this.ticks;
    return d2 < 0 || d2 > g2.length - 1 ? null : this.getPixelForValue(g2[d2].value);
  }
  getPixelForDecimal(d2) {
    this._reversePixels && (d2 = 1 - d2);
    const g2 = this._startPixel + d2 * this._length;
    return function _int16Range(d3) {
      return _limitValue(d3, -32768, 32767);
    }(this._alignToPixels ? _alignPixel(this.chart, g2, 0) : g2);
  }
  getDecimalForPixel(d2) {
    const g2 = (d2 - this._startPixel) / this._length;
    return this._reversePixels ? 1 - g2 : g2;
  }
  getBasePixel() {
    return this.getPixelForValue(this.getBaseValue());
  }
  getBaseValue() {
    const { min: d2, max: g2 } = this;
    return d2 < 0 && g2 < 0 ? g2 : d2 > 0 && g2 > 0 ? d2 : 0;
  }
  getContext(d2) {
    const g2 = this.ticks || [];
    if (d2 >= 0 && d2 < g2.length) {
      const _2 = g2[d2];
      return _2.$context || (_2.$context = function createTickContext(d3, g3, _3) {
        return createContext(d3, { tick: _3, index: g3, type: "tick" });
      }(this.getContext(), d2, _2));
    }
    return this.$context || (this.$context = function createScaleContext(d3, g3) {
      return createContext(d3, { scale: g3, type: "scale" });
    }(this.chart.getContext(), this));
  }
  _tickSize() {
    const d2 = this.options.ticks, g2 = toRadians(this.labelRotation), _2 = Math.abs(Math.cos(g2)), O2 = Math.abs(Math.sin(g2)), $2 = this._getLabelSizes(), st2 = d2.autoSkipPadding || 0, ot2 = $2 ? $2.widest.width + st2 : 0, lt2 = $2 ? $2.highest.height + st2 : 0;
    return this.isHorizontal() ? lt2 * _2 > ot2 * O2 ? ot2 / _2 : lt2 / O2 : lt2 * O2 < ot2 * _2 ? lt2 / _2 : ot2 / O2;
  }
  _isVisible() {
    const d2 = this.options.display;
    return "auto" !== d2 ? !!d2 : this.getMatchingVisibleMetas().length > 0;
  }
  _computeGridLineItems(d2) {
    const g2 = this.axis, _2 = this.chart, O2 = this.options, { grid: $2, position: st2, border: ot2 } = O2, lt2 = $2.offset, ct2 = this.isHorizontal(), ut2 = this.ticks.length + (lt2 ? 1 : 0), gt2 = getTickMarkLength($2), mt2 = [], bt2 = ot2.setContext(this.getContext()), yt2 = bt2.display ? bt2.width : 0, wt2 = yt2 / 2, alignBorderValue = function(d3) {
      return _alignPixel(_2, d3, yt2);
    };
    let Pt2, At2, St2, Mt2, Vt2, Ot2, zt2, Bt2, Zt2, ce2, ue2, de2;
    if ("top" === st2) Pt2 = alignBorderValue(this.bottom), Ot2 = this.bottom - gt2, Bt2 = Pt2 - wt2, ce2 = alignBorderValue(d2.top) + wt2, de2 = d2.bottom;
    else if ("bottom" === st2) Pt2 = alignBorderValue(this.top), ce2 = d2.top, de2 = alignBorderValue(d2.bottom) - wt2, Ot2 = Pt2 + wt2, Bt2 = this.top + gt2;
    else if ("left" === st2) Pt2 = alignBorderValue(this.right), Vt2 = this.right - gt2, zt2 = Pt2 - wt2, Zt2 = alignBorderValue(d2.left) + wt2, ue2 = d2.right;
    else if ("right" === st2) Pt2 = alignBorderValue(this.left), Zt2 = d2.left, ue2 = alignBorderValue(d2.right) - wt2, Vt2 = Pt2 + wt2, zt2 = this.left + gt2;
    else if ("x" === g2) {
      if ("center" === st2) Pt2 = alignBorderValue((d2.top + d2.bottom) / 2 + 0.5);
      else if (isObject$1(st2)) {
        const d3 = Object.keys(st2)[0], g3 = st2[d3];
        Pt2 = alignBorderValue(this.chart.scales[d3].getPixelForValue(g3));
      }
      ce2 = d2.top, de2 = d2.bottom, Ot2 = Pt2 + wt2, Bt2 = Ot2 + gt2;
    } else if ("y" === g2) {
      if ("center" === st2) Pt2 = alignBorderValue((d2.left + d2.right) / 2);
      else if (isObject$1(st2)) {
        const d3 = Object.keys(st2)[0], g3 = st2[d3];
        Pt2 = alignBorderValue(this.chart.scales[d3].getPixelForValue(g3));
      }
      Vt2 = Pt2 - wt2, zt2 = Vt2 - gt2, Zt2 = d2.left, ue2 = d2.right;
    }
    const pe2 = valueOrDefault(O2.ticks.maxTicksLimit, ut2), fe2 = Math.max(1, Math.ceil(ut2 / pe2));
    for (At2 = 0; At2 < ut2; At2 += fe2) {
      const d3 = this.getContext(At2), g3 = $2.setContext(d3), O3 = ot2.setContext(d3), st3 = g3.lineWidth, ut3 = g3.color, gt3 = O3.dash || [], bt3 = O3.dashOffset, yt3 = g3.tickWidth, wt3 = g3.tickColor, Pt3 = g3.tickBorderDash || [], pe3 = g3.tickBorderDashOffset;
      St2 = getPixelForGridLine(this, At2, lt2), void 0 !== St2 && (Mt2 = _alignPixel(_2, St2, st3), ct2 ? Vt2 = zt2 = Zt2 = ue2 = Mt2 : Ot2 = Bt2 = ce2 = de2 = Mt2, mt2.push({ tx1: Vt2, ty1: Ot2, tx2: zt2, ty2: Bt2, x1: Zt2, y1: ce2, x2: ue2, y2: de2, width: st3, color: ut3, borderDash: gt3, borderDashOffset: bt3, tickWidth: yt3, tickColor: wt3, tickBorderDash: Pt3, tickBorderDashOffset: pe3 }));
    }
    return this._ticksLength = ut2, this._borderValue = Pt2, mt2;
  }
  _computeLabelItems(d2) {
    const g2 = this.axis, _2 = this.options, { position: O2, ticks: $2 } = _2, st2 = this.isHorizontal(), ot2 = this.ticks, { align: lt2, crossAlign: ct2, padding: ut2, mirror: gt2 } = $2, mt2 = getTickMarkLength(_2.grid), bt2 = mt2 + ut2, yt2 = gt2 ? -ut2 : bt2, wt2 = -toRadians(this.labelRotation), Pt2 = [];
    let At2, St2, Mt2, Vt2, Ot2, zt2, Bt2, Zt2, ce2, ue2, de2, pe2, fe2 = "middle";
    if ("top" === O2) zt2 = this.bottom - yt2, Bt2 = this._getXAxisLabelAlignment();
    else if ("bottom" === O2) zt2 = this.top + yt2, Bt2 = this._getXAxisLabelAlignment();
    else if ("left" === O2) {
      const d3 = this._getYAxisLabelAlignment(mt2);
      Bt2 = d3.textAlign, Ot2 = d3.x;
    } else if ("right" === O2) {
      const d3 = this._getYAxisLabelAlignment(mt2);
      Bt2 = d3.textAlign, Ot2 = d3.x;
    } else if ("x" === g2) {
      if ("center" === O2) zt2 = (d2.top + d2.bottom) / 2 + bt2;
      else if (isObject$1(O2)) {
        const d3 = Object.keys(O2)[0], g3 = O2[d3];
        zt2 = this.chart.scales[d3].getPixelForValue(g3) + bt2;
      }
      Bt2 = this._getXAxisLabelAlignment();
    } else if ("y" === g2) {
      if ("center" === O2) Ot2 = (d2.left + d2.right) / 2 - bt2;
      else if (isObject$1(O2)) {
        const d3 = Object.keys(O2)[0], g3 = O2[d3];
        Ot2 = this.chart.scales[d3].getPixelForValue(g3);
      }
      Bt2 = this._getYAxisLabelAlignment(mt2).textAlign;
    }
    "y" === g2 && ("start" === lt2 ? fe2 = "top" : "end" === lt2 && (fe2 = "bottom"));
    const ge2 = this._getLabelSizes();
    for (At2 = 0, St2 = ot2.length; At2 < St2; ++At2) {
      Mt2 = ot2[At2], Vt2 = Mt2.label;
      const d3 = $2.setContext(this.getContext(At2));
      Zt2 = this.getPixelForTick(At2) + $2.labelOffset, ce2 = this._resolveTickFontOptions(At2), ue2 = ce2.lineHeight, de2 = isArray$1(Vt2) ? Vt2.length : 1;
      const g3 = de2 / 2, _3 = d3.color, lt3 = d3.textStrokeColor, ut3 = d3.textStrokeWidth;
      let mt3, bt3 = Bt2;
      if (st2 ? (Ot2 = Zt2, "inner" === Bt2 && (bt3 = At2 === St2 - 1 ? this.options.reverse ? "left" : "right" : 0 === At2 ? this.options.reverse ? "right" : "left" : "center"), pe2 = "top" === O2 ? "near" === ct2 || 0 !== wt2 ? -de2 * ue2 + ue2 / 2 : "center" === ct2 ? -ge2.highest.height / 2 - g3 * ue2 + ue2 : -ge2.highest.height + ue2 / 2 : "near" === ct2 || 0 !== wt2 ? ue2 / 2 : "center" === ct2 ? ge2.highest.height / 2 - g3 * ue2 : ge2.highest.height - de2 * ue2, gt2 && (pe2 *= -1), 0 === wt2 || d3.showLabelBackdrop || (Ot2 += ue2 / 2 * Math.sin(wt2))) : (zt2 = Zt2, pe2 = (1 - de2) * ue2 / 2), d3.showLabelBackdrop) {
        const g4 = toPadding(d3.backdropPadding), _4 = ge2.heights[At2], O3 = ge2.widths[At2];
        let $3 = pe2 - g4.top, st3 = 0 - g4.left;
        switch (fe2) {
          case "middle":
            $3 -= _4 / 2;
            break;
          case "bottom":
            $3 -= _4;
        }
        switch (Bt2) {
          case "center":
            st3 -= O3 / 2;
            break;
          case "right":
            st3 -= O3;
            break;
          case "inner":
            At2 === St2 - 1 ? st3 -= O3 : At2 > 0 && (st3 -= O3 / 2);
        }
        mt3 = { left: st3, top: $3, width: O3 + g4.width, height: _4 + g4.height, color: d3.backdropColor };
      }
      Pt2.push({ label: Vt2, font: ce2, textOffset: pe2, options: { rotation: wt2, color: _3, strokeColor: lt3, strokeWidth: ut3, textAlign: bt3, textBaseline: fe2, translation: [Ot2, zt2], backdrop: mt3 } });
    }
    return Pt2;
  }
  _getXAxisLabelAlignment() {
    const { position: d2, ticks: g2 } = this.options;
    if (-toRadians(this.labelRotation)) return "top" === d2 ? "left" : "right";
    let _2 = "center";
    return "start" === g2.align ? _2 = "left" : "end" === g2.align ? _2 = "right" : "inner" === g2.align && (_2 = "inner"), _2;
  }
  _getYAxisLabelAlignment(d2) {
    const { position: g2, ticks: { crossAlign: _2, mirror: O2, padding: $2 } } = this.options, st2 = d2 + $2, ot2 = this._getLabelSizes().widest.width;
    let lt2, ct2;
    return "left" === g2 ? O2 ? (ct2 = this.right + $2, "near" === _2 ? lt2 = "left" : "center" === _2 ? (lt2 = "center", ct2 += ot2 / 2) : (lt2 = "right", ct2 += ot2)) : (ct2 = this.right - st2, "near" === _2 ? lt2 = "right" : "center" === _2 ? (lt2 = "center", ct2 -= ot2 / 2) : (lt2 = "left", ct2 = this.left)) : "right" === g2 ? O2 ? (ct2 = this.left + $2, "near" === _2 ? lt2 = "right" : "center" === _2 ? (lt2 = "center", ct2 -= ot2 / 2) : (lt2 = "left", ct2 -= ot2)) : (ct2 = this.left + st2, "near" === _2 ? lt2 = "left" : "center" === _2 ? (lt2 = "center", ct2 += ot2 / 2) : (lt2 = "right", ct2 = this.right)) : lt2 = "right", { textAlign: lt2, x: ct2 };
  }
  _computeLabelArea() {
    if (this.options.ticks.mirror) return;
    const d2 = this.chart, g2 = this.options.position;
    return "left" === g2 || "right" === g2 ? { top: 0, left: this.left, bottom: d2.height, right: this.right } : "top" === g2 || "bottom" === g2 ? { top: this.top, left: 0, bottom: this.bottom, right: d2.width } : void 0;
  }
  drawBackground() {
    const { ctx: d2, options: { backgroundColor: g2 }, left: _2, top: O2, width: $2, height: st2 } = this;
    g2 && (d2.save(), d2.fillStyle = g2, d2.fillRect(_2, O2, $2, st2), d2.restore());
  }
  getLineWidthForValue(d2) {
    const g2 = this.options.grid;
    if (!this._isVisible() || !g2.display) return 0;
    const _2 = this.ticks.findIndex((g3) => g3.value === d2);
    if (_2 >= 0) {
      return g2.setContext(this.getContext(_2)).lineWidth;
    }
    return 0;
  }
  drawGrid(d2) {
    const g2 = this.options.grid, _2 = this.ctx, O2 = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(d2));
    let $2, st2;
    const drawLine = (d3, g3, O3) => {
      O3.width && O3.color && (_2.save(), _2.lineWidth = O3.width, _2.strokeStyle = O3.color, _2.setLineDash(O3.borderDash || []), _2.lineDashOffset = O3.borderDashOffset, _2.beginPath(), _2.moveTo(d3.x, d3.y), _2.lineTo(g3.x, g3.y), _2.stroke(), _2.restore());
    };
    if (g2.display) for ($2 = 0, st2 = O2.length; $2 < st2; ++$2) {
      const d3 = O2[$2];
      g2.drawOnChartArea && drawLine({ x: d3.x1, y: d3.y1 }, { x: d3.x2, y: d3.y2 }, d3), g2.drawTicks && drawLine({ x: d3.tx1, y: d3.ty1 }, { x: d3.tx2, y: d3.ty2 }, { color: d3.tickColor, width: d3.tickWidth, borderDash: d3.tickBorderDash, borderDashOffset: d3.tickBorderDashOffset });
    }
  }
  drawBorder() {
    const { chart: d2, ctx: g2, options: { border: _2, grid: O2 } } = this, $2 = _2.setContext(this.getContext()), st2 = _2.display ? $2.width : 0;
    if (!st2) return;
    const ot2 = O2.setContext(this.getContext(0)).lineWidth, lt2 = this._borderValue;
    let ct2, ut2, gt2, mt2;
    this.isHorizontal() ? (ct2 = _alignPixel(d2, this.left, st2) - st2 / 2, ut2 = _alignPixel(d2, this.right, ot2) + ot2 / 2, gt2 = mt2 = lt2) : (gt2 = _alignPixel(d2, this.top, st2) - st2 / 2, mt2 = _alignPixel(d2, this.bottom, ot2) + ot2 / 2, ct2 = ut2 = lt2), g2.save(), g2.lineWidth = $2.width, g2.strokeStyle = $2.color, g2.beginPath(), g2.moveTo(ct2, gt2), g2.lineTo(ut2, mt2), g2.stroke(), g2.restore();
  }
  drawLabels(d2) {
    if (!this.options.ticks.display) return;
    const g2 = this.ctx, _2 = this._computeLabelArea();
    _2 && clipArea(g2, _2);
    const O2 = this.getLabelItems(d2);
    for (const d3 of O2) {
      const _3 = d3.options, O3 = d3.font;
      renderText(g2, d3.label, 0, d3.textOffset, O3, _3);
    }
    _2 && unclipArea(g2);
  }
  drawTitle() {
    const { ctx: d2, options: { position: g2, title: _2, reverse: O2 } } = this;
    if (!_2.display) return;
    const $2 = toFont(_2.font), st2 = toPadding(_2.padding), ot2 = _2.align;
    let lt2 = $2.lineHeight / 2;
    "bottom" === g2 || "center" === g2 || isObject$1(g2) ? (lt2 += st2.bottom, isArray$1(_2.text) && (lt2 += $2.lineHeight * (_2.text.length - 1))) : lt2 += st2.top;
    const { titleX: ct2, titleY: ut2, maxWidth: gt2, rotation: mt2 } = function titleArgs(d3, g3, _3, O3) {
      const { top: $3, left: st3, bottom: ot3, right: lt3, chart: ct3 } = d3, { chartArea: ut3, scales: gt3 } = ct3;
      let mt3, bt2, yt2, wt2 = 0;
      const Pt2 = ot3 - $3, At2 = lt3 - st3;
      if (d3.isHorizontal()) {
        if (bt2 = _alignStartEnd(O3, st3, lt3), isObject$1(_3)) {
          const d4 = Object.keys(_3)[0], O4 = _3[d4];
          yt2 = gt3[d4].getPixelForValue(O4) + Pt2 - g3;
        } else yt2 = "center" === _3 ? (ut3.bottom + ut3.top) / 2 + Pt2 - g3 : offsetFromEdge(d3, _3, g3);
        mt3 = lt3 - st3;
      } else {
        if (isObject$1(_3)) {
          const d4 = Object.keys(_3)[0], O4 = _3[d4];
          bt2 = gt3[d4].getPixelForValue(O4) - At2 + g3;
        } else bt2 = "center" === _3 ? (ut3.left + ut3.right) / 2 - At2 + g3 : offsetFromEdge(d3, _3, g3);
        yt2 = _alignStartEnd(O3, ot3, $3), wt2 = "left" === _3 ? -Pr : Pr;
      }
      return { titleX: bt2, titleY: yt2, maxWidth: mt3, rotation: wt2 };
    }(this, lt2, g2, ot2);
    renderText(d2, _2.text, 0, 0, $2, { color: _2.color, maxWidth: gt2, rotation: mt2, textAlign: titleAlign(ot2, g2, O2), textBaseline: "middle", translation: [ct2, ut2] });
  }
  draw(d2) {
    this._isVisible() && (this.drawBackground(), this.drawGrid(d2), this.drawBorder(), this.drawTitle(), this.drawLabels(d2));
  }
  _layers() {
    const d2 = this.options, g2 = d2.ticks && d2.ticks.z || 0, _2 = valueOrDefault(d2.grid && d2.grid.z, -1), O2 = valueOrDefault(d2.border && d2.border.z, 0);
    return this._isVisible() && this.draw === Scale.prototype.draw ? [{ z: _2, draw: (d3) => {
      this.drawBackground(), this.drawGrid(d3), this.drawTitle();
    } }, { z: O2, draw: () => {
      this.drawBorder();
    } }, { z: g2, draw: (d3) => {
      this.drawLabels(d3);
    } }] : [{ z: g2, draw: (d3) => {
      this.draw(d3);
    } }];
  }
  getMatchingVisibleMetas(d2) {
    const g2 = this.chart.getSortedVisibleDatasetMetas(), _2 = this.axis + "AxisID", O2 = [];
    let $2, st2;
    for ($2 = 0, st2 = g2.length; $2 < st2; ++$2) {
      const st3 = g2[$2];
      st3[_2] !== this.id || d2 && st3.type !== d2 || O2.push(st3);
    }
    return O2;
  }
  _resolveTickFontOptions(d2) {
    return toFont(this.options.ticks.setContext(this.getContext(d2)).font);
  }
  _maxDigits() {
    const d2 = this._resolveTickFontOptions(0).lineHeight;
    return (this.isHorizontal() ? this.width : this.height) / d2;
  }
}
class TypedRegistry {
  constructor(d2, g2, _2) {
    this.type = d2, this.scope = g2, this.override = _2, this.items = /* @__PURE__ */ Object.create(null);
  }
  isForType(d2) {
    return Object.prototype.isPrototypeOf.call(this.type.prototype, d2.prototype);
  }
  register(d2) {
    const g2 = Object.getPrototypeOf(d2);
    let _2;
    (function isIChartComponent(d3) {
      return "id" in d3 && "defaults" in d3;
    })(g2) && (_2 = this.register(g2));
    const O2 = this.items, $2 = d2.id, st2 = this.scope + "." + $2;
    if (!$2) throw new Error("class does not have id: " + d2);
    return $2 in O2 || (O2[$2] = d2, function registerDefaults(d3, g3, _3) {
      const O3 = merge(/* @__PURE__ */ Object.create(null), [_3 ? zr.get(_3) : {}, zr.get(g3), d3.defaults]);
      zr.set(g3, O3), d3.defaultRoutes && function routeDefaults(d4, g4) {
        Object.keys(g4).forEach((_4) => {
          const O4 = _4.split("."), $3 = O4.pop(), st3 = [d4].concat(O4).join("."), ot2 = g4[_4].split("."), lt2 = ot2.pop(), ct2 = ot2.join(".");
          zr.route(st3, $3, ct2, lt2);
        });
      }(g3, d3.defaultRoutes);
      d3.descriptors && zr.describe(g3, d3.descriptors);
    }(d2, st2, _2), this.override && zr.override(d2.id, d2.overrides)), st2;
  }
  get(d2) {
    return this.items[d2];
  }
  unregister(d2) {
    const g2 = this.items, _2 = d2.id, O2 = this.scope;
    _2 in g2 && delete g2[_2], O2 && _2 in zr[O2] && (delete zr[O2][_2], this.override && delete $r[_2]);
  }
}
class Registry {
  constructor() {
    this.controllers = new TypedRegistry(DatasetController, "datasets", true), this.elements = new TypedRegistry(oo, "elements"), this.plugins = new TypedRegistry(Object, "plugins"), this.scales = new TypedRegistry(Scale, "scales"), this._typedRegistries = [this.controllers, this.scales, this.elements];
  }
  add(...d2) {
    this._each("register", d2);
  }
  remove(...d2) {
    this._each("unregister", d2);
  }
  addControllers(...d2) {
    this._each("register", d2, this.controllers);
  }
  addElements(...d2) {
    this._each("register", d2, this.elements);
  }
  addPlugins(...d2) {
    this._each("register", d2, this.plugins);
  }
  addScales(...d2) {
    this._each("register", d2, this.scales);
  }
  getController(d2) {
    return this._get(d2, this.controllers, "controller");
  }
  getElement(d2) {
    return this._get(d2, this.elements, "element");
  }
  getPlugin(d2) {
    return this._get(d2, this.plugins, "plugin");
  }
  getScale(d2) {
    return this._get(d2, this.scales, "scale");
  }
  removeControllers(...d2) {
    this._each("unregister", d2, this.controllers);
  }
  removeElements(...d2) {
    this._each("unregister", d2, this.elements);
  }
  removePlugins(...d2) {
    this._each("unregister", d2, this.plugins);
  }
  removeScales(...d2) {
    this._each("unregister", d2, this.scales);
  }
  _each(d2, g2, _2) {
    [...g2].forEach((g3) => {
      const O2 = _2 || this._getRegistryForType(g3);
      _2 || O2.isForType(g3) || O2 === this.plugins && g3.id ? this._exec(d2, O2, g3) : each(g3, (g4) => {
        const O3 = _2 || this._getRegistryForType(g4);
        this._exec(d2, O3, g4);
      });
    });
  }
  _exec(d2, g2, _2) {
    const O2 = _capitalize(d2);
    callback(_2["before" + O2], [], _2), g2[d2](_2), callback(_2["after" + O2], [], _2);
  }
  _getRegistryForType(d2) {
    for (let g2 = 0; g2 < this._typedRegistries.length; g2++) {
      const _2 = this._typedRegistries[g2];
      if (_2.isForType(d2)) return _2;
    }
    return this.plugins;
  }
  _get(d2, g2, _2) {
    const O2 = g2.get(d2);
    if (void 0 === O2) throw new Error('"' + d2 + '" is not a registered ' + _2 + ".");
    return O2;
  }
}
var ao = new Registry();
class PluginService {
  constructor() {
    this._init = [];
  }
  notify(d2, g2, _2, O2) {
    "beforeInit" === g2 && (this._init = this._createDescriptors(d2, true), this._notify(this._init, d2, "install"));
    const $2 = O2 ? this._descriptors(d2).filter(O2) : this._descriptors(d2), st2 = this._notify($2, d2, g2, _2);
    return "afterDestroy" === g2 && (this._notify($2, d2, "stop"), this._notify(this._init, d2, "uninstall")), st2;
  }
  _notify(d2, g2, _2, O2) {
    O2 = O2 || {};
    for (const $2 of d2) {
      const d3 = $2.plugin;
      if (false === callback(d3[_2], [g2, O2, $2.options], d3) && O2.cancelable) return false;
    }
    return true;
  }
  invalidate() {
    isNullOrUndef(this._cache) || (this._oldCache = this._cache, this._cache = void 0);
  }
  _descriptors(d2) {
    if (this._cache) return this._cache;
    const g2 = this._cache = this._createDescriptors(d2);
    return this._notifyStateChanges(d2), g2;
  }
  _createDescriptors(d2, g2) {
    const _2 = d2 && d2.config, O2 = valueOrDefault(_2.options && _2.options.plugins, {}), $2 = function allPlugins(d3) {
      const g3 = {}, _3 = [], O3 = Object.keys(ao.plugins.items);
      for (let d4 = 0; d4 < O3.length; d4++) _3.push(ao.getPlugin(O3[d4]));
      const $3 = d3.plugins || [];
      for (let d4 = 0; d4 < $3.length; d4++) {
        const O4 = $3[d4];
        -1 === _3.indexOf(O4) && (_3.push(O4), g3[O4.id] = true);
      }
      return { plugins: _3, localIds: g3 };
    }(_2);
    return false !== O2 || g2 ? function createDescriptors(d3, { plugins: g3, localIds: _3 }, O3, $3) {
      const st2 = [], ot2 = d3.getContext();
      for (const lt2 of g3) {
        const g4 = lt2.id, ct2 = getOpts(O3[g4], $3);
        null !== ct2 && st2.push({ plugin: lt2, options: pluginOpts(d3.config, { plugin: lt2, local: _3[g4] }, ct2, ot2) });
      }
      return st2;
    }(d2, $2, O2, g2) : [];
  }
  _notifyStateChanges(d2) {
    const g2 = this._oldCache || [], _2 = this._cache, diff = (d3, g3) => d3.filter((d4) => !g3.some((g4) => d4.plugin.id === g4.plugin.id));
    this._notify(diff(g2, _2), d2, "stop"), this._notify(diff(_2, g2), d2, "start");
  }
}
function getOpts(d2, g2) {
  return g2 || false !== d2 ? true === d2 ? {} : d2 : null;
}
function pluginOpts(d2, { plugin: g2, local: _2 }, O2, $2) {
  const st2 = d2.pluginScopeKeys(g2), ot2 = d2.getOptionScopes(O2, st2);
  return _2 && g2.defaults && ot2.push(g2.defaults), d2.createResolver(ot2, $2, [""], { scriptable: false, indexable: false, allKeys: true });
}
function getIndexAxis(d2, g2) {
  const _2 = zr.datasets[d2] || {};
  return ((g2.datasets || {})[d2] || {}).indexAxis || g2.indexAxis || _2.indexAxis || "x";
}
function idMatchesAxis(d2) {
  if ("x" === d2 || "y" === d2 || "r" === d2) return d2;
}
function determineAxis(d2, ...g2) {
  if (idMatchesAxis(d2)) return d2;
  for (const O2 of g2) {
    const g3 = O2.axis || ("top" === (_2 = O2.position) || "bottom" === _2 ? "x" : "left" === _2 || "right" === _2 ? "y" : void 0) || d2.length > 1 && idMatchesAxis(d2[0].toLowerCase());
    if (g3) return g3;
  }
  var _2;
  throw new Error(`Cannot determine type of '${d2}' axis. Please provide 'axis' or 'position' option.`);
}
function getAxisFromDataset(d2, g2, _2) {
  if (_2[g2 + "AxisID"] === d2) return { axis: g2 };
}
function mergeScaleConfig(d2, g2) {
  const _2 = $r[d2.type] || { scales: {} }, O2 = g2.scales || {}, $2 = getIndexAxis(d2.type, g2), st2 = /* @__PURE__ */ Object.create(null);
  return Object.keys(O2).forEach((g3) => {
    const ot2 = O2[g3];
    if (!isObject$1(ot2)) return console.error(`Invalid scale configuration for scale: ${g3}`);
    if (ot2._proxy) return console.warn(`Ignoring resolver passed as options for scale: ${g3}`);
    const lt2 = determineAxis(g3, ot2, function retrieveAxisFromDatasets(d3, g4) {
      if (g4.data && g4.data.datasets) {
        const _3 = g4.data.datasets.filter((g5) => g5.xAxisID === d3 || g5.yAxisID === d3);
        if (_3.length) return getAxisFromDataset(d3, "x", _3[0]) || getAxisFromDataset(d3, "y", _3[0]);
      }
      return {};
    }(g3, d2), zr.scales[ot2.type]), ct2 = /* @__PURE__ */ function getDefaultScaleIDFromAxis(d3, g4) {
      return d3 === g4 ? "_index_" : "_value_";
    }(lt2, $2), ut2 = _2.scales || {};
    st2[g3] = mergeIf(/* @__PURE__ */ Object.create(null), [{ axis: lt2 }, ot2, ut2[lt2], ut2[ct2]]);
  }), d2.data.datasets.forEach((_3) => {
    const $3 = _3.type || d2.type, ot2 = _3.indexAxis || getIndexAxis($3, g2), lt2 = ($r[$3] || {}).scales || {};
    Object.keys(lt2).forEach((d3) => {
      const g3 = function getAxisFromDefaultScaleID(d4, g4) {
        let _4 = d4;
        return "_index_" === d4 ? _4 = g4 : "_value_" === d4 && (_4 = "x" === g4 ? "y" : "x"), _4;
      }(d3, ot2), $4 = _3[g3 + "AxisID"] || g3;
      st2[$4] = st2[$4] || /* @__PURE__ */ Object.create(null), mergeIf(st2[$4], [{ axis: g3 }, O2[$4], lt2[d3]]);
    });
  }), Object.keys(st2).forEach((d3) => {
    const g3 = st2[d3];
    mergeIf(g3, [zr.scales[g3.type], zr.scale]);
  }), st2;
}
function initOptions(d2) {
  const g2 = d2.options || (d2.options = {});
  g2.plugins = valueOrDefault(g2.plugins, {}), g2.scales = mergeScaleConfig(d2, g2);
}
function initData(d2) {
  return (d2 = d2 || {}).datasets = d2.datasets || [], d2.labels = d2.labels || [], d2;
}
const lo = /* @__PURE__ */ new Map(), co = /* @__PURE__ */ new Set();
function cachedKeys(d2, g2) {
  let _2 = lo.get(d2);
  return _2 || (_2 = g2(), lo.set(d2, _2), co.add(_2)), _2;
}
const addIfFound = (d2, g2, _2) => {
  const O2 = resolveObjectKey(g2, _2);
  void 0 !== O2 && d2.add(O2);
};
class Config {
  constructor(d2) {
    this._config = function initConfig(d3) {
      return (d3 = d3 || {}).data = initData(d3.data), initOptions(d3), d3;
    }(d2), this._scopeCache = /* @__PURE__ */ new Map(), this._resolverCache = /* @__PURE__ */ new Map();
  }
  get platform() {
    return this._config.platform;
  }
  get type() {
    return this._config.type;
  }
  set type(d2) {
    this._config.type = d2;
  }
  get data() {
    return this._config.data;
  }
  set data(d2) {
    this._config.data = initData(d2);
  }
  get options() {
    return this._config.options;
  }
  set options(d2) {
    this._config.options = d2;
  }
  get plugins() {
    return this._config.plugins;
  }
  update() {
    const d2 = this._config;
    this.clearCache(), initOptions(d2);
  }
  clearCache() {
    this._scopeCache.clear(), this._resolverCache.clear();
  }
  datasetScopeKeys(d2) {
    return cachedKeys(d2, () => [[`datasets.${d2}`, ""]]);
  }
  datasetAnimationScopeKeys(d2, g2) {
    return cachedKeys(`${d2}.transition.${g2}`, () => [[`datasets.${d2}.transitions.${g2}`, `transitions.${g2}`], [`datasets.${d2}`, ""]]);
  }
  datasetElementScopeKeys(d2, g2) {
    return cachedKeys(`${d2}-${g2}`, () => [[`datasets.${d2}.elements.${g2}`, `datasets.${d2}`, `elements.${g2}`, ""]]);
  }
  pluginScopeKeys(d2) {
    const g2 = d2.id;
    return cachedKeys(`${this.type}-plugin-${g2}`, () => [[`plugins.${g2}`, ...d2.additionalOptionScopes || []]]);
  }
  _cachedScopes(d2, g2) {
    const _2 = this._scopeCache;
    let O2 = _2.get(d2);
    return O2 && !g2 || (O2 = /* @__PURE__ */ new Map(), _2.set(d2, O2)), O2;
  }
  getOptionScopes(d2, g2, _2) {
    const { options: O2, type: $2 } = this, st2 = this._cachedScopes(d2, _2), ot2 = st2.get(g2);
    if (ot2) return ot2;
    const lt2 = /* @__PURE__ */ new Set();
    g2.forEach((g3) => {
      d2 && (lt2.add(d2), g3.forEach((g4) => addIfFound(lt2, d2, g4))), g3.forEach((d3) => addIfFound(lt2, O2, d3)), g3.forEach((d3) => addIfFound(lt2, $r[$2] || {}, d3)), g3.forEach((d3) => addIfFound(lt2, zr, d3)), g3.forEach((d3) => addIfFound(lt2, Fr, d3));
    });
    const ct2 = Array.from(lt2);
    return 0 === ct2.length && ct2.push(/* @__PURE__ */ Object.create(null)), co.has(g2) && st2.set(g2, ct2), ct2;
  }
  chartOptionScopes() {
    const { options: d2, type: g2 } = this;
    return [d2, $r[g2] || {}, zr.datasets[g2] || {}, { type: g2 }, zr, Fr];
  }
  resolveNamedOptions(d2, g2, _2, O2 = [""]) {
    const $2 = { $shared: true }, { resolver: st2, subPrefixes: ot2 } = getResolver(this._resolverCache, d2, O2);
    let lt2 = st2;
    if (function needContext(d3, g3) {
      const { isScriptable: _3, isIndexable: O3 } = _descriptors(d3);
      for (const $3 of g3) {
        const g4 = _3($3), st3 = O3($3), ot3 = (st3 || g4) && d3[$3];
        if (g4 && (isFunction(ot3) || hasFunction(ot3)) || st3 && isArray$1(ot3)) return true;
      }
      return false;
    }(st2, g2)) {
      $2.$shared = false;
      lt2 = _attachContext(st2, _2 = isFunction(_2) ? _2() : _2, this.createResolver(d2, _2, ot2));
    }
    for (const d3 of g2) $2[d3] = lt2[d3];
    return $2;
  }
  createResolver(d2, g2, _2 = [""], O2) {
    const { resolver: $2 } = getResolver(this._resolverCache, d2, _2);
    return isObject$1(g2) ? _attachContext($2, g2, void 0, O2) : $2;
  }
}
function getResolver(d2, g2, _2) {
  let O2 = d2.get(g2);
  O2 || (O2 = /* @__PURE__ */ new Map(), d2.set(g2, O2));
  const $2 = _2.join();
  let st2 = O2.get($2);
  if (!st2) {
    st2 = { resolver: _createResolver(g2, _2), subPrefixes: _2.filter((d3) => !d3.toLowerCase().includes("hover")) }, O2.set($2, st2);
  }
  return st2;
}
const hasFunction = (d2) => isObject$1(d2) && Object.getOwnPropertyNames(d2).some((g2) => isFunction(d2[g2]));
const ho = ["top", "bottom", "left", "right", "chartArea"];
function positionIsHorizontal(d2, g2) {
  return "top" === d2 || "bottom" === d2 || -1 === ho.indexOf(d2) && "x" === g2;
}
function compare2Level(d2, g2) {
  return function(_2, O2) {
    return _2[d2] === O2[d2] ? _2[g2] - O2[g2] : _2[d2] - O2[d2];
  };
}
function onAnimationsComplete(d2) {
  const g2 = d2.chart, _2 = g2.options.animation;
  g2.notifyPlugins("afterRender"), callback(_2 && _2.onComplete, [d2], g2);
}
function onAnimationProgress(d2) {
  const g2 = d2.chart, _2 = g2.options.animation;
  callback(_2 && _2.onProgress, [d2], g2);
}
function getCanvas(d2) {
  return _isDomSupported() && "string" == typeof d2 ? d2 = document.getElementById(d2) : d2 && d2.length && (d2 = d2[0]), d2 && d2.canvas && (d2 = d2.canvas), d2;
}
const uo = {}, getChart = (d2) => {
  const g2 = getCanvas(d2);
  return Object.values(uo).filter((d3) => d3.canvas === g2).pop();
};
function moveNumericKeys(d2, g2, _2) {
  const O2 = Object.keys(d2);
  for (const $2 of O2) {
    const O3 = +$2;
    if (O3 >= g2) {
      const st2 = d2[$2];
      delete d2[$2], (_2 > 0 || O3 > g2) && (d2[O3 + _2] = st2);
    }
  }
}
function getSizeForArea(d2, g2, _2) {
  return d2.options.clip ? d2[_2] : g2[_2];
}
class Chart {
  static register(...d2) {
    ao.add(...d2), invalidatePlugins();
  }
  static unregister(...d2) {
    ao.remove(...d2), invalidatePlugins();
  }
  constructor(d2, g2) {
    const _2 = this.config = new Config(g2), O2 = getCanvas(d2), $2 = getChart(O2);
    if ($2) throw new Error("Canvas is already in use. Chart with ID '" + $2.id + "' must be destroyed before the canvas with ID '" + $2.canvas.id + "' can be reused.");
    const st2 = _2.createResolver(_2.chartOptionScopes(), this.getContext());
    this.platform = new (_2.platform || function _detectPlatform(d3) {
      return !_isDomSupported() || "undefined" != typeof OffscreenCanvas && d3 instanceof OffscreenCanvas ? BasicPlatform : DomPlatform;
    }(O2))(), this.platform.updateConfig(_2);
    const ot2 = this.platform.acquireContext(O2, st2.aspectRatio), lt2 = ot2 && ot2.canvas, ct2 = lt2 && lt2.height, ut2 = lt2 && lt2.width;
    this.id = vr(), this.ctx = ot2, this.canvas = lt2, this.width = ut2, this.height = ct2, this._options = st2, this._aspectRatio = this.aspectRatio, this._layers = [], this._metasets = [], this._stacks = void 0, this.boxes = [], this.currentDevicePixelRatio = void 0, this.chartArea = void 0, this._active = [], this._lastEvent = void 0, this._listeners = {}, this._responsiveListeners = void 0, this._sortedMetasets = [], this.scales = {}, this._plugins = new PluginService(), this.$proxies = {}, this._hiddenIndices = {}, this.attached = false, this._animationsDisabled = void 0, this.$context = void 0, this._doResize = /* @__PURE__ */ function debounce(d3, g3) {
      let _3;
      return function(...O3) {
        return g3 ? (clearTimeout(_3), _3 = setTimeout(d3, g3, O3)) : d3.apply(this, O3), g3;
      };
    }((d3) => this.update(d3), st2.resizeDelay || 0), this._dataChanges = [], uo[this.id] = this, ot2 && lt2 ? (Hr.listen(this, "complete", onAnimationsComplete), Hr.listen(this, "progress", onAnimationProgress), this._initialize(), this.attached && this.update()) : console.error("Failed to create chart: can't acquire context from the given item");
  }
  get aspectRatio() {
    const { options: { aspectRatio: d2, maintainAspectRatio: g2 }, width: _2, height: O2, _aspectRatio: $2 } = this;
    return isNullOrUndef(d2) ? g2 && $2 ? $2 : O2 ? _2 / O2 : null : d2;
  }
  get data() {
    return this.config.data;
  }
  set data(d2) {
    this.config.data = d2;
  }
  get options() {
    return this._options;
  }
  set options(d2) {
    this.config.options = d2;
  }
  get registry() {
    return ao;
  }
  _initialize() {
    return this.notifyPlugins("beforeInit"), this.options.responsive ? this.resize() : retinaScale(this, this.options.devicePixelRatio), this.bindEvents(), this.notifyPlugins("afterInit"), this;
  }
  clear() {
    return clearCanvas(this.canvas, this.ctx), this;
  }
  stop() {
    return Hr.stop(this), this;
  }
  resize(d2, g2) {
    Hr.running(this) ? this._resizeBeforeDraw = { width: d2, height: g2 } : this._resize(d2, g2);
  }
  _resize(d2, g2) {
    const _2 = this.options, O2 = this.canvas, $2 = _2.maintainAspectRatio && this.aspectRatio, st2 = this.platform.getMaximumSize(O2, d2, g2, $2), ot2 = _2.devicePixelRatio || this.platform.getDevicePixelRatio(), lt2 = this.width ? "resize" : "attach";
    this.width = st2.width, this.height = st2.height, this._aspectRatio = this.aspectRatio, retinaScale(this, ot2, true) && (this.notifyPlugins("resize", { size: st2 }), callback(_2.onResize, [this, st2], this), this.attached && this._doResize(lt2) && this.render());
  }
  ensureScalesHaveIDs() {
    each(this.options.scales || {}, (d2, g2) => {
      d2.id = g2;
    });
  }
  buildOrUpdateScales() {
    const d2 = this.options, g2 = d2.scales, _2 = this.scales, O2 = Object.keys(_2).reduce((d3, g3) => (d3[g3] = false, d3), {});
    let $2 = [];
    g2 && ($2 = $2.concat(Object.keys(g2).map((d3) => {
      const _3 = g2[d3], O3 = determineAxis(d3, _3), $3 = "r" === O3, st2 = "x" === O3;
      return { options: _3, dposition: $3 ? "chartArea" : st2 ? "bottom" : "left", dtype: $3 ? "radialLinear" : st2 ? "category" : "linear" };
    }))), each($2, (g3) => {
      const $3 = g3.options, st2 = $3.id, ot2 = determineAxis(st2, $3), lt2 = valueOrDefault($3.type, g3.dtype);
      void 0 !== $3.position && positionIsHorizontal($3.position, ot2) === positionIsHorizontal(g3.dposition) || ($3.position = g3.dposition), O2[st2] = true;
      let ct2 = null;
      if (st2 in _2 && _2[st2].type === lt2) ct2 = _2[st2];
      else {
        ct2 = new (ao.getScale(lt2))({ id: st2, type: lt2, ctx: this.ctx, chart: this }), _2[ct2.id] = ct2;
      }
      ct2.init($3, d2);
    }), each(O2, (d3, g3) => {
      d3 || delete _2[g3];
    }), each(_2, (d3) => {
      Zr.configure(this, d3, d3.options), Zr.addBox(this, d3);
    });
  }
  _updateMetasets() {
    const d2 = this._metasets, g2 = this.data.datasets.length, _2 = d2.length;
    if (d2.sort((d3, g3) => d3.index - g3.index), _2 > g2) {
      for (let d3 = g2; d3 < _2; ++d3) this._destroyDatasetMeta(d3);
      d2.splice(g2, _2 - g2);
    }
    this._sortedMetasets = d2.slice(0).sort(compare2Level("order", "index"));
  }
  _removeUnreferencedMetasets() {
    const { _metasets: d2, data: { datasets: g2 } } = this;
    d2.length > g2.length && delete this._stacks, d2.forEach((d3, _2) => {
      0 === g2.filter((g3) => g3 === d3._dataset).length && this._destroyDatasetMeta(_2);
    });
  }
  buildOrUpdateControllers() {
    const d2 = [], g2 = this.data.datasets;
    let _2, O2;
    for (this._removeUnreferencedMetasets(), _2 = 0, O2 = g2.length; _2 < O2; _2++) {
      const O3 = g2[_2];
      let $2 = this.getDatasetMeta(_2);
      const st2 = O3.type || this.config.type;
      if ($2.type && $2.type !== st2 && (this._destroyDatasetMeta(_2), $2 = this.getDatasetMeta(_2)), $2.type = st2, $2.indexAxis = O3.indexAxis || getIndexAxis(st2, this.options), $2.order = O3.order || 0, $2.index = _2, $2.label = "" + O3.label, $2.visible = this.isDatasetVisible(_2), $2.controller) $2.controller.updateIndex(_2), $2.controller.linkScales();
      else {
        const g3 = ao.getController(st2), { datasetElementType: O4, dataElementType: ot2 } = zr.datasets[st2];
        Object.assign(g3, { dataElementType: ao.getElement(ot2), datasetElementType: O4 && ao.getElement(O4) }), $2.controller = new g3(this, _2), d2.push($2.controller);
      }
    }
    return this._updateMetasets(), d2;
  }
  _resetElements() {
    each(this.data.datasets, (d2, g2) => {
      this.getDatasetMeta(g2).controller.reset();
    }, this);
  }
  reset() {
    this._resetElements(), this.notifyPlugins("reset");
  }
  update(d2) {
    const g2 = this.config;
    g2.update();
    const _2 = this._options = g2.createResolver(g2.chartOptionScopes(), this.getContext()), O2 = this._animationsDisabled = !_2.animation;
    if (this._updateScales(), this._checkEventBindings(), this._updateHiddenIndices(), this._plugins.invalidate(), false === this.notifyPlugins("beforeUpdate", { mode: d2, cancelable: true })) return;
    const $2 = this.buildOrUpdateControllers();
    this.notifyPlugins("beforeElementsUpdate");
    let st2 = 0;
    for (let d3 = 0, g3 = this.data.datasets.length; d3 < g3; d3++) {
      const { controller: g4 } = this.getDatasetMeta(d3), _3 = !O2 && -1 === $2.indexOf(g4);
      g4.buildOrUpdateElements(_3), st2 = Math.max(+g4.getMaxOverflow(), st2);
    }
    st2 = this._minPadding = _2.layout.autoPadding ? st2 : 0, this._updateLayout(st2), O2 || each($2, (d3) => {
      d3.reset();
    }), this._updateDatasets(d2), this.notifyPlugins("afterUpdate", { mode: d2 }), this._layers.sort(compare2Level("z", "_idx"));
    const { _active: ot2, _lastEvent: lt2 } = this;
    lt2 ? this._eventHandler(lt2, true) : ot2.length && this._updateHoverStyles(ot2, ot2, true), this.render();
  }
  _updateScales() {
    each(this.scales, (d2) => {
      Zr.removeBox(this, d2);
    }), this.ensureScalesHaveIDs(), this.buildOrUpdateScales();
  }
  _checkEventBindings() {
    const d2 = this.options, g2 = new Set(Object.keys(this._listeners)), _2 = new Set(d2.events);
    setsEqual(g2, _2) && !!this._responsiveListeners === d2.responsive || (this.unbindEvents(), this.bindEvents());
  }
  _updateHiddenIndices() {
    const { _hiddenIndices: d2 } = this, g2 = this._getUniformDataChanges() || [];
    for (const { method: _2, start: O2, count: $2 } of g2) {
      moveNumericKeys(d2, O2, "_removeElements" === _2 ? -$2 : $2);
    }
  }
  _getUniformDataChanges() {
    const d2 = this._dataChanges;
    if (!d2 || !d2.length) return;
    this._dataChanges = [];
    const g2 = this.data.datasets.length, makeSet = (g3) => new Set(d2.filter((d3) => d3[0] === g3).map((d3, g4) => g4 + "," + d3.splice(1).join(","))), _2 = makeSet(0);
    for (let d3 = 1; d3 < g2; d3++) if (!setsEqual(_2, makeSet(d3))) return;
    return Array.from(_2).map((d3) => d3.split(",")).map((d3) => ({ method: d3[1], start: +d3[2], count: +d3[3] }));
  }
  _updateLayout(d2) {
    if (false === this.notifyPlugins("beforeLayout", { cancelable: true })) return;
    Zr.update(this, this.width, this.height, d2);
    const g2 = this.chartArea, _2 = g2.width <= 0 || g2.height <= 0;
    this._layers = [], each(this.boxes, (d3) => {
      _2 && "chartArea" === d3.position || (d3.configure && d3.configure(), this._layers.push(...d3._layers()));
    }, this), this._layers.forEach((d3, g3) => {
      d3._idx = g3;
    }), this.notifyPlugins("afterLayout");
  }
  _updateDatasets(d2) {
    if (false !== this.notifyPlugins("beforeDatasetsUpdate", { mode: d2, cancelable: true })) {
      for (let d3 = 0, g2 = this.data.datasets.length; d3 < g2; ++d3) this.getDatasetMeta(d3).controller.configure();
      for (let g2 = 0, _2 = this.data.datasets.length; g2 < _2; ++g2) this._updateDataset(g2, isFunction(d2) ? d2({ datasetIndex: g2 }) : d2);
      this.notifyPlugins("afterDatasetsUpdate", { mode: d2 });
    }
  }
  _updateDataset(d2, g2) {
    const _2 = this.getDatasetMeta(d2), O2 = { meta: _2, index: d2, mode: g2, cancelable: true };
    false !== this.notifyPlugins("beforeDatasetUpdate", O2) && (_2.controller._update(g2), O2.cancelable = false, this.notifyPlugins("afterDatasetUpdate", O2));
  }
  render() {
    false !== this.notifyPlugins("beforeRender", { cancelable: true }) && (Hr.has(this) ? this.attached && !Hr.running(this) && Hr.start(this) : (this.draw(), onAnimationsComplete({ chart: this })));
  }
  draw() {
    let d2;
    if (this._resizeBeforeDraw) {
      const { width: d3, height: g3 } = this._resizeBeforeDraw;
      this._resize(d3, g3), this._resizeBeforeDraw = null;
    }
    if (this.clear(), this.width <= 0 || this.height <= 0) return;
    if (false === this.notifyPlugins("beforeDraw", { cancelable: true })) return;
    const g2 = this._layers;
    for (d2 = 0; d2 < g2.length && g2[d2].z <= 0; ++d2) g2[d2].draw(this.chartArea);
    for (this._drawDatasets(); d2 < g2.length; ++d2) g2[d2].draw(this.chartArea);
    this.notifyPlugins("afterDraw");
  }
  _getSortedDatasetMetas(d2) {
    const g2 = this._sortedMetasets, _2 = [];
    let O2, $2;
    for (O2 = 0, $2 = g2.length; O2 < $2; ++O2) {
      const $3 = g2[O2];
      d2 && !$3.visible || _2.push($3);
    }
    return _2;
  }
  getSortedVisibleDatasetMetas() {
    return this._getSortedDatasetMetas(true);
  }
  _drawDatasets() {
    if (false === this.notifyPlugins("beforeDatasetsDraw", { cancelable: true })) return;
    const d2 = this.getSortedVisibleDatasetMetas();
    for (let g2 = d2.length - 1; g2 >= 0; --g2) this._drawDataset(d2[g2]);
    this.notifyPlugins("afterDatasetsDraw");
  }
  _drawDataset(d2) {
    const g2 = this.ctx, _2 = d2._clip, O2 = !_2.disabled, $2 = function getDatasetArea(d3, g3) {
      const { xScale: _3, yScale: O3 } = d3;
      return _3 && O3 ? { left: getSizeForArea(_3, g3, "left"), right: getSizeForArea(_3, g3, "right"), top: getSizeForArea(O3, g3, "top"), bottom: getSizeForArea(O3, g3, "bottom") } : g3;
    }(d2, this.chartArea), st2 = { meta: d2, index: d2.index, cancelable: true };
    false !== this.notifyPlugins("beforeDatasetDraw", st2) && (O2 && clipArea(g2, { left: false === _2.left ? 0 : $2.left - _2.left, right: false === _2.right ? this.width : $2.right + _2.right, top: false === _2.top ? 0 : $2.top - _2.top, bottom: false === _2.bottom ? this.height : $2.bottom + _2.bottom }), d2.controller.draw(), O2 && unclipArea(g2), st2.cancelable = false, this.notifyPlugins("afterDatasetDraw", st2));
  }
  isPointInArea(d2) {
    return _isPointInArea(d2, this.chartArea, this._minPadding);
  }
  getElementsAtEventForMode(d2, g2, _2, O2) {
    const $2 = Xr.modes[g2];
    return "function" == typeof $2 ? $2(this, d2, _2, O2) : [];
  }
  getDatasetMeta(d2) {
    const g2 = this.data.datasets[d2], _2 = this._metasets;
    let O2 = _2.filter((d3) => d3 && d3._dataset === g2).pop();
    return O2 || (O2 = { type: null, data: [], dataset: null, controller: null, hidden: null, xAxisID: null, yAxisID: null, order: g2 && g2.order || 0, index: d2, _dataset: g2, _parsed: [], _sorted: false }, _2.push(O2)), O2;
  }
  getContext() {
    return this.$context || (this.$context = createContext(null, { chart: this, type: "chart" }));
  }
  getVisibleDatasetCount() {
    return this.getSortedVisibleDatasetMetas().length;
  }
  isDatasetVisible(d2) {
    const g2 = this.data.datasets[d2];
    if (!g2) return false;
    const _2 = this.getDatasetMeta(d2);
    return "boolean" == typeof _2.hidden ? !_2.hidden : !g2.hidden;
  }
  setDatasetVisibility(d2, g2) {
    this.getDatasetMeta(d2).hidden = !g2;
  }
  toggleDataVisibility(d2) {
    this._hiddenIndices[d2] = !this._hiddenIndices[d2];
  }
  getDataVisibility(d2) {
    return !this._hiddenIndices[d2];
  }
  _updateVisibility(d2, g2, _2) {
    const O2 = _2 ? "show" : "hide", $2 = this.getDatasetMeta(d2), st2 = $2.controller._resolveAnimations(void 0, O2);
    defined(g2) ? ($2.data[g2].hidden = !_2, this.update()) : (this.setDatasetVisibility(d2, _2), st2.update($2, { visible: _2 }), this.update((g3) => g3.datasetIndex === d2 ? O2 : void 0));
  }
  hide(d2, g2) {
    this._updateVisibility(d2, g2, false);
  }
  show(d2, g2) {
    this._updateVisibility(d2, g2, true);
  }
  _destroyDatasetMeta(d2) {
    const g2 = this._metasets[d2];
    g2 && g2.controller && g2.controller._destroy(), delete this._metasets[d2];
  }
  _stop() {
    let d2, g2;
    for (this.stop(), Hr.remove(this), d2 = 0, g2 = this.data.datasets.length; d2 < g2; ++d2) this._destroyDatasetMeta(d2);
  }
  destroy() {
    this.notifyPlugins("beforeDestroy");
    const { canvas: d2, ctx: g2 } = this;
    this._stop(), this.config.clearCache(), d2 && (this.unbindEvents(), clearCanvas(d2, g2), this.platform.releaseContext(g2), this.canvas = null, this.ctx = null), delete uo[this.id], this.notifyPlugins("afterDestroy");
  }
  toBase64Image(...d2) {
    return this.canvas.toDataURL(...d2);
  }
  bindEvents() {
    this.bindUserEvents(), this.options.responsive ? this.bindResponsiveEvents() : this.attached = true;
  }
  bindUserEvents() {
    const d2 = this._listeners, g2 = this.platform, _add = (_2, O2) => {
      g2.addEventListener(this, _2, O2), d2[_2] = O2;
    }, listener = (d3, g3, _2) => {
      d3.offsetX = g3, d3.offsetY = _2, this._eventHandler(d3);
    };
    each(this.options.events, (d3) => _add(d3, listener));
  }
  bindResponsiveEvents() {
    this._responsiveListeners || (this._responsiveListeners = {});
    const d2 = this._responsiveListeners, g2 = this.platform, _add = (_3, O2) => {
      g2.addEventListener(this, _3, O2), d2[_3] = O2;
    }, _remove = (_3, O2) => {
      d2[_3] && (g2.removeEventListener(this, _3, O2), delete d2[_3]);
    }, listener = (d3, g3) => {
      this.canvas && this.resize(d3, g3);
    };
    let _2;
    const attached = () => {
      _remove("attach", attached), this.attached = true, this.resize(), _add("resize", listener), _add("detach", _2);
    };
    _2 = () => {
      this.attached = false, _remove("resize", listener), this._stop(), this._resize(0, 0), _add("attach", attached);
    }, g2.isAttached(this.canvas) ? attached() : _2();
  }
  unbindEvents() {
    each(this._listeners, (d2, g2) => {
      this.platform.removeEventListener(this, g2, d2);
    }), this._listeners = {}, each(this._responsiveListeners, (d2, g2) => {
      this.platform.removeEventListener(this, g2, d2);
    }), this._responsiveListeners = void 0;
  }
  updateHoverStyle(d2, g2, _2) {
    const O2 = _2 ? "set" : "remove";
    let $2, st2, ot2, lt2;
    for ("dataset" === g2 && ($2 = this.getDatasetMeta(d2[0].datasetIndex), $2.controller["_" + O2 + "DatasetHoverStyle"]()), ot2 = 0, lt2 = d2.length; ot2 < lt2; ++ot2) {
      st2 = d2[ot2];
      const g3 = st2 && this.getDatasetMeta(st2.datasetIndex).controller;
      g3 && g3[O2 + "HoverStyle"](st2.element, st2.datasetIndex, st2.index);
    }
  }
  getActiveElements() {
    return this._active || [];
  }
  setActiveElements(d2) {
    const g2 = this._active || [], _2 = d2.map(({ datasetIndex: d3, index: g3 }) => {
      const _3 = this.getDatasetMeta(d3);
      if (!_3) throw new Error("No dataset found at index " + d3);
      return { datasetIndex: d3, element: _3.data[g3], index: g3 };
    });
    !_elementsEqual(_2, g2) && (this._active = _2, this._lastEvent = null, this._updateHoverStyles(_2, g2));
  }
  notifyPlugins(d2, g2, _2) {
    return this._plugins.notify(this, d2, g2, _2);
  }
  isPluginEnabled(d2) {
    return 1 === this._plugins._cache.filter((g2) => g2.plugin.id === d2).length;
  }
  _updateHoverStyles(d2, g2, _2) {
    const O2 = this.options.hover, diff = (d3, g3) => d3.filter((d4) => !g3.some((g4) => d4.datasetIndex === g4.datasetIndex && d4.index === g4.index)), $2 = diff(g2, d2), st2 = _2 ? d2 : diff(d2, g2);
    $2.length && this.updateHoverStyle($2, O2.mode, false), st2.length && O2.mode && this.updateHoverStyle(st2, O2.mode, true);
  }
  _eventHandler(d2, g2) {
    const _2 = { event: d2, replay: g2, cancelable: true, inChartArea: this.isPointInArea(d2) }, eventFilter = (g3) => (g3.options.events || this.options.events).includes(d2.native.type);
    if (false === this.notifyPlugins("beforeEvent", _2, eventFilter)) return;
    const O2 = this._handleEvent(d2, g2, _2.inChartArea);
    return _2.cancelable = false, this.notifyPlugins("afterEvent", _2, eventFilter), (O2 || _2.changed) && this.render(), this;
  }
  _handleEvent(d2, g2, _2) {
    const { _active: O2 = [], options: $2 } = this, st2 = g2, ot2 = this._getActiveElements(d2, O2, _2, st2), lt2 = function _isClickEvent(d3) {
      return "mouseup" === d3.type || "click" === d3.type || "contextmenu" === d3.type;
    }(d2), ct2 = function determineLastEvent(d3, g3, _3, O3) {
      return _3 && "mouseout" !== d3.type ? O3 ? g3 : d3 : null;
    }(d2, this._lastEvent, _2, lt2);
    _2 && (this._lastEvent = null, callback($2.onHover, [d2, ot2, this], this), lt2 && callback($2.onClick, [d2, ot2, this], this));
    const ut2 = !_elementsEqual(ot2, O2);
    return (ut2 || g2) && (this._active = ot2, this._updateHoverStyles(ot2, O2, g2)), this._lastEvent = ct2, ut2;
  }
  _getActiveElements(d2, g2, _2, O2) {
    if ("mouseout" === d2.type) return [];
    if (!_2) return g2;
    const $2 = this.options.hover;
    return this.getElementsAtEventForMode(d2, $2.mode, $2, O2);
  }
}
__publicField(Chart, "defaults", zr);
__publicField(Chart, "instances", uo);
__publicField(Chart, "overrides", $r);
__publicField(Chart, "registry", ao);
__publicField(Chart, "version", "4.4.3");
__publicField(Chart, "getChart", getChart);
function invalidatePlugins() {
  return each(Chart.instances, (d2) => d2._plugins.invalidate());
}
function parseBorderRadius$1(d2, g2, _2, O2) {
  const $2 = function toRadiusCorners(d3) {
    return _readValueToProps(d3, ["outerStart", "outerEnd", "innerStart", "innerEnd"]);
  }(d2.options.borderRadius), st2 = (_2 - g2) / 2, ot2 = Math.min(st2, O2 * g2 / 2), computeOuterLimit = (d3) => {
    const g3 = (_2 - Math.min(st2, d3)) * O2 / 2;
    return _limitValue(d3, 0, Math.min(st2, g3));
  };
  return { outerStart: computeOuterLimit($2.outerStart), outerEnd: computeOuterLimit($2.outerEnd), innerStart: _limitValue($2.innerStart, 0, ot2), innerEnd: _limitValue($2.innerEnd, 0, ot2) };
}
function rThetaToXY(d2, g2, _2, O2) {
  return { x: _2 + d2 * Math.cos(g2), y: O2 + d2 * Math.sin(g2) };
}
function pathArc(d2, g2, _2, O2, $2, st2) {
  const { x: ot2, y: lt2, startAngle: ct2, pixelMargin: ut2, innerRadius: gt2 } = g2, mt2 = Math.max(g2.outerRadius + O2 + _2 - ut2, 0), bt2 = gt2 > 0 ? gt2 + O2 + _2 + ut2 : 0;
  let yt2 = 0;
  const wt2 = $2 - ct2;
  if (O2) {
    const d3 = ((gt2 > 0 ? gt2 - O2 : 0) + (mt2 > 0 ? mt2 - O2 : 0)) / 2;
    yt2 = (wt2 - (0 !== d3 ? wt2 * d3 / (d3 + O2) : wt2)) / 2;
  }
  const Pt2 = (wt2 - Math.max(1e-3, wt2 * mt2 - _2 / yr) / mt2) / 2, At2 = ct2 + Pt2 + yt2, St2 = $2 - Pt2 - yt2, { outerStart: Mt2, outerEnd: Vt2, innerStart: Ot2, innerEnd: zt2 } = parseBorderRadius$1(g2, bt2, mt2, St2 - At2), Bt2 = mt2 - Mt2, Zt2 = mt2 - Vt2, ce2 = At2 + Mt2 / Bt2, ue2 = St2 - Vt2 / Zt2, de2 = bt2 + Ot2, pe2 = bt2 + zt2, fe2 = At2 + Ot2 / de2, ge2 = St2 - zt2 / pe2;
  if (d2.beginPath(), st2) {
    const g3 = (ce2 + ue2) / 2;
    if (d2.arc(ot2, lt2, mt2, ce2, g3), d2.arc(ot2, lt2, mt2, g3, ue2), Vt2 > 0) {
      const g4 = rThetaToXY(Zt2, ue2, ot2, lt2);
      d2.arc(g4.x, g4.y, Vt2, ue2, St2 + Pr);
    }
    const _3 = rThetaToXY(pe2, St2, ot2, lt2);
    if (d2.lineTo(_3.x, _3.y), zt2 > 0) {
      const g4 = rThetaToXY(pe2, ge2, ot2, lt2);
      d2.arc(g4.x, g4.y, zt2, St2 + Pr, ge2 + Math.PI);
    }
    const O3 = (St2 - zt2 / bt2 + (At2 + Ot2 / bt2)) / 2;
    if (d2.arc(ot2, lt2, bt2, St2 - zt2 / bt2, O3, true), d2.arc(ot2, lt2, bt2, O3, At2 + Ot2 / bt2, true), Ot2 > 0) {
      const g4 = rThetaToXY(de2, fe2, ot2, lt2);
      d2.arc(g4.x, g4.y, Ot2, fe2 + Math.PI, At2 - Pr);
    }
    const $3 = rThetaToXY(Bt2, At2, ot2, lt2);
    if (d2.lineTo($3.x, $3.y), Mt2 > 0) {
      const g4 = rThetaToXY(Bt2, ce2, ot2, lt2);
      d2.arc(g4.x, g4.y, Mt2, At2 - Pr, ce2);
    }
  } else {
    d2.moveTo(ot2, lt2);
    const g3 = Math.cos(ce2) * mt2 + ot2, _3 = Math.sin(ce2) * mt2 + lt2;
    d2.lineTo(g3, _3);
    const O3 = Math.cos(ue2) * mt2 + ot2, $3 = Math.sin(ue2) * mt2 + lt2;
    d2.lineTo(O3, $3);
  }
  d2.closePath();
}
function drawBorder(d2, g2, _2, O2, $2) {
  const { fullCircles: st2, startAngle: ot2, circumference: lt2, options: ct2 } = g2, { borderWidth: ut2, borderJoinStyle: gt2, borderDash: mt2, borderDashOffset: bt2 } = ct2, yt2 = "inner" === ct2.borderAlign;
  if (!ut2) return;
  d2.setLineDash(mt2 || []), d2.lineDashOffset = bt2, yt2 ? (d2.lineWidth = 2 * ut2, d2.lineJoin = gt2 || "round") : (d2.lineWidth = ut2, d2.lineJoin = gt2 || "bevel");
  let wt2 = g2.endAngle;
  if (st2) {
    pathArc(d2, g2, _2, O2, wt2, $2);
    for (let g3 = 0; g3 < st2; ++g3) d2.stroke();
    isNaN(lt2) || (wt2 = ot2 + (lt2 % wr || wr));
  }
  yt2 && function clipArc(d3, g3, _3) {
    const { startAngle: O3, pixelMargin: $3, x: st3, y: ot3, outerRadius: lt3, innerRadius: ct3 } = g3;
    let ut3 = $3 / lt3;
    d3.beginPath(), d3.arc(st3, ot3, lt3, O3 - ut3, _3 + ut3), ct3 > $3 ? (ut3 = $3 / ct3, d3.arc(st3, ot3, ct3, _3 + ut3, O3 - ut3, true)) : d3.arc(st3, ot3, $3, _3 + Pr, O3 - Pr), d3.closePath(), d3.clip();
  }(d2, g2, wt2), st2 || (pathArc(d2, g2, _2, O2, wt2, $2), d2.stroke());
}
class ArcElement extends oo {
  constructor(d2) {
    super();
    __publicField(this, "circumference");
    __publicField(this, "endAngle");
    __publicField(this, "fullCircles");
    __publicField(this, "innerRadius");
    __publicField(this, "outerRadius");
    __publicField(this, "pixelMargin");
    __publicField(this, "startAngle");
    this.options = void 0, this.circumference = void 0, this.startAngle = void 0, this.endAngle = void 0, this.innerRadius = void 0, this.outerRadius = void 0, this.pixelMargin = 0, this.fullCircles = 0, d2 && Object.assign(this, d2);
  }
  inRange(d2, g2, _2) {
    const O2 = this.getProps(["x", "y"], _2), { angle: $2, distance: st2 } = getAngleFromPoint(O2, { x: d2, y: g2 }), { startAngle: ot2, endAngle: lt2, innerRadius: ct2, outerRadius: ut2, circumference: gt2 } = this.getProps(["startAngle", "endAngle", "innerRadius", "outerRadius", "circumference"], _2), mt2 = (this.options.spacing + this.options.borderWidth) / 2, bt2 = valueOrDefault(gt2, lt2 - ot2) >= wr || _angleBetween($2, ot2, lt2), yt2 = _isBetween(st2, ct2 + mt2, ut2 + mt2);
    return bt2 && yt2;
  }
  getCenterPoint(d2) {
    const { x: g2, y: _2, startAngle: O2, endAngle: $2, innerRadius: st2, outerRadius: ot2 } = this.getProps(["x", "y", "startAngle", "endAngle", "innerRadius", "outerRadius"], d2), { offset: lt2, spacing: ct2 } = this.options, ut2 = (O2 + $2) / 2, gt2 = (st2 + ot2 + ct2 + lt2) / 2;
    return { x: g2 + Math.cos(ut2) * gt2, y: _2 + Math.sin(ut2) * gt2 };
  }
  tooltipPosition(d2) {
    return this.getCenterPoint(d2);
  }
  draw(d2) {
    const { options: g2, circumference: _2 } = this, O2 = (g2.offset || 0) / 4, $2 = (g2.spacing || 0) / 2, st2 = g2.circular;
    if (this.pixelMargin = "inner" === g2.borderAlign ? 0.33 : 0, this.fullCircles = _2 > wr ? Math.floor(_2 / wr) : 0, 0 === _2 || this.innerRadius < 0 || this.outerRadius < 0) return;
    d2.save();
    const ot2 = (this.startAngle + this.endAngle) / 2;
    d2.translate(Math.cos(ot2) * O2, Math.sin(ot2) * O2);
    const lt2 = O2 * (1 - Math.sin(Math.min(yr, _2 || 0)));
    d2.fillStyle = g2.backgroundColor, d2.strokeStyle = g2.borderColor, function drawArc(d3, g3, _3, O3, $3) {
      const { fullCircles: st3, startAngle: ot3, circumference: lt3 } = g3;
      let ct2 = g3.endAngle;
      if (st3) {
        pathArc(d3, g3, _3, O3, ct2, $3);
        for (let g4 = 0; g4 < st3; ++g4) d3.fill();
        isNaN(lt3) || (ct2 = ot3 + (lt3 % wr || wr));
      }
      return pathArc(d3, g3, _3, O3, ct2, $3), d3.fill(), ct2;
    }(d2, this, lt2, $2, st2), drawBorder(d2, this, lt2, $2, st2), d2.restore();
  }
}
__publicField(ArcElement, "id", "arc");
__publicField(ArcElement, "defaults", { borderAlign: "center", borderColor: "#fff", borderDash: [], borderDashOffset: 0, borderJoinStyle: void 0, borderRadius: 0, borderWidth: 2, offset: 0, spacing: 0, angle: void 0, circular: true });
__publicField(ArcElement, "defaultRoutes", { backgroundColor: "backgroundColor" });
__publicField(ArcElement, "descriptors", { _scriptable: true, _indexable: (d2) => "borderDash" !== d2 });
function setStyle(d2, g2, _2 = g2) {
  d2.lineCap = valueOrDefault(_2.borderCapStyle, g2.borderCapStyle), d2.setLineDash(valueOrDefault(_2.borderDash, g2.borderDash)), d2.lineDashOffset = valueOrDefault(_2.borderDashOffset, g2.borderDashOffset), d2.lineJoin = valueOrDefault(_2.borderJoinStyle, g2.borderJoinStyle), d2.lineWidth = valueOrDefault(_2.borderWidth, g2.borderWidth), d2.strokeStyle = valueOrDefault(_2.borderColor, g2.borderColor);
}
function lineTo(d2, g2, _2) {
  d2.lineTo(_2.x, _2.y);
}
function pathVars(d2, g2, _2 = {}) {
  const O2 = d2.length, { start: $2 = 0, end: st2 = O2 - 1 } = _2, { start: ot2, end: lt2 } = g2, ct2 = Math.max($2, ot2), ut2 = Math.min(st2, lt2), gt2 = $2 < ot2 && st2 < ot2 || $2 > lt2 && st2 > lt2;
  return { count: O2, start: ct2, loop: g2.loop, ilen: ut2 < ct2 && !gt2 ? O2 + ut2 - ct2 : ut2 - ct2 };
}
function pathSegment(d2, g2, _2, O2) {
  const { points: $2, options: st2 } = g2, { count: ot2, start: lt2, loop: ct2, ilen: ut2 } = pathVars($2, _2, O2), gt2 = function getLineMethod(d3) {
    return d3.stepped ? _steppedLineTo : d3.tension || "monotone" === d3.cubicInterpolationMode ? _bezierCurveTo : lineTo;
  }(st2);
  let mt2, bt2, yt2, { move: wt2 = true, reverse: Pt2 } = O2 || {};
  for (mt2 = 0; mt2 <= ut2; ++mt2) bt2 = $2[(lt2 + (Pt2 ? ut2 - mt2 : mt2)) % ot2], bt2.skip || (wt2 ? (d2.moveTo(bt2.x, bt2.y), wt2 = false) : gt2(d2, yt2, bt2, Pt2, st2.stepped), yt2 = bt2);
  return ct2 && (bt2 = $2[(lt2 + (Pt2 ? ut2 : 0)) % ot2], gt2(d2, yt2, bt2, Pt2, st2.stepped)), !!ct2;
}
function fastPathSegment(d2, g2, _2, O2) {
  const $2 = g2.points, { count: st2, start: ot2, ilen: lt2 } = pathVars($2, _2, O2), { move: ct2 = true, reverse: ut2 } = O2 || {};
  let gt2, mt2, bt2, yt2, wt2, Pt2, At2 = 0, St2 = 0;
  const pointIndex = (d3) => (ot2 + (ut2 ? lt2 - d3 : d3)) % st2, drawX = () => {
    yt2 !== wt2 && (d2.lineTo(At2, wt2), d2.lineTo(At2, yt2), d2.lineTo(At2, Pt2));
  };
  for (ct2 && (mt2 = $2[pointIndex(0)], d2.moveTo(mt2.x, mt2.y)), gt2 = 0; gt2 <= lt2; ++gt2) {
    if (mt2 = $2[pointIndex(gt2)], mt2.skip) continue;
    const g3 = mt2.x, _3 = mt2.y, O3 = 0 | g3;
    O3 === bt2 ? (_3 < yt2 ? yt2 = _3 : _3 > wt2 && (wt2 = _3), At2 = (St2 * At2 + g3) / ++St2) : (drawX(), d2.lineTo(g3, _3), bt2 = O3, St2 = 0, yt2 = wt2 = _3), Pt2 = _3;
  }
  drawX();
}
function _getSegmentMethod(d2) {
  const g2 = d2.options, _2 = g2.borderDash && g2.borderDash.length;
  return !(d2._decimated || d2._loop || g2.tension || "monotone" === g2.cubicInterpolationMode || g2.stepped || _2) ? fastPathSegment : pathSegment;
}
const po = "function" == typeof Path2D;
function draw(d2, g2, _2, O2) {
  po && !g2.options.segment ? function strokePathWithCache(d3, g3, _3, O3) {
    let $2 = g3._path;
    $2 || ($2 = g3._path = new Path2D(), g3.path($2, _3, O3) && $2.closePath()), setStyle(d3, g3.options), d3.stroke($2);
  }(d2, g2, _2, O2) : function strokePathDirect(d3, g3, _3, O3) {
    const { segments: $2, options: st2 } = g3, ot2 = _getSegmentMethod(g3);
    for (const lt2 of $2) setStyle(d3, st2, lt2.style), d3.beginPath(), ot2(d3, g3, lt2, { start: _3, end: _3 + O3 - 1 }) && d3.closePath(), d3.stroke();
  }(d2, g2, _2, O2);
}
class LineElement extends oo {
  constructor(d2) {
    super(), this.animated = true, this.options = void 0, this._chart = void 0, this._loop = void 0, this._fullLoop = void 0, this._path = void 0, this._points = void 0, this._segments = void 0, this._decimated = false, this._pointsUpdated = false, this._datasetIndex = void 0, d2 && Object.assign(this, d2);
  }
  updateControlPoints(d2, g2) {
    const _2 = this.options;
    if ((_2.tension || "monotone" === _2.cubicInterpolationMode) && !_2.stepped && !this._pointsUpdated) {
      const O2 = _2.spanGaps ? this._loop : this._fullLoop;
      _updateBezierControlPoints(this._points, _2, d2, O2, g2), this._pointsUpdated = true;
    }
  }
  set points(d2) {
    this._points = d2, delete this._segments, delete this._path, this._pointsUpdated = false;
  }
  get points() {
    return this._points;
  }
  get segments() {
    return this._segments || (this._segments = function _computeSegments(d2, g2) {
      const _2 = d2.points, O2 = d2.options.spanGaps, $2 = _2.length;
      if (!$2) return [];
      const st2 = !!d2._loop, { start: ot2, end: lt2 } = function findStartAndEnd(d3, g3, _3, O3) {
        let $3 = 0, st3 = g3 - 1;
        if (_3 && !O3) for (; $3 < g3 && !d3[$3].skip; ) $3++;
        for (; $3 < g3 && d3[$3].skip; ) $3++;
        for ($3 %= g3, _3 && (st3 += $3); st3 > $3 && d3[st3 % g3].skip; ) st3--;
        return st3 %= g3, { start: $3, end: st3 };
      }(_2, $2, st2, O2);
      return splitByStyles(d2, true === O2 ? [{ start: ot2, end: lt2, loop: st2 }] : function solidSegments(d3, g3, _3, O3) {
        const $3 = d3.length, st3 = [];
        let ot3, lt3 = g3, ct2 = d3[g3];
        for (ot3 = g3 + 1; ot3 <= _3; ++ot3) {
          const _4 = d3[ot3 % $3];
          _4.skip || _4.stop ? ct2.skip || (O3 = false, st3.push({ start: g3 % $3, end: (ot3 - 1) % $3, loop: O3 }), g3 = lt3 = _4.stop ? ot3 : null) : (lt3 = ot3, ct2.skip && (g3 = ot3)), ct2 = _4;
        }
        return null !== lt3 && st3.push({ start: g3 % $3, end: lt3 % $3, loop: O3 }), st3;
      }(_2, ot2, lt2 < ot2 ? lt2 + $2 : lt2, !!d2._fullLoop && 0 === ot2 && lt2 === $2 - 1), _2, g2);
    }(this, this.options.segment));
  }
  first() {
    const d2 = this.segments, g2 = this.points;
    return d2.length && g2[d2[0].start];
  }
  last() {
    const d2 = this.segments, g2 = this.points, _2 = d2.length;
    return _2 && g2[d2[_2 - 1].end];
  }
  interpolate(d2, g2) {
    const _2 = this.options, O2 = d2[g2], $2 = this.points, st2 = _boundSegments(this, { property: g2, start: O2, end: O2 });
    if (!st2.length) return;
    const ot2 = [], lt2 = function _getInterpolationMethod(d3) {
      return d3.stepped ? _steppedInterpolation : d3.tension || "monotone" === d3.cubicInterpolationMode ? _bezierInterpolation : _pointInLine;
    }(_2);
    let ct2, ut2;
    for (ct2 = 0, ut2 = st2.length; ct2 < ut2; ++ct2) {
      const { start: ut3, end: gt2 } = st2[ct2], mt2 = $2[ut3], bt2 = $2[gt2];
      if (mt2 === bt2) {
        ot2.push(mt2);
        continue;
      }
      const yt2 = lt2(mt2, bt2, Math.abs((O2 - mt2[g2]) / (bt2[g2] - mt2[g2])), _2.stepped);
      yt2[g2] = d2[g2], ot2.push(yt2);
    }
    return 1 === ot2.length ? ot2[0] : ot2;
  }
  pathSegment(d2, g2, _2) {
    return _getSegmentMethod(this)(d2, this, g2, _2);
  }
  path(d2, g2, _2) {
    const O2 = this.segments, $2 = _getSegmentMethod(this);
    let st2 = this._loop;
    g2 = g2 || 0, _2 = _2 || this.points.length - g2;
    for (const ot2 of O2) st2 &= $2(d2, this, ot2, { start: g2, end: g2 + _2 - 1 });
    return !!st2;
  }
  draw(d2, g2, _2, O2) {
    const $2 = this.options || {};
    (this.points || []).length && $2.borderWidth && (d2.save(), draw(d2, this, _2, O2), d2.restore()), this.animated && (this._pointsUpdated = false, this._path = void 0);
  }
}
__publicField(LineElement, "id", "line");
__publicField(LineElement, "defaults", { borderCapStyle: "butt", borderDash: [], borderDashOffset: 0, borderJoinStyle: "miter", borderWidth: 3, capBezierPoints: true, cubicInterpolationMode: "default", fill: false, spanGaps: false, stepped: false, tension: 0 });
__publicField(LineElement, "defaultRoutes", { backgroundColor: "backgroundColor", borderColor: "borderColor" });
__publicField(LineElement, "descriptors", { _scriptable: true, _indexable: (d2) => "borderDash" !== d2 && "fill" !== d2 });
function inRange$1(d2, g2, _2, O2) {
  const $2 = d2.options, { [_2]: st2 } = d2.getProps([_2], O2);
  return Math.abs(g2 - st2) < $2.radius + $2.hitRadius;
}
class PointElement extends oo {
  constructor(d2) {
    super();
    __publicField(this, "parsed");
    __publicField(this, "skip");
    __publicField(this, "stop");
    this.options = void 0, this.parsed = void 0, this.skip = void 0, this.stop = void 0, d2 && Object.assign(this, d2);
  }
  inRange(d2, g2, _2) {
    const O2 = this.options, { x: $2, y: st2 } = this.getProps(["x", "y"], _2);
    return Math.pow(d2 - $2, 2) + Math.pow(g2 - st2, 2) < Math.pow(O2.hitRadius + O2.radius, 2);
  }
  inXRange(d2, g2) {
    return inRange$1(this, d2, "x", g2);
  }
  inYRange(d2, g2) {
    return inRange$1(this, d2, "y", g2);
  }
  getCenterPoint(d2) {
    const { x: g2, y: _2 } = this.getProps(["x", "y"], d2);
    return { x: g2, y: _2 };
  }
  size(d2) {
    let g2 = (d2 = d2 || this.options || {}).radius || 0;
    g2 = Math.max(g2, g2 && d2.hoverRadius || 0);
    return 2 * (g2 + (g2 && d2.borderWidth || 0));
  }
  draw(d2, g2) {
    const _2 = this.options;
    this.skip || _2.radius < 0.1 || !_isPointInArea(this, g2, this.size(_2) / 2) || (d2.strokeStyle = _2.borderColor, d2.lineWidth = _2.borderWidth, d2.fillStyle = _2.backgroundColor, drawPoint(d2, _2, this.x, this.y));
  }
  getRange() {
    const d2 = this.options || {};
    return d2.radius + d2.hitRadius;
  }
}
__publicField(PointElement, "id", "point");
__publicField(PointElement, "defaults", { borderWidth: 1, hitRadius: 1, hoverBorderWidth: 1, hoverRadius: 4, pointStyle: "circle", radius: 3, rotation: 0 });
__publicField(PointElement, "defaultRoutes", { backgroundColor: "backgroundColor", borderColor: "borderColor" });
function getBarBounds(d2, g2) {
  const { x: _2, y: O2, base: $2, width: st2, height: ot2 } = d2.getProps(["x", "y", "base", "width", "height"], g2);
  let lt2, ct2, ut2, gt2, mt2;
  return d2.horizontal ? (mt2 = ot2 / 2, lt2 = Math.min(_2, $2), ct2 = Math.max(_2, $2), ut2 = O2 - mt2, gt2 = O2 + mt2) : (mt2 = st2 / 2, lt2 = _2 - mt2, ct2 = _2 + mt2, ut2 = Math.min(O2, $2), gt2 = Math.max(O2, $2)), { left: lt2, top: ut2, right: ct2, bottom: gt2 };
}
function skipOrLimit(d2, g2, _2, O2) {
  return d2 ? 0 : _limitValue(g2, _2, O2);
}
function boundingRects(d2) {
  const g2 = getBarBounds(d2), _2 = g2.right - g2.left, O2 = g2.bottom - g2.top, $2 = function parseBorderWidth(d3, g3, _3) {
    const O3 = d3.options.borderWidth, $3 = d3.borderSkipped, st3 = toTRBL(O3);
    return { t: skipOrLimit($3.top, st3.top, 0, _3), r: skipOrLimit($3.right, st3.right, 0, g3), b: skipOrLimit($3.bottom, st3.bottom, 0, _3), l: skipOrLimit($3.left, st3.left, 0, g3) };
  }(d2, _2 / 2, O2 / 2), st2 = function parseBorderRadius(d3, g3, _3) {
    const { enableBorderRadius: O3 } = d3.getProps(["enableBorderRadius"]), $3 = d3.options.borderRadius, st3 = toTRBLCorners($3), ot2 = Math.min(g3, _3), lt2 = d3.borderSkipped, ct2 = O3 || isObject$1($3);
    return { topLeft: skipOrLimit(!ct2 || lt2.top || lt2.left, st3.topLeft, 0, ot2), topRight: skipOrLimit(!ct2 || lt2.top || lt2.right, st3.topRight, 0, ot2), bottomLeft: skipOrLimit(!ct2 || lt2.bottom || lt2.left, st3.bottomLeft, 0, ot2), bottomRight: skipOrLimit(!ct2 || lt2.bottom || lt2.right, st3.bottomRight, 0, ot2) };
  }(d2, _2 / 2, O2 / 2);
  return { outer: { x: g2.left, y: g2.top, w: _2, h: O2, radius: st2 }, inner: { x: g2.left + $2.l, y: g2.top + $2.t, w: _2 - $2.l - $2.r, h: O2 - $2.t - $2.b, radius: { topLeft: Math.max(0, st2.topLeft - Math.max($2.t, $2.l)), topRight: Math.max(0, st2.topRight - Math.max($2.t, $2.r)), bottomLeft: Math.max(0, st2.bottomLeft - Math.max($2.b, $2.l)), bottomRight: Math.max(0, st2.bottomRight - Math.max($2.b, $2.r)) } } };
}
function inRange(d2, g2, _2, O2) {
  const $2 = null === g2, st2 = null === _2, ot2 = d2 && !($2 && st2) && getBarBounds(d2, O2);
  return ot2 && ($2 || _isBetween(g2, ot2.left, ot2.right)) && (st2 || _isBetween(_2, ot2.top, ot2.bottom));
}
function addNormalRectPath(d2, g2) {
  d2.rect(g2.x, g2.y, g2.w, g2.h);
}
function inflateRect(d2, g2, _2 = {}) {
  const O2 = d2.x !== _2.x ? -g2 : 0, $2 = d2.y !== _2.y ? -g2 : 0, st2 = (d2.x + d2.w !== _2.x + _2.w ? g2 : 0) - O2, ot2 = (d2.y + d2.h !== _2.y + _2.h ? g2 : 0) - $2;
  return { x: d2.x + O2, y: d2.y + $2, w: d2.w + st2, h: d2.h + ot2, radius: d2.radius };
}
class BarElement extends oo {
  constructor(d2) {
    super(), this.options = void 0, this.horizontal = void 0, this.base = void 0, this.width = void 0, this.height = void 0, this.inflateAmount = void 0, d2 && Object.assign(this, d2);
  }
  draw(d2) {
    const { inflateAmount: g2, options: { borderColor: _2, backgroundColor: O2 } } = this, { inner: $2, outer: st2 } = boundingRects(this), ot2 = function hasRadius(d3) {
      return d3.topLeft || d3.topRight || d3.bottomLeft || d3.bottomRight;
    }(st2.radius) ? addRoundedRectPath : addNormalRectPath;
    d2.save(), st2.w === $2.w && st2.h === $2.h || (d2.beginPath(), ot2(d2, inflateRect(st2, g2, $2)), d2.clip(), ot2(d2, inflateRect($2, -g2, st2)), d2.fillStyle = _2, d2.fill("evenodd")), d2.beginPath(), ot2(d2, inflateRect($2, g2)), d2.fillStyle = O2, d2.fill(), d2.restore();
  }
  inRange(d2, g2, _2) {
    return inRange(this, d2, g2, _2);
  }
  inXRange(d2, g2) {
    return inRange(this, d2, null, g2);
  }
  inYRange(d2, g2) {
    return inRange(this, null, d2, g2);
  }
  getCenterPoint(d2) {
    const { x: g2, y: _2, base: O2, horizontal: $2 } = this.getProps(["x", "y", "base", "horizontal"], d2);
    return { x: $2 ? (g2 + O2) / 2 : g2, y: $2 ? _2 : (_2 + O2) / 2 };
  }
  getRange(d2) {
    return "x" === d2 ? this.width / 2 : this.height / 2;
  }
}
__publicField(BarElement, "id", "bar");
__publicField(BarElement, "defaults", { borderSkipped: "start", borderWidth: 0, borderRadius: 0, inflateAmount: "auto", pointStyle: void 0 });
__publicField(BarElement, "defaultRoutes", { backgroundColor: "backgroundColor", borderColor: "borderColor" });
var fo = Object.freeze({ __proto__: null, ArcElement, BarElement, LineElement, PointElement });
const go = ["rgb(54, 162, 235)", "rgb(255, 99, 132)", "rgb(255, 159, 64)", "rgb(255, 205, 86)", "rgb(75, 192, 192)", "rgb(153, 102, 255)", "rgb(201, 203, 207)"], _o = go.map((d2) => d2.replace("rgb(", "rgba(").replace(")", ", 0.5)"));
function getBorderColor(d2) {
  return go[d2 % go.length];
}
function getBackgroundColor(d2) {
  return _o[d2 % _o.length];
}
function getColorizer(d2) {
  let g2 = 0;
  return (_2, O2) => {
    const $2 = d2.getDatasetMeta(O2).controller;
    $2 instanceof DoughnutController ? g2 = function colorizeDoughnutDataset(d3, g3) {
      return d3.backgroundColor = d3.data.map(() => getBorderColor(g3++)), g3;
    }(_2, g2) : $2 instanceof PolarAreaController ? g2 = function colorizePolarAreaDataset(d3, g3) {
      return d3.backgroundColor = d3.data.map(() => getBackgroundColor(g3++)), g3;
    }(_2, g2) : $2 && (g2 = function colorizeDefaultDataset(d3, g3) {
      return d3.borderColor = getBorderColor(g3), d3.backgroundColor = getBackgroundColor(g3), ++g3;
    }(_2, g2));
  };
}
function containsColorsDefinitions(d2) {
  let g2;
  for (g2 in d2) if (d2[g2].borderColor || d2[g2].backgroundColor) return true;
  return false;
}
var mo = { id: "colors", defaults: { enabled: true, forceOverride: false }, beforeLayout(d2, g2, _2) {
  if (!_2.enabled) return;
  const { data: { datasets: O2 }, options: $2 } = d2.config, { elements: st2 } = $2;
  if (!_2.forceOverride && (containsColorsDefinitions(O2) || function containsColorsDefinition(d3) {
    return d3 && (d3.borderColor || d3.backgroundColor);
  }($2) || st2 && containsColorsDefinitions(st2))) return;
  const ot2 = getColorizer(d2);
  O2.forEach(ot2);
} };
function cleanDecimatedDataset(d2) {
  if (d2._decimated) {
    const g2 = d2._data;
    delete d2._decimated, delete d2._data, Object.defineProperty(d2, "data", { configurable: true, enumerable: true, writable: true, value: g2 });
  }
}
function cleanDecimatedData(d2) {
  d2.data.datasets.forEach((d3) => {
    cleanDecimatedDataset(d3);
  });
}
var vo = { id: "decimation", defaults: { algorithm: "min-max", enabled: false }, beforeElementsUpdate: (d2, g2, _2) => {
  if (!_2.enabled) return void cleanDecimatedData(d2);
  const O2 = d2.width;
  d2.data.datasets.forEach((g3, $2) => {
    const { _data: st2, indexAxis: ot2 } = g3, lt2 = d2.getDatasetMeta($2), ct2 = st2 || g3.data;
    if ("y" === resolve([ot2, d2.options.indexAxis])) return;
    if (!lt2.controller.supportsDecimation) return;
    const ut2 = d2.scales[lt2.xAxisID];
    if ("linear" !== ut2.type && "time" !== ut2.type) return;
    if (d2.options.parsing) return;
    let { start: gt2, count: mt2 } = function getStartAndCountOfVisiblePointsSimplified(d3, g4) {
      const _3 = g4.length;
      let O3, $3 = 0;
      const { iScale: st3 } = d3, { min: ot3, max: lt3, minDefined: ct3, maxDefined: ut3 } = st3.getUserBounds();
      return ct3 && ($3 = _limitValue(_lookupByKey(g4, st3.axis, ot3).lo, 0, _3 - 1)), O3 = ut3 ? _limitValue(_lookupByKey(g4, st3.axis, lt3).hi + 1, $3, _3) - $3 : _3 - $3, { start: $3, count: O3 };
    }(lt2, ct2);
    if (mt2 <= (_2.threshold || 4 * O2)) return void cleanDecimatedDataset(g3);
    let bt2;
    switch (isNullOrUndef(st2) && (g3._data = ct2, delete g3.data, Object.defineProperty(g3, "data", { configurable: true, enumerable: true, get: function() {
      return this._decimated;
    }, set: function(d3) {
      this._data = d3;
    } })), _2.algorithm) {
      case "lttb":
        bt2 = function lttbDecimation(d3, g4, _3, O3, $3) {
          const st3 = $3.samples || O3;
          if (st3 >= _3) return d3.slice(g4, g4 + _3);
          const ot3 = [], lt3 = (_3 - 2) / (st3 - 2);
          let ct3 = 0;
          const ut3 = g4 + _3 - 1;
          let gt3, mt3, bt3, yt2, wt2, Pt2 = g4;
          for (ot3[ct3++] = d3[Pt2], gt3 = 0; gt3 < st3 - 2; gt3++) {
            let O4, $4 = 0, st4 = 0;
            const ut4 = Math.floor((gt3 + 1) * lt3) + 1 + g4, At2 = Math.min(Math.floor((gt3 + 2) * lt3) + 1, _3) + g4, St2 = At2 - ut4;
            for (O4 = ut4; O4 < At2; O4++) $4 += d3[O4].x, st4 += d3[O4].y;
            $4 /= St2, st4 /= St2;
            const Mt2 = Math.floor(gt3 * lt3) + 1 + g4, Vt2 = Math.min(Math.floor((gt3 + 1) * lt3) + 1, _3) + g4, { x: Ot2, y: zt2 } = d3[Pt2];
            for (bt3 = yt2 = -1, O4 = Mt2; O4 < Vt2; O4++) yt2 = 0.5 * Math.abs((Ot2 - $4) * (d3[O4].y - zt2) - (Ot2 - d3[O4].x) * (st4 - zt2)), yt2 > bt3 && (bt3 = yt2, mt3 = d3[O4], wt2 = O4);
            ot3[ct3++] = mt3, Pt2 = wt2;
          }
          return ot3[ct3++] = d3[ut3], ot3;
        }(ct2, gt2, mt2, O2, _2);
        break;
      case "min-max":
        bt2 = function minMaxDecimation(d3, g4, _3, O3) {
          let $3, st3, ot3, lt3, ct3, ut3, gt3, mt3, bt3, yt2, wt2 = 0, Pt2 = 0;
          const At2 = [], St2 = g4 + _3 - 1, Mt2 = d3[g4].x, Vt2 = d3[St2].x - Mt2;
          for ($3 = g4; $3 < g4 + _3; ++$3) {
            st3 = d3[$3], ot3 = (st3.x - Mt2) / Vt2 * O3, lt3 = st3.y;
            const g5 = 0 | ot3;
            if (g5 === ct3) lt3 < bt3 ? (bt3 = lt3, ut3 = $3) : lt3 > yt2 && (yt2 = lt3, gt3 = $3), wt2 = (Pt2 * wt2 + st3.x) / ++Pt2;
            else {
              const _4 = $3 - 1;
              if (!isNullOrUndef(ut3) && !isNullOrUndef(gt3)) {
                const g6 = Math.min(ut3, gt3), O4 = Math.max(ut3, gt3);
                g6 !== mt3 && g6 !== _4 && At2.push({ ...d3[g6], x: wt2 }), O4 !== mt3 && O4 !== _4 && At2.push({ ...d3[O4], x: wt2 });
              }
              $3 > 0 && _4 !== mt3 && At2.push(d3[_4]), At2.push(st3), ct3 = g5, Pt2 = 0, bt3 = yt2 = lt3, ut3 = gt3 = mt3 = $3;
            }
          }
          return At2;
        }(ct2, gt2, mt2, O2);
        break;
      default:
        throw new Error(`Unsupported decimation algorithm '${_2.algorithm}'`);
    }
    g3._decimated = bt2;
  });
}, destroy(d2) {
  cleanDecimatedData(d2);
} };
function _getBounds(d2, g2, _2, O2) {
  if (O2) return;
  let $2 = g2[d2], st2 = _2[d2];
  return "angle" === d2 && ($2 = _normalizeAngle($2), st2 = _normalizeAngle(st2)), { property: d2, start: $2, end: st2 };
}
function _findSegmentEnd(d2, g2, _2) {
  for (; g2 > d2; g2--) {
    const d3 = _2[g2];
    if (!isNaN(d3.x) && !isNaN(d3.y)) break;
  }
  return g2;
}
function _getEdge(d2, g2, _2, O2) {
  return d2 && g2 ? O2(d2[_2], g2[_2]) : d2 ? d2[_2] : g2 ? g2[_2] : 0;
}
function _createBoundaryLine(d2, g2) {
  let _2 = [], O2 = false;
  return isArray$1(d2) ? (O2 = true, _2 = d2) : _2 = function _pointsFromSegments(d3, g3) {
    const { x: _3 = null, y: O3 = null } = d3 || {}, $2 = g3.points, st2 = [];
    return g3.segments.forEach(({ start: d4, end: g4 }) => {
      g4 = _findSegmentEnd(d4, g4, $2);
      const ot2 = $2[d4], lt2 = $2[g4];
      null !== O3 ? (st2.push({ x: ot2.x, y: O3 }), st2.push({ x: lt2.x, y: O3 })) : null !== _3 && (st2.push({ x: _3, y: ot2.y }), st2.push({ x: _3, y: lt2.y }));
    }), st2;
  }(d2, g2), _2.length ? new LineElement({ points: _2, options: { tension: 0 }, _loop: O2, _fullLoop: O2 }) : null;
}
function _shouldApplyFill(d2) {
  return d2 && false !== d2.fill;
}
function _resolveTarget(d2, g2, _2) {
  let O2 = d2[g2].fill;
  const $2 = [g2];
  let st2;
  if (!_2) return O2;
  for (; false !== O2 && -1 === $2.indexOf(O2); ) {
    if (!isNumberFinite(O2)) return O2;
    if (st2 = d2[O2], !st2) return false;
    if (st2.visible) return O2;
    $2.push(O2), O2 = st2.fill;
  }
  return false;
}
function _decodeFill(d2, g2, _2) {
  const O2 = function parseFillOption(d3) {
    const g3 = d3.options, _3 = g3.fill;
    let O3 = valueOrDefault(_3 && _3.target, _3);
    void 0 === O3 && (O3 = !!g3.backgroundColor);
    if (false === O3 || null === O3) return false;
    if (true === O3) return "origin";
    return O3;
  }(d2);
  if (isObject$1(O2)) return !isNaN(O2.value) && O2;
  let $2 = parseFloat(O2);
  return isNumberFinite($2) && Math.floor($2) === $2 ? function decodeTargetIndex(d3, g3, _3, O3) {
    "-" !== d3 && "+" !== d3 || (_3 = g3 + _3);
    if (_3 === g3 || _3 < 0 || _3 >= O3) return false;
    return _3;
  }(O2[0], g2, $2, _2) : ["origin", "start", "end", "stack", "shape"].indexOf(O2) >= 0 && O2;
}
function addPointsBelow(d2, g2, _2) {
  const O2 = [];
  for (let $2 = 0; $2 < _2.length; $2++) {
    const st2 = _2[$2], { first: ot2, last: lt2, point: ct2 } = findPoint(st2, g2, "x");
    if (!(!ct2 || ot2 && lt2)) {
      if (ot2) O2.unshift(ct2);
      else if (d2.push(ct2), !lt2) break;
    }
  }
  d2.push(...O2);
}
function findPoint(d2, g2, _2) {
  const O2 = d2.interpolate(g2, _2);
  if (!O2) return {};
  const $2 = O2[_2], st2 = d2.segments, ot2 = d2.points;
  let lt2 = false, ct2 = false;
  for (let d3 = 0; d3 < st2.length; d3++) {
    const g3 = st2[d3], O3 = ot2[g3.start][_2], ut2 = ot2[g3.end][_2];
    if (_isBetween($2, O3, ut2)) {
      lt2 = $2 === O3, ct2 = $2 === ut2;
      break;
    }
  }
  return { first: lt2, last: ct2, point: O2 };
}
class simpleArc {
  constructor(d2) {
    this.x = d2.x, this.y = d2.y, this.radius = d2.radius;
  }
  pathSegment(d2, g2, _2) {
    const { x: O2, y: $2, radius: st2 } = this;
    return g2 = g2 || { start: 0, end: wr }, d2.arc(O2, $2, st2, g2.end, g2.start, true), !_2.bounds;
  }
  interpolate(d2) {
    const { x: g2, y: _2, radius: O2 } = this, $2 = d2.angle;
    return { x: g2 + Math.cos($2) * O2, y: _2 + Math.sin($2) * O2, angle: $2 };
  }
}
function _getTarget(d2) {
  const { chart: g2, fill: _2, line: O2 } = d2;
  if (isNumberFinite(_2)) return function getLineByIndex(d3, g3) {
    const _3 = d3.getDatasetMeta(g3), O3 = _3 && d3.isDatasetVisible(g3);
    return O3 ? _3.dataset : null;
  }(g2, _2);
  if ("stack" === _2) return function _buildStackLine(d3) {
    const { scale: g3, index: _3, line: O3 } = d3, $3 = [], st2 = O3.segments, ot2 = O3.points, lt2 = function getLinesBelow(d4, g4) {
      const _4 = [], O4 = d4.getMatchingVisibleMetas("line");
      for (let d5 = 0; d5 < O4.length; d5++) {
        const $4 = O4[d5];
        if ($4.index === g4) break;
        $4.hidden || _4.unshift($4.dataset);
      }
      return _4;
    }(g3, _3);
    lt2.push(_createBoundaryLine({ x: null, y: g3.bottom }, O3));
    for (let d4 = 0; d4 < st2.length; d4++) {
      const g4 = st2[d4];
      for (let d5 = g4.start; d5 <= g4.end; d5++) addPointsBelow($3, ot2[d5], lt2);
    }
    return new LineElement({ points: $3, options: {} });
  }(d2);
  if ("shape" === _2) return true;
  const $2 = function computeBoundary(d3) {
    const g3 = d3.scale || {};
    if (g3.getPointPositionForValue) return function computeCircularBoundary(d4) {
      const { scale: g4, fill: _3 } = d4, O3 = g4.options, $3 = g4.getLabels().length, st2 = O3.reverse ? g4.max : g4.min, ot2 = function _getTargetValue(d5, g5, _4) {
        let O4;
        return O4 = "start" === d5 ? _4 : "end" === d5 ? g5.options.reverse ? g5.min : g5.max : isObject$1(d5) ? d5.value : g5.getBaseValue(), O4;
      }(_3, g4, st2), lt2 = [];
      if (O3.grid.circular) {
        const d5 = g4.getPointPositionForValue(0, st2);
        return new simpleArc({ x: d5.x, y: d5.y, radius: g4.getDistanceFromCenterForValue(ot2) });
      }
      for (let d5 = 0; d5 < $3; ++d5) lt2.push(g4.getPointPositionForValue(d5, ot2));
      return lt2;
    }(d3);
    return function computeLinearBoundary(d4) {
      const { scale: g4 = {}, fill: _3 } = d4, O3 = function _getTargetPixel(d5, g5) {
        let _4 = null;
        return "start" === d5 ? _4 = g5.bottom : "end" === d5 ? _4 = g5.top : isObject$1(d5) ? _4 = g5.getPixelForValue(d5.value) : g5.getBasePixel && (_4 = g5.getBasePixel()), _4;
      }(_3, g4);
      if (isNumberFinite(O3)) {
        const d5 = g4.isHorizontal();
        return { x: d5 ? O3 : null, y: d5 ? null : O3 };
      }
      return null;
    }(d3);
  }(d2);
  return $2 instanceof simpleArc ? $2 : _createBoundaryLine($2, O2);
}
function _drawfill(d2, g2, _2) {
  const O2 = _getTarget(g2), { line: $2, scale: st2, axis: ot2 } = g2, lt2 = $2.options, ct2 = lt2.fill, ut2 = lt2.backgroundColor, { above: gt2 = ut2, below: mt2 = ut2 } = ct2 || {};
  O2 && $2.points.length && (clipArea(d2, _2), function doFill(d3, g3) {
    const { line: _3, target: O3, above: $3, below: st3, area: ot3, scale: lt3 } = g3, ct3 = _3._loop ? "angle" : g3.axis;
    d3.save(), "x" === ct3 && st3 !== $3 && (clipVertical(d3, O3, ot3.top), fill(d3, { line: _3, target: O3, color: $3, scale: lt3, property: ct3 }), d3.restore(), d3.save(), clipVertical(d3, O3, ot3.bottom));
    fill(d3, { line: _3, target: O3, color: st3, scale: lt3, property: ct3 }), d3.restore();
  }(d2, { line: $2, target: O2, above: gt2, below: mt2, area: _2, scale: st2, axis: ot2 }), unclipArea(d2));
}
function clipVertical(d2, g2, _2) {
  const { segments: O2, points: $2 } = g2;
  let st2 = true, ot2 = false;
  d2.beginPath();
  for (const lt2 of O2) {
    const { start: O3, end: ct2 } = lt2, ut2 = $2[O3], gt2 = $2[_findSegmentEnd(O3, ct2, $2)];
    st2 ? (d2.moveTo(ut2.x, ut2.y), st2 = false) : (d2.lineTo(ut2.x, _2), d2.lineTo(ut2.x, ut2.y)), ot2 = !!g2.pathSegment(d2, lt2, { move: ot2 }), ot2 ? d2.closePath() : d2.lineTo(gt2.x, _2);
  }
  d2.lineTo(g2.first().x, _2), d2.closePath(), d2.clip();
}
function fill(d2, g2) {
  const { line: _2, target: O2, property: $2, color: st2, scale: ot2 } = g2, lt2 = function _segments(d3, g3, _3) {
    const O3 = d3.segments, $3 = d3.points, st3 = g3.points, ot3 = [];
    for (const d4 of O3) {
      let { start: O4, end: lt3 } = d4;
      lt3 = _findSegmentEnd(O4, lt3, $3);
      const ct2 = _getBounds(_3, $3[O4], $3[lt3], d4.loop);
      if (!g3.segments) {
        ot3.push({ source: d4, target: ct2, start: $3[O4], end: $3[lt3] });
        continue;
      }
      const ut2 = _boundSegments(g3, ct2);
      for (const g4 of ut2) {
        const O5 = _getBounds(_3, st3[g4.start], st3[g4.end], g4.loop), lt4 = _boundSegment(d4, $3, O5);
        for (const d5 of lt4) ot3.push({ source: d5, target: g4, start: { [_3]: _getEdge(ct2, O5, "start", Math.max) }, end: { [_3]: _getEdge(ct2, O5, "end", Math.min) } });
      }
    }
    return ot3;
  }(_2, O2, $2);
  for (const { source: g3, target: ct2, start: ut2, end: gt2 } of lt2) {
    const { style: { backgroundColor: lt3 = st2 } = {} } = g3, mt2 = true !== O2;
    d2.save(), d2.fillStyle = lt3, clipBounds(d2, ot2, mt2 && _getBounds($2, ut2, gt2)), d2.beginPath();
    const bt2 = !!_2.pathSegment(d2, g3);
    let yt2;
    if (mt2) {
      bt2 ? d2.closePath() : interpolatedLineTo(d2, O2, gt2, $2);
      const g4 = !!O2.pathSegment(d2, ct2, { move: bt2, reverse: true });
      yt2 = bt2 && g4, yt2 || interpolatedLineTo(d2, O2, ut2, $2);
    }
    d2.closePath(), d2.fill(yt2 ? "evenodd" : "nonzero"), d2.restore();
  }
}
function clipBounds(d2, g2, _2) {
  const { top: O2, bottom: $2 } = g2.chart.chartArea, { property: st2, start: ot2, end: lt2 } = _2 || {};
  "x" === st2 && (d2.beginPath(), d2.rect(ot2, O2, lt2 - ot2, $2 - O2), d2.clip());
}
function interpolatedLineTo(d2, g2, _2, O2) {
  const $2 = g2.interpolate(_2, O2);
  $2 && d2.lineTo($2.x, $2.y);
}
var bo = { id: "filler", afterDatasetsUpdate(d2, g2, _2) {
  const O2 = (d2.data.datasets || []).length, $2 = [];
  let st2, ot2, lt2, ct2;
  for (ot2 = 0; ot2 < O2; ++ot2) st2 = d2.getDatasetMeta(ot2), lt2 = st2.dataset, ct2 = null, lt2 && lt2.options && lt2 instanceof LineElement && (ct2 = { visible: d2.isDatasetVisible(ot2), index: ot2, fill: _decodeFill(lt2, ot2, O2), chart: d2, axis: st2.controller.options.indexAxis, scale: st2.vScale, line: lt2 }), st2.$filler = ct2, $2.push(ct2);
  for (ot2 = 0; ot2 < O2; ++ot2) ct2 = $2[ot2], ct2 && false !== ct2.fill && (ct2.fill = _resolveTarget($2, ot2, _2.propagate));
}, beforeDraw(d2, g2, _2) {
  const O2 = "beforeDraw" === _2.drawTime, $2 = d2.getSortedVisibleDatasetMetas(), st2 = d2.chartArea;
  for (let g3 = $2.length - 1; g3 >= 0; --g3) {
    const _3 = $2[g3].$filler;
    _3 && (_3.line.updateControlPoints(st2, _3.axis), O2 && _3.fill && _drawfill(d2.ctx, _3, st2));
  }
}, beforeDatasetsDraw(d2, g2, _2) {
  if ("beforeDatasetsDraw" !== _2.drawTime) return;
  const O2 = d2.getSortedVisibleDatasetMetas();
  for (let g3 = O2.length - 1; g3 >= 0; --g3) {
    const _3 = O2[g3].$filler;
    _shouldApplyFill(_3) && _drawfill(d2.ctx, _3, d2.chartArea);
  }
}, beforeDatasetDraw(d2, g2, _2) {
  const O2 = g2.meta.$filler;
  _shouldApplyFill(O2) && "beforeDatasetDraw" === _2.drawTime && _drawfill(d2.ctx, O2, d2.chartArea);
}, defaults: { propagate: true, drawTime: "beforeDatasetDraw" } };
const getBoxSize = (d2, g2) => {
  let { boxHeight: _2 = g2, boxWidth: O2 = g2 } = d2;
  return d2.usePointStyle && (_2 = Math.min(_2, g2), O2 = d2.pointStyleWidth || Math.min(O2, g2)), { boxWidth: O2, boxHeight: _2, itemHeight: Math.max(g2, _2) };
};
class Legend extends oo {
  constructor(d2) {
    super(), this._added = false, this.legendHitBoxes = [], this._hoveredItem = null, this.doughnutMode = false, this.chart = d2.chart, this.options = d2.options, this.ctx = d2.ctx, this.legendItems = void 0, this.columnSizes = void 0, this.lineWidths = void 0, this.maxHeight = void 0, this.maxWidth = void 0, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.height = void 0, this.width = void 0, this._margins = void 0, this.position = void 0, this.weight = void 0, this.fullSize = void 0;
  }
  update(d2, g2, _2) {
    this.maxWidth = d2, this.maxHeight = g2, this._margins = _2, this.setDimensions(), this.buildLabels(), this.fit();
  }
  setDimensions() {
    this.isHorizontal() ? (this.width = this.maxWidth, this.left = this._margins.left, this.right = this.width) : (this.height = this.maxHeight, this.top = this._margins.top, this.bottom = this.height);
  }
  buildLabels() {
    const d2 = this.options.labels || {};
    let g2 = callback(d2.generateLabels, [this.chart], this) || [];
    d2.filter && (g2 = g2.filter((g3) => d2.filter(g3, this.chart.data))), d2.sort && (g2 = g2.sort((g3, _2) => d2.sort(g3, _2, this.chart.data))), this.options.reverse && g2.reverse(), this.legendItems = g2;
  }
  fit() {
    const { options: d2, ctx: g2 } = this;
    if (!d2.display) return void (this.width = this.height = 0);
    const _2 = d2.labels, O2 = toFont(_2.font), $2 = O2.size, st2 = this._computeTitleHeight(), { boxWidth: ot2, itemHeight: lt2 } = getBoxSize(_2, $2);
    let ct2, ut2;
    g2.font = O2.string, this.isHorizontal() ? (ct2 = this.maxWidth, ut2 = this._fitRows(st2, $2, ot2, lt2) + 10) : (ut2 = this.maxHeight, ct2 = this._fitCols(st2, O2, ot2, lt2) + 10), this.width = Math.min(ct2, d2.maxWidth || this.maxWidth), this.height = Math.min(ut2, d2.maxHeight || this.maxHeight);
  }
  _fitRows(d2, g2, _2, O2) {
    const { ctx: $2, maxWidth: st2, options: { labels: { padding: ot2 } } } = this, lt2 = this.legendHitBoxes = [], ct2 = this.lineWidths = [0], ut2 = O2 + ot2;
    let gt2 = d2;
    $2.textAlign = "left", $2.textBaseline = "middle";
    let mt2 = -1, bt2 = -ut2;
    return this.legendItems.forEach((d3, yt2) => {
      const wt2 = _2 + g2 / 2 + $2.measureText(d3.text).width;
      (0 === yt2 || ct2[ct2.length - 1] + wt2 + 2 * ot2 > st2) && (gt2 += ut2, ct2[ct2.length - (yt2 > 0 ? 0 : 1)] = 0, bt2 += ut2, mt2++), lt2[yt2] = { left: 0, top: bt2, row: mt2, width: wt2, height: O2 }, ct2[ct2.length - 1] += wt2 + ot2;
    }), gt2;
  }
  _fitCols(d2, g2, _2, O2) {
    const { ctx: $2, maxHeight: st2, options: { labels: { padding: ot2 } } } = this, lt2 = this.legendHitBoxes = [], ct2 = this.columnSizes = [], ut2 = st2 - d2;
    let gt2 = ot2, mt2 = 0, bt2 = 0, yt2 = 0, wt2 = 0;
    return this.legendItems.forEach((d3, st3) => {
      const { itemWidth: Pt2, itemHeight: At2 } = function calculateItemSize(d4, g3, _3, O3, $3) {
        const st4 = function calculateItemWidth(d5, g4, _4, O4) {
          let $4 = d5.text;
          $4 && "string" != typeof $4 && ($4 = $4.reduce((d6, g5) => d6.length > g5.length ? d6 : g5));
          return g4 + _4.size / 2 + O4.measureText($4).width;
        }(O3, d4, g3, _3), ot3 = function calculateItemHeight(d5, g4, _4) {
          let O4 = d5;
          "string" != typeof g4.text && (O4 = calculateLegendItemHeight(g4, _4));
          return O4;
        }($3, O3, g3.lineHeight);
        return { itemWidth: st4, itemHeight: ot3 };
      }(_2, g2, $2, d3, O2);
      st3 > 0 && bt2 + At2 + 2 * ot2 > ut2 && (gt2 += mt2 + ot2, ct2.push({ width: mt2, height: bt2 }), yt2 += mt2 + ot2, wt2++, mt2 = bt2 = 0), lt2[st3] = { left: yt2, top: bt2, col: wt2, width: Pt2, height: At2 }, mt2 = Math.max(mt2, Pt2), bt2 += At2 + ot2;
    }), gt2 += mt2, ct2.push({ width: mt2, height: bt2 }), gt2;
  }
  adjustHitBoxes() {
    if (!this.options.display) return;
    const d2 = this._computeTitleHeight(), { legendHitBoxes: g2, options: { align: _2, labels: { padding: O2 }, rtl: $2 } } = this, st2 = getRtlAdapter($2, this.left, this.width);
    if (this.isHorizontal()) {
      let $3 = 0, ot2 = _alignStartEnd(_2, this.left + O2, this.right - this.lineWidths[$3]);
      for (const lt2 of g2) $3 !== lt2.row && ($3 = lt2.row, ot2 = _alignStartEnd(_2, this.left + O2, this.right - this.lineWidths[$3])), lt2.top += this.top + d2 + O2, lt2.left = st2.leftForLtr(st2.x(ot2), lt2.width), ot2 += lt2.width + O2;
    } else {
      let $3 = 0, ot2 = _alignStartEnd(_2, this.top + d2 + O2, this.bottom - this.columnSizes[$3].height);
      for (const lt2 of g2) lt2.col !== $3 && ($3 = lt2.col, ot2 = _alignStartEnd(_2, this.top + d2 + O2, this.bottom - this.columnSizes[$3].height)), lt2.top = ot2, lt2.left += this.left + O2, lt2.left = st2.leftForLtr(st2.x(lt2.left), lt2.width), ot2 += lt2.height + O2;
    }
  }
  isHorizontal() {
    return "top" === this.options.position || "bottom" === this.options.position;
  }
  draw() {
    if (this.options.display) {
      const d2 = this.ctx;
      clipArea(d2, this), this._draw(), unclipArea(d2);
    }
  }
  _draw() {
    const { options: d2, columnSizes: g2, lineWidths: _2, ctx: O2 } = this, { align: $2, labels: st2 } = d2, ot2 = zr.color, lt2 = getRtlAdapter(d2.rtl, this.left, this.width), ct2 = toFont(st2.font), { padding: ut2 } = st2, gt2 = ct2.size, mt2 = gt2 / 2;
    let bt2;
    this.drawTitle(), O2.textAlign = lt2.textAlign("left"), O2.textBaseline = "middle", O2.lineWidth = 0.5, O2.font = ct2.string;
    const { boxWidth: yt2, boxHeight: wt2, itemHeight: Pt2 } = getBoxSize(st2, gt2), At2 = this.isHorizontal(), St2 = this._computeTitleHeight();
    bt2 = At2 ? { x: _alignStartEnd($2, this.left + ut2, this.right - _2[0]), y: this.top + ut2 + St2, line: 0 } : { x: this.left + ut2, y: _alignStartEnd($2, this.top + St2 + ut2, this.bottom - g2[0].height), line: 0 }, overrideTextDirection(this.ctx, d2.textDirection);
    const Mt2 = Pt2 + ut2;
    this.legendItems.forEach((Vt2, Ot2) => {
      O2.strokeStyle = Vt2.fontColor, O2.fillStyle = Vt2.fontColor;
      const zt2 = O2.measureText(Vt2.text).width, Bt2 = lt2.textAlign(Vt2.textAlign || (Vt2.textAlign = st2.textAlign)), Zt2 = yt2 + mt2 + zt2;
      let ce2 = bt2.x, ue2 = bt2.y;
      lt2.setWidth(this.width), At2 ? Ot2 > 0 && ce2 + Zt2 + ut2 > this.right && (ue2 = bt2.y += Mt2, bt2.line++, ce2 = bt2.x = _alignStartEnd($2, this.left + ut2, this.right - _2[bt2.line])) : Ot2 > 0 && ue2 + Mt2 > this.bottom && (ce2 = bt2.x = ce2 + g2[bt2.line].width + ut2, bt2.line++, ue2 = bt2.y = _alignStartEnd($2, this.top + St2 + ut2, this.bottom - g2[bt2.line].height));
      if (function(d3, g3, _3) {
        if (isNaN(yt2) || yt2 <= 0 || isNaN(wt2) || wt2 < 0) return;
        O2.save();
        const $3 = valueOrDefault(_3.lineWidth, 1);
        if (O2.fillStyle = valueOrDefault(_3.fillStyle, ot2), O2.lineCap = valueOrDefault(_3.lineCap, "butt"), O2.lineDashOffset = valueOrDefault(_3.lineDashOffset, 0), O2.lineJoin = valueOrDefault(_3.lineJoin, "miter"), O2.lineWidth = $3, O2.strokeStyle = valueOrDefault(_3.strokeStyle, ot2), O2.setLineDash(valueOrDefault(_3.lineDash, [])), st2.usePointStyle) {
          const ot3 = { radius: wt2 * Math.SQRT2 / 2, pointStyle: _3.pointStyle, rotation: _3.rotation, borderWidth: $3 }, ct3 = lt2.xPlus(d3, yt2 / 2);
          drawPointLegend(O2, ot3, ct3, g3 + mt2, st2.pointStyleWidth && yt2);
        } else {
          const st3 = g3 + Math.max((gt2 - wt2) / 2, 0), ot3 = lt2.leftForLtr(d3, yt2), ct3 = toTRBLCorners(_3.borderRadius);
          O2.beginPath(), Object.values(ct3).some((d4) => 0 !== d4) ? addRoundedRectPath(O2, { x: ot3, y: st3, w: yt2, h: wt2, radius: ct3 }) : O2.rect(ot3, st3, yt2, wt2), O2.fill(), 0 !== $3 && O2.stroke();
        }
        O2.restore();
      }(lt2.x(ce2), ue2, Vt2), ce2 = ((d3, g3, _3, O3) => d3 === (O3 ? "left" : "right") ? _3 : "center" === d3 ? (g3 + _3) / 2 : g3)(Bt2, ce2 + yt2 + mt2, At2 ? ce2 + Zt2 : this.right, d2.rtl), function(d3, g3, _3) {
        renderText(O2, _3.text, d3, g3 + Pt2 / 2, ct2, { strikethrough: _3.hidden, textAlign: lt2.textAlign(_3.textAlign) });
      }(lt2.x(ce2), ue2, Vt2), At2) bt2.x += Zt2 + ut2;
      else if ("string" != typeof Vt2.text) {
        const d3 = ct2.lineHeight;
        bt2.y += calculateLegendItemHeight(Vt2, d3) + ut2;
      } else bt2.y += Mt2;
    }), restoreTextDirection(this.ctx, d2.textDirection);
  }
  drawTitle() {
    const d2 = this.options, g2 = d2.title, _2 = toFont(g2.font), O2 = toPadding(g2.padding);
    if (!g2.display) return;
    const $2 = getRtlAdapter(d2.rtl, this.left, this.width), st2 = this.ctx, ot2 = g2.position, lt2 = _2.size / 2, ct2 = O2.top + lt2;
    let ut2, gt2 = this.left, mt2 = this.width;
    if (this.isHorizontal()) mt2 = Math.max(...this.lineWidths), ut2 = this.top + ct2, gt2 = _alignStartEnd(d2.align, gt2, this.right - mt2);
    else {
      const g3 = this.columnSizes.reduce((d3, g4) => Math.max(d3, g4.height), 0);
      ut2 = ct2 + _alignStartEnd(d2.align, this.top, this.bottom - g3 - d2.labels.padding - this._computeTitleHeight());
    }
    const bt2 = _alignStartEnd(ot2, gt2, gt2 + mt2);
    st2.textAlign = $2.textAlign(_toLeftRightCenter(ot2)), st2.textBaseline = "middle", st2.strokeStyle = g2.color, st2.fillStyle = g2.color, st2.font = _2.string, renderText(st2, g2.text, bt2, ut2, _2);
  }
  _computeTitleHeight() {
    const d2 = this.options.title, g2 = toFont(d2.font), _2 = toPadding(d2.padding);
    return d2.display ? g2.lineHeight + _2.height : 0;
  }
  _getLegendItemAt(d2, g2) {
    let _2, O2, $2;
    if (_isBetween(d2, this.left, this.right) && _isBetween(g2, this.top, this.bottom)) {
      for ($2 = this.legendHitBoxes, _2 = 0; _2 < $2.length; ++_2) if (O2 = $2[_2], _isBetween(d2, O2.left, O2.left + O2.width) && _isBetween(g2, O2.top, O2.top + O2.height)) return this.legendItems[_2];
    }
    return null;
  }
  handleEvent(d2) {
    const g2 = this.options;
    if (!function isListened(d3, g3) {
      if (("mousemove" === d3 || "mouseout" === d3) && (g3.onHover || g3.onLeave)) return true;
      if (g3.onClick && ("click" === d3 || "mouseup" === d3)) return true;
      return false;
    }(d2.type, g2)) return;
    const _2 = this._getLegendItemAt(d2.x, d2.y);
    if ("mousemove" === d2.type || "mouseout" === d2.type) {
      const O2 = this._hoveredItem, $2 = ((d3, g3) => null !== d3 && null !== g3 && d3.datasetIndex === g3.datasetIndex && d3.index === g3.index)(O2, _2);
      O2 && !$2 && callback(g2.onLeave, [d2, O2, this], this), this._hoveredItem = _2, _2 && !$2 && callback(g2.onHover, [d2, _2, this], this);
    } else _2 && callback(g2.onClick, [d2, _2, this], this);
  }
}
function calculateLegendItemHeight(d2, g2) {
  return g2 * (d2.text ? d2.text.length : 0);
}
var yo = { id: "legend", _element: Legend, start(d2, g2, _2) {
  const O2 = d2.legend = new Legend({ ctx: d2.ctx, options: _2, chart: d2 });
  Zr.configure(d2, O2, _2), Zr.addBox(d2, O2);
}, stop(d2) {
  Zr.removeBox(d2, d2.legend), delete d2.legend;
}, beforeUpdate(d2, g2, _2) {
  const O2 = d2.legend;
  Zr.configure(d2, O2, _2), O2.options = _2;
}, afterUpdate(d2) {
  const g2 = d2.legend;
  g2.buildLabels(), g2.adjustHitBoxes();
}, afterEvent(d2, g2) {
  g2.replay || d2.legend.handleEvent(g2.event);
}, defaults: { display: true, position: "top", align: "center", fullSize: true, reverse: false, weight: 1e3, onClick(d2, g2, _2) {
  const O2 = g2.datasetIndex, $2 = _2.chart;
  $2.isDatasetVisible(O2) ? ($2.hide(O2), g2.hidden = true) : ($2.show(O2), g2.hidden = false);
}, onHover: null, onLeave: null, labels: { color: (d2) => d2.chart.options.color, boxWidth: 40, padding: 10, generateLabels(d2) {
  const g2 = d2.data.datasets, { labels: { usePointStyle: _2, pointStyle: O2, textAlign: $2, color: st2, useBorderRadius: ot2, borderRadius: lt2 } } = d2.legend.options;
  return d2._getSortedDatasetMetas().map((d3) => {
    const ct2 = d3.controller.getStyle(_2 ? 0 : void 0), ut2 = toPadding(ct2.borderWidth);
    return { text: g2[d3.index].label, fillStyle: ct2.backgroundColor, fontColor: st2, hidden: !d3.visible, lineCap: ct2.borderCapStyle, lineDash: ct2.borderDash, lineDashOffset: ct2.borderDashOffset, lineJoin: ct2.borderJoinStyle, lineWidth: (ut2.width + ut2.height) / 4, strokeStyle: ct2.borderColor, pointStyle: O2 || ct2.pointStyle, rotation: ct2.rotation, textAlign: $2 || ct2.textAlign, borderRadius: ot2 && (lt2 || ct2.borderRadius), datasetIndex: d3.index };
  }, this);
} }, title: { color: (d2) => d2.chart.options.color, display: false, position: "center", text: "" } }, descriptors: { _scriptable: (d2) => !d2.startsWith("on"), labels: { _scriptable: (d2) => !["generateLabels", "filter", "sort"].includes(d2) } } };
class Title extends oo {
  constructor(d2) {
    super(), this.chart = d2.chart, this.options = d2.options, this.ctx = d2.ctx, this._padding = void 0, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.width = void 0, this.height = void 0, this.position = void 0, this.weight = void 0, this.fullSize = void 0;
  }
  update(d2, g2) {
    const _2 = this.options;
    if (this.left = 0, this.top = 0, !_2.display) return void (this.width = this.height = this.right = this.bottom = 0);
    this.width = this.right = d2, this.height = this.bottom = g2;
    const O2 = isArray$1(_2.text) ? _2.text.length : 1;
    this._padding = toPadding(_2.padding);
    const $2 = O2 * toFont(_2.font).lineHeight + this._padding.height;
    this.isHorizontal() ? this.height = $2 : this.width = $2;
  }
  isHorizontal() {
    const d2 = this.options.position;
    return "top" === d2 || "bottom" === d2;
  }
  _drawArgs(d2) {
    const { top: g2, left: _2, bottom: O2, right: $2, options: st2 } = this, ot2 = st2.align;
    let lt2, ct2, ut2, gt2 = 0;
    return this.isHorizontal() ? (ct2 = _alignStartEnd(ot2, _2, $2), ut2 = g2 + d2, lt2 = $2 - _2) : ("left" === st2.position ? (ct2 = _2 + d2, ut2 = _alignStartEnd(ot2, O2, g2), gt2 = -0.5 * yr) : (ct2 = $2 - d2, ut2 = _alignStartEnd(ot2, g2, O2), gt2 = 0.5 * yr), lt2 = O2 - g2), { titleX: ct2, titleY: ut2, maxWidth: lt2, rotation: gt2 };
  }
  draw() {
    const d2 = this.ctx, g2 = this.options;
    if (!g2.display) return;
    const _2 = toFont(g2.font), O2 = _2.lineHeight / 2 + this._padding.top, { titleX: $2, titleY: st2, maxWidth: ot2, rotation: lt2 } = this._drawArgs(O2);
    renderText(d2, g2.text, 0, 0, _2, { color: g2.color, maxWidth: ot2, rotation: lt2, textAlign: _toLeftRightCenter(g2.align), textBaseline: "middle", translation: [$2, st2] });
  }
}
var wo = { id: "title", _element: Title, start(d2, g2, _2) {
  !function createTitle(d3, g3) {
    const _3 = new Title({ ctx: d3.ctx, options: g3, chart: d3 });
    Zr.configure(d3, _3, g3), Zr.addBox(d3, _3), d3.titleBlock = _3;
  }(d2, _2);
}, stop(d2) {
  const g2 = d2.titleBlock;
  Zr.removeBox(d2, g2), delete d2.titleBlock;
}, beforeUpdate(d2, g2, _2) {
  const O2 = d2.titleBlock;
  Zr.configure(d2, O2, _2), O2.options = _2;
}, defaults: { align: "center", display: false, font: { weight: "bold" }, fullSize: true, padding: 10, position: "top", text: "", weight: 2e3 }, defaultRoutes: { color: "color" }, descriptors: { _scriptable: true, _indexable: false } };
const xo = /* @__PURE__ */ new WeakMap();
var To = { id: "subtitle", start(d2, g2, _2) {
  const O2 = new Title({ ctx: d2.ctx, options: _2, chart: d2 });
  Zr.configure(d2, O2, _2), Zr.addBox(d2, O2), xo.set(d2, O2);
}, stop(d2) {
  Zr.removeBox(d2, xo.get(d2)), xo.delete(d2);
}, beforeUpdate(d2, g2, _2) {
  const O2 = xo.get(d2);
  Zr.configure(d2, O2, _2), O2.options = _2;
}, defaults: { align: "center", display: false, font: { weight: "normal" }, fullSize: true, padding: 0, position: "top", text: "", weight: 1500 }, defaultRoutes: { color: "color" }, descriptors: { _scriptable: true, _indexable: false } };
const Eo = { average(d2) {
  if (!d2.length) return false;
  let g2, _2, O2 = /* @__PURE__ */ new Set(), $2 = 0, st2 = 0;
  for (g2 = 0, _2 = d2.length; g2 < _2; ++g2) {
    const _3 = d2[g2].element;
    if (_3 && _3.hasValue()) {
      const d3 = _3.tooltipPosition();
      O2.add(d3.x), $2 += d3.y, ++st2;
    }
  }
  const ot2 = [...O2].reduce((d3, g3) => d3 + g3) / O2.size;
  return { x: ot2, y: $2 / st2 };
}, nearest(d2, g2) {
  if (!d2.length) return false;
  let _2, O2, $2, st2 = g2.x, ot2 = g2.y, lt2 = Number.POSITIVE_INFINITY;
  for (_2 = 0, O2 = d2.length; _2 < O2; ++_2) {
    const O3 = d2[_2].element;
    if (O3 && O3.hasValue()) {
      const d3 = distanceBetweenPoints(g2, O3.getCenterPoint());
      d3 < lt2 && (lt2 = d3, $2 = O3);
    }
  }
  if ($2) {
    const d3 = $2.tooltipPosition();
    st2 = d3.x, ot2 = d3.y;
  }
  return { x: st2, y: ot2 };
} };
function pushOrConcat(d2, g2) {
  return g2 && (isArray$1(g2) ? Array.prototype.push.apply(d2, g2) : d2.push(g2)), d2;
}
function splitNewlines(d2) {
  return ("string" == typeof d2 || d2 instanceof String) && d2.indexOf("\n") > -1 ? d2.split("\n") : d2;
}
function createTooltipItem(d2, g2) {
  const { element: _2, datasetIndex: O2, index: $2 } = g2, st2 = d2.getDatasetMeta(O2).controller, { label: ot2, value: lt2 } = st2.getLabelAndValue($2);
  return { chart: d2, label: ot2, parsed: st2.getParsed($2), raw: d2.data.datasets[O2].data[$2], formattedValue: lt2, dataset: st2.getDataset(), dataIndex: $2, datasetIndex: O2, element: _2 };
}
function getTooltipSize(d2, g2) {
  const _2 = d2.chart.ctx, { body: O2, footer: $2, title: st2 } = d2, { boxWidth: ot2, boxHeight: lt2 } = g2, ct2 = toFont(g2.bodyFont), ut2 = toFont(g2.titleFont), gt2 = toFont(g2.footerFont), mt2 = st2.length, bt2 = $2.length, yt2 = O2.length, wt2 = toPadding(g2.padding);
  let Pt2 = wt2.height, At2 = 0, St2 = O2.reduce((d3, g3) => d3 + g3.before.length + g3.lines.length + g3.after.length, 0);
  if (St2 += d2.beforeBody.length + d2.afterBody.length, mt2 && (Pt2 += mt2 * ut2.lineHeight + (mt2 - 1) * g2.titleSpacing + g2.titleMarginBottom), St2) {
    Pt2 += yt2 * (g2.displayColors ? Math.max(lt2, ct2.lineHeight) : ct2.lineHeight) + (St2 - yt2) * ct2.lineHeight + (St2 - 1) * g2.bodySpacing;
  }
  bt2 && (Pt2 += g2.footerMarginTop + bt2 * gt2.lineHeight + (bt2 - 1) * g2.footerSpacing);
  let Mt2 = 0;
  const maxLineWidth = function(d3) {
    At2 = Math.max(At2, _2.measureText(d3).width + Mt2);
  };
  return _2.save(), _2.font = ut2.string, each(d2.title, maxLineWidth), _2.font = ct2.string, each(d2.beforeBody.concat(d2.afterBody), maxLineWidth), Mt2 = g2.displayColors ? ot2 + 2 + g2.boxPadding : 0, each(O2, (d3) => {
    each(d3.before, maxLineWidth), each(d3.lines, maxLineWidth), each(d3.after, maxLineWidth);
  }), Mt2 = 0, _2.font = gt2.string, each(d2.footer, maxLineWidth), _2.restore(), At2 += wt2.width, { width: At2, height: Pt2 };
}
function determineXAlign(d2, g2, _2, O2) {
  const { x: $2, width: st2 } = _2, { width: ot2, chartArea: { left: lt2, right: ct2 } } = d2;
  let ut2 = "center";
  return "center" === O2 ? ut2 = $2 <= (lt2 + ct2) / 2 ? "left" : "right" : $2 <= st2 / 2 ? ut2 = "left" : $2 >= ot2 - st2 / 2 && (ut2 = "right"), function doesNotFitWithAlign(d3, g3, _3, O3) {
    const { x: $3, width: st3 } = O3, ot3 = _3.caretSize + _3.caretPadding;
    return "left" === d3 && $3 + st3 + ot3 > g3.width || "right" === d3 && $3 - st3 - ot3 < 0 || void 0;
  }(ut2, d2, g2, _2) && (ut2 = "center"), ut2;
}
function determineAlignment(d2, g2, _2) {
  const O2 = _2.yAlign || g2.yAlign || function determineYAlign(d3, g3) {
    const { y: _3, height: O3 } = g3;
    return _3 < O3 / 2 ? "top" : _3 > d3.height - O3 / 2 ? "bottom" : "center";
  }(d2, _2);
  return { xAlign: _2.xAlign || g2.xAlign || determineXAlign(d2, g2, _2, O2), yAlign: O2 };
}
function getBackgroundPoint(d2, g2, _2, O2) {
  const { caretSize: $2, caretPadding: st2, cornerRadius: ot2 } = d2, { xAlign: lt2, yAlign: ct2 } = _2, ut2 = $2 + st2, { topLeft: gt2, topRight: mt2, bottomLeft: bt2, bottomRight: yt2 } = toTRBLCorners(ot2);
  let wt2 = function alignX(d3, g3) {
    let { x: _3, width: O3 } = d3;
    return "right" === g3 ? _3 -= O3 : "center" === g3 && (_3 -= O3 / 2), _3;
  }(g2, lt2);
  const Pt2 = function alignY(d3, g3, _3) {
    let { y: O3, height: $3 } = d3;
    return "top" === g3 ? O3 += _3 : O3 -= "bottom" === g3 ? $3 + _3 : $3 / 2, O3;
  }(g2, ct2, ut2);
  return "center" === ct2 ? "left" === lt2 ? wt2 += ut2 : "right" === lt2 && (wt2 -= ut2) : "left" === lt2 ? wt2 -= Math.max(gt2, bt2) + $2 : "right" === lt2 && (wt2 += Math.max(mt2, yt2) + $2), { x: _limitValue(wt2, 0, O2.width - g2.width), y: _limitValue(Pt2, 0, O2.height - g2.height) };
}
function getAlignedX(d2, g2, _2) {
  const O2 = toPadding(_2.padding);
  return "center" === g2 ? d2.x + d2.width / 2 : "right" === g2 ? d2.x + d2.width - O2.right : d2.x + O2.left;
}
function getBeforeAfterBodyLines(d2) {
  return pushOrConcat([], splitNewlines(d2));
}
function overrideCallbacks(d2, g2) {
  const _2 = g2 && g2.dataset && g2.dataset.tooltip && g2.dataset.tooltip.callbacks;
  return _2 ? d2.override(_2) : d2;
}
const Po = { beforeTitle: noop$1, title(d2) {
  if (d2.length > 0) {
    const g2 = d2[0], _2 = g2.chart.data.labels, O2 = _2 ? _2.length : 0;
    if (this && this.options && "dataset" === this.options.mode) return g2.dataset.label || "";
    if (g2.label) return g2.label;
    if (O2 > 0 && g2.dataIndex < O2) return _2[g2.dataIndex];
  }
  return "";
}, afterTitle: noop$1, beforeBody: noop$1, beforeLabel: noop$1, label(d2) {
  if (this && this.options && "dataset" === this.options.mode) return d2.label + ": " + d2.formattedValue || d2.formattedValue;
  let g2 = d2.dataset.label || "";
  g2 && (g2 += ": ");
  const _2 = d2.formattedValue;
  return isNullOrUndef(_2) || (g2 += _2), g2;
}, labelColor(d2) {
  const g2 = d2.chart.getDatasetMeta(d2.datasetIndex).controller.getStyle(d2.dataIndex);
  return { borderColor: g2.borderColor, backgroundColor: g2.backgroundColor, borderWidth: g2.borderWidth, borderDash: g2.borderDash, borderDashOffset: g2.borderDashOffset, borderRadius: 0 };
}, labelTextColor() {
  return this.options.bodyColor;
}, labelPointStyle(d2) {
  const g2 = d2.chart.getDatasetMeta(d2.datasetIndex).controller.getStyle(d2.dataIndex);
  return { pointStyle: g2.pointStyle, rotation: g2.rotation };
}, afterLabel: noop$1, afterBody: noop$1, beforeFooter: noop$1, footer: noop$1, afterFooter: noop$1 };
function invokeCallbackWithFallback(d2, g2, _2, O2) {
  const $2 = d2[g2].call(_2, O2);
  return void 0 === $2 ? Po[g2].call(_2, O2) : $2;
}
class Tooltip extends oo {
  constructor(d2) {
    super(), this.opacity = 0, this._active = [], this._eventPosition = void 0, this._size = void 0, this._cachedAnimations = void 0, this._tooltipItems = [], this.$animations = void 0, this.$context = void 0, this.chart = d2.chart, this.options = d2.options, this.dataPoints = void 0, this.title = void 0, this.beforeBody = void 0, this.body = void 0, this.afterBody = void 0, this.footer = void 0, this.xAlign = void 0, this.yAlign = void 0, this.x = void 0, this.y = void 0, this.height = void 0, this.width = void 0, this.caretX = void 0, this.caretY = void 0, this.labelColors = void 0, this.labelPointStyles = void 0, this.labelTextColors = void 0;
  }
  initialize(d2) {
    this.options = d2, this._cachedAnimations = void 0, this.$context = void 0;
  }
  _resolveAnimations() {
    const d2 = this._cachedAnimations;
    if (d2) return d2;
    const g2 = this.chart, _2 = this.options.setContext(this.getContext()), O2 = _2.enabled && g2.options.animation && _2.animations, $2 = new Animations(this.chart, O2);
    return O2._cacheable && (this._cachedAnimations = Object.freeze($2)), $2;
  }
  getContext() {
    return this.$context || (this.$context = function createTooltipContext(d2, g2, _2) {
      return createContext(d2, { tooltip: g2, tooltipItems: _2, type: "tooltip" });
    }(this.chart.getContext(), this, this._tooltipItems));
  }
  getTitle(d2, g2) {
    const { callbacks: _2 } = g2, O2 = invokeCallbackWithFallback(_2, "beforeTitle", this, d2), $2 = invokeCallbackWithFallback(_2, "title", this, d2), st2 = invokeCallbackWithFallback(_2, "afterTitle", this, d2);
    let ot2 = [];
    return ot2 = pushOrConcat(ot2, splitNewlines(O2)), ot2 = pushOrConcat(ot2, splitNewlines($2)), ot2 = pushOrConcat(ot2, splitNewlines(st2)), ot2;
  }
  getBeforeBody(d2, g2) {
    return getBeforeAfterBodyLines(invokeCallbackWithFallback(g2.callbacks, "beforeBody", this, d2));
  }
  getBody(d2, g2) {
    const { callbacks: _2 } = g2, O2 = [];
    return each(d2, (d3) => {
      const g3 = { before: [], lines: [], after: [] }, $2 = overrideCallbacks(_2, d3);
      pushOrConcat(g3.before, splitNewlines(invokeCallbackWithFallback($2, "beforeLabel", this, d3))), pushOrConcat(g3.lines, invokeCallbackWithFallback($2, "label", this, d3)), pushOrConcat(g3.after, splitNewlines(invokeCallbackWithFallback($2, "afterLabel", this, d3))), O2.push(g3);
    }), O2;
  }
  getAfterBody(d2, g2) {
    return getBeforeAfterBodyLines(invokeCallbackWithFallback(g2.callbacks, "afterBody", this, d2));
  }
  getFooter(d2, g2) {
    const { callbacks: _2 } = g2, O2 = invokeCallbackWithFallback(_2, "beforeFooter", this, d2), $2 = invokeCallbackWithFallback(_2, "footer", this, d2), st2 = invokeCallbackWithFallback(_2, "afterFooter", this, d2);
    let ot2 = [];
    return ot2 = pushOrConcat(ot2, splitNewlines(O2)), ot2 = pushOrConcat(ot2, splitNewlines($2)), ot2 = pushOrConcat(ot2, splitNewlines(st2)), ot2;
  }
  _createItems(d2) {
    const g2 = this._active, _2 = this.chart.data, O2 = [], $2 = [], st2 = [];
    let ot2, lt2, ct2 = [];
    for (ot2 = 0, lt2 = g2.length; ot2 < lt2; ++ot2) ct2.push(createTooltipItem(this.chart, g2[ot2]));
    return d2.filter && (ct2 = ct2.filter((g3, O3, $3) => d2.filter(g3, O3, $3, _2))), d2.itemSort && (ct2 = ct2.sort((g3, O3) => d2.itemSort(g3, O3, _2))), each(ct2, (g3) => {
      const _3 = overrideCallbacks(d2.callbacks, g3);
      O2.push(invokeCallbackWithFallback(_3, "labelColor", this, g3)), $2.push(invokeCallbackWithFallback(_3, "labelPointStyle", this, g3)), st2.push(invokeCallbackWithFallback(_3, "labelTextColor", this, g3));
    }), this.labelColors = O2, this.labelPointStyles = $2, this.labelTextColors = st2, this.dataPoints = ct2, ct2;
  }
  update(d2, g2) {
    const _2 = this.options.setContext(this.getContext()), O2 = this._active;
    let $2, st2 = [];
    if (O2.length) {
      const d3 = Eo[_2.position].call(this, O2, this._eventPosition);
      st2 = this._createItems(_2), this.title = this.getTitle(st2, _2), this.beforeBody = this.getBeforeBody(st2, _2), this.body = this.getBody(st2, _2), this.afterBody = this.getAfterBody(st2, _2), this.footer = this.getFooter(st2, _2);
      const g3 = this._size = getTooltipSize(this, _2), ot2 = Object.assign({}, d3, g3), lt2 = determineAlignment(this.chart, _2, ot2), ct2 = getBackgroundPoint(_2, ot2, lt2, this.chart);
      this.xAlign = lt2.xAlign, this.yAlign = lt2.yAlign, $2 = { opacity: 1, x: ct2.x, y: ct2.y, width: g3.width, height: g3.height, caretX: d3.x, caretY: d3.y };
    } else 0 !== this.opacity && ($2 = { opacity: 0 });
    this._tooltipItems = st2, this.$context = void 0, $2 && this._resolveAnimations().update(this, $2), d2 && _2.external && _2.external.call(this, { chart: this.chart, tooltip: this, replay: g2 });
  }
  drawCaret(d2, g2, _2, O2) {
    const $2 = this.getCaretPosition(d2, _2, O2);
    g2.lineTo($2.x1, $2.y1), g2.lineTo($2.x2, $2.y2), g2.lineTo($2.x3, $2.y3);
  }
  getCaretPosition(d2, g2, _2) {
    const { xAlign: O2, yAlign: $2 } = this, { caretSize: st2, cornerRadius: ot2 } = _2, { topLeft: lt2, topRight: ct2, bottomLeft: ut2, bottomRight: gt2 } = toTRBLCorners(ot2), { x: mt2, y: bt2 } = d2, { width: yt2, height: wt2 } = g2;
    let Pt2, At2, St2, Mt2, Vt2, Ot2;
    return "center" === $2 ? (Vt2 = bt2 + wt2 / 2, "left" === O2 ? (Pt2 = mt2, At2 = Pt2 - st2, Mt2 = Vt2 + st2, Ot2 = Vt2 - st2) : (Pt2 = mt2 + yt2, At2 = Pt2 + st2, Mt2 = Vt2 - st2, Ot2 = Vt2 + st2), St2 = Pt2) : (At2 = "left" === O2 ? mt2 + Math.max(lt2, ut2) + st2 : "right" === O2 ? mt2 + yt2 - Math.max(ct2, gt2) - st2 : this.caretX, "top" === $2 ? (Mt2 = bt2, Vt2 = Mt2 - st2, Pt2 = At2 - st2, St2 = At2 + st2) : (Mt2 = bt2 + wt2, Vt2 = Mt2 + st2, Pt2 = At2 + st2, St2 = At2 - st2), Ot2 = Mt2), { x1: Pt2, x2: At2, x3: St2, y1: Mt2, y2: Vt2, y3: Ot2 };
  }
  drawTitle(d2, g2, _2) {
    const O2 = this.title, $2 = O2.length;
    let st2, ot2, lt2;
    if ($2) {
      const ct2 = getRtlAdapter(_2.rtl, this.x, this.width);
      for (d2.x = getAlignedX(this, _2.titleAlign, _2), g2.textAlign = ct2.textAlign(_2.titleAlign), g2.textBaseline = "middle", st2 = toFont(_2.titleFont), ot2 = _2.titleSpacing, g2.fillStyle = _2.titleColor, g2.font = st2.string, lt2 = 0; lt2 < $2; ++lt2) g2.fillText(O2[lt2], ct2.x(d2.x), d2.y + st2.lineHeight / 2), d2.y += st2.lineHeight + ot2, lt2 + 1 === $2 && (d2.y += _2.titleMarginBottom - ot2);
    }
  }
  _drawColorBox(d2, g2, _2, O2, $2) {
    const st2 = this.labelColors[_2], ot2 = this.labelPointStyles[_2], { boxHeight: lt2, boxWidth: ct2 } = $2, ut2 = toFont($2.bodyFont), gt2 = getAlignedX(this, "left", $2), mt2 = O2.x(gt2), bt2 = lt2 < ut2.lineHeight ? (ut2.lineHeight - lt2) / 2 : 0, yt2 = g2.y + bt2;
    if ($2.usePointStyle) {
      const g3 = { radius: Math.min(ct2, lt2) / 2, pointStyle: ot2.pointStyle, rotation: ot2.rotation, borderWidth: 1 }, _3 = O2.leftForLtr(mt2, ct2) + ct2 / 2, ut3 = yt2 + lt2 / 2;
      d2.strokeStyle = $2.multiKeyBackground, d2.fillStyle = $2.multiKeyBackground, drawPoint(d2, g3, _3, ut3), d2.strokeStyle = st2.borderColor, d2.fillStyle = st2.backgroundColor, drawPoint(d2, g3, _3, ut3);
    } else {
      d2.lineWidth = isObject$1(st2.borderWidth) ? Math.max(...Object.values(st2.borderWidth)) : st2.borderWidth || 1, d2.strokeStyle = st2.borderColor, d2.setLineDash(st2.borderDash || []), d2.lineDashOffset = st2.borderDashOffset || 0;
      const g3 = O2.leftForLtr(mt2, ct2), _3 = O2.leftForLtr(O2.xPlus(mt2, 1), ct2 - 2), ot3 = toTRBLCorners(st2.borderRadius);
      Object.values(ot3).some((d3) => 0 !== d3) ? (d2.beginPath(), d2.fillStyle = $2.multiKeyBackground, addRoundedRectPath(d2, { x: g3, y: yt2, w: ct2, h: lt2, radius: ot3 }), d2.fill(), d2.stroke(), d2.fillStyle = st2.backgroundColor, d2.beginPath(), addRoundedRectPath(d2, { x: _3, y: yt2 + 1, w: ct2 - 2, h: lt2 - 2, radius: ot3 }), d2.fill()) : (d2.fillStyle = $2.multiKeyBackground, d2.fillRect(g3, yt2, ct2, lt2), d2.strokeRect(g3, yt2, ct2, lt2), d2.fillStyle = st2.backgroundColor, d2.fillRect(_3, yt2 + 1, ct2 - 2, lt2 - 2));
    }
    d2.fillStyle = this.labelTextColors[_2];
  }
  drawBody(d2, g2, _2) {
    const { body: O2 } = this, { bodySpacing: $2, bodyAlign: st2, displayColors: ot2, boxHeight: lt2, boxWidth: ct2, boxPadding: ut2 } = _2, gt2 = toFont(_2.bodyFont);
    let mt2 = gt2.lineHeight, bt2 = 0;
    const yt2 = getRtlAdapter(_2.rtl, this.x, this.width), fillLineOfText = function(_3) {
      g2.fillText(_3, yt2.x(d2.x + bt2), d2.y + mt2 / 2), d2.y += mt2 + $2;
    }, wt2 = yt2.textAlign(st2);
    let Pt2, At2, St2, Mt2, Vt2, Ot2, zt2;
    for (g2.textAlign = st2, g2.textBaseline = "middle", g2.font = gt2.string, d2.x = getAlignedX(this, wt2, _2), g2.fillStyle = _2.bodyColor, each(this.beforeBody, fillLineOfText), bt2 = ot2 && "right" !== wt2 ? "center" === st2 ? ct2 / 2 + ut2 : ct2 + 2 + ut2 : 0, Mt2 = 0, Ot2 = O2.length; Mt2 < Ot2; ++Mt2) {
      for (Pt2 = O2[Mt2], At2 = this.labelTextColors[Mt2], g2.fillStyle = At2, each(Pt2.before, fillLineOfText), St2 = Pt2.lines, ot2 && St2.length && (this._drawColorBox(g2, d2, Mt2, yt2, _2), mt2 = Math.max(gt2.lineHeight, lt2)), Vt2 = 0, zt2 = St2.length; Vt2 < zt2; ++Vt2) fillLineOfText(St2[Vt2]), mt2 = gt2.lineHeight;
      each(Pt2.after, fillLineOfText);
    }
    bt2 = 0, mt2 = gt2.lineHeight, each(this.afterBody, fillLineOfText), d2.y -= $2;
  }
  drawFooter(d2, g2, _2) {
    const O2 = this.footer, $2 = O2.length;
    let st2, ot2;
    if ($2) {
      const lt2 = getRtlAdapter(_2.rtl, this.x, this.width);
      for (d2.x = getAlignedX(this, _2.footerAlign, _2), d2.y += _2.footerMarginTop, g2.textAlign = lt2.textAlign(_2.footerAlign), g2.textBaseline = "middle", st2 = toFont(_2.footerFont), g2.fillStyle = _2.footerColor, g2.font = st2.string, ot2 = 0; ot2 < $2; ++ot2) g2.fillText(O2[ot2], lt2.x(d2.x), d2.y + st2.lineHeight / 2), d2.y += st2.lineHeight + _2.footerSpacing;
    }
  }
  drawBackground(d2, g2, _2, O2) {
    const { xAlign: $2, yAlign: st2 } = this, { x: ot2, y: lt2 } = d2, { width: ct2, height: ut2 } = _2, { topLeft: gt2, topRight: mt2, bottomLeft: bt2, bottomRight: yt2 } = toTRBLCorners(O2.cornerRadius);
    g2.fillStyle = O2.backgroundColor, g2.strokeStyle = O2.borderColor, g2.lineWidth = O2.borderWidth, g2.beginPath(), g2.moveTo(ot2 + gt2, lt2), "top" === st2 && this.drawCaret(d2, g2, _2, O2), g2.lineTo(ot2 + ct2 - mt2, lt2), g2.quadraticCurveTo(ot2 + ct2, lt2, ot2 + ct2, lt2 + mt2), "center" === st2 && "right" === $2 && this.drawCaret(d2, g2, _2, O2), g2.lineTo(ot2 + ct2, lt2 + ut2 - yt2), g2.quadraticCurveTo(ot2 + ct2, lt2 + ut2, ot2 + ct2 - yt2, lt2 + ut2), "bottom" === st2 && this.drawCaret(d2, g2, _2, O2), g2.lineTo(ot2 + bt2, lt2 + ut2), g2.quadraticCurveTo(ot2, lt2 + ut2, ot2, lt2 + ut2 - bt2), "center" === st2 && "left" === $2 && this.drawCaret(d2, g2, _2, O2), g2.lineTo(ot2, lt2 + gt2), g2.quadraticCurveTo(ot2, lt2, ot2 + gt2, lt2), g2.closePath(), g2.fill(), O2.borderWidth > 0 && g2.stroke();
  }
  _updateAnimationTarget(d2) {
    const g2 = this.chart, _2 = this.$animations, O2 = _2 && _2.x, $2 = _2 && _2.y;
    if (O2 || $2) {
      const _3 = Eo[d2.position].call(this, this._active, this._eventPosition);
      if (!_3) return;
      const st2 = this._size = getTooltipSize(this, d2), ot2 = Object.assign({}, _3, this._size), lt2 = determineAlignment(g2, d2, ot2), ct2 = getBackgroundPoint(d2, ot2, lt2, g2);
      O2._to === ct2.x && $2._to === ct2.y || (this.xAlign = lt2.xAlign, this.yAlign = lt2.yAlign, this.width = st2.width, this.height = st2.height, this.caretX = _3.x, this.caretY = _3.y, this._resolveAnimations().update(this, ct2));
    }
  }
  _willRender() {
    return !!this.opacity;
  }
  draw(d2) {
    const g2 = this.options.setContext(this.getContext());
    let _2 = this.opacity;
    if (!_2) return;
    this._updateAnimationTarget(g2);
    const O2 = { width: this.width, height: this.height }, $2 = { x: this.x, y: this.y };
    _2 = Math.abs(_2) < 1e-3 ? 0 : _2;
    const st2 = toPadding(g2.padding), ot2 = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;
    g2.enabled && ot2 && (d2.save(), d2.globalAlpha = _2, this.drawBackground($2, d2, O2, g2), overrideTextDirection(d2, g2.textDirection), $2.y += st2.top, this.drawTitle($2, d2, g2), this.drawBody($2, d2, g2), this.drawFooter($2, d2, g2), restoreTextDirection(d2, g2.textDirection), d2.restore());
  }
  getActiveElements() {
    return this._active || [];
  }
  setActiveElements(d2, g2) {
    const _2 = this._active, O2 = d2.map(({ datasetIndex: d3, index: g3 }) => {
      const _3 = this.chart.getDatasetMeta(d3);
      if (!_3) throw new Error("Cannot find a dataset at index " + d3);
      return { datasetIndex: d3, element: _3.data[g3], index: g3 };
    }), $2 = !_elementsEqual(_2, O2), st2 = this._positionChanged(O2, g2);
    ($2 || st2) && (this._active = O2, this._eventPosition = g2, this._ignoreReplayEvents = true, this.update(true));
  }
  handleEvent(d2, g2, _2 = true) {
    if (g2 && this._ignoreReplayEvents) return false;
    this._ignoreReplayEvents = false;
    const O2 = this.options, $2 = this._active || [], st2 = this._getActiveElements(d2, $2, g2, _2), ot2 = this._positionChanged(st2, d2), lt2 = g2 || !_elementsEqual(st2, $2) || ot2;
    return lt2 && (this._active = st2, (O2.enabled || O2.external) && (this._eventPosition = { x: d2.x, y: d2.y }, this.update(true, g2))), lt2;
  }
  _getActiveElements(d2, g2, _2, O2) {
    const $2 = this.options;
    if ("mouseout" === d2.type) return [];
    if (!O2) return g2.filter((d3) => this.chart.data.datasets[d3.datasetIndex] && void 0 !== this.chart.getDatasetMeta(d3.datasetIndex).controller.getParsed(d3.index));
    const st2 = this.chart.getElementsAtEventForMode(d2, $2.mode, $2, _2);
    return $2.reverse && st2.reverse(), st2;
  }
  _positionChanged(d2, g2) {
    const { caretX: _2, caretY: O2, options: $2 } = this, st2 = Eo[$2.position].call(this, d2, g2);
    return false !== st2 && (_2 !== st2.x || O2 !== st2.y);
  }
}
__publicField(Tooltip, "positioners", Eo);
var Io = { id: "tooltip", _element: Tooltip, positioners: Eo, afterInit(d2, g2, _2) {
  _2 && (d2.tooltip = new Tooltip({ chart: d2, options: _2 }));
}, beforeUpdate(d2, g2, _2) {
  d2.tooltip && d2.tooltip.initialize(_2);
}, reset(d2, g2, _2) {
  d2.tooltip && d2.tooltip.initialize(_2);
}, afterDraw(d2) {
  const g2 = d2.tooltip;
  if (g2 && g2._willRender()) {
    const _2 = { tooltip: g2 };
    if (false === d2.notifyPlugins("beforeTooltipDraw", { ..._2, cancelable: true })) return;
    g2.draw(d2.ctx), d2.notifyPlugins("afterTooltipDraw", _2);
  }
}, afterEvent(d2, g2) {
  if (d2.tooltip) {
    const _2 = g2.replay;
    d2.tooltip.handleEvent(g2.event, _2, g2.inChartArea) && (g2.changed = true);
  }
}, defaults: { enabled: true, external: null, position: "average", backgroundColor: "rgba(0,0,0,0.8)", titleColor: "#fff", titleFont: { weight: "bold" }, titleSpacing: 2, titleMarginBottom: 6, titleAlign: "left", bodyColor: "#fff", bodySpacing: 2, bodyFont: {}, bodyAlign: "left", footerColor: "#fff", footerSpacing: 2, footerMarginTop: 6, footerFont: { weight: "bold" }, footerAlign: "left", padding: 6, caretPadding: 2, caretSize: 5, cornerRadius: 6, boxHeight: (d2, g2) => g2.bodyFont.size, boxWidth: (d2, g2) => g2.bodyFont.size, multiKeyBackground: "#fff", displayColors: true, boxPadding: 0, borderColor: "rgba(0,0,0,0)", borderWidth: 0, animation: { duration: 400, easing: "easeOutQuart" }, animations: { numbers: { type: "number", properties: ["x", "y", "width", "height", "caretX", "caretY"] }, opacity: { easing: "linear", duration: 200 } }, callbacks: Po }, defaultRoutes: { bodyFont: "font", footerFont: "font", titleFont: "font" }, descriptors: { _scriptable: (d2) => "filter" !== d2 && "itemSort" !== d2 && "external" !== d2, _indexable: false, callbacks: { _scriptable: false, _indexable: false }, animation: { _fallback: false }, animations: { _fallback: "animation" } }, additionalOptionScopes: ["interaction"] }, Ao = Object.freeze({ __proto__: null, Colors: mo, Decimation: vo, Filler: bo, Legend: yo, SubTitle: To, Title: wo, Tooltip: Io });
function findOrAddLabel(d2, g2, _2, O2) {
  const $2 = d2.indexOf(g2);
  if (-1 === $2) return ((d3, g3, _3, O3) => ("string" == typeof g3 ? (_3 = d3.push(g3) - 1, O3.unshift({ index: _3, label: g3 })) : isNaN(g3) && (_3 = null), _3))(d2, g2, _2, O2);
  return $2 !== d2.lastIndexOf(g2) ? _2 : $2;
}
function _getLabelForValue(d2) {
  const g2 = this.getLabels();
  return d2 >= 0 && d2 < g2.length ? g2[d2] : d2;
}
class CategoryScale extends Scale {
  constructor(d2) {
    super(d2), this._startValue = void 0, this._valueRange = 0, this._addedLabels = [];
  }
  init(d2) {
    const g2 = this._addedLabels;
    if (g2.length) {
      const d3 = this.getLabels();
      for (const { index: _2, label: O2 } of g2) d3[_2] === O2 && d3.splice(_2, 1);
      this._addedLabels = [];
    }
    super.init(d2);
  }
  parse(d2, g2) {
    if (isNullOrUndef(d2)) return null;
    const _2 = this.getLabels();
    return ((d3, g3) => null === d3 ? null : _limitValue(Math.round(d3), 0, g3))(g2 = isFinite(g2) && _2[g2] === d2 ? g2 : findOrAddLabel(_2, d2, valueOrDefault(g2, d2), this._addedLabels), _2.length - 1);
  }
  determineDataLimits() {
    const { minDefined: d2, maxDefined: g2 } = this.getUserBounds();
    let { min: _2, max: O2 } = this.getMinMax(true);
    "ticks" === this.options.bounds && (d2 || (_2 = 0), g2 || (O2 = this.getLabels().length - 1)), this.min = _2, this.max = O2;
  }
  buildTicks() {
    const d2 = this.min, g2 = this.max, _2 = this.options.offset, O2 = [];
    let $2 = this.getLabels();
    $2 = 0 === d2 && g2 === $2.length - 1 ? $2 : $2.slice(d2, g2 + 1), this._valueRange = Math.max($2.length - (_2 ? 0 : 1), 1), this._startValue = this.min - (_2 ? 0.5 : 0);
    for (let _3 = d2; _3 <= g2; _3++) O2.push({ value: _3 });
    return O2;
  }
  getLabelForValue(d2) {
    return _getLabelForValue.call(this, d2);
  }
  configure() {
    super.configure(), this.isHorizontal() || (this._reversePixels = !this._reversePixels);
  }
  getPixelForValue(d2) {
    return "number" != typeof d2 && (d2 = this.parse(d2)), null === d2 ? NaN : this.getPixelForDecimal((d2 - this._startValue) / this._valueRange);
  }
  getPixelForTick(d2) {
    const g2 = this.ticks;
    return d2 < 0 || d2 > g2.length - 1 ? null : this.getPixelForValue(g2[d2].value);
  }
  getValueForPixel(d2) {
    return Math.round(this._startValue + this.getDecimalForPixel(d2) * this._valueRange);
  }
  getBasePixel() {
    return this.bottom;
  }
}
__publicField(CategoryScale, "id", "category");
__publicField(CategoryScale, "defaults", { ticks: { callback: _getLabelForValue } });
function generateTicks$1(d2, g2) {
  const _2 = [], { bounds: O2, step: $2, min: st2, max: ot2, precision: lt2, count: ct2, maxTicks: ut2, maxDigits: gt2, includeBounds: mt2 } = d2, bt2 = $2 || 1, yt2 = ut2 - 1, { min: wt2, max: Pt2 } = g2, At2 = !isNullOrUndef(st2), St2 = !isNullOrUndef(ot2), Mt2 = !isNullOrUndef(ct2), Vt2 = (Pt2 - wt2) / (gt2 + 1);
  let Ot2, zt2, Bt2, Zt2, ce2 = niceNum((Pt2 - wt2) / yt2 / bt2) * bt2;
  if (ce2 < 1e-14 && !At2 && !St2) return [{ value: wt2 }, { value: Pt2 }];
  Zt2 = Math.ceil(Pt2 / ce2) - Math.floor(wt2 / ce2), Zt2 > yt2 && (ce2 = niceNum(Zt2 * ce2 / yt2 / bt2) * bt2), isNullOrUndef(lt2) || (Ot2 = Math.pow(10, lt2), ce2 = Math.ceil(ce2 * Ot2) / Ot2), "ticks" === O2 ? (zt2 = Math.floor(wt2 / ce2) * ce2, Bt2 = Math.ceil(Pt2 / ce2) * ce2) : (zt2 = wt2, Bt2 = Pt2), At2 && St2 && $2 && function almostWhole(d3, g3) {
    const _3 = Math.round(d3);
    return _3 - g3 <= d3 && _3 + g3 >= d3;
  }((ot2 - st2) / $2, ce2 / 1e3) ? (Zt2 = Math.round(Math.min((ot2 - st2) / ce2, ut2)), ce2 = (ot2 - st2) / Zt2, zt2 = st2, Bt2 = ot2) : Mt2 ? (zt2 = At2 ? st2 : zt2, Bt2 = St2 ? ot2 : Bt2, Zt2 = ct2 - 1, ce2 = (Bt2 - zt2) / Zt2) : (Zt2 = (Bt2 - zt2) / ce2, Zt2 = almostEquals(Zt2, Math.round(Zt2), ce2 / 1e3) ? Math.round(Zt2) : Math.ceil(Zt2));
  const ue2 = Math.max(_decimalPlaces(ce2), _decimalPlaces(zt2));
  Ot2 = Math.pow(10, isNullOrUndef(lt2) ? ue2 : lt2), zt2 = Math.round(zt2 * Ot2) / Ot2, Bt2 = Math.round(Bt2 * Ot2) / Ot2;
  let de2 = 0;
  for (At2 && (mt2 && zt2 !== st2 ? (_2.push({ value: st2 }), zt2 < st2 && de2++, almostEquals(Math.round((zt2 + de2 * ce2) * Ot2) / Ot2, st2, relativeLabelSize(st2, Vt2, d2)) && de2++) : zt2 < st2 && de2++); de2 < Zt2; ++de2) {
    const d3 = Math.round((zt2 + de2 * ce2) * Ot2) / Ot2;
    if (St2 && d3 > ot2) break;
    _2.push({ value: d3 });
  }
  return St2 && mt2 && Bt2 !== ot2 ? _2.length && almostEquals(_2[_2.length - 1].value, ot2, relativeLabelSize(ot2, Vt2, d2)) ? _2[_2.length - 1].value = ot2 : _2.push({ value: ot2 }) : St2 && Bt2 !== ot2 || _2.push({ value: Bt2 }), _2;
}
function relativeLabelSize(d2, g2, { horizontal: _2, minRotation: O2 }) {
  const $2 = toRadians(O2), st2 = (_2 ? Math.sin($2) : Math.cos($2)) || 1e-3, ot2 = 0.75 * g2 * ("" + d2).length;
  return Math.min(g2 / st2, ot2);
}
class LinearScaleBase extends Scale {
  constructor(d2) {
    super(d2), this.start = void 0, this.end = void 0, this._startValue = void 0, this._endValue = void 0, this._valueRange = 0;
  }
  parse(d2, g2) {
    return isNullOrUndef(d2) || ("number" == typeof d2 || d2 instanceof Number) && !isFinite(+d2) ? null : +d2;
  }
  handleTickRangeOptions() {
    const { beginAtZero: d2 } = this.options, { minDefined: g2, maxDefined: _2 } = this.getUserBounds();
    let { min: O2, max: $2 } = this;
    const setMin = (d3) => O2 = g2 ? O2 : d3, setMax = (d3) => $2 = _2 ? $2 : d3;
    if (d2) {
      const d3 = kr(O2), g3 = kr($2);
      d3 < 0 && g3 < 0 ? setMax(0) : d3 > 0 && g3 > 0 && setMin(0);
    }
    if (O2 === $2) {
      let g3 = 0 === $2 ? 1 : Math.abs(0.05 * $2);
      setMax($2 + g3), d2 || setMin(O2 - g3);
    }
    this.min = O2, this.max = $2;
  }
  getTickLimit() {
    const d2 = this.options.ticks;
    let g2, { maxTicksLimit: _2, stepSize: O2 } = d2;
    return O2 ? (g2 = Math.ceil(this.max / O2) - Math.floor(this.min / O2) + 1, g2 > 1e3 && (console.warn(`scales.${this.id}.ticks.stepSize: ${O2} would result generating up to ${g2} ticks. Limiting to 1000.`), g2 = 1e3)) : (g2 = this.computeTickLimit(), _2 = _2 || 11), _2 && (g2 = Math.min(_2, g2)), g2;
  }
  computeTickLimit() {
    return Number.POSITIVE_INFINITY;
  }
  buildTicks() {
    const d2 = this.options, g2 = d2.ticks;
    let _2 = this.getTickLimit();
    _2 = Math.max(2, _2);
    const O2 = generateTicks$1({ maxTicks: _2, bounds: d2.bounds, min: d2.min, max: d2.max, precision: g2.precision, step: g2.stepSize, count: g2.count, maxDigits: this._maxDigits(), horizontal: this.isHorizontal(), minRotation: g2.minRotation || 0, includeBounds: false !== g2.includeBounds }, this._range || this);
    return "ticks" === d2.bounds && _setMinAndMaxByKey(O2, this, "value"), d2.reverse ? (O2.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), O2;
  }
  configure() {
    const d2 = this.ticks;
    let g2 = this.min, _2 = this.max;
    if (super.configure(), this.options.offset && d2.length) {
      const O2 = (_2 - g2) / Math.max(d2.length - 1, 1) / 2;
      g2 -= O2, _2 += O2;
    }
    this._startValue = g2, this._endValue = _2, this._valueRange = _2 - g2;
  }
  getLabelForValue(d2) {
    return formatNumber(d2, this.chart.options.locale, this.options.ticks.format);
  }
}
class LinearScale extends LinearScaleBase {
  determineDataLimits() {
    const { min: d2, max: g2 } = this.getMinMax(true);
    this.min = isNumberFinite(d2) ? d2 : 0, this.max = isNumberFinite(g2) ? g2 : 1, this.handleTickRangeOptions();
  }
  computeTickLimit() {
    const d2 = this.isHorizontal(), g2 = d2 ? this.width : this.height, _2 = toRadians(this.options.ticks.minRotation), O2 = (d2 ? Math.sin(_2) : Math.cos(_2)) || 1e-3, $2 = this._resolveTickFontOptions(0);
    return Math.ceil(g2 / Math.min(40, $2.lineHeight / O2));
  }
  getPixelForValue(d2) {
    return null === d2 ? NaN : this.getPixelForDecimal((d2 - this._startValue) / this._valueRange);
  }
  getValueForPixel(d2) {
    return this._startValue + this.getDecimalForPixel(d2) * this._valueRange;
  }
}
__publicField(LinearScale, "id", "linear");
__publicField(LinearScale, "defaults", { ticks: { callback: Nr.formatters.numeric } });
const log10Floor = (d2) => Math.floor(Rr(d2)), changeExponent = (d2, g2) => Math.pow(10, log10Floor(d2) + g2);
function isMajor(d2) {
  return 1 === d2 / Math.pow(10, log10Floor(d2));
}
function steps(d2, g2, _2) {
  const O2 = Math.pow(10, _2), $2 = Math.floor(d2 / O2);
  return Math.ceil(g2 / O2) - $2;
}
function generateTicks(d2, { min: g2, max: _2 }) {
  g2 = finiteOrDefault(d2.min, g2);
  const O2 = [], $2 = log10Floor(g2);
  let st2 = function startExp(d3, g3) {
    let _3 = log10Floor(g3 - d3);
    for (; steps(d3, g3, _3) > 10; ) _3++;
    for (; steps(d3, g3, _3) < 10; ) _3--;
    return Math.min(_3, log10Floor(d3));
  }(g2, _2), ot2 = st2 < 0 ? Math.pow(10, Math.abs(st2)) : 1;
  const lt2 = Math.pow(10, st2), ct2 = $2 > st2 ? Math.pow(10, $2) : 0, ut2 = Math.round((g2 - ct2) * ot2) / ot2, gt2 = Math.floor((g2 - ct2) / lt2 / 10) * lt2 * 10;
  let mt2 = Math.floor((ut2 - gt2) / Math.pow(10, st2)), bt2 = finiteOrDefault(d2.min, Math.round((ct2 + gt2 + mt2 * Math.pow(10, st2)) * ot2) / ot2);
  for (; bt2 < _2; ) O2.push({ value: bt2, major: isMajor(bt2), significand: mt2 }), mt2 >= 10 ? mt2 = mt2 < 15 ? 15 : 20 : mt2++, mt2 >= 20 && (st2++, mt2 = 2, ot2 = st2 >= 0 ? 1 : ot2), bt2 = Math.round((ct2 + gt2 + mt2 * Math.pow(10, st2)) * ot2) / ot2;
  const yt2 = finiteOrDefault(d2.max, bt2);
  return O2.push({ value: yt2, major: isMajor(yt2), significand: mt2 }), O2;
}
class LogarithmicScale extends Scale {
  constructor(d2) {
    super(d2), this.start = void 0, this.end = void 0, this._startValue = void 0, this._valueRange = 0;
  }
  parse(d2, g2) {
    const _2 = LinearScaleBase.prototype.parse.apply(this, [d2, g2]);
    if (0 !== _2) return isNumberFinite(_2) && _2 > 0 ? _2 : null;
    this._zero = true;
  }
  determineDataLimits() {
    const { min: d2, max: g2 } = this.getMinMax(true);
    this.min = isNumberFinite(d2) ? Math.max(0, d2) : null, this.max = isNumberFinite(g2) ? Math.max(0, g2) : null, this.options.beginAtZero && (this._zero = true), this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin) && (this.min = d2 === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0)), this.handleTickRangeOptions();
  }
  handleTickRangeOptions() {
    const { minDefined: d2, maxDefined: g2 } = this.getUserBounds();
    let _2 = this.min, O2 = this.max;
    const setMin = (g3) => _2 = d2 ? _2 : g3, setMax = (d3) => O2 = g2 ? O2 : d3;
    _2 === O2 && (_2 <= 0 ? (setMin(1), setMax(10)) : (setMin(changeExponent(_2, -1)), setMax(changeExponent(O2, 1)))), _2 <= 0 && setMin(changeExponent(O2, -1)), O2 <= 0 && setMax(changeExponent(_2, 1)), this.min = _2, this.max = O2;
  }
  buildTicks() {
    const d2 = this.options, g2 = generateTicks({ min: this._userMin, max: this._userMax }, this);
    return "ticks" === d2.bounds && _setMinAndMaxByKey(g2, this, "value"), d2.reverse ? (g2.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), g2;
  }
  getLabelForValue(d2) {
    return void 0 === d2 ? "0" : formatNumber(d2, this.chart.options.locale, this.options.ticks.format);
  }
  configure() {
    const d2 = this.min;
    super.configure(), this._startValue = Rr(d2), this._valueRange = Rr(this.max) - Rr(d2);
  }
  getPixelForValue(d2) {
    return void 0 !== d2 && 0 !== d2 || (d2 = this.min), null === d2 || isNaN(d2) ? NaN : this.getPixelForDecimal(d2 === this.min ? 0 : (Rr(d2) - this._startValue) / this._valueRange);
  }
  getValueForPixel(d2) {
    const g2 = this.getDecimalForPixel(d2);
    return Math.pow(10, this._startValue + g2 * this._valueRange);
  }
}
__publicField(LogarithmicScale, "id", "logarithmic");
__publicField(LogarithmicScale, "defaults", { ticks: { callback: Nr.formatters.logarithmic, major: { enabled: true } } });
function getTickBackdropHeight(d2) {
  const g2 = d2.ticks;
  if (g2.display && d2.display) {
    const d3 = toPadding(g2.backdropPadding);
    return valueOrDefault(g2.font && g2.font.size, zr.font.size) + d3.height;
  }
  return 0;
}
function determineLimits(d2, g2, _2, O2, $2) {
  return d2 === O2 || d2 === $2 ? { start: g2 - _2 / 2, end: g2 + _2 / 2 } : d2 < O2 || d2 > $2 ? { start: g2 - _2, end: g2 } : { start: g2, end: g2 + _2 };
}
function fitWithPointLabels(d2) {
  const g2 = { l: d2.left + d2._padding.left, r: d2.right - d2._padding.right, t: d2.top + d2._padding.top, b: d2.bottom - d2._padding.bottom }, _2 = Object.assign({}, g2), O2 = [], $2 = [], st2 = d2._pointLabels.length, ot2 = d2.options.pointLabels, lt2 = ot2.centerPointLabels ? yr / st2 : 0;
  for (let mt2 = 0; mt2 < st2; mt2++) {
    const st3 = ot2.setContext(d2.getPointLabelContext(mt2));
    $2[mt2] = st3.padding;
    const bt2 = d2.getPointPosition(mt2, d2.drawingArea + $2[mt2], lt2), yt2 = toFont(st3.font), wt2 = (ct2 = d2.ctx, ut2 = yt2, gt2 = isArray$1(gt2 = d2._pointLabels[mt2]) ? gt2 : [gt2], { w: _longestText(ct2, ut2.string, gt2), h: gt2.length * ut2.lineHeight });
    O2[mt2] = wt2;
    const Pt2 = _normalizeAngle(d2.getIndexAngle(mt2) + lt2), At2 = Math.round(toDegrees(Pt2));
    updateLimits(_2, g2, Pt2, determineLimits(At2, bt2.x, wt2.w, 0, 180), determineLimits(At2, bt2.y, wt2.h, 90, 270));
  }
  var ct2, ut2, gt2;
  d2.setCenterPoint(g2.l - _2.l, _2.r - g2.r, g2.t - _2.t, _2.b - g2.b), d2._pointLabelItems = function buildPointLabelItems(d3, g3, _3) {
    const O3 = [], $3 = d3._pointLabels.length, st3 = d3.options, { centerPointLabels: ot3, display: lt3 } = st3.pointLabels, ct3 = { extra: getTickBackdropHeight(st3) / 2, additionalAngle: ot3 ? yr / $3 : 0 };
    let ut3;
    for (let st4 = 0; st4 < $3; st4++) {
      ct3.padding = _3[st4], ct3.size = g3[st4];
      const $4 = createPointLabelItem(d3, st4, ct3);
      O3.push($4), "auto" === lt3 && ($4.visible = isNotOverlapped($4, ut3), $4.visible && (ut3 = $4));
    }
    return O3;
  }(d2, O2, $2);
}
function updateLimits(d2, g2, _2, O2, $2) {
  const st2 = Math.abs(Math.sin(_2)), ot2 = Math.abs(Math.cos(_2));
  let lt2 = 0, ct2 = 0;
  O2.start < g2.l ? (lt2 = (g2.l - O2.start) / st2, d2.l = Math.min(d2.l, g2.l - lt2)) : O2.end > g2.r && (lt2 = (O2.end - g2.r) / st2, d2.r = Math.max(d2.r, g2.r + lt2)), $2.start < g2.t ? (ct2 = (g2.t - $2.start) / ot2, d2.t = Math.min(d2.t, g2.t - ct2)) : $2.end > g2.b && (ct2 = ($2.end - g2.b) / ot2, d2.b = Math.max(d2.b, g2.b + ct2));
}
function createPointLabelItem(d2, g2, _2) {
  const O2 = d2.drawingArea, { extra: $2, additionalAngle: st2, padding: ot2, size: lt2 } = _2, ct2 = d2.getPointPosition(g2, O2 + $2 + ot2, st2), ut2 = Math.round(toDegrees(_normalizeAngle(ct2.angle + Pr))), gt2 = function yForAngle(d3, g3, _3) {
    90 === _3 || 270 === _3 ? d3 -= g3 / 2 : (_3 > 270 || _3 < 90) && (d3 -= g3);
    return d3;
  }(ct2.y, lt2.h, ut2), mt2 = function getTextAlignForAngle(d3) {
    if (0 === d3 || 180 === d3) return "center";
    if (d3 < 180) return "left";
    return "right";
  }(ut2), bt2 = function leftForTextAlign(d3, g3, _3) {
    "right" === _3 ? d3 -= g3 : "center" === _3 && (d3 -= g3 / 2);
    return d3;
  }(ct2.x, lt2.w, mt2);
  return { visible: true, x: ct2.x, y: gt2, textAlign: mt2, left: bt2, top: gt2, right: bt2 + lt2.w, bottom: gt2 + lt2.h };
}
function isNotOverlapped(d2, g2) {
  if (!g2) return true;
  const { left: _2, top: O2, right: $2, bottom: st2 } = d2;
  return !(_isPointInArea({ x: _2, y: O2 }, g2) || _isPointInArea({ x: _2, y: st2 }, g2) || _isPointInArea({ x: $2, y: O2 }, g2) || _isPointInArea({ x: $2, y: st2 }, g2));
}
function drawPointLabelBox(d2, g2, _2) {
  const { left: O2, top: $2, right: st2, bottom: ot2 } = _2, { backdropColor: lt2 } = g2;
  if (!isNullOrUndef(lt2)) {
    const _3 = toTRBLCorners(g2.borderRadius), ct2 = toPadding(g2.backdropPadding);
    d2.fillStyle = lt2;
    const ut2 = O2 - ct2.left, gt2 = $2 - ct2.top, mt2 = st2 - O2 + ct2.width, bt2 = ot2 - $2 + ct2.height;
    Object.values(_3).some((d3) => 0 !== d3) ? (d2.beginPath(), addRoundedRectPath(d2, { x: ut2, y: gt2, w: mt2, h: bt2, radius: _3 }), d2.fill()) : d2.fillRect(ut2, gt2, mt2, bt2);
  }
}
function pathRadiusLine(d2, g2, _2, O2) {
  const { ctx: $2 } = d2;
  if (_2) $2.arc(d2.xCenter, d2.yCenter, g2, 0, wr);
  else {
    let _3 = d2.getPointPosition(0, g2);
    $2.moveTo(_3.x, _3.y);
    for (let st2 = 1; st2 < O2; st2++) _3 = d2.getPointPosition(st2, g2), $2.lineTo(_3.x, _3.y);
  }
}
class RadialLinearScale extends LinearScaleBase {
  constructor(d2) {
    super(d2), this.xCenter = void 0, this.yCenter = void 0, this.drawingArea = void 0, this._pointLabels = [], this._pointLabelItems = [];
  }
  setDimensions() {
    const d2 = this._padding = toPadding(getTickBackdropHeight(this.options) / 2), g2 = this.width = this.maxWidth - d2.width, _2 = this.height = this.maxHeight - d2.height;
    this.xCenter = Math.floor(this.left + g2 / 2 + d2.left), this.yCenter = Math.floor(this.top + _2 / 2 + d2.top), this.drawingArea = Math.floor(Math.min(g2, _2) / 2);
  }
  determineDataLimits() {
    const { min: d2, max: g2 } = this.getMinMax(false);
    this.min = isNumberFinite(d2) && !isNaN(d2) ? d2 : 0, this.max = isNumberFinite(g2) && !isNaN(g2) ? g2 : 0, this.handleTickRangeOptions();
  }
  computeTickLimit() {
    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));
  }
  generateTickLabels(d2) {
    LinearScaleBase.prototype.generateTickLabels.call(this, d2), this._pointLabels = this.getLabels().map((d3, g2) => {
      const _2 = callback(this.options.pointLabels.callback, [d3, g2], this);
      return _2 || 0 === _2 ? _2 : "";
    }).filter((d3, g2) => this.chart.getDataVisibility(g2));
  }
  fit() {
    const d2 = this.options;
    d2.display && d2.pointLabels.display ? fitWithPointLabels(this) : this.setCenterPoint(0, 0, 0, 0);
  }
  setCenterPoint(d2, g2, _2, O2) {
    this.xCenter += Math.floor((d2 - g2) / 2), this.yCenter += Math.floor((_2 - O2) / 2), this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(d2, g2, _2, O2));
  }
  getIndexAngle(d2) {
    return _normalizeAngle(d2 * (wr / (this._pointLabels.length || 1)) + toRadians(this.options.startAngle || 0));
  }
  getDistanceFromCenterForValue(d2) {
    if (isNullOrUndef(d2)) return NaN;
    const g2 = this.drawingArea / (this.max - this.min);
    return this.options.reverse ? (this.max - d2) * g2 : (d2 - this.min) * g2;
  }
  getValueForDistanceFromCenter(d2) {
    if (isNullOrUndef(d2)) return NaN;
    const g2 = d2 / (this.drawingArea / (this.max - this.min));
    return this.options.reverse ? this.max - g2 : this.min + g2;
  }
  getPointLabelContext(d2) {
    const g2 = this._pointLabels || [];
    if (d2 >= 0 && d2 < g2.length) {
      const _2 = g2[d2];
      return function createPointLabelContext(d3, g3, _3) {
        return createContext(d3, { label: _3, index: g3, type: "pointLabel" });
      }(this.getContext(), d2, _2);
    }
  }
  getPointPosition(d2, g2, _2 = 0) {
    const O2 = this.getIndexAngle(d2) - Pr + _2;
    return { x: Math.cos(O2) * g2 + this.xCenter, y: Math.sin(O2) * g2 + this.yCenter, angle: O2 };
  }
  getPointPositionForValue(d2, g2) {
    return this.getPointPosition(d2, this.getDistanceFromCenterForValue(g2));
  }
  getBasePosition(d2) {
    return this.getPointPositionForValue(d2 || 0, this.getBaseValue());
  }
  getPointLabelPosition(d2) {
    const { left: g2, top: _2, right: O2, bottom: $2 } = this._pointLabelItems[d2];
    return { left: g2, top: _2, right: O2, bottom: $2 };
  }
  drawBackground() {
    const { backgroundColor: d2, grid: { circular: g2 } } = this.options;
    if (d2) {
      const _2 = this.ctx;
      _2.save(), _2.beginPath(), pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), g2, this._pointLabels.length), _2.closePath(), _2.fillStyle = d2, _2.fill(), _2.restore();
    }
  }
  drawGrid() {
    const d2 = this.ctx, g2 = this.options, { angleLines: _2, grid: O2, border: $2 } = g2, st2 = this._pointLabels.length;
    let ot2, lt2, ct2;
    if (g2.pointLabels.display && function drawPointLabels(d3, g3) {
      const { ctx: _3, options: { pointLabels: O3 } } = d3;
      for (let $3 = g3 - 1; $3 >= 0; $3--) {
        const g4 = d3._pointLabelItems[$3];
        if (!g4.visible) continue;
        const st3 = O3.setContext(d3.getPointLabelContext($3));
        drawPointLabelBox(_3, st3, g4);
        const ot3 = toFont(st3.font), { x: lt3, y: ct3, textAlign: ut2 } = g4;
        renderText(_3, d3._pointLabels[$3], lt3, ct3 + ot3.lineHeight / 2, ot3, { color: st3.color, textAlign: ut2, textBaseline: "middle" });
      }
    }(this, st2), O2.display && this.ticks.forEach((d3, g3) => {
      if (0 !== g3 || 0 === g3 && this.min < 0) {
        lt2 = this.getDistanceFromCenterForValue(d3.value);
        const _3 = this.getContext(g3), ot3 = O2.setContext(_3), ct3 = $2.setContext(_3);
        !function drawRadiusLine(d4, g4, _4, O3, $3) {
          const st3 = d4.ctx, ot4 = g4.circular, { color: lt3, lineWidth: ct4 } = g4;
          !ot4 && !O3 || !lt3 || !ct4 || _4 < 0 || (st3.save(), st3.strokeStyle = lt3, st3.lineWidth = ct4, st3.setLineDash($3.dash), st3.lineDashOffset = $3.dashOffset, st3.beginPath(), pathRadiusLine(d4, _4, ot4, O3), st3.closePath(), st3.stroke(), st3.restore());
        }(this, ot3, lt2, st2, ct3);
      }
    }), _2.display) {
      for (d2.save(), ot2 = st2 - 1; ot2 >= 0; ot2--) {
        const O3 = _2.setContext(this.getPointLabelContext(ot2)), { color: $3, lineWidth: st3 } = O3;
        st3 && $3 && (d2.lineWidth = st3, d2.strokeStyle = $3, d2.setLineDash(O3.borderDash), d2.lineDashOffset = O3.borderDashOffset, lt2 = this.getDistanceFromCenterForValue(g2.ticks.reverse ? this.min : this.max), ct2 = this.getPointPosition(ot2, lt2), d2.beginPath(), d2.moveTo(this.xCenter, this.yCenter), d2.lineTo(ct2.x, ct2.y), d2.stroke());
      }
      d2.restore();
    }
  }
  drawBorder() {
  }
  drawLabels() {
    const d2 = this.ctx, g2 = this.options, _2 = g2.ticks;
    if (!_2.display) return;
    const O2 = this.getIndexAngle(0);
    let $2, st2;
    d2.save(), d2.translate(this.xCenter, this.yCenter), d2.rotate(O2), d2.textAlign = "center", d2.textBaseline = "middle", this.ticks.forEach((O3, ot2) => {
      if (0 === ot2 && this.min >= 0 && !g2.reverse) return;
      const lt2 = _2.setContext(this.getContext(ot2)), ct2 = toFont(lt2.font);
      if ($2 = this.getDistanceFromCenterForValue(this.ticks[ot2].value), lt2.showLabelBackdrop) {
        d2.font = ct2.string, st2 = d2.measureText(O3.label).width, d2.fillStyle = lt2.backdropColor;
        const g3 = toPadding(lt2.backdropPadding);
        d2.fillRect(-st2 / 2 - g3.left, -$2 - ct2.size / 2 - g3.top, st2 + g3.width, ct2.size + g3.height);
      }
      renderText(d2, O3.label, 0, -$2, ct2, { color: lt2.color, strokeColor: lt2.textStrokeColor, strokeWidth: lt2.textStrokeWidth });
    }), d2.restore();
  }
  drawTitle() {
  }
}
__publicField(RadialLinearScale, "id", "radialLinear");
__publicField(RadialLinearScale, "defaults", { display: true, animate: true, position: "chartArea", angleLines: { display: true, lineWidth: 1, borderDash: [], borderDashOffset: 0 }, grid: { circular: false }, startAngle: 0, ticks: { showLabelBackdrop: true, callback: Nr.formatters.numeric }, pointLabels: { backdropColor: void 0, backdropPadding: 2, display: true, font: { size: 10 }, callback: (d2) => d2, padding: 5, centerPointLabels: false } });
__publicField(RadialLinearScale, "defaultRoutes", { "angleLines.color": "borderColor", "pointLabels.color": "color", "ticks.color": "color" });
__publicField(RadialLinearScale, "descriptors", { angleLines: { _fallback: "grid" } });
const Ro = { millisecond: { common: true, size: 1, steps: 1e3 }, second: { common: true, size: 1e3, steps: 60 }, minute: { common: true, size: 6e4, steps: 60 }, hour: { common: true, size: 36e5, steps: 24 }, day: { common: true, size: 864e5, steps: 30 }, week: { common: false, size: 6048e5, steps: 4 }, month: { common: true, size: 2628e6, steps: 12 }, quarter: { common: false, size: 7884e6, steps: 4 }, year: { common: true, size: 3154e7 } }, ko = Object.keys(Ro);
function sorter(d2, g2) {
  return d2 - g2;
}
function parse(d2, g2) {
  if (isNullOrUndef(g2)) return null;
  const _2 = d2._adapter, { parser: O2, round: $2, isoWeekday: st2 } = d2._parseOpts;
  let ot2 = g2;
  return "function" == typeof O2 && (ot2 = O2(ot2)), isNumberFinite(ot2) || (ot2 = "string" == typeof O2 ? _2.parse(ot2, O2) : _2.parse(ot2)), null === ot2 ? null : ($2 && (ot2 = "week" !== $2 || !isNumber(st2) && true !== st2 ? _2.startOf(ot2, $2) : _2.startOf(ot2, "isoWeek", st2)), +ot2);
}
function determineUnitForAutoTicks(d2, g2, _2, O2) {
  const $2 = ko.length;
  for (let st2 = ko.indexOf(d2); st2 < $2 - 1; ++st2) {
    const d3 = Ro[ko[st2]], $3 = d3.steps ? d3.steps : Number.MAX_SAFE_INTEGER;
    if (d3.common && Math.ceil((_2 - g2) / ($3 * d3.size)) <= O2) return ko[st2];
  }
  return ko[$2 - 1];
}
function addTick(d2, g2, _2) {
  if (_2) {
    if (_2.length) {
      const { lo: O2, hi: $2 } = _lookup(_2, g2);
      d2[_2[O2] >= g2 ? _2[O2] : _2[$2]] = true;
    }
  } else d2[g2] = true;
}
function ticksFromTimestamps(d2, g2, _2) {
  const O2 = [], $2 = {}, st2 = g2.length;
  let ot2, lt2;
  for (ot2 = 0; ot2 < st2; ++ot2) lt2 = g2[ot2], $2[lt2] = ot2, O2.push({ value: lt2, major: false });
  return 0 !== st2 && _2 ? function setMajorTicks(d3, g3, _3, O3) {
    const $3 = d3._adapter, st3 = +$3.startOf(g3[0].value, O3), ot3 = g3[g3.length - 1].value;
    let lt3, ct2;
    for (lt3 = st3; lt3 <= ot3; lt3 = +$3.add(lt3, 1, O3)) ct2 = _3[lt3], ct2 >= 0 && (g3[ct2].major = true);
    return g3;
  }(d2, O2, $2, _2) : O2;
}
class TimeScale extends Scale {
  constructor(d2) {
    super(d2), this._cache = { data: [], labels: [], all: [] }, this._unit = "day", this._majorUnit = void 0, this._offsets = {}, this._normalized = false, this._parseOpts = void 0;
  }
  init(d2, g2 = {}) {
    const _2 = d2.time || (d2.time = {}), O2 = this._adapter = new Qr(d2.adapters.date);
    O2.init(g2), mergeIf(_2.displayFormats, O2.formats()), this._parseOpts = { parser: _2.parser, round: _2.round, isoWeekday: _2.isoWeekday }, super.init(d2), this._normalized = g2.normalized;
  }
  parse(d2, g2) {
    return void 0 === d2 ? null : parse(this, d2);
  }
  beforeLayout() {
    super.beforeLayout(), this._cache = { data: [], labels: [], all: [] };
  }
  determineDataLimits() {
    const d2 = this.options, g2 = this._adapter, _2 = d2.time.unit || "day";
    let { min: O2, max: $2, minDefined: st2, maxDefined: ot2 } = this.getUserBounds();
    function _applyBounds(d3) {
      st2 || isNaN(d3.min) || (O2 = Math.min(O2, d3.min)), ot2 || isNaN(d3.max) || ($2 = Math.max($2, d3.max));
    }
    st2 && ot2 || (_applyBounds(this._getLabelBounds()), "ticks" === d2.bounds && "labels" === d2.ticks.source || _applyBounds(this.getMinMax(false))), O2 = isNumberFinite(O2) && !isNaN(O2) ? O2 : +g2.startOf(Date.now(), _2), $2 = isNumberFinite($2) && !isNaN($2) ? $2 : +g2.endOf(Date.now(), _2) + 1, this.min = Math.min(O2, $2 - 1), this.max = Math.max(O2 + 1, $2);
  }
  _getLabelBounds() {
    const d2 = this.getLabelTimestamps();
    let g2 = Number.POSITIVE_INFINITY, _2 = Number.NEGATIVE_INFINITY;
    return d2.length && (g2 = d2[0], _2 = d2[d2.length - 1]), { min: g2, max: _2 };
  }
  buildTicks() {
    const d2 = this.options, g2 = d2.time, _2 = d2.ticks, O2 = "labels" === _2.source ? this.getLabelTimestamps() : this._generate();
    "ticks" === d2.bounds && O2.length && (this.min = this._userMin || O2[0], this.max = this._userMax || O2[O2.length - 1]);
    const $2 = this.min, st2 = function _filterBetween(d3, g3, _3) {
      let O3 = 0, $3 = d3.length;
      for (; O3 < $3 && d3[O3] < g3; ) O3++;
      for (; $3 > O3 && d3[$3 - 1] > _3; ) $3--;
      return O3 > 0 || $3 < d3.length ? d3.slice(O3, $3) : d3;
    }(O2, $2, this.max);
    return this._unit = g2.unit || (_2.autoSkip ? determineUnitForAutoTicks(g2.minUnit, this.min, this.max, this._getLabelCapacity($2)) : function determineUnitForFormatting(d3, g3, _3, O3, $3) {
      for (let st3 = ko.length - 1; st3 >= ko.indexOf(_3); st3--) {
        const _4 = ko[st3];
        if (Ro[_4].common && d3._adapter.diff($3, O3, _4) >= g3 - 1) return _4;
      }
      return ko[_3 ? ko.indexOf(_3) : 0];
    }(this, st2.length, g2.minUnit, this.min, this.max)), this._majorUnit = _2.major.enabled && "year" !== this._unit ? function determineMajorUnit(d3) {
      for (let g3 = ko.indexOf(d3) + 1, _3 = ko.length; g3 < _3; ++g3) if (Ro[ko[g3]].common) return ko[g3];
    }(this._unit) : void 0, this.initOffsets(O2), d2.reverse && st2.reverse(), ticksFromTimestamps(this, st2, this._majorUnit);
  }
  afterAutoSkip() {
    this.options.offsetAfterAutoskip && this.initOffsets(this.ticks.map((d2) => +d2.value));
  }
  initOffsets(d2 = []) {
    let g2, _2, O2 = 0, $2 = 0;
    this.options.offset && d2.length && (g2 = this.getDecimalForValue(d2[0]), O2 = 1 === d2.length ? 1 - g2 : (this.getDecimalForValue(d2[1]) - g2) / 2, _2 = this.getDecimalForValue(d2[d2.length - 1]), $2 = 1 === d2.length ? _2 : (_2 - this.getDecimalForValue(d2[d2.length - 2])) / 2);
    const st2 = d2.length < 3 ? 0.5 : 0.25;
    O2 = _limitValue(O2, 0, st2), $2 = _limitValue($2, 0, st2), this._offsets = { start: O2, end: $2, factor: 1 / (O2 + 1 + $2) };
  }
  _generate() {
    const d2 = this._adapter, g2 = this.min, _2 = this.max, O2 = this.options, $2 = O2.time, st2 = $2.unit || determineUnitForAutoTicks($2.minUnit, g2, _2, this._getLabelCapacity(g2)), ot2 = valueOrDefault(O2.ticks.stepSize, 1), lt2 = "week" === st2 && $2.isoWeekday, ct2 = isNumber(lt2) || true === lt2, ut2 = {};
    let gt2, mt2, bt2 = g2;
    if (ct2 && (bt2 = +d2.startOf(bt2, "isoWeek", lt2)), bt2 = +d2.startOf(bt2, ct2 ? "day" : st2), d2.diff(_2, g2, st2) > 1e5 * ot2) throw new Error(g2 + " and " + _2 + " are too far apart with stepSize of " + ot2 + " " + st2);
    const yt2 = "data" === O2.ticks.source && this.getDataTimestamps();
    for (gt2 = bt2, mt2 = 0; gt2 < _2; gt2 = +d2.add(gt2, ot2, st2), mt2++) addTick(ut2, gt2, yt2);
    return gt2 !== _2 && "ticks" !== O2.bounds && 1 !== mt2 || addTick(ut2, gt2, yt2), Object.keys(ut2).sort(sorter).map((d3) => +d3);
  }
  getLabelForValue(d2) {
    const g2 = this._adapter, _2 = this.options.time;
    return _2.tooltipFormat ? g2.format(d2, _2.tooltipFormat) : g2.format(d2, _2.displayFormats.datetime);
  }
  format(d2, g2) {
    const _2 = this.options.time.displayFormats, O2 = this._unit, $2 = g2 || _2[O2];
    return this._adapter.format(d2, $2);
  }
  _tickFormatFunction(d2, g2, _2, O2) {
    const $2 = this.options, st2 = $2.ticks.callback;
    if (st2) return callback(st2, [d2, g2, _2], this);
    const ot2 = $2.time.displayFormats, lt2 = this._unit, ct2 = this._majorUnit, ut2 = lt2 && ot2[lt2], gt2 = ct2 && ot2[ct2], mt2 = _2[g2], bt2 = ct2 && gt2 && mt2 && mt2.major;
    return this._adapter.format(d2, O2 || (bt2 ? gt2 : ut2));
  }
  generateTickLabels(d2) {
    let g2, _2, O2;
    for (g2 = 0, _2 = d2.length; g2 < _2; ++g2) O2 = d2[g2], O2.label = this._tickFormatFunction(O2.value, g2, d2);
  }
  getDecimalForValue(d2) {
    return null === d2 ? NaN : (d2 - this.min) / (this.max - this.min);
  }
  getPixelForValue(d2) {
    const g2 = this._offsets, _2 = this.getDecimalForValue(d2);
    return this.getPixelForDecimal((g2.start + _2) * g2.factor);
  }
  getValueForPixel(d2) {
    const g2 = this._offsets, _2 = this.getDecimalForPixel(d2) / g2.factor - g2.end;
    return this.min + _2 * (this.max - this.min);
  }
  _getLabelSize(d2) {
    const g2 = this.options.ticks, _2 = this.ctx.measureText(d2).width, O2 = toRadians(this.isHorizontal() ? g2.maxRotation : g2.minRotation), $2 = Math.cos(O2), st2 = Math.sin(O2), ot2 = this._resolveTickFontOptions(0).size;
    return { w: _2 * $2 + ot2 * st2, h: _2 * st2 + ot2 * $2 };
  }
  _getLabelCapacity(d2) {
    const g2 = this.options.time, _2 = g2.displayFormats, O2 = _2[g2.unit] || _2.millisecond, $2 = this._tickFormatFunction(d2, 0, ticksFromTimestamps(this, [d2], this._majorUnit), O2), st2 = this._getLabelSize($2), ot2 = Math.floor(this.isHorizontal() ? this.width / st2.w : this.height / st2.h) - 1;
    return ot2 > 0 ? ot2 : 1;
  }
  getDataTimestamps() {
    let d2, g2, _2 = this._cache.data || [];
    if (_2.length) return _2;
    const O2 = this.getMatchingVisibleMetas();
    if (this._normalized && O2.length) return this._cache.data = O2[0].controller.getAllParsedValues(this);
    for (d2 = 0, g2 = O2.length; d2 < g2; ++d2) _2 = _2.concat(O2[d2].controller.getAllParsedValues(this));
    return this._cache.data = this.normalize(_2);
  }
  getLabelTimestamps() {
    const d2 = this._cache.labels || [];
    let g2, _2;
    if (d2.length) return d2;
    const O2 = this.getLabels();
    for (g2 = 0, _2 = O2.length; g2 < _2; ++g2) d2.push(parse(this, O2[g2]));
    return this._cache.labels = this._normalized ? d2 : this.normalize(d2);
  }
  normalize(d2) {
    return _arrayUnique(d2.sort(sorter));
  }
}
__publicField(TimeScale, "id", "time");
__publicField(TimeScale, "defaults", { bounds: "data", adapters: {}, time: { parser: false, unit: false, round: false, isoWeekday: false, minUnit: "millisecond", displayFormats: {} }, ticks: { source: "auto", callback: false, major: { enabled: false } } });
function interpolate(d2, g2, _2) {
  let O2, $2, st2, ot2, lt2 = 0, ct2 = d2.length - 1;
  _2 ? (g2 >= d2[lt2].pos && g2 <= d2[ct2].pos && ({ lo: lt2, hi: ct2 } = _lookupByKey(d2, "pos", g2)), { pos: O2, time: st2 } = d2[lt2], { pos: $2, time: ot2 } = d2[ct2]) : (g2 >= d2[lt2].time && g2 <= d2[ct2].time && ({ lo: lt2, hi: ct2 } = _lookupByKey(d2, "time", g2)), { time: O2, pos: st2 } = d2[lt2], { time: $2, pos: ot2 } = d2[ct2]);
  const ut2 = $2 - O2;
  return ut2 ? st2 + (ot2 - st2) * (g2 - O2) / ut2 : st2;
}
var So = Object.freeze({ __proto__: null, CategoryScale, LinearScale, LogarithmicScale, RadialLinearScale, TimeScale, TimeSeriesScale: (_e = class extends TimeScale {
  constructor(d2) {
    super(d2), this._table = [], this._minPos = void 0, this._tableRange = void 0;
  }
  initOffsets() {
    const d2 = this._getTimestampsForTable(), g2 = this._table = this.buildLookupTable(d2);
    this._minPos = interpolate(g2, this.min), this._tableRange = interpolate(g2, this.max) - this._minPos, super.initOffsets(d2);
  }
  buildLookupTable(d2) {
    const { min: g2, max: _2 } = this, O2 = [], $2 = [];
    let st2, ot2, lt2, ct2, ut2;
    for (st2 = 0, ot2 = d2.length; st2 < ot2; ++st2) ct2 = d2[st2], ct2 >= g2 && ct2 <= _2 && O2.push(ct2);
    if (O2.length < 2) return [{ time: g2, pos: 0 }, { time: _2, pos: 1 }];
    for (st2 = 0, ot2 = O2.length; st2 < ot2; ++st2) ut2 = O2[st2 + 1], lt2 = O2[st2 - 1], ct2 = O2[st2], Math.round((ut2 + lt2) / 2) !== ct2 && $2.push({ time: ct2, pos: st2 / (ot2 - 1) });
    return $2;
  }
  _generate() {
    const d2 = this.min, g2 = this.max;
    let _2 = super.getDataTimestamps();
    return _2.includes(d2) && _2.length || _2.splice(0, 0, d2), _2.includes(g2) && 1 !== _2.length || _2.push(g2), _2.sort((d3, g3) => d3 - g3);
  }
  _getTimestampsForTable() {
    let d2 = this._cache.all || [];
    if (d2.length) return d2;
    const g2 = this.getDataTimestamps(), _2 = this.getLabelTimestamps();
    return d2 = g2.length && _2.length ? this.normalize(g2.concat(_2)) : g2.length ? g2 : _2, d2 = this._cache.all = d2, d2;
  }
  getDecimalForValue(d2) {
    return (interpolate(this._table, d2) - this._minPos) / this._tableRange;
  }
  getValueForPixel(d2) {
    const g2 = this._offsets, _2 = this.getDecimalForPixel(d2) / g2.factor - g2.end;
    return interpolate(this._table, _2 * this._tableRange + this._minPos, true);
  }
}, __publicField(_e, "id", "timeseries"), __publicField(_e, "defaults", TimeScale.defaults), _e) });
const Co = [Yr, fo, Ao, So], Mo = ["en", "zh-tw"], Vo = "PARAGLIDE_LOCALE", Do = ["cookie", "baseLocale"];
globalThis.__paraglide = {};
let Oo = false, getLocale = () => {
  let d2;
  for (const g2 of Do) if ("cookie" === g2 ? d2 = extractLocaleFromCookie() : "baseLocale" === g2 && (d2 = "zh-tw"), void 0 !== d2) {
    const g3 = assertIsLocale(d2);
    return Oo || (Oo = true, setLocale(g3, { reload: false })), g3;
  }
  throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found");
}, setLocale = (d2, g2) => {
  const _2 = { reload: true, ...g2 };
  let O2;
  try {
    O2 = getLocale();
  } catch {
  }
  for (const g3 of Do) if ("cookie" === g3) {
    if ("undefined" == typeof document || "undefined" == typeof window) continue;
    const g4 = window.location.hostname;
    document.cookie = `${Vo}=${d2}; path=/; max-age=34560000; domain=${g4}`;
  } else if ("baseLocale" === g3) continue;
  _2.reload && window.location && d2 !== O2 && window.location.reload();
};
function isLocale(d2) {
  return !!d2 && Mo.includes(d2);
}
function assertIsLocale(d2) {
  if (false === isLocale(d2)) throw new Error(`Invalid locale: ${d2}. Expected one of: ${Mo.join(", ")}`);
  return d2;
}
function extractLocaleFromCookie() {
  if ("undefined" == typeof document || !document.cookie) return;
  const d2 = document.cookie.match(new RegExp(`(^| )${Vo}=([^;]+)`)), g2 = d2 == null ? void 0 : d2[2];
  return isLocale(g2) ? g2 : void 0;
}
const profitability_yearlyreturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? "Annual compensation" : "zh-tw" === _2 ? "年報酬" : "profitability_yearlyReturn";
}, zh_tw_title = () => "用科學，重新定義投資", Lo = zh_tw_title, title = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Lo() : "zh-tw" === _2 ? "用科學，重新定義投資" : "title";
}, zh_tw_subtitle = () => "數據為你導航，投資不再憑運氣！", No = zh_tw_subtitle, subtitle = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? No() : "zh-tw" === _2 ? "數據為你導航，投資不再憑運氣！" : "subtitle";
}, zh_tw_actionbutton1 = () => "開始使用", $o = zh_tw_actionbutton1, actionbutton1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? $o() : "zh-tw" === _2 ? "開始使用" : "actionButton";
}, zh_tw_strategy = () => "策略", Fo = zh_tw_strategy, strategy = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Fo() : "zh-tw" === _2 ? "策略" : "strategy";
}, zh_tw_benchmark = () => "大盤", zo = zh_tw_benchmark, benchmark = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? zo() : "zh-tw" === _2 ? "大盤" : "benchmark";
}, zh_tw_average = () => "平均", Bo = zh_tw_average, average = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Bo() : "zh-tw" === _2 ? "平均" : "average";
}, zh_tw_profitability_historicalreturn1 = () => "歷史績效", Uo = zh_tw_profitability_historicalreturn1, profitability_historicalreturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Uo() : "zh-tw" === _2 ? "歷史績效" : "profitability_historicalReturn";
}, zh_tw_profitability_stocklist1 = () => "持股報酬", Wo = zh_tw_profitability_stocklist1, profitability_stocklist1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Wo() : "zh-tw" === _2 ? "持股報酬" : "profitability_stockList";
}, zh_tw_profitability_monthlyreturn1 = () => "月報酬", jo = zh_tw_profitability_monthlyreturn1, profitability_monthlyreturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? jo() : "zh-tw" === _2 ? "月報酬" : "profitability_monthlyReturn";
}, zh_tw_profitability_monthlywinratio2 = () => "月勝率", qo = zh_tw_profitability_monthlywinratio2, profitability_monthlywinratio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? qo() : "zh-tw" === _2 ? "月勝率" : "profitability_monthlyWinRatio";
}, zh_tw_profitability_avgmonthlyreturn2 = () => "平均月報酬", Ho = zh_tw_profitability_avgmonthlyreturn2, profitability_avgmonthlyreturn2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ho() : "zh-tw" === _2 ? "平均月報酬" : "profitability_avgMonthlyReturn";
}, zh_tw_profitability_yearlycomparewithbenchmark4 = () => "與大盤年報酬比較", Ko = zh_tw_profitability_yearlycomparewithbenchmark4, profitability_yearlycomparewithbenchmark4 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ko() : "zh-tw" === _2 ? "與大盤年報酬比較" : "profitability_YearlyCompareWithBenchmark";
}, zh_tw_profitability_yearlywinrate2 = () => "贏大盤", Go = zh_tw_profitability_yearlywinrate2, profitability_yearlywinrate2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Go() : "zh-tw" === _2 ? "贏大盤" : "profitability_yearlyWinRate";
}, zh_tw_profitability_exceedreturn1 = () => "超額報酬", Yo = zh_tw_profitability_exceedreturn1, profitability_exceedreturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Yo() : "zh-tw" === _2 ? "超額報酬" : "profitability_exceedReturn";
}, zh_tw_risk_drawdownpercentage1 = () => "回檔幅度", Qo = zh_tw_risk_drawdownpercentage1, risk_drawdownpercentage1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Qo() : "zh-tw" === _2 ? "回檔幅度" : "risk_drawdownPercentage";
}, zh_tw_risk_drawdowperiods1 = () => "虧損歷史", Xo = zh_tw_risk_drawdowperiods1, risk_drawdowperiods1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Xo() : "zh-tw" === _2 ? "虧損歷史" : "risk_drawdowPeriods";
}, zh_tw_tabs_profitability = () => "獲利能力", Jo = zh_tw_tabs_profitability, tabs_profitability = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Jo() : "zh-tw" === _2 ? "獲利能力" : "tabs_profitability";
}, zh_tw_tabs_risk = () => "抗風險能力", Zo = zh_tw_tabs_risk, tabs_risk = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Zo() : "zh-tw" === _2 ? "抗風險能力" : "tabs_risk";
}, zh_tw_tabs_ratio = () => "風險報酬比", ta = zh_tw_tabs_ratio, tabs_ratio = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ta() : "zh-tw" === _2 ? "風險報酬比" : "tabs_ratio";
}, zh_tw_tabs_winrate = () => "勝率期望值", aa = zh_tw_tabs_winrate, tabs_winrate = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? aa() : "zh-tw" === _2 ? "勝率期望值" : "tabs_winrate";
}, zh_tw_tabs_liquidity = () => "交易流動性", ca = zh_tw_tabs_liquidity, tabs_liquidity = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ca() : "zh-tw" === _2 ? "交易流動性" : "tabs_liquidity";
}, zh_tw_metrics_backtest_startdate1 = () => "開始日期", pa = zh_tw_metrics_backtest_startdate1, metrics_backtest_startdate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? pa() : "zh-tw" === _2 ? "開始日期" : "metrics_backtest_startDate";
}, zh_tw_metrics_backtest_enddate1 = () => "結束日期", fa = zh_tw_metrics_backtest_enddate1, metrics_backtest_enddate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? fa() : "zh-tw" === _2 ? "結束日期" : "metrics_backtest_endDate";
}, zh_tw_metrics_backtest_version = () => "版本", ga = zh_tw_metrics_backtest_version, metrics_backtest_version = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ga() : "zh-tw" === _2 ? "版本" : "metrics_backtest_version";
}, zh_tw_metrics_backtest_feeratio1 = () => "費用比率", _a2 = zh_tw_metrics_backtest_feeratio1, metrics_backtest_feeratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? _a2() : "zh-tw" === _2 ? "費用比率" : "metrics_backtest_feeRatio";
}, zh_tw_metrics_backtest_taxratio1 = () => "稅收比率", ya = zh_tw_metrics_backtest_taxratio1, metrics_backtest_taxratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ya() : "zh-tw" === _2 ? "稅收比率" : "metrics_backtest_taxRatio";
}, zh_tw_metrics_backtest_tradeat1 = () => "交易於（收盤或開盤）", Pa = zh_tw_metrics_backtest_tradeat1, metrics_backtest_tradeat1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Pa() : "zh-tw" === _2 ? "交易於（收盤或開盤）" : "metrics_backtest_tradeAt";
}, zh_tw_metrics_backtest_market = () => "市場", Ra = zh_tw_metrics_backtest_market, metrics_backtest_market = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ra() : "zh-tw" === _2 ? "市場" : "metrics_backtest_market";
}, zh_tw_metrics_backtest_freq = () => "頻率", Oa = zh_tw_metrics_backtest_freq, metrics_backtest_freq = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Oa() : "zh-tw" === _2 ? "頻率" : "metrics_backtest_freq";
}, zh_tw_metrics_backtest_updatedate1 = () => "更新日期", Na = zh_tw_metrics_backtest_updatedate1, metrics_backtest_updatedate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Na() : "zh-tw" === _2 ? "更新日期" : "metrics_backtest_updateDate";
}, zh_tw_metrics_backtest_nexttradingdate2 = () => "下一交易日", $a = zh_tw_metrics_backtest_nexttradingdate2, metrics_backtest_nexttradingdate2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? $a() : "zh-tw" === _2 ? "下一交易日" : "metrics_backtest_nextTradingDate";
}, zh_tw_metrics_backtest_liveperformancestart2 = () => "實時表現開始日期", Fa = zh_tw_metrics_backtest_liveperformancestart2, metrics_backtest_liveperformancestart2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Fa() : "zh-tw" === _2 ? "實時表現開始日期" : "metrics_backtest_livePerformanceStart";
}, zh_tw_metrics_backtest_stoploss1 = () => "止損百分比", za = zh_tw_metrics_backtest_stoploss1, metrics_backtest_stoploss1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? za() : "zh-tw" === _2 ? "止損百分比" : "metrics_backtest_stopLoss";
}, zh_tw_metrics_backtest_takeprofit1 = () => "獲利百分比", Ba = zh_tw_metrics_backtest_takeprofit1, metrics_backtest_takeprofit1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ba() : "zh-tw" === _2 ? "獲利百分比" : "metrics_backtest_takeProfit";
}, zh_tw_metrics_profitability_annualreturn1 = () => "年度回報", Ha = zh_tw_metrics_profitability_annualreturn1, metrics_profitability_annualreturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ha() : "zh-tw" === _2 ? "年度回報" : "metrics_profitability_annualReturn";
}, zh_tw_metrics_profitability_alpha = () => "Alpha", Ga = zh_tw_metrics_profitability_alpha, metrics_profitability_alpha = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ga() : "zh-tw" === _2 ? "Alpha" : "metrics_profitability_alpha";
}, zh_tw_metrics_profitability_beta = () => "Beta", tl = zh_tw_metrics_profitability_beta, metrics_profitability_beta = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? tl() : "zh-tw" === _2 ? "Beta" : "metrics_profitability_beta";
}, zh_tw_metrics_profitability_avgnstock2 = () => "平均持有", el = zh_tw_metrics_profitability_avgnstock2, metrics_profitability_avgnstock2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? el() : "zh-tw" === _2 ? "平均持有" : "metrics_profitability_avgNStock";
}, zh_tw_metrics_profitability_maxnstock2 = () => "最多持有", il = zh_tw_metrics_profitability_maxnstock2, metrics_profitability_maxnstock2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? il() : "zh-tw" === _2 ? "最多持有" : "metrics_profitability_maxNStock";
}, zh_tw_metrics_risk_maxdrawdown1 = () => "最大回檔", sl = zh_tw_metrics_risk_maxdrawdown1, metrics_risk_maxdrawdown1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? sl() : "zh-tw" === _2 ? "最大回檔" : "metrics_risk_maxDrawdown";
}, zh_tw_metrics_risk_avgdrawdown1 = () => "平均回檔幅度", nl = zh_tw_metrics_risk_avgdrawdown1, metrics_risk_avgdrawdown1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? nl() : "zh-tw" === _2 ? "平均回檔幅度" : "metrics_risk_avgDrawdown";
}, zh_tw_metrics_risk_avgdrawdowndays2 = () => "平均回檔時間", rl = zh_tw_metrics_risk_avgdrawdowndays2, metrics_risk_avgdrawdowndays2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? rl() : "zh-tw" === _2 ? "平均回檔時間" : "metrics_risk_avgDrawdownDays";
}, zh_tw_metrics_risk_volatility = () => "波動性", ol = zh_tw_metrics_risk_volatility, metrics_risk_volatility = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ol() : "zh-tw" === _2 ? "波動性" : "metrics_risk_volatility";
}, zh_tw_metrics_risk_valueatrisk2 = () => "Value at Risk", al = zh_tw_metrics_risk_valueatrisk2, metrics_risk_valueatrisk2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? al() : "zh-tw" === _2 ? "Value at Risk" : "metrics_risk_valueAtRisk";
}, zh_tw_metrics_risk_cvalueatrisk2 = () => "Conditional VaR", ll = zh_tw_metrics_risk_cvalueatrisk2, metrics_risk_cvalueatrisk2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ll() : "zh-tw" === _2 ? "Conditional VaR" : "metrics_risk_cvalueAtRisk";
}, zh_tw_metrics_risk_newhightimerank3 = () => "再次創新高時間排名", cl = zh_tw_metrics_risk_newhightimerank3, metrics_risk_newhightimerank3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? cl() : "zh-tw" === _2 ? "再次創新高時間排名" : "metrics_risk_newHighTimeRank";
}, zh_tw_metrics_risk_worst10strategy1 = () => "策略前十大", hl = zh_tw_metrics_risk_worst10strategy1, metrics_risk_worst10strategy1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? hl() : "zh-tw" === _2 ? "策略前十大" : "metrics_risk_worst10Strategy";
}, zh_tw_metrics_risk_worst10benchmark1 = () => "大盤前十大", ul = zh_tw_metrics_risk_worst10benchmark1, metrics_risk_worst10benchmark1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ul() : "zh-tw" === _2 ? "大盤前十大" : "metrics_risk_worst10Benchmark";
}, zh_tw_metrics_risk_days = () => "days", dl = zh_tw_metrics_risk_days, metrics_risk_days = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? dl() : "zh-tw" === _2 ? "days" : "metrics_risk_days";
}, zh_tw_metrics_ratio_sharperatio1 = () => "夏普值", pl = zh_tw_metrics_ratio_sharperatio1, metrics_ratio_sharperatio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? pl() : "zh-tw" === _2 ? "夏普值" : "metrics_ratio_sharpeRatio";
}, zh_tw_metrics_ratio_sortinoratio1 = () => "Sortino Ratio", fl = zh_tw_metrics_ratio_sortinoratio1, metrics_ratio_sortinoratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? fl() : "zh-tw" === _2 ? "Sortino Ratio" : "metrics_ratio_sortinoRatio";
}, zh_tw_metrics_ratio_calmarratio1 = () => "Calmar Ratio", gl = zh_tw_metrics_ratio_calmarratio1, metrics_ratio_calmarratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? gl() : "zh-tw" === _2 ? "Calmar Ratio" : "metrics_ratio_calmarRatio";
}, zh_tw_metrics_ratio_profitfactor1 = () => "Profit Factor", _l = zh_tw_metrics_ratio_profitfactor1, metrics_ratio_profitfactor1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? _l() : "zh-tw" === _2 ? "Profit Factor" : "metrics_ratio_profitFactor";
}, zh_tw_metrics_ratio_tailratio1 = () => "Tail Ratio", ml = zh_tw_metrics_ratio_tailratio1, metrics_ratio_tailratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ml() : "zh-tw" === _2 ? "Tail Ratio" : "metrics_ratio_tailRatio";
}, zh_tw_metrics_ratio_worsethanbenchmark2 = () => "小於大盤", vl = zh_tw_metrics_ratio_worsethanbenchmark2, metrics_ratio_worsethanbenchmark2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? vl() : "zh-tw" === _2 ? "小於大盤" : "metrics_ratio_worseThanBenchmark";
}, zh_tw_metrics_winrate_winrate1 = () => "逐筆交易勝率", bl = zh_tw_metrics_winrate_winrate1, metrics_winrate_winrate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? bl() : "zh-tw" === _2 ? "逐筆交易勝率" : "metrics_winrate_winRate";
}, zh_tw_metrics_winrate_m12winrate2 = () => "使用策略12個月勝大盤", yl = zh_tw_metrics_winrate_m12winrate2, metrics_winrate_m12winrate2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? yl() : "zh-tw" === _2 ? "使用策略12個月勝大盤" : "metrics_winrate_m12WinRate";
}, zh_tw_metrics_winrate_expectancy = () => "期望值", wl = zh_tw_metrics_winrate_expectancy, metrics_winrate_expectancy = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? wl() : "zh-tw" === _2 ? "期望值" : "metrics_winrate_expectancy";
}, zh_tw_metrics_winrate_mae = () => "最大不利偏移", xl = zh_tw_metrics_winrate_mae, metrics_winrate_mae = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? xl() : "zh-tw" === _2 ? "最大不利偏移" : "metrics_winrate_mae";
}, zh_tw_metrics_winrate_mfe = () => "最大有利偏移", Tl = zh_tw_metrics_winrate_mfe, metrics_winrate_mfe = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Tl() : "zh-tw" === _2 ? "最大有利偏移" : "metrics_winrate_mfe";
}, zh_tw_metrics_liquidity_smallcapratio2 = () => "小市值比率", El = zh_tw_metrics_liquidity_smallcapratio2, metrics_liquidity_smallcapratio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? El() : "zh-tw" === _2 ? "小市值比率" : "metrics_liquidity_smallCapRatio";
}, zh_tw_metrics_liquidity_capacity = () => "胃納量", Pl = zh_tw_metrics_liquidity_capacity, metrics_liquidity_capacity = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Pl() : "zh-tw" === _2 ? "胃納量" : "metrics_liquidity_capacity";
}, zh_tw_metrics_liquidity_disposalstockratio2 = () => "處置股", Il = zh_tw_metrics_liquidity_disposalstockratio2, metrics_liquidity_disposalstockratio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Il() : "zh-tw" === _2 ? "處置股" : "metrics_liquidity_disposalStockRatio";
}, zh_tw_metrics_liquidity_warningstockratio2 = () => "警告股", Al = zh_tw_metrics_liquidity_warningstockratio2, metrics_liquidity_warningstockratio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Al() : "zh-tw" === _2 ? "警告股" : "metrics_liquidity_warningStockRatio";
}, zh_tw_metrics_liquidity_fulldeliverystockratio3 = () => "全額交付股", Rl = zh_tw_metrics_liquidity_fulldeliverystockratio3, metrics_liquidity_fulldeliverystockratio3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Rl() : "zh-tw" === _2 ? "全額交付股" : "metrics_liquidity_fullDeliveryStockRatio";
}, zh_tw_metrics_liquidity_buyhigh1 = () => "買在漲停", kl = zh_tw_metrics_liquidity_buyhigh1, metrics_liquidity_buyhigh1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? kl() : "zh-tw" === _2 ? "買在漲停" : "metrics_liquidity_buyHigh";
}, zh_tw_metrics_liquidity_selllow1 = () => "賣在跌停", Sl = zh_tw_metrics_liquidity_selllow1, metrics_liquidity_selllow1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Sl() : "zh-tw" === _2 ? "賣在跌停" : "metrics_liquidity_sellLow";
}, zh_tw_metrics_stocks_stockid1 = () => "名稱代號", Cl = zh_tw_metrics_stocks_stockid1, metrics_stocks_stockid1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Cl() : "zh-tw" === _2 ? "名稱代號" : "metrics_stocks_stockId";
}, zh_tw_metrics_stocks_return = () => "報酬", Ml = zh_tw_metrics_stocks_return, metrics_stocks_return = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ml() : "zh-tw" === _2 ? "報酬" : "metrics_stocks_return";
}, zh_tw_metrics_stocks_entry = () => "進場", Vl = zh_tw_metrics_stocks_entry, metrics_stocks_entry = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Vl() : "zh-tw" === _2 ? "進場" : "metrics_stocks_entry";
}, zh_tw_metrics_stocks_exit = () => "出場", Dl = zh_tw_metrics_stocks_exit, metrics_stocks_exit = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Dl() : "zh-tw" === _2 ? "出場" : "metrics_stocks_exit";
}, zh_tw_metrics_stocks_position = () => "持倉", Ol = zh_tw_metrics_stocks_position, metrics_stocks_position = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ol() : "zh-tw" === _2 ? "持倉" : "metrics_stocks_position";
}, zh_tw_metrics_stocks_entryprice1 = () => "進場價格", Ll = zh_tw_metrics_stocks_entryprice1, metrics_stocks_entryprice1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ll() : "zh-tw" === _2 ? "進場價格" : "metrics_stocks_entryPrice";
}, zh_tw_metrics_stocks_exitprice1 = () => "出場價格", Nl = zh_tw_metrics_stocks_exitprice1, metrics_stocks_exitprice1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Nl() : "zh-tw" === _2 ? "出場價格" : "metrics_stocks_exitPrice";
}, zh_tw_metrics_stocks_entrysig1 = () => "進場訊號", $l = zh_tw_metrics_stocks_entrysig1, metrics_stocks_entrysig1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? $l() : "zh-tw" === _2 ? "進場訊號" : "metrics_stocks_entrySig";
}, zh_tw_metrics_stocks_exitsig1 = () => "出場訊號", Fl = zh_tw_metrics_stocks_exitsig1, metrics_stocks_exitsig1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Fl() : "zh-tw" === _2 ? "出場訊號" : "metrics_stocks_exitSig";
}, zh_tw_metrics_stocks_mae = () => "不利偏移", zl = zh_tw_metrics_stocks_mae, metrics_stocks_mae = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? zl() : "zh-tw" === _2 ? "不利偏移" : "metrics_stocks_mae";
}, zh_tw_metrics_stocks_gmfe = () => "有利偏移", Bl = zh_tw_metrics_stocks_gmfe, metrics_stocks_gmfe = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Bl() : "zh-tw" === _2 ? "有利偏移" : "metrics_stocks_gmfe";
}, zh_tw_metrics_stocks_bmfe = () => "虧損前有利偏移", Ul = zh_tw_metrics_stocks_bmfe, metrics_stocks_bmfe = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ul() : "zh-tw" === _2 ? "虧損前有利偏移" : "metrics_stocks_bmfe";
}, zh_tw_metrics_stocks_mdd = () => "最大回檔", Wl = zh_tw_metrics_stocks_mdd, metrics_stocks_mdd = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Wl() : "zh-tw" === _2 ? "最大回檔" : "metrics_stocks_mdd";
}, zh_tw_metrics_stocks_pdays = () => "持倉天数", jl = zh_tw_metrics_stocks_pdays, metrics_stocks_pdays = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? jl() : "zh-tw" === _2 ? "持倉天数" : "metrics_stocks_pdays";
}, zh_tw_notebook_private_draft = () => "儲存草稿", ql = zh_tw_notebook_private_draft, notebook_private_draft = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ql() : "zh-tw" === _2 ? "儲存草稿" : "notebook_private_draft";
}, zh_tw_notebook_save_draft = () => "儲存", Hl = zh_tw_notebook_save_draft, notebook_save_draft = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Hl() : "zh-tw" === _2 ? "儲存" : "notebook_save_draft";
}, zh_tw_notebook_go_public = () => "準備發布", Kl = zh_tw_notebook_go_public, notebook_go_public = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Kl() : "zh-tw" === _2 ? "準備發布" : "notebook_go_public";
}, zh_tw_notebook_update_public = () => "更新發布", Gl = zh_tw_notebook_update_public, notebook_update_public = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Gl() : "zh-tw" === _2 ? "更新發布" : "notebook_update_public";
}, zh_tw_notebook_category_python = () => "Python", Yl = zh_tw_notebook_category_python, notebook_category_python = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Yl() : "zh-tw" === _2 ? "Python" : "notebook_category_python";
}, zh_tw_notebook_category_market = () => "股市", Ql = zh_tw_notebook_category_market, notebook_category_market = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ql() : "zh-tw" === _2 ? "股市" : "notebook_category_market";
}, zh_tw_notebook_category_algorithm = () => "演算法", Xl = zh_tw_notebook_category_algorithm, notebook_category_algorithm = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Xl() : "zh-tw" === _2 ? "演算法" : "notebook_category_algorithm";
}, zh_tw_notebook_category_tool = () => "工具", Jl = zh_tw_notebook_category_tool, notebook_category_tool = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Jl() : "zh-tw" === _2 ? "工具" : "notebook_category_tool";
}, zh_tw_notebook_category_metric = () => "策略指標", Zl = zh_tw_notebook_category_metric, notebook_category_metric = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Zl() : "zh-tw" === _2 ? "策略指標" : "notebook_category_metric";
}, zh_tw_notebook_category_indicator = () => "財經指標", oc = zh_tw_notebook_category_indicator, notebook_category_indicator = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? oc() : "zh-tw" === _2 ? "財經指標" : "notebook_category_indicator";
}, zh_tw_notebook_category_ai = () => "機器學習AI", hc = zh_tw_notebook_category_ai, notebook_category_ai = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? hc() : "zh-tw" === _2 ? "機器學習AI" : "notebook_category_ai";
}, zh_tw_position_sl = () => "停損", _c2 = zh_tw_position_sl, position_sl = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? _c2() : "zh-tw" === _2 ? "停損" : "position_sl";
}, zh_tw_position_tp = () => "停利", yc = zh_tw_position_tp, position_tp = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? yc() : "zh-tw" === _2 ? "停利" : "position_tp";
}, zh_tw_position_ts = () => "移動出場", wc = zh_tw_position_ts, position_ts = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? wc() : "zh-tw" === _2 ? "移動出場" : "position_ts";
}, zh_tw_position_resample = () => "換股頻率", xc = zh_tw_position_resample, position_resample = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? xc() : "zh-tw" === _2 ? "換股頻率" : "position_resample";
}, zh_tw_position_entrytradeprice2 = () => "進場時機", Rc = zh_tw_position_entrytradeprice2, position_entrytradeprice2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Rc() : "zh-tw" === _2 ? "進場時機" : "position_entryTradePrice";
}, zh_tw_position_exittradeprice2 = () => "出場時機", zc = zh_tw_position_exittradeprice2, position_exittradeprice2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? zc() : "zh-tw" === _2 ? "出場時機" : "position_exitTradePrice";
}, zh_tw_position_scheduled = () => "預定換股日", Bc = zh_tw_position_scheduled, position_scheduled = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Bc() : "zh-tw" === _2 ? "預定換股日" : "position_scheduled";
}, zh_tw_position_datafreq1 = () => "回測頻率", Qc = zh_tw_position_datafreq1, position_datafreq1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Qc() : "zh-tw" === _2 ? "回測頻率" : "position_dataFreq";
}, zh_tw_position_created = () => "更新時間", th = zh_tw_position_created, position_created = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? th() : "zh-tw" === _2 ? "更新時間" : "position_created";
}, zh_tw_position_entrydate1 = () => "進場日期", eh = zh_tw_position_entrydate1, position_entrydate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? eh() : "zh-tw" === _2 ? "進場日期" : "position_entryDate";
}, zh_tw_position_exitdate1 = () => "出場日期", ih = zh_tw_position_exitdate1, position_exitdate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ih() : "zh-tw" === _2 ? "出場日期" : "position_exitDate";
}, zh_tw_position_currentprice1 = () => "價格", sh = zh_tw_position_currentprice1, position_currentprice1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? sh() : "zh-tw" === _2 ? "價格" : "position_currentPrice";
}, zh_tw_position_profit = () => "盈虧", nh = zh_tw_position_profit, position_profit = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? nh() : "zh-tw" === _2 ? "盈虧" : "position_profit";
}, zh_tw_position_currentweight1 = () => "當前持股比例", rh = zh_tw_position_currentweight1, position_currentweight1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? rh() : "zh-tw" === _2 ? "當前持股比例" : "position_currentWeight";
}, zh_tw_position_nextweight1 = () => "持股比例", oh = zh_tw_position_nextweight1, position_nextweight1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? oh() : "zh-tw" === _2 ? "持股比例" : "position_nextWeight";
}, zh_tw_position_rsv3 = () => "多空力道", ah = zh_tw_position_rsv3, position_rsv3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ah() : "zh-tw" === _2 ? "多空力道" : "position_RSV";
}, zh_tw_position_resamplevalue_30m2 = () => "每30分鐘", lh = zh_tw_position_resamplevalue_30m2, position_resamplevalue_30m2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? lh() : "zh-tw" === _2 ? "每30分鐘" : "position_resampleValue_30M";
}, zh_tw_position_resamplevalue_h2 = () => "每1小時", ch = zh_tw_position_resamplevalue_h2, position_resamplevalue_h2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ch() : "zh-tw" === _2 ? "每1小時" : "position_resampleValue_H";
}, zh_tw_position_resamplevalue_4h2 = () => "每4小時", hh = zh_tw_position_resamplevalue_4h2, position_resamplevalue_4h2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? hh() : "zh-tw" === _2 ? "每4小時" : "position_resampleValue_4H";
}, zh_tw_position_resamplevalue_8h2 = () => "每8小時", uh = zh_tw_position_resamplevalue_8h2, position_resamplevalue_8h2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? uh() : "zh-tw" === _2 ? "每8小時" : "position_resampleValue_8H";
}, zh_tw_position_resamplevalue_d2 = () => "每1天", dh = zh_tw_position_resamplevalue_d2, position_resamplevalue_d2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? dh() : "zh-tw" === _2 ? "每1天" : "position_resampleValue_D";
}, zh_tw_position_resamplevalue_w2 = () => "每週", ph = zh_tw_position_resamplevalue_w2, position_resamplevalue_w2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ph() : "zh-tw" === _2 ? "每週" : "position_resampleValue_W";
}, zh_tw_position_resamplevalue_2w2 = () => "每2週", fh = zh_tw_position_resamplevalue_2w2, position_resamplevalue_2w2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? fh() : "zh-tw" === _2 ? "每2週" : "position_resampleValue_2W";
}, zh_tw_position_resamplevalue_3w2 = () => "每3週", gh = zh_tw_position_resamplevalue_3w2, position_resamplevalue_3w2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? gh() : "zh-tw" === _2 ? "每3週" : "position_resampleValue_3W";
}, zh_tw_position_resamplevalue_4w2 = () => "每4週", _h = zh_tw_position_resamplevalue_4w2, position_resamplevalue_4w2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? _h() : "zh-tw" === _2 ? "每4週" : "position_resampleValue_4W";
}, zh_tw_position_resamplevalue_m2 = () => "每月底", mh = zh_tw_position_resamplevalue_m2, position_resamplevalue_m2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? mh() : "zh-tw" === _2 ? "每月底" : "position_resampleValue_M";
}, zh_tw_position_resamplevalue_2m2 = () => "每2個月", vh = zh_tw_position_resamplevalue_2m2, position_resamplevalue_2m2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? vh() : "zh-tw" === _2 ? "每2個月" : "position_resampleValue_2M";
}, zh_tw_position_resamplevalue_me3 = () => "每月底", bh = zh_tw_position_resamplevalue_me3, position_resamplevalue_me3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? bh() : "zh-tw" === _2 ? "每月底" : "position_resampleValue_ME";
}, zh_tw_position_resamplevalue_mre4 = () => "每月收入公佈日", yh = zh_tw_position_resamplevalue_mre4, position_resamplevalue_mre4 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? yh() : "zh-tw" === _2 ? "每月收入公佈日" : "position_resampleValue_MRE";
}, zh_tw_position_resamplevalue_q2 = () => "每1季底", wh = zh_tw_position_resamplevalue_q2, position_resamplevalue_q2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? wh() : "zh-tw" === _2 ? "每1季底" : "position_resampleValue_Q";
}, zh_tw_position_resamplevalue_qe3 = () => "每1季底", xh = zh_tw_position_resamplevalue_qe3, position_resamplevalue_qe3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? xh() : "zh-tw" === _2 ? "每1季底" : "position_resampleValue_QE";
}, zh_tw_position_resamplevalue_hy3 = () => "每半年", Th = zh_tw_position_resamplevalue_hy3, position_resamplevalue_hy3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Th() : "zh-tw" === _2 ? "每半年" : "position_resampleValue_HY";
}, zh_tw_position_resamplevalue_y2 = () => "每1年", Eh = zh_tw_position_resamplevalue_y2, position_resamplevalue_y2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Eh() : "zh-tw" === _2 ? "每1年" : "position_resampleValue_Y";
}, zh_tw_position_resamplevalue_null1 = () => "不固定", Ph = zh_tw_position_resamplevalue_null1, position_resamplevalue_null1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ph() : "zh-tw" === _2 ? "不固定" : "position_resampleValue_null";
}, zh_tw_position_open = () => "開盤", Ih = zh_tw_position_open, position_open = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ih() : "zh-tw" === _2 ? "開盤" : "position_open";
}, zh_tw_position_close = () => "收盤", Ah = zh_tw_position_close, position_close = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ah() : "zh-tw" === _2 ? "收盤" : "position_close";
}, zh_tw_position_open_close_avg = () => "開收均價", Rh = zh_tw_position_open_close_avg, position_open_close_avg = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Rh() : "zh-tw" === _2 ? "開收均價" : "position_open_close_avg";
}, zh_tw_position_high_low_avg = () => "高低均價", kh = zh_tw_position_high_low_avg, position_high_low_avg = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? kh() : "zh-tw" === _2 ? "高低均價" : "position_high_low_avg";
}, zh_tw_position_type_entry = () => "進場", Sh = zh_tw_position_type_entry, position_type_entry = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Sh() : "zh-tw" === _2 ? "進場" : "position_type_entry";
}, zh_tw_position_type_entry_f = () => "將進場", Ch = zh_tw_position_type_entry_f, position_type_entry_f = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ch() : "zh-tw" === _2 ? "將進場" : "position_type_entry_f";
}, zh_tw_position_type_exit = () => "出場", Mh = zh_tw_position_type_exit, position_type_exit = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Mh() : "zh-tw" === _2 ? "出場" : "position_type_exit";
}, zh_tw_position_type_exit_p = () => "已出場", Vh = zh_tw_position_type_exit_p, position_type_exit_p = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Vh() : "zh-tw" === _2 ? "已出場" : "position_type_exit_p";
}, zh_tw_position_type_hold = () => "持有", Dh = zh_tw_position_type_hold, position_type_hold = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Dh() : "zh-tw" === _2 ? "持有" : "position_type_hold";
}, zh_tw_position_type_sl = () => "停損", Oh = zh_tw_position_type_sl, position_type_sl = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Oh() : "zh-tw" === _2 ? "停損" : "position_type_sl";
}, zh_tw_position_type_tp = () => "停利", Lh = zh_tw_position_type_tp, position_type_tp = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Lh() : "zh-tw" === _2 ? "停利" : "position_type_tp";
}, zh_tw_position_type_sl_ = () => "已停損", Nh = zh_tw_position_type_sl_, position_type_sl_ = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Nh() : "zh-tw" === _2 ? "已停損" : "position_type_sl_";
}, zh_tw_position_type_tp_ = () => "已停利", $h = zh_tw_position_type_tp_, position_type_tp_ = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? $h() : "zh-tw" === _2 ? "已停利" : "position_type_tp_";
}, zh_tw_position_assetname1 = () => "標的名稱", Fh = zh_tw_position_assetname1, position_assetname1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Fh() : "zh-tw" === _2 ? "標的名稱" : "position_assetName";
}, zh_tw_position_action = () => "動作", zh = zh_tw_position_action, position_action = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? zh() : "zh-tw" === _2 ? "動作" : "position_action";
}, zh_tw_metrics_ratio_yearlysharperatio2 = () => "夏普與大盤比較", Bh = zh_tw_metrics_ratio_yearlysharperatio2, metrics_ratio_yearlysharperatio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Bh() : "zh-tw" === _2 ? "夏普與大盤比較" : "metrics_ratio_yearlySharpeRatio";
}, zh_tw_metrics_ratio_betterthanbenchmark2 = () => "大於大盤：", Uh = zh_tw_metrics_ratio_betterthanbenchmark2, metrics_ratio_betterthanbenchmark2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Uh() : "zh-tw" === _2 ? "大於大盤：" : "metrics_ratio_betterThanBenchmark";
}, zh_tw_metrics_ratio_year = () => "年", Wh = zh_tw_metrics_ratio_year, metrics_ratio_year = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Wh() : "zh-tw" === _2 ? "年" : "metrics_ratio_year";
}, zh_tw_metrics_ratio_timebetterthanbenchmark3 = () => "大於大盤的時間：", jh = zh_tw_metrics_ratio_timebetterthanbenchmark3, metrics_ratio_timebetterthanbenchmark3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? jh() : "zh-tw" === _2 ? "大於大盤的時間：" : "metrics_ratio_timeBetterThanBenchmark";
}, zh_tw_metrics_ratio_yearlytailratio2 = () => "極端風報比與大盤比較", qh = zh_tw_metrics_ratio_yearlytailratio2, metrics_ratio_yearlytailratio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? qh() : "zh-tw" === _2 ? "極端風報比與大盤比較" : "metrics_ratio_yearlyTailRatio";
}, zh_tw_metrics_ratio_volatility = () => "策略報酬率波動 (Volitility)", Hh = zh_tw_metrics_ratio_volatility, metrics_ratio_volatility = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Hh() : "zh-tw" === _2 ? "策略報酬率波動 (Volitility)" : "metrics_ratio_volatility";
}, zh_tw_metrics_winrate_returndistribution1 = () => "報酬分布", Kh = zh_tw_metrics_winrate_returndistribution1, metrics_winrate_returndistribution1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Kh() : "zh-tw" === _2 ? "報酬分布" : "metrics_winrate_returnDistribution";
}, zh_tw_metrics_winrate_distributioninfo11 = () => "有 5% 的機率，交易將有", Gh = zh_tw_metrics_winrate_distributioninfo11, metrics_winrate_distributioninfo11 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Gh() : "zh-tw" === _2 ? "有 5% 的機率，交易將有" : "metrics_winrate_distributionInfo1";
}, zh_tw_metrics_winrate_distributioninfo21 = () => " % 以上的虧損", Yh = zh_tw_metrics_winrate_distributioninfo21, metrics_winrate_distributioninfo21 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Yh() : "zh-tw" === _2 ? " % 以上的虧損" : "metrics_winrate_distributionInfo2";
}, zh_tw_metrics_winrate_return = () => "報酬率", Qh = zh_tw_metrics_winrate_return, metrics_winrate_return = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Qh() : "zh-tw" === _2 ? "報酬率" : "metrics_winrate_return";
}, zh_tw_metrics_winrate_maemfe = () => "交易最大偏移", Xh = zh_tw_metrics_winrate_maemfe, metrics_winrate_maemfe = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Xh() : "zh-tw" === _2 ? "交易最大偏移" : "metrics_winrate_maemfe";
}, zh_tw_metrics_winrate_stoploss = () => "停損設定：", Jh = zh_tw_metrics_winrate_stoploss, metrics_winrate_stoploss = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Jh() : "zh-tw" === _2 ? "停損設定：" : "metrics_winrate_stoploss";
}, zh_tw_metrics_winrate_none = () => "無", Zh = zh_tw_metrics_winrate_none, metrics_winrate_none = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Zh() : "zh-tw" === _2 ? "無" : "metrics_winrate_none";
}, zh_tw_metrics_winrate_extraprofitloss2 = () => "停損造成的額外盈虧：", tu = zh_tw_metrics_winrate_extraprofitloss2, metrics_winrate_extraprofitloss2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? tu() : "zh-tw" === _2 ? "停損造成的額外盈虧：" : "metrics_winrate_extraProfitLoss";
}, zh_tw_metrics_winrate_stoplossratio1 = () => "停損的交易比例：", eu = zh_tw_metrics_winrate_stoplossratio1, metrics_winrate_stoplossratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? eu() : "zh-tw" === _2 ? "停損的交易比例：" : "metrics_winrate_stoplossRatio";
}, zh_tw_metrics_winrate_maereturn1 = () => "報酬與最大不利偏移", iu = zh_tw_metrics_winrate_maereturn1, metrics_winrate_maereturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? iu() : "zh-tw" === _2 ? "報酬與最大不利偏移" : "metrics_winrate_maeReturn";
}, zh_tw_metrics_winrate_simulatedstoploss2 = () => "模擬停損", su = zh_tw_metrics_winrate_simulatedstoploss2, metrics_winrate_simulatedstoploss2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? su() : "zh-tw" === _2 ? "模擬停損" : "metrics_winrate_simulatedStopLoss";
}, zh_tw_metrics_winrate_simulatedtakeprofit2 = () => "模擬停利", nu = zh_tw_metrics_winrate_simulatedtakeprofit2, metrics_winrate_simulatedtakeprofit2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? nu() : "zh-tw" === _2 ? "模擬停利" : "metrics_winrate_simulatedTakeProfit";
}, zh_tw_metrics_winrate_takeprofit1 = () => "停利設定：", ru = zh_tw_metrics_winrate_takeprofit1, metrics_winrate_takeprofit1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ru() : "zh-tw" === _2 ? "停利設定：" : "metrics_winrate_takeProfit";
}, zh_tw_metrics_winrate_extraprofitlosstakingprofit4 = () => "停利造成的額外盈虧：", ou = zh_tw_metrics_winrate_extraprofitlosstakingprofit4, metrics_winrate_extraprofitlosstakingprofit4 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ou() : "zh-tw" === _2 ? "停利造成的額外盈虧：" : "metrics_winrate_extraProfitLossTakingProfit";
}, zh_tw_metrics_winrate_takeprofitratio2 = () => "停利的交易比例：", au = zh_tw_metrics_winrate_takeprofitratio2, metrics_winrate_takeprofitratio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? au() : "zh-tw" === _2 ? "停利的交易比例：" : "metrics_winrate_takeProfitRatio";
}, zh_tw_metrics_winrate_mfereturn1 = () => "報酬與最大有利偏移", lu = zh_tw_metrics_winrate_mfereturn1, metrics_winrate_mfereturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? lu() : "zh-tw" === _2 ? "報酬與最大有利偏移" : "metrics_winrate_mfeReturn";
}, zh_tw_metrics_liquidity_portfoliocapacity1 = () => "投資組合胃納量", cu = zh_tw_metrics_liquidity_portfoliocapacity1, metrics_liquidity_portfoliocapacity1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? cu() : "zh-tw" === _2 ? "投資組合胃納量" : "metrics_liquidity_portfolioCapacity";
}, zh_tw_metrics_liquidity_safeliquiditytraderatio3 = () => "安全流動性交易的佔比", hu = zh_tw_metrics_liquidity_safeliquiditytraderatio3, metrics_liquidity_safeliquiditytraderatio3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? hu() : "zh-tw" === _2 ? "安全流動性交易的佔比" : "metrics_liquidity_safeLiquidityTradeRatio";
}, zh_tw_metrics_liquidity_averagereturn1 = () => "平均報酬", uu = zh_tw_metrics_liquidity_averagereturn1, metrics_liquidity_averagereturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? uu() : "zh-tw" === _2 ? "平均報酬" : "metrics_liquidity_averageReturn";
}, zh_tw_metrics_liquidity_totalinvestment1 = () => "投資總資金", du = zh_tw_metrics_liquidity_totalinvestment1, metrics_liquidity_totalinvestment1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? du() : "zh-tw" === _2 ? "投資總資金" : "metrics_liquidity_totalInvestment";
}, zh_tw_metrics_liquidity_marketcap1 = () => "交易標的的市值", pu = zh_tw_metrics_liquidity_marketcap1, metrics_liquidity_marketcap1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? pu() : "zh-tw" === _2 ? "交易標的的市值" : "metrics_liquidity_marketCap";
}, zh_tw_metrics_liquidity_traderatio1 = () => "交易的佔比", fu = zh_tw_metrics_liquidity_traderatio1, metrics_liquidity_traderatio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? fu() : "zh-tw" === _2 ? "交易的佔比" : "metrics_liquidity_tradeRatio";
}, zh_tw_metrics_liquidity_traderatiomarketcap3 = () => "市值門檻", gu = zh_tw_metrics_liquidity_traderatiomarketcap3, metrics_liquidity_traderatiomarketcap3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? gu() : "zh-tw" === _2 ? "市值門檻" : "metrics_liquidity_tradeRatioMarketCap";
}, zh_tw_metrics_liquidity_traderatioentryvolume3 = () => "買進成交量門檻", _u = zh_tw_metrics_liquidity_traderatioentryvolume3, metrics_liquidity_traderatioentryvolume3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? _u() : "zh-tw" === _2 ? "買進成交量門檻" : "metrics_liquidity_tradeRatioEntryVolume";
}, zh_tw_metrics_liquidity_traderatioexitvolume3 = () => "交易的佔比", mu = zh_tw_metrics_liquidity_traderatioexitvolume3, metrics_liquidity_traderatioexitvolume3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? mu() : "zh-tw" === _2 ? "交易的佔比" : "metrics_liquidity_tradeRatioExitVolume";
}, zh_tw_metrics_liquidity_volumethreshold1 = () => "當天成交量", vu = zh_tw_metrics_liquidity_volumethreshold1, metrics_liquidity_volumethreshold1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? vu() : "zh-tw" === _2 ? "當天成交量" : "metrics_liquidity_volumeThreshold";
}, zh_tw_metrics_liquidity_exitvolume1 = () => "出場當天成交量", bu = zh_tw_metrics_liquidity_exitvolume1, metrics_liquidity_exitvolume1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? bu() : "zh-tw" === _2 ? "出場當天成交量" : "metrics_liquidity_exitVolume";
}, zh_tw_metrics_liquidity_entryvolume1 = () => "進場當天成交量", yu = zh_tw_metrics_liquidity_entryvolume1, metrics_liquidity_entryvolume1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? yu() : "zh-tw" === _2 ? "進場當天成交量" : "metrics_liquidity_entryVolume";
}, zh_tw_metrics_liquidity_marketcapthreshold2 = () => "市值門檻", wu = zh_tw_metrics_liquidity_marketcapthreshold2, metrics_liquidity_marketcapthreshold2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? wu() : "zh-tw" === _2 ? "市值門檻" : "metrics_liquidity_marketCapThreshold";
}, zh_tw_metrics_liquidity_portfoliocapacitydescription2 = (d2) => `當資金量達到 ${d2.v1} 時，將有 ${d2.v2}%的機率，買到流動性低的股票(低成交量、價差大、價格易波動)。`, xu = zh_tw_metrics_liquidity_portfoliocapacitydescription2, metrics_liquidity_portfoliocapacitydescription2 = (d2, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? xu(d2) : "zh-tw" === _2 ? zh_tw_metrics_liquidity_portfoliocapacitydescription2(d2) : "metrics_liquidity_portfolioCapacityDescription";
}, zh_tw_metrics_liquidity_marketcapdescription2 = (d2) => `市值 ${d2.v1} 以上的交易佔 ${d2.v2}%。`, Tu = zh_tw_metrics_liquidity_marketcapdescription2, metrics_liquidity_marketcapdescription2 = (d2, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Tu(d2) : "zh-tw" === _2 ? zh_tw_metrics_liquidity_marketcapdescription2(d2) : "metrics_liquidity_marketCapDescription";
}, zh_tw_metrics_liquidity_entryvolumedescription2 = (d2) => `買入當天成交量 ${d2.v1} 張以上的交易佔 ${d2.v2}%。`, Eu = zh_tw_metrics_liquidity_entryvolumedescription2, metrics_liquidity_entryvolumedescription2 = (d2, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Eu(d2) : "zh-tw" === _2 ? zh_tw_metrics_liquidity_entryvolumedescription2(d2) : "metrics_liquidity_entryVolumeDescription";
}, zh_tw_metrics_liquidity_exitvolumedescription2 = (d2) => `賣出當天成交量 ${d2.v1} 張以上的交易佔 ${d2.v2}%。`, Pu = zh_tw_metrics_liquidity_exitvolumedescription2, metrics_liquidity_exitvolumedescription2 = (d2, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Pu(d2) : "zh-tw" === _2 ? zh_tw_metrics_liquidity_exitvolumedescription2(d2) : "metrics_liquidity_exitVolumeDescription";
}, zh_tw_metrics_ratio_rollingtailratio2 = () => "極端風報比", Iu = zh_tw_metrics_ratio_rollingtailratio2, metrics_ratio_rollingtailratio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Iu() : "zh-tw" === _2 ? "極端風報比" : "metrics_ratio_rollingTailRatio";
}, zh_tw_profitability_benchmarkyearlyreturn2 = () => "大盤年報酬", Au = zh_tw_profitability_benchmarkyearlyreturn2, profitability_benchmarkyearlyreturn2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Au() : "zh-tw" === _2 ? "大盤年報酬" : "profitability_benchmarkYearlyReturn";
}, zh_tw_profitability_year = () => "年", Ru = zh_tw_profitability_year, profitability_year = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ru() : "zh-tw" === _2 ? "年" : "profitability_year";
}, zh_tw_metrics_risk_worstdrawdownperiod2 = () => "跌幅排名", ku = zh_tw_metrics_risk_worstdrawdownperiod2, metrics_risk_worstdrawdownperiod2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ku() : "zh-tw" === _2 ? "跌幅排名" : "metrics_risk_worstDrawdownPeriod";
}, zh_tw_profitability_all = () => "全部", Su = zh_tw_profitability_all, profitability_all = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Su() : "zh-tw" === _2 ? "全部" : "profitability_all";
}, zh_tw_profitability_recent = () => "近年", Cu = zh_tw_profitability_recent, profitability_recent = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Cu() : "zh-tw" === _2 ? "近年" : "profitability_recent";
}, zh_tw_metric_description_backtest_startdate1 = () => "回測的開始日期", Mu = zh_tw_metric_description_backtest_startdate1, metric_description_backtest_startdate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Mu() : "zh-tw" === _2 ? "回測的開始日期" : "metric_description_backtest_startDate";
}, zh_tw_metric_description_backtest_enddate1 = () => "回測的結束日期", Vu = zh_tw_metric_description_backtest_enddate1, metric_description_backtest_enddate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Vu() : "zh-tw" === _2 ? "回測的結束日期" : "metric_description_backtest_endDate";
}, zh_tw_metric_description_backtest_version = () => "回測的版本", Du = zh_tw_metric_description_backtest_version, metric_description_backtest_version = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Du() : "zh-tw" === _2 ? "回測的版本" : "metric_description_backtest_version";
}, zh_tw_metric_description_backtest_feeratio1 = () => "交易的手續費比率", Ou = zh_tw_metric_description_backtest_feeratio1, metric_description_backtest_feeratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ou() : "zh-tw" === _2 ? "交易的手續費比率" : "metric_description_backtest_feeRatio";
}, zh_tw_metric_description_backtest_taxratio1 = () => "交易的稅率", Lu = zh_tw_metric_description_backtest_taxratio1, metric_description_backtest_taxratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Lu() : "zh-tw" === _2 ? "交易的稅率" : "metric_description_backtest_taxRatio";
}, zh_tw_metric_description_backtest_tradeat1 = () => "交易是在市場收盤還是開盤時執行", Nu = zh_tw_metric_description_backtest_tradeat1, metric_description_backtest_tradeat1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Nu() : "zh-tw" === _2 ? "交易是在市場收盤還是開盤時執行" : "metric_description_backtest_tradeAt";
}, zh_tw_metric_description_backtest_market = () => "進行回測的市場", $u = zh_tw_metric_description_backtest_market, metric_description_backtest_market = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? $u() : "zh-tw" === _2 ? "進行回測的市場" : "metric_description_backtest_market";
}, zh_tw_metric_description_backtest_freq = () => "回測使用的數據頻率", Fu = zh_tw_metric_description_backtest_freq, metric_description_backtest_freq = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Fu() : "zh-tw" === _2 ? "回測使用的數據頻率" : "metric_description_backtest_freq";
}, zh_tw_metric_description_backtest_updatedate1 = () => "回測最後更新的日期", zu = zh_tw_metric_description_backtest_updatedate1, metric_description_backtest_updatedate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? zu() : "zh-tw" === _2 ? "回測最後更新的日期" : "metric_description_backtest_updateDate";
}, zh_tw_metric_description_backtest_nexttradingdate2 = () => "回測後的下一個交易日期", Bu = zh_tw_metric_description_backtest_nexttradingdate2, metric_description_backtest_nexttradingdate2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Bu() : "zh-tw" === _2 ? "回測後的下一個交易日期" : "metric_description_backtest_nextTradingDate";
}, zh_tw_metric_description_backtest_liveperformancestart2 = () => "實時性能跟踪開始的日期", Uu = zh_tw_metric_description_backtest_liveperformancestart2, metric_description_backtest_liveperformancestart2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Uu() : "zh-tw" === _2 ? "實時性能跟踪開始的日期" : "metric_description_backtest_livePerformanceStart";
}, zh_tw_metric_description_backtest_stoploss1 = () => "允許的最大損失以停止交易", Wu = zh_tw_metric_description_backtest_stoploss1, metric_description_backtest_stoploss1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Wu() : "zh-tw" === _2 ? "允許的最大損失以停止交易" : "metric_description_backtest_stopLoss";
}, zh_tw_metric_description_backtest_takeprofit1 = () => "退出交易的利潤目標", ju = zh_tw_metric_description_backtest_takeprofit1, metric_description_backtest_takeprofit1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ju() : "zh-tw" === _2 ? "退出交易的利潤目標" : "metric_description_backtest_takeProfit";
}, zh_tw_metric_description_profitability_annualreturn1 = () => "策略的年度回報", qu = zh_tw_metric_description_profitability_annualreturn1, metric_description_profitability_annualreturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? qu() : "zh-tw" === _2 ? "策略的年度回報" : "metric_description_profitability_annualReturn";
}, zh_tw_metric_description_profitability_alpha = () => "相對於基準的策略的風險調整後表現的衡量", Hu = zh_tw_metric_description_profitability_alpha, metric_description_profitability_alpha = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Hu() : "zh-tw" === _2 ? "相對於基準的策略的風險調整後表現的衡量" : "metric_description_profitability_alpha";
}, zh_tw_metric_description_profitability_beta = () => "策略對市場變動的敏感性的衡量", Ku = zh_tw_metric_description_profitability_beta, metric_description_profitability_beta = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ku() : "zh-tw" === _2 ? "策略對市場變動的敏感性的衡量" : "metric_description_profitability_beta";
}, zh_tw_metric_description_profitability_avgnstock2 = () => "投資組合中持有的平均股票數", Gu = zh_tw_metric_description_profitability_avgnstock2, metric_description_profitability_avgnstock2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Gu() : "zh-tw" === _2 ? "投資組合中持有的平均股票數" : "metric_description_profitability_avgNStock";
}, zh_tw_metric_description_profitability_maxnstock2 = () => "投資組合中持有的最大股票數", Yu = zh_tw_metric_description_profitability_maxnstock2, metric_description_profitability_maxnstock2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Yu() : "zh-tw" === _2 ? "投資組合中持有的最大股票數" : "metric_description_profitability_maxNStock";
}, zh_tw_metric_description_risk_maxdrawdown1 = () => "從高點到低谷的最大百分比下降", Qu = zh_tw_metric_description_risk_maxdrawdown1, metric_description_risk_maxdrawdown1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Qu() : "zh-tw" === _2 ? "從高點到低谷的最大百分比下降" : "metric_description_risk_maxDrawdown";
}, zh_tw_metric_description_risk_avgdrawdown1 = () => "從高點到低谷的平均百分比下降", Xu = zh_tw_metric_description_risk_avgdrawdown1, metric_description_risk_avgdrawdown1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Xu() : "zh-tw" === _2 ? "從高點到低谷的平均百分比下降" : "metric_description_risk_avgDrawdown";
}, zh_tw_metric_description_risk_avgdrawdowndays2 = () => "平均回撤天數", Ju = zh_tw_metric_description_risk_avgdrawdowndays2, metric_description_risk_avgdrawdowndays2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ju() : "zh-tw" === _2 ? "平均回撤天數" : "metric_description_risk_avgDrawdownDays";
}, zh_tw_metric_description_risk_volatility = () => "策略回報的標準差", Zu = zh_tw_metric_description_risk_volatility, metric_description_risk_volatility = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Zu() : "zh-tw" === _2 ? "策略回報的標準差" : "metric_description_risk_volatility";
}, zh_tw_metric_description_risk_valueatrisk2 = () => "給定信心區間的指定期間內預期的最大損失", td = zh_tw_metric_description_risk_valueatrisk2, metric_description_risk_valueatrisk2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? td() : "zh-tw" === _2 ? "給定信心區間的指定期間內預期的最大損失" : "metric_description_risk_valueAtRisk";
}, zh_tw_metric_description_risk_cvalueatrisk2 = () => "發生指定不良事件後的預期損失", sd = zh_tw_metric_description_risk_cvalueatrisk2, metric_description_risk_cvalueatrisk2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? sd() : "zh-tw" === _2 ? "發生指定不良事件後的預期損失" : "metric_description_risk_cvalueAtRisk";
}, zh_tw_metric_description_ratio_sharperatio1 = () => "風險調整後表現的衡量", nd = zh_tw_metric_description_ratio_sharperatio1, metric_description_ratio_sharperatio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? nd() : "zh-tw" === _2 ? "風險調整後表現的衡量" : "metric_description_ratio_sharpeRatio";
}, zh_tw_metric_description_ratio_sortinoratio1 = () => "只考慮下行波動性的風險調整後表現的衡量", rd = zh_tw_metric_description_ratio_sortinoratio1, metric_description_ratio_sortinoratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? rd() : "zh-tw" === _2 ? "只考慮下行波動性的風險調整後表現的衡量" : "metric_description_ratio_sortinoRatio";
}, zh_tw_metric_description_ratio_calmarratio1 = () => "年度回報與最大回撤的比率", od = zh_tw_metric_description_ratio_calmarratio1, metric_description_ratio_calmarratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? od() : "zh-tw" === _2 ? "年度回報與最大回撤的比率" : "metric_description_ratio_calmarRatio";
}, zh_tw_metric_description_ratio_profitfactor1 = () => "總利潤與總損失的比率", ld = zh_tw_metric_description_ratio_profitfactor1, metric_description_ratio_profitfactor1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ld() : "zh-tw" === _2 ? "總利潤與總損失的比率" : "metric_description_ratio_profitFactor";
}, zh_tw_metric_description_ratio_tailratio1 = () => "右尾（贏）與左尾（輸）的比率", ud = zh_tw_metric_description_ratio_tailratio1, metric_description_ratio_tailratio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? ud() : "zh-tw" === _2 ? "右尾（贏）與左尾（輸）的比率" : "metric_description_ratio_tailRatio";
}, zh_tw_metric_description_winrate_winrate1 = () => "盈利交易的百分比", pd = zh_tw_metric_description_winrate_winrate1, metric_description_winrate_winrate1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? pd() : "zh-tw" === _2 ? "盈利交易的百分比" : "metric_description_winrate_winRate";
}, zh_tw_metric_description_winrate_m12winrate2 = () => "12個月滾動勝率", _d2 = zh_tw_metric_description_winrate_m12winrate2, metric_description_winrate_m12winrate2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? _d2() : "zh-tw" === _2 ? "12個月滾動勝率" : "metric_description_winrate_m12WinRate";
}, zh_tw_metric_description_winrate_expectancy = () => "每筆交易預期贏得（或損失）的平均金額", md = zh_tw_metric_description_winrate_expectancy, metric_description_winrate_expectancy = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? md() : "zh-tw" === _2 ? "每筆交易預期贏得（或損失）的平均金額" : "metric_description_winrate_expectancy";
}, zh_tw_metric_description_winrate_mae = () => "最大不利運動，或交易盈利前的最大損失", vd = zh_tw_metric_description_winrate_mae, metric_description_winrate_mae = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? vd() : "zh-tw" === _2 ? "最大不利運動，或交易盈利前的最大損失" : "metric_description_winrate_mae";
}, zh_tw_metric_description_winrate_mfe = () => "最大有利運動，或交易變成損失前的最大利潤", yd = zh_tw_metric_description_winrate_mfe, metric_description_winrate_mfe = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? yd() : "zh-tw" === _2 ? "最大有利運動，或交易變成損失前的最大利潤" : "metric_description_winrate_mfe";
}, zh_tw_metric_description_liquidity_capacity = () => "不影響市場價格可以部署的最大資本金額", wd = zh_tw_metric_description_liquidity_capacity, metric_description_liquidity_capacity = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? wd() : "zh-tw" === _2 ? "不影響市場價格可以部署的最大資本金額" : "metric_description_liquidity_capacity";
}, zh_tw_metric_description_liquidity_disposalstockratio2 = () => "可以輕易出售的股票比率", xd = zh_tw_metric_description_liquidity_disposalstockratio2, metric_description_liquidity_disposalstockratio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? xd() : "zh-tw" === _2 ? "可以輕易出售的股票比率" : "metric_description_liquidity_disposalStockRatio";
}, zh_tw_metric_description_liquidity_warningstockratio2 = () => "可能存在流動性問題的股票比率", Td = zh_tw_metric_description_liquidity_warningstockratio2, metric_description_liquidity_warningstockratio2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Td() : "zh-tw" === _2 ? "可能存在流動性問題的股票比率" : "metric_description_liquidity_warningStockRatio";
}, zh_tw_metric_description_liquidity_fulldeliverystockratio3 = () => "需要全額交付的股票比率", Ed = zh_tw_metric_description_liquidity_fulldeliverystockratio3, metric_description_liquidity_fulldeliverystockratio3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ed() : "zh-tw" === _2 ? "需要全額交付的股票比率" : "metric_description_liquidity_fullDeliveryStockRatio";
}, zh_tw_metric_description_liquidity_buyhigh1 = () => "購買高價股票的傾向", Pd = zh_tw_metric_description_liquidity_buyhigh1, metric_description_liquidity_buyhigh1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Pd() : "zh-tw" === _2 ? "購買高價股票的傾向" : "metric_description_liquidity_buyHigh";
}, zh_tw_metric_description_liquidity_selllow1 = () => "賣出低價股票的傾向", Id = zh_tw_metric_description_liquidity_selllow1, metric_description_liquidity_selllow1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Id() : "zh-tw" === _2 ? "賣出低價股票的傾向" : "metric_description_liquidity_sellLow";
}, zh_tw_metrics_condition = () => "達成條件", Ad = zh_tw_metrics_condition, metrics_condition = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ad() : "zh-tw" === _2 ? "達成條件" : "metrics_condition";
}, zh_tw_strategy_code = () => "程式碼", Rd = zh_tw_strategy_code, strategy_code = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Rd() : "zh-tw" === _2 ? "程式碼" : "strategy_code";
}, zh_tw_strategy_return = () => "報酬", kd = zh_tw_strategy_return, strategy_return = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? kd() : "zh-tw" === _2 ? "報酬" : "strategy_return";
}, zh_tw_strategy_betterthanbenchmark2 = () => "贏大盤", Sd = zh_tw_strategy_betterthanbenchmark2, strategy_betterthanbenchmark2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Sd() : "zh-tw" === _2 ? "贏大盤" : "strategy_betterThanBenchmark";
}, zh_tw_strategy_worsethanbenchmark2 = () => "輸大盤", Cd = zh_tw_strategy_worsethanbenchmark2, strategy_worsethanbenchmark2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Cd() : "zh-tw" === _2 ? "輸大盤" : "strategy_worseThanBenchmark";
}, zh_tw_strategy_annualreturn1 = () => "年度報酬", Md = zh_tw_strategy_annualreturn1, strategy_annualreturn1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Md() : "zh-tw" === _2 ? "年度報酬" : "strategy_annualReturn";
}, zh_tw_strategy_maxdrawdown1 = () => "最大回檔", Vd = zh_tw_strategy_maxdrawdown1, strategy_maxdrawdown1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Vd() : "zh-tw" === _2 ? "最大回檔" : "strategy_maxDrawdown";
}, zh_tw_strategy_sharperatio1 = () => "夏普比率", Dd = zh_tw_strategy_sharperatio1, strategy_sharperatio1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Dd() : "zh-tw" === _2 ? "夏普比率" : "strategy_sharpeRatio";
}, zh_tw_strategy_period_w1 = () => "週", Od = zh_tw_strategy_period_w1, strategy_period_w1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Od() : "zh-tw" === _2 ? "週" : "strategy_period_W";
}, zh_tw_strategy_period_m1 = () => "月", Ld = zh_tw_strategy_period_m1, strategy_period_m1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ld() : "zh-tw" === _2 ? "月" : "strategy_period_M";
}, zh_tw_strategy_period_q1 = () => "季", Nd = zh_tw_strategy_period_q1, strategy_period_q1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Nd() : "zh-tw" === _2 ? "季" : "strategy_period_Q";
}, zh_tw_strategy_period_hy2 = () => "半年", $d = zh_tw_strategy_period_hy2, strategy_period_hy2 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? $d() : "zh-tw" === _2 ? "半年" : "strategy_period_HY";
}, zh_tw_strategy_period_y1 = () => "年", Fd = zh_tw_strategy_period_y1, strategy_period_y1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Fd() : "zh-tw" === _2 ? "年" : "strategy_period_Y";
}, zh_tw_strategy_period_all1 = () => "全部", zd = zh_tw_strategy_period_all1, strategy_period_all1 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? zd() : "zh-tw" === _2 ? "全部" : "strategy_period_All";
}, zh_tw_strategy_tabs_position = () => "選股", Bd = zh_tw_strategy_tabs_position, strategy_tabs_position = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Bd() : "zh-tw" === _2 ? "選股" : "strategy_tabs_position";
}, zh_tw_strategy_tabs_analyze = () => "分析", Ud = zh_tw_strategy_tabs_analyze, strategy_tabs_analyze = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Ud() : "zh-tw" === _2 ? "分析" : "strategy_tabs_analyze";
}, zh_tw_strategy_tabs_course = () => "教學", Wd = zh_tw_strategy_tabs_course, strategy_tabs_course = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Wd() : "zh-tw" === _2 ? "教學" : "strategy_tabs_course";
}, zh_tw_position_resamplevalue_w_mon3 = () => "每週一", qd = zh_tw_position_resamplevalue_w_mon3, position_resamplevalue_w_mon3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? qd() : "zh-tw" === _2 ? "每週一" : "position_resampleValue_W_Mon";
}, zh_tw_position_resamplevalue_w_tue3 = () => "每週二", Hd = zh_tw_position_resamplevalue_w_tue3, position_resamplevalue_w_tue3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Hd() : "zh-tw" === _2 ? "每週二" : "position_resampleValue_W_Tue";
}, zh_tw_position_resamplevalue_w_wed3 = () => "每週三", Kd = zh_tw_position_resamplevalue_w_wed3, position_resamplevalue_w_wed3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Kd() : "zh-tw" === _2 ? "每週三" : "position_resampleValue_W_Wed";
}, zh_tw_position_resamplevalue_w_thu3 = () => "每週四", Gd = zh_tw_position_resamplevalue_w_thu3, position_resamplevalue_w_thu3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Gd() : "zh-tw" === _2 ? "每週四" : "position_resampleValue_W_Thu";
}, zh_tw_position_resamplevalue_w_fri3 = () => "每週五", Yd = zh_tw_position_resamplevalue_w_fri3, position_resamplevalue_w_fri3 = (d2 = {}, g2 = {}) => {
  const _2 = g2.locale ?? getLocale();
  return "en" === _2 ? Yd() : "zh-tw" === _2 ? "每週五" : "position_resampleValue_W_Fri";
}, Qd = Object.freeze(Object.defineProperty({ __proto__: null, actionButton: actionbutton1, average, benchmark, metric_description_backtest_endDate: metric_description_backtest_enddate1, metric_description_backtest_feeRatio: metric_description_backtest_feeratio1, metric_description_backtest_freq, metric_description_backtest_livePerformanceStart: metric_description_backtest_liveperformancestart2, metric_description_backtest_market, metric_description_backtest_nextTradingDate: metric_description_backtest_nexttradingdate2, metric_description_backtest_startDate: metric_description_backtest_startdate1, metric_description_backtest_stopLoss: metric_description_backtest_stoploss1, metric_description_backtest_takeProfit: metric_description_backtest_takeprofit1, metric_description_backtest_taxRatio: metric_description_backtest_taxratio1, metric_description_backtest_tradeAt: metric_description_backtest_tradeat1, metric_description_backtest_updateDate: metric_description_backtest_updatedate1, metric_description_backtest_version, metric_description_liquidity_buyHigh: metric_description_liquidity_buyhigh1, metric_description_liquidity_capacity, metric_description_liquidity_disposalStockRatio: metric_description_liquidity_disposalstockratio2, metric_description_liquidity_fullDeliveryStockRatio: metric_description_liquidity_fulldeliverystockratio3, metric_description_liquidity_sellLow: metric_description_liquidity_selllow1, metric_description_liquidity_warningStockRatio: metric_description_liquidity_warningstockratio2, metric_description_profitability_alpha, metric_description_profitability_annualReturn: metric_description_profitability_annualreturn1, metric_description_profitability_avgNStock: metric_description_profitability_avgnstock2, metric_description_profitability_beta, metric_description_profitability_maxNStock: metric_description_profitability_maxnstock2, metric_description_ratio_calmarRatio: metric_description_ratio_calmarratio1, metric_description_ratio_profitFactor: metric_description_ratio_profitfactor1, metric_description_ratio_sharpeRatio: metric_description_ratio_sharperatio1, metric_description_ratio_sortinoRatio: metric_description_ratio_sortinoratio1, metric_description_ratio_tailRatio: metric_description_ratio_tailratio1, metric_description_risk_avgDrawdown: metric_description_risk_avgdrawdown1, metric_description_risk_avgDrawdownDays: metric_description_risk_avgdrawdowndays2, metric_description_risk_cvalueAtRisk: metric_description_risk_cvalueatrisk2, metric_description_risk_maxDrawdown: metric_description_risk_maxdrawdown1, metric_description_risk_valueAtRisk: metric_description_risk_valueatrisk2, metric_description_risk_volatility, metric_description_winrate_expectancy, metric_description_winrate_m12WinRate: metric_description_winrate_m12winrate2, metric_description_winrate_mae, metric_description_winrate_mfe, metric_description_winrate_winRate: metric_description_winrate_winrate1, metrics_backtest_endDate: metrics_backtest_enddate1, metrics_backtest_feeRatio: metrics_backtest_feeratio1, metrics_backtest_freq, metrics_backtest_livePerformanceStart: metrics_backtest_liveperformancestart2, metrics_backtest_market, metrics_backtest_nextTradingDate: metrics_backtest_nexttradingdate2, metrics_backtest_startDate: metrics_backtest_startdate1, metrics_backtest_stopLoss: metrics_backtest_stoploss1, metrics_backtest_takeProfit: metrics_backtest_takeprofit1, metrics_backtest_taxRatio: metrics_backtest_taxratio1, metrics_backtest_tradeAt: metrics_backtest_tradeat1, metrics_backtest_updateDate: metrics_backtest_updatedate1, metrics_backtest_version, metrics_condition, metrics_liquidity_averageReturn: metrics_liquidity_averagereturn1, metrics_liquidity_buyHigh: metrics_liquidity_buyhigh1, metrics_liquidity_capacity, metrics_liquidity_disposalStockRatio: metrics_liquidity_disposalstockratio2, metrics_liquidity_entryVolume: metrics_liquidity_entryvolume1, metrics_liquidity_entryVolumeDescription: metrics_liquidity_entryvolumedescription2, metrics_liquidity_exitVolume: metrics_liquidity_exitvolume1, metrics_liquidity_exitVolumeDescription: metrics_liquidity_exitvolumedescription2, metrics_liquidity_fullDeliveryStockRatio: metrics_liquidity_fulldeliverystockratio3, metrics_liquidity_marketCap: metrics_liquidity_marketcap1, metrics_liquidity_marketCapDescription: metrics_liquidity_marketcapdescription2, metrics_liquidity_marketCapThreshold: metrics_liquidity_marketcapthreshold2, metrics_liquidity_portfolioCapacity: metrics_liquidity_portfoliocapacity1, metrics_liquidity_portfolioCapacityDescription: metrics_liquidity_portfoliocapacitydescription2, metrics_liquidity_safeLiquidityTradeRatio: metrics_liquidity_safeliquiditytraderatio3, metrics_liquidity_sellLow: metrics_liquidity_selllow1, metrics_liquidity_smallCapRatio: metrics_liquidity_smallcapratio2, metrics_liquidity_totalInvestment: metrics_liquidity_totalinvestment1, metrics_liquidity_tradeRatio: metrics_liquidity_traderatio1, metrics_liquidity_tradeRatioEntryVolume: metrics_liquidity_traderatioentryvolume3, metrics_liquidity_tradeRatioExitVolume: metrics_liquidity_traderatioexitvolume3, metrics_liquidity_tradeRatioMarketCap: metrics_liquidity_traderatiomarketcap3, metrics_liquidity_volumeThreshold: metrics_liquidity_volumethreshold1, metrics_liquidity_warningStockRatio: metrics_liquidity_warningstockratio2, metrics_profitability_alpha, metrics_profitability_annualReturn: metrics_profitability_annualreturn1, metrics_profitability_avgNStock: metrics_profitability_avgnstock2, metrics_profitability_beta, metrics_profitability_maxNStock: metrics_profitability_maxnstock2, metrics_ratio_betterThanBenchmark: metrics_ratio_betterthanbenchmark2, metrics_ratio_calmarRatio: metrics_ratio_calmarratio1, metrics_ratio_profitFactor: metrics_ratio_profitfactor1, metrics_ratio_rollingTailRatio: metrics_ratio_rollingtailratio2, metrics_ratio_sharpeRatio: metrics_ratio_sharperatio1, metrics_ratio_sortinoRatio: metrics_ratio_sortinoratio1, metrics_ratio_tailRatio: metrics_ratio_tailratio1, metrics_ratio_timeBetterThanBenchmark: metrics_ratio_timebetterthanbenchmark3, metrics_ratio_volatility, metrics_ratio_worseThanBenchmark: metrics_ratio_worsethanbenchmark2, metrics_ratio_year, metrics_ratio_yearlySharpeRatio: metrics_ratio_yearlysharperatio2, metrics_ratio_yearlyTailRatio: metrics_ratio_yearlytailratio2, metrics_risk_avgDrawdown: metrics_risk_avgdrawdown1, metrics_risk_avgDrawdownDays: metrics_risk_avgdrawdowndays2, metrics_risk_cvalueAtRisk: metrics_risk_cvalueatrisk2, metrics_risk_days, metrics_risk_maxDrawdown: metrics_risk_maxdrawdown1, metrics_risk_newHighTimeRank: metrics_risk_newhightimerank3, metrics_risk_valueAtRisk: metrics_risk_valueatrisk2, metrics_risk_volatility, metrics_risk_worst10Benchmark: metrics_risk_worst10benchmark1, metrics_risk_worst10Strategy: metrics_risk_worst10strategy1, metrics_risk_worstDrawdownPeriod: metrics_risk_worstdrawdownperiod2, metrics_stocks_bmfe, metrics_stocks_entry, metrics_stocks_entryPrice: metrics_stocks_entryprice1, metrics_stocks_entrySig: metrics_stocks_entrysig1, metrics_stocks_exit, metrics_stocks_exitPrice: metrics_stocks_exitprice1, metrics_stocks_exitSig: metrics_stocks_exitsig1, metrics_stocks_gmfe, metrics_stocks_mae, metrics_stocks_mdd, metrics_stocks_pdays, metrics_stocks_position, metrics_stocks_return, metrics_stocks_stockId: metrics_stocks_stockid1, metrics_winrate_distributionInfo1: metrics_winrate_distributioninfo11, metrics_winrate_distributionInfo2: metrics_winrate_distributioninfo21, metrics_winrate_expectancy, metrics_winrate_extraProfitLoss: metrics_winrate_extraprofitloss2, metrics_winrate_extraProfitLossTakingProfit: metrics_winrate_extraprofitlosstakingprofit4, metrics_winrate_m12WinRate: metrics_winrate_m12winrate2, metrics_winrate_mae, metrics_winrate_maeReturn: metrics_winrate_maereturn1, metrics_winrate_maemfe, metrics_winrate_mfe, metrics_winrate_mfeReturn: metrics_winrate_mfereturn1, metrics_winrate_none, metrics_winrate_return, metrics_winrate_returnDistribution: metrics_winrate_returndistribution1, metrics_winrate_simulatedStopLoss: metrics_winrate_simulatedstoploss2, metrics_winrate_simulatedTakeProfit: metrics_winrate_simulatedtakeprofit2, metrics_winrate_stoploss, metrics_winrate_stoplossRatio: metrics_winrate_stoplossratio1, metrics_winrate_takeProfit: metrics_winrate_takeprofit1, metrics_winrate_takeProfitRatio: metrics_winrate_takeprofitratio2, metrics_winrate_winRate: metrics_winrate_winrate1, notebook_category_ai, notebook_category_algorithm, notebook_category_indicator, notebook_category_market, notebook_category_metric, notebook_category_python, notebook_category_tool, notebook_go_public, notebook_private_draft, notebook_save_draft, notebook_update_public, position_RSV: position_rsv3, position_action, position_assetName: position_assetname1, position_close, position_created, position_currentPrice: position_currentprice1, position_currentWeight: position_currentweight1, position_dataFreq: position_datafreq1, position_entryDate: position_entrydate1, position_entryTradePrice: position_entrytradeprice2, position_exitDate: position_exitdate1, position_exitTradePrice: position_exittradeprice2, position_high_low_avg, position_nextWeight: position_nextweight1, position_open, position_open_close_avg, position_profit, position_resample, position_resampleValue_2M: position_resamplevalue_2m2, position_resampleValue_2W: position_resamplevalue_2w2, position_resampleValue_30M: position_resamplevalue_30m2, position_resampleValue_3W: position_resamplevalue_3w2, position_resampleValue_4H: position_resamplevalue_4h2, position_resampleValue_4W: position_resamplevalue_4w2, position_resampleValue_8H: position_resamplevalue_8h2, position_resampleValue_D: position_resamplevalue_d2, position_resampleValue_H: position_resamplevalue_h2, position_resampleValue_HY: position_resamplevalue_hy3, position_resampleValue_M: position_resamplevalue_m2, position_resampleValue_ME: position_resamplevalue_me3, position_resampleValue_MRE: position_resamplevalue_mre4, position_resampleValue_Q: position_resamplevalue_q2, position_resampleValue_QE: position_resamplevalue_qe3, position_resampleValue_W: position_resamplevalue_w2, position_resampleValue_W_Fri: position_resamplevalue_w_fri3, position_resampleValue_W_Mon: position_resamplevalue_w_mon3, position_resampleValue_W_Thu: position_resamplevalue_w_thu3, position_resampleValue_W_Tue: position_resamplevalue_w_tue3, position_resampleValue_W_Wed: position_resamplevalue_w_wed3, position_resampleValue_Y: position_resamplevalue_y2, position_resampleValue_null: position_resamplevalue_null1, position_scheduled, position_sl, position_tp, position_ts, position_type_entry, position_type_entry_f, position_type_exit, position_type_exit_p, position_type_hold, position_type_sl, position_type_sl_, position_type_tp, position_type_tp_, profitability_YearlyCompareWithBenchmark: profitability_yearlycomparewithbenchmark4, profitability_all, profitability_avgMonthlyReturn: profitability_avgmonthlyreturn2, profitability_benchmarkYearlyReturn: profitability_benchmarkyearlyreturn2, profitability_exceedReturn: profitability_exceedreturn1, profitability_historicalReturn: profitability_historicalreturn1, profitability_monthlyReturn: profitability_monthlyreturn1, profitability_monthlyWinRatio: profitability_monthlywinratio2, profitability_recent, profitability_stockList: profitability_stocklist1, profitability_year, profitability_yearlyReturn: profitability_yearlyreturn1, profitability_yearlyWinRate: profitability_yearlywinrate2, risk_drawdowPeriods: risk_drawdowperiods1, risk_drawdownPercentage: risk_drawdownpercentage1, strategy, strategy_annualReturn: strategy_annualreturn1, strategy_betterThanBenchmark: strategy_betterthanbenchmark2, strategy_code, strategy_maxDrawdown: strategy_maxdrawdown1, strategy_period_All: strategy_period_all1, strategy_period_HY: strategy_period_hy2, strategy_period_M: strategy_period_m1, strategy_period_Q: strategy_period_q1, strategy_period_W: strategy_period_w1, strategy_period_Y: strategy_period_y1, strategy_return, strategy_sharpeRatio: strategy_sharperatio1, strategy_tabs_analyze, strategy_tabs_course, strategy_tabs_position, strategy_worseThanBenchmark: strategy_worsethanbenchmark2, subtitle, tabs_liquidity, tabs_profitability, tabs_ratio, tabs_risk, tabs_winrate, title }, Symbol.toStringTag, { value: "Module" })), Xd = Object.freeze(Object.defineProperty({ __proto__: null, actionButton: actionbutton1, average, benchmark, m: Qd, metric_description_backtest_endDate: metric_description_backtest_enddate1, metric_description_backtest_feeRatio: metric_description_backtest_feeratio1, metric_description_backtest_freq, metric_description_backtest_livePerformanceStart: metric_description_backtest_liveperformancestart2, metric_description_backtest_market, metric_description_backtest_nextTradingDate: metric_description_backtest_nexttradingdate2, metric_description_backtest_startDate: metric_description_backtest_startdate1, metric_description_backtest_stopLoss: metric_description_backtest_stoploss1, metric_description_backtest_takeProfit: metric_description_backtest_takeprofit1, metric_description_backtest_taxRatio: metric_description_backtest_taxratio1, metric_description_backtest_tradeAt: metric_description_backtest_tradeat1, metric_description_backtest_updateDate: metric_description_backtest_updatedate1, metric_description_backtest_version, metric_description_liquidity_buyHigh: metric_description_liquidity_buyhigh1, metric_description_liquidity_capacity, metric_description_liquidity_disposalStockRatio: metric_description_liquidity_disposalstockratio2, metric_description_liquidity_fullDeliveryStockRatio: metric_description_liquidity_fulldeliverystockratio3, metric_description_liquidity_sellLow: metric_description_liquidity_selllow1, metric_description_liquidity_warningStockRatio: metric_description_liquidity_warningstockratio2, metric_description_profitability_alpha, metric_description_profitability_annualReturn: metric_description_profitability_annualreturn1, metric_description_profitability_avgNStock: metric_description_profitability_avgnstock2, metric_description_profitability_beta, metric_description_profitability_maxNStock: metric_description_profitability_maxnstock2, metric_description_ratio_calmarRatio: metric_description_ratio_calmarratio1, metric_description_ratio_profitFactor: metric_description_ratio_profitfactor1, metric_description_ratio_sharpeRatio: metric_description_ratio_sharperatio1, metric_description_ratio_sortinoRatio: metric_description_ratio_sortinoratio1, metric_description_ratio_tailRatio: metric_description_ratio_tailratio1, metric_description_risk_avgDrawdown: metric_description_risk_avgdrawdown1, metric_description_risk_avgDrawdownDays: metric_description_risk_avgdrawdowndays2, metric_description_risk_cvalueAtRisk: metric_description_risk_cvalueatrisk2, metric_description_risk_maxDrawdown: metric_description_risk_maxdrawdown1, metric_description_risk_valueAtRisk: metric_description_risk_valueatrisk2, metric_description_risk_volatility, metric_description_winrate_expectancy, metric_description_winrate_m12WinRate: metric_description_winrate_m12winrate2, metric_description_winrate_mae, metric_description_winrate_mfe, metric_description_winrate_winRate: metric_description_winrate_winrate1, metrics_backtest_endDate: metrics_backtest_enddate1, metrics_backtest_feeRatio: metrics_backtest_feeratio1, metrics_backtest_freq, metrics_backtest_livePerformanceStart: metrics_backtest_liveperformancestart2, metrics_backtest_market, metrics_backtest_nextTradingDate: metrics_backtest_nexttradingdate2, metrics_backtest_startDate: metrics_backtest_startdate1, metrics_backtest_stopLoss: metrics_backtest_stoploss1, metrics_backtest_takeProfit: metrics_backtest_takeprofit1, metrics_backtest_taxRatio: metrics_backtest_taxratio1, metrics_backtest_tradeAt: metrics_backtest_tradeat1, metrics_backtest_updateDate: metrics_backtest_updatedate1, metrics_backtest_version, metrics_condition, metrics_liquidity_averageReturn: metrics_liquidity_averagereturn1, metrics_liquidity_buyHigh: metrics_liquidity_buyhigh1, metrics_liquidity_capacity, metrics_liquidity_disposalStockRatio: metrics_liquidity_disposalstockratio2, metrics_liquidity_entryVolume: metrics_liquidity_entryvolume1, metrics_liquidity_entryVolumeDescription: metrics_liquidity_entryvolumedescription2, metrics_liquidity_exitVolume: metrics_liquidity_exitvolume1, metrics_liquidity_exitVolumeDescription: metrics_liquidity_exitvolumedescription2, metrics_liquidity_fullDeliveryStockRatio: metrics_liquidity_fulldeliverystockratio3, metrics_liquidity_marketCap: metrics_liquidity_marketcap1, metrics_liquidity_marketCapDescription: metrics_liquidity_marketcapdescription2, metrics_liquidity_marketCapThreshold: metrics_liquidity_marketcapthreshold2, metrics_liquidity_portfolioCapacity: metrics_liquidity_portfoliocapacity1, metrics_liquidity_portfolioCapacityDescription: metrics_liquidity_portfoliocapacitydescription2, metrics_liquidity_safeLiquidityTradeRatio: metrics_liquidity_safeliquiditytraderatio3, metrics_liquidity_sellLow: metrics_liquidity_selllow1, metrics_liquidity_smallCapRatio: metrics_liquidity_smallcapratio2, metrics_liquidity_totalInvestment: metrics_liquidity_totalinvestment1, metrics_liquidity_tradeRatio: metrics_liquidity_traderatio1, metrics_liquidity_tradeRatioEntryVolume: metrics_liquidity_traderatioentryvolume3, metrics_liquidity_tradeRatioExitVolume: metrics_liquidity_traderatioexitvolume3, metrics_liquidity_tradeRatioMarketCap: metrics_liquidity_traderatiomarketcap3, metrics_liquidity_volumeThreshold: metrics_liquidity_volumethreshold1, metrics_liquidity_warningStockRatio: metrics_liquidity_warningstockratio2, metrics_profitability_alpha, metrics_profitability_annualReturn: metrics_profitability_annualreturn1, metrics_profitability_avgNStock: metrics_profitability_avgnstock2, metrics_profitability_beta, metrics_profitability_maxNStock: metrics_profitability_maxnstock2, metrics_ratio_betterThanBenchmark: metrics_ratio_betterthanbenchmark2, metrics_ratio_calmarRatio: metrics_ratio_calmarratio1, metrics_ratio_profitFactor: metrics_ratio_profitfactor1, metrics_ratio_rollingTailRatio: metrics_ratio_rollingtailratio2, metrics_ratio_sharpeRatio: metrics_ratio_sharperatio1, metrics_ratio_sortinoRatio: metrics_ratio_sortinoratio1, metrics_ratio_tailRatio: metrics_ratio_tailratio1, metrics_ratio_timeBetterThanBenchmark: metrics_ratio_timebetterthanbenchmark3, metrics_ratio_volatility, metrics_ratio_worseThanBenchmark: metrics_ratio_worsethanbenchmark2, metrics_ratio_year, metrics_ratio_yearlySharpeRatio: metrics_ratio_yearlysharperatio2, metrics_ratio_yearlyTailRatio: metrics_ratio_yearlytailratio2, metrics_risk_avgDrawdown: metrics_risk_avgdrawdown1, metrics_risk_avgDrawdownDays: metrics_risk_avgdrawdowndays2, metrics_risk_cvalueAtRisk: metrics_risk_cvalueatrisk2, metrics_risk_days, metrics_risk_maxDrawdown: metrics_risk_maxdrawdown1, metrics_risk_newHighTimeRank: metrics_risk_newhightimerank3, metrics_risk_valueAtRisk: metrics_risk_valueatrisk2, metrics_risk_volatility, metrics_risk_worst10Benchmark: metrics_risk_worst10benchmark1, metrics_risk_worst10Strategy: metrics_risk_worst10strategy1, metrics_risk_worstDrawdownPeriod: metrics_risk_worstdrawdownperiod2, metrics_stocks_bmfe, metrics_stocks_entry, metrics_stocks_entryPrice: metrics_stocks_entryprice1, metrics_stocks_entrySig: metrics_stocks_entrysig1, metrics_stocks_exit, metrics_stocks_exitPrice: metrics_stocks_exitprice1, metrics_stocks_exitSig: metrics_stocks_exitsig1, metrics_stocks_gmfe, metrics_stocks_mae, metrics_stocks_mdd, metrics_stocks_pdays, metrics_stocks_position, metrics_stocks_return, metrics_stocks_stockId: metrics_stocks_stockid1, metrics_winrate_distributionInfo1: metrics_winrate_distributioninfo11, metrics_winrate_distributionInfo2: metrics_winrate_distributioninfo21, metrics_winrate_expectancy, metrics_winrate_extraProfitLoss: metrics_winrate_extraprofitloss2, metrics_winrate_extraProfitLossTakingProfit: metrics_winrate_extraprofitlosstakingprofit4, metrics_winrate_m12WinRate: metrics_winrate_m12winrate2, metrics_winrate_mae, metrics_winrate_maeReturn: metrics_winrate_maereturn1, metrics_winrate_maemfe, metrics_winrate_mfe, metrics_winrate_mfeReturn: metrics_winrate_mfereturn1, metrics_winrate_none, metrics_winrate_return, metrics_winrate_returnDistribution: metrics_winrate_returndistribution1, metrics_winrate_simulatedStopLoss: metrics_winrate_simulatedstoploss2, metrics_winrate_simulatedTakeProfit: metrics_winrate_simulatedtakeprofit2, metrics_winrate_stoploss, metrics_winrate_stoplossRatio: metrics_winrate_stoplossratio1, metrics_winrate_takeProfit: metrics_winrate_takeprofit1, metrics_winrate_takeProfitRatio: metrics_winrate_takeprofitratio2, metrics_winrate_winRate: metrics_winrate_winrate1, notebook_category_ai, notebook_category_algorithm, notebook_category_indicator, notebook_category_market, notebook_category_metric, notebook_category_python, notebook_category_tool, notebook_go_public, notebook_private_draft, notebook_save_draft, notebook_update_public, position_RSV: position_rsv3, position_action, position_assetName: position_assetname1, position_close, position_created, position_currentPrice: position_currentprice1, position_currentWeight: position_currentweight1, position_dataFreq: position_datafreq1, position_entryDate: position_entrydate1, position_entryTradePrice: position_entrytradeprice2, position_exitDate: position_exitdate1, position_exitTradePrice: position_exittradeprice2, position_high_low_avg, position_nextWeight: position_nextweight1, position_open, position_open_close_avg, position_profit, position_resample, position_resampleValue_2M: position_resamplevalue_2m2, position_resampleValue_2W: position_resamplevalue_2w2, position_resampleValue_30M: position_resamplevalue_30m2, position_resampleValue_3W: position_resamplevalue_3w2, position_resampleValue_4H: position_resamplevalue_4h2, position_resampleValue_4W: position_resamplevalue_4w2, position_resampleValue_8H: position_resamplevalue_8h2, position_resampleValue_D: position_resamplevalue_d2, position_resampleValue_H: position_resamplevalue_h2, position_resampleValue_HY: position_resamplevalue_hy3, position_resampleValue_M: position_resamplevalue_m2, position_resampleValue_ME: position_resamplevalue_me3, position_resampleValue_MRE: position_resamplevalue_mre4, position_resampleValue_Q: position_resamplevalue_q2, position_resampleValue_QE: position_resamplevalue_qe3, position_resampleValue_W: position_resamplevalue_w2, position_resampleValue_W_Fri: position_resamplevalue_w_fri3, position_resampleValue_W_Mon: position_resamplevalue_w_mon3, position_resampleValue_W_Thu: position_resamplevalue_w_thu3, position_resampleValue_W_Tue: position_resamplevalue_w_tue3, position_resampleValue_W_Wed: position_resamplevalue_w_wed3, position_resampleValue_Y: position_resamplevalue_y2, position_resampleValue_null: position_resamplevalue_null1, position_scheduled, position_sl, position_tp, position_ts, position_type_entry, position_type_entry_f, position_type_exit, position_type_exit_p, position_type_hold, position_type_sl, position_type_sl_, position_type_tp, position_type_tp_, profitability_YearlyCompareWithBenchmark: profitability_yearlycomparewithbenchmark4, profitability_all, profitability_avgMonthlyReturn: profitability_avgmonthlyreturn2, profitability_benchmarkYearlyReturn: profitability_benchmarkyearlyreturn2, profitability_exceedReturn: profitability_exceedreturn1, profitability_historicalReturn: profitability_historicalreturn1, profitability_monthlyReturn: profitability_monthlyreturn1, profitability_monthlyWinRatio: profitability_monthlywinratio2, profitability_recent, profitability_stockList: profitability_stocklist1, profitability_year, profitability_yearlyReturn: profitability_yearlyreturn1, profitability_yearlyWinRate: profitability_yearlywinrate2, risk_drawdowPeriods: risk_drawdowperiods1, risk_drawdownPercentage: risk_drawdownpercentage1, strategy, strategy_annualReturn: strategy_annualreturn1, strategy_betterThanBenchmark: strategy_betterthanbenchmark2, strategy_code, strategy_maxDrawdown: strategy_maxdrawdown1, strategy_period_All: strategy_period_all1, strategy_period_HY: strategy_period_hy2, strategy_period_M: strategy_period_m1, strategy_period_Q: strategy_period_q1, strategy_period_W: strategy_period_w1, strategy_period_Y: strategy_period_y1, strategy_return, strategy_sharpeRatio: strategy_sharperatio1, strategy_tabs_analyze, strategy_tabs_course, strategy_tabs_position, strategy_worseThanBenchmark: strategy_worsethanbenchmark2, subtitle, tabs_liquidity, tabs_profitability, tabs_ratio, tabs_risk, tabs_winrate, title }, Symbol.toStringTag, { value: "Module" }));
var Jd = function reactive_import(d2) {
  var g2 = source(0);
  return function() {
    return 1 === arguments.length ? (set$1(g2, get(g2) + 1), arguments[0]) : (get(g2), d2());
  };
}(() => Chart), Zd = template('<div class="grid grid-cols-6 mx-6 md:mx-12 gap-6 md:gap-12 lg:gap-24 text-base-content-200"><div class="col-span-6 md:col-span-3"><div class="text-base-content/70 font-light text-3xl mb-9 justify-center"> </div> <div class="card-content"><p class="font-light"> </p> <div class="flex mt-9"><p class="text-primary"> </p> <div class="flex-grow"></div> <p class="text-secondary"> </p></div> <canvas width="400" height="200"></canvas> <p class="mt-6 text-center"> </p></div></div> <div class="col-span-6 md:col-span-3"><div class="text-base-content/70 font-light text-3xl mb-9 justify-center"> </div> <div class="card-content"><p class="text-base-content-200 font-light"> </p> <div class="flex mt-9"><p class="text-primary"> </p> <div class="flex-grow"></div> <p class="text-secondary"> </p></div> <canvas width="400" height="200"></canvas> <p class="mt-6 text-center"> </p></div></div> <div class="col-span-6"><div class="flex flex-col justify-center items-center"><div><div class="text-base-content/70 font-light text-3xl mb-9 justify-center"> </div> <div class="card-content"><p class="font-light"> </p> <div class="flex mt-9"><p class="text-primary"> </p> <div class="flex-grow"></div> <p class="text-secondary"> </p></div> <canvas width="400" height="200"></canvas> <p class="text-center mt-6"> </p></div></div></div></div></div>');
function Liquidity(d2, g2) {
  push(g2, false);
  const i = (d3) => {
    const g3 = d3.replaceAll(".", "_");
    return Xd[g3] ? Xd[g3]() : g3;
  };
  Jd().register(LinearScale, BarController, CategoryScale, BarElement, LineController, LineElement, PointElement, Io), Jd(Jd().defaults.font.color = "red");
  let _2 = prop(g2, "browser", 12), O2 = prop(g2, "report", 12), $2 = prop(g2, "theme", 12, "light");
  function quantile(d3, g3) {
    const _3 = d3.filter((d4) => null !== d4);
    if (0 === _3.length) return 0;
    const O3 = _3.sort((d4, g4) => d4 - g4), $3 = (O3.length - 1) * g3, st3 = Math.floor($3), ot3 = $3 - st3;
    return void 0 !== O3[st3 + 1] ? O3[st3] + ot3 * (O3[st3 + 1] - O3[st3]) : O3[st3];
  }
  function calculatePortionAndMean(d3, g3, _3 = 5) {
    let O3 = {}, $3 = {};
    d3 = d3.filter((d4) => null !== d4[g3] && void 0 !== d4[g3]);
    for (let st3 of function generateList(d4, g4 = 5) {
      let _4 = [], O4 = [5, 10];
      for (; _4.length < d4; ) {
        for (let $4 of O4) if (_4.push($4 * Math.pow(10, g4)), _4.length === d4) break;
        g4 += 1;
      }
      return _4;
    }(100, _3)) {
      let _4 = d3.map((d4) => d4[g3]);
      _4.sort((d4, g4) => d4 - g4);
      let ot3 = _4.findIndex((d4) => d4 > st3) / _4.length, lt3 = d3.filter((d4) => d4[g3] > st3).map((d4) => d4.return);
      if (0 === ot3 && ($3 = {}, O3 = {}), $3[st3] = quantile(lt3, 0.5), O3[st3] = 1 - ot3, O3[st3] < 0.2) break;
    }
    return { portion: O3, mean: $3 };
  }
  function formatNumber2(d3, g3 = "zh") {
    return Math.abs(d3) >= 1e8 ? d3 / 1e8 + "億" : Math.abs(d3) >= 1e7 ? d3 / 1e7 + "千萬" : Math.abs(d3) >= 1e6 ? d3 / 1e6 + "百萬" : Math.abs(d3) >= 1e4 ? d3 / 1e4 + "萬" : d3;
  }
  function createChart(d3, g3, _3) {
    return new (Jd())(g3, { type: "bar", data: { labels: Object.keys(d3.portion), datasets: [{ label: "Data", data: Object.values(d3.portion), backgroundColor: "light" === $2() ? "#725bf5" : "#7a64f5", yAxisID: "y-axis-1", barPercentage: 0.2, order: 1 }, { label: "Line Data", data: Object.values(d3.mean), type: "line", fill: false, borderColor: "#f16365", borderWidth: 5, pointBackgroundColor: "#f16365", pointBorderColor: "#f16365", yAxisID: "y-axis-2", order: 0 }] }, options: { responsive: true, maintainAspectRatio: true, scales: { x: { type: "category", ticks: { color: "light" === $2() ? "#000000aa" : "#FFFFFFaa", callback: (g4) => formatNumber2(Object.keys(d3.portion)[g4], "zh") + _3 + "以上" }, grid: { color: "#77777755", tickBorderDash: [2, 2] } }, "y-axis-1": { display: true, position: "left", beginAtZero: true, ticks: { callback: (d4) => (100 * d4).toFixed(0) + "%", color: "light" === $2() ? "#000000aa" : "#FFFFFFaa" }, grid: { color: "#77777755", tickBorderDash: [2, 2] } }, "y-axis-2": { display: true, position: "right", ticks: { callback: (d4) => (100 * d4).toFixed(1) + "%", color: "light" === $2() ? "#000000aa" : "#FFFFFFaa" }, grid: { drawOnChartArea: false, color: "#77777755", tickBorderDash: [2, 2] } } }, plugins: { legend: { display: false } } } });
  }
  O2().trades.forEach((d3) => {
    d3.acceptMoneyFlow = (0.05 * d3["turnover@entry_date"] / d3.position + 0.05 * d3["turnover@entry_date"] / d3.position) / 2, d3["volume_@entry_date"] = d3["volume@entry_date"] / 1e3, d3["volume_@exit_date"] = d3["volume@exit_date"] / 1e3;
  });
  const st2 = calculatePortionAndMean(O2().trades, "acceptMoneyFlow", 5);
  calculatePortionAndMean(O2().trades, "market_value@entry_date", 5);
  const ot2 = calculatePortionAndMean(O2().trades, "volume_@entry_date", 1), lt2 = calculatePortionAndMean(O2().trades, "volume_@exit_date", 1);
  let ct2 = {}, ut2 = mutable_state({});
  function drawCharts() {
    ct2.moneyFlow && (ct2.moneyFlow.destroy(), delete ct2.moneyFlow);
    const d3 = get(ut2).moneyFlow.getContext("2d");
    ct2.moneyFlow = createChart(st2, d3, "元"), ct2.marketValue && (ct2.marketValue.destroy(), delete ct2.marketValue), ct2.entryVolume && ct2.entryVolume.destroy();
    const g3 = get(ut2).entryVolume.getContext("2d");
    ct2.entryVolume = createChart(ot2, g3, "張"), ct2.exitVolume && ct2.exitVolume.destroy();
    const _3 = get(ut2).exitVolume.getContext("2d");
    ct2.exitVolume = createChart(lt2, _3, "張");
  }
  let gt2 = mutable_state(false);
  onMount(() => {
    _2() && (drawCharts(), set$1(gt2, true));
  }), legacy_pre_effect(() => (deep_read_state($2()), get(gt2)), () => {
    $2() && get(gt2) && drawCharts();
  }), legacy_pre_effect_reset(), init();
  var mt2 = Zd(), bt2 = child(mt2), yt2 = child(bt2), wt2 = child(yt2, true);
  template_effect(() => set_text(wt2, i("metrics_liquidity_portfolioCapacity"))), reset(yt2);
  var Pt2 = sibling(yt2, 2), At2 = child(Pt2), St2 = child(At2, true);
  template_effect(() => set_text(St2, metrics_liquidity_portfoliocapacitydescription2({ v1: formatNumber2(Object.keys(st2.mean)[1], "zh"), v2: (100 * (1 - Object.values(st2.portion)[1])).toFixed(1) }))), reset(At2);
  var Mt2 = sibling(At2, 2), Vt2 = child(Mt2), Ot2 = child(Vt2, true);
  template_effect(() => set_text(Ot2, i("metrics.liquidity.safeLiquidityTradeRatio"))), reset(Vt2);
  var zt2 = sibling(Vt2, 4), Bt2 = child(zt2, true);
  template_effect(() => set_text(Bt2, i("metrics.liquidity.averageReturn"))), reset(zt2), reset(Mt2);
  var Zt2 = sibling(Mt2, 2);
  bind_this(Zt2, (d3) => mutate(ut2, get(ut2).moneyFlow = d3), () => {
    var _a3;
    return (_a3 = get(ut2)) == null ? void 0 : _a3.moneyFlow;
  });
  var ce2 = sibling(Zt2, 2), ue2 = child(ce2, true);
  template_effect(() => set_text(ue2, i("metrics.liquidity.totalInvestment"))), reset(ce2), reset(Pt2), reset(bt2);
  var de2 = sibling(bt2, 2), pe2 = child(de2), fe2 = child(pe2, true);
  template_effect(() => set_text(fe2, i("metrics.liquidity.entryVolume"))), reset(pe2);
  var ge2 = sibling(pe2, 2), ve2 = child(ge2), Ee2 = child(ve2, true);
  template_effect(() => set_text(Ee2, metrics_liquidity_entryvolumedescription2({ v1: formatNumber2(Object.keys(ot2.mean)[2]), v2: (100 * Object.values(ot2.portion)[2]).toFixed(1) }))), reset(ve2);
  var Ie2 = sibling(ve2, 2), Ae2 = child(Ie2), Re2 = child(Ae2, true);
  template_effect(() => set_text(Re2, i("metrics.liquidity.tradeRatio"))), reset(Ae2);
  var Ve2 = sibling(Ae2, 4), De2 = child(Ve2, true);
  template_effect(() => set_text(De2, i("metrics.liquidity.averageReturn"))), reset(Ve2), reset(Ie2);
  var Oe2 = sibling(Ie2, 2);
  bind_this(Oe2, (d3) => mutate(ut2, get(ut2).entryVolume = d3), () => {
    var _a3;
    return (_a3 = get(ut2)) == null ? void 0 : _a3.entryVolume;
  });
  var Le2 = sibling(Oe2, 2), Ne2 = child(Le2, true);
  template_effect(() => set_text(Ne2, i("metrics.liquidity.volumeThreshold"))), reset(Le2), reset(ge2), reset(de2);
  var $e2 = sibling(de2, 2), Fe2 = child($e2), ze2 = child(Fe2), Be2 = child(ze2), Ue2 = child(Be2, true);
  template_effect(() => set_text(Ue2, i("metrics.liquidity.exitVolume"))), reset(Be2);
  var We2 = sibling(Be2, 2), je2 = child(We2), qe2 = child(je2, true);
  template_effect(() => set_text(qe2, metrics_liquidity_exitvolumedescription2({ v1: formatNumber2(Object.keys(lt2.mean)[2]), v2: (100 * Object.values(lt2.portion)[2]).toFixed(1) }))), reset(je2);
  var He2 = sibling(je2, 2), Ke2 = child(He2), Ge2 = child(Ke2, true);
  template_effect(() => set_text(Ge2, i("metrics.liquidity.tradeRatioExitVolume"))), reset(Ke2);
  var Ye2 = sibling(Ke2, 4), Qe2 = child(Ye2, true);
  template_effect(() => set_text(Qe2, i("metrics.liquidity.averageReturn"))), reset(Ye2), reset(He2);
  var Xe2 = sibling(He2, 2);
  bind_this(Xe2, (d3) => mutate(ut2, get(ut2).exitVolume = d3), () => {
    var _a3;
    return (_a3 = get(ut2)) == null ? void 0 : _a3.exitVolume;
  });
  var Je2 = sibling(Xe2, 2), Ze2 = child(Je2, true);
  return template_effect(() => set_text(Ze2, i("metrics.liquidity.volumeThreshold"))), reset(Je2), reset(We2), reset(ze2), reset(Fe2), reset($e2), reset(mt2), append(d2, mt2), pop({ get browser() {
    return _2();
  }, set browser(d3) {
    _2(d3), flush_sync();
  }, get report() {
    return O2();
  }, set report(d3) {
    O2(d3), flush_sync();
  }, get theme() {
    return $2();
  }, set theme(d3) {
    $2(d3), flush_sync();
  } });
}
function size(d2) {
  var g2 = d2.width, _2 = d2.height;
  if (g2 < 0) throw new Error("Negative width is not allowed for Size");
  if (_2 < 0) throw new Error("Negative height is not allowed for Size");
  return { width: g2, height: _2 };
}
function equalSizes(d2, g2) {
  return d2.width === g2.width && d2.height === g2.height;
}
create_custom_element(Liquidity, { browser: {}, report: {}, theme: {} }, [], [], true);
var tp = function() {
  function Observable(d2) {
    var g2 = this;
    this._resolutionListener = function() {
      return g2._onResolutionChanged();
    }, this._resolutionMediaQueryList = null, this._observers = [], this._window = d2, this._installResolutionListener();
  }
  return Observable.prototype.dispose = function() {
    this._uninstallResolutionListener(), this._window = null;
  }, Object.defineProperty(Observable.prototype, "value", { get: function() {
    return this._window.devicePixelRatio;
  }, enumerable: false, configurable: true }), Observable.prototype.subscribe = function(d2) {
    var g2 = this, _2 = { next: d2 };
    return this._observers.push(_2), { unsubscribe: function() {
      g2._observers = g2._observers.filter(function(d3) {
        return d3 !== _2;
      });
    } };
  }, Observable.prototype._installResolutionListener = function() {
    if (null !== this._resolutionMediaQueryList) throw new Error("Resolution listener is already installed");
    var d2 = this._window.devicePixelRatio;
    this._resolutionMediaQueryList = this._window.matchMedia("all and (resolution: ".concat(d2, "dppx)")), this._resolutionMediaQueryList.addListener(this._resolutionListener);
  }, Observable.prototype._uninstallResolutionListener = function() {
    null !== this._resolutionMediaQueryList && (this._resolutionMediaQueryList.removeListener(this._resolutionListener), this._resolutionMediaQueryList = null);
  }, Observable.prototype._reinstallResolutionListener = function() {
    this._uninstallResolutionListener(), this._installResolutionListener();
  }, Observable.prototype._onResolutionChanged = function() {
    var d2 = this;
    this._observers.forEach(function(g2) {
      return g2.next(d2._window.devicePixelRatio);
    }), this._reinstallResolutionListener();
  }, Observable;
}();
var ep = function() {
  function DevicePixelContentBoxBinding(d2, g2, _2) {
    var O2;
    this._canvasElement = null, this._bitmapSizeChangedListeners = [], this._suggestedBitmapSize = null, this._suggestedBitmapSizeChangedListeners = [], this._devicePixelRatioObservable = null, this._canvasElementResizeObserver = null, this._canvasElement = d2, this._canvasElementClientSize = size({ width: this._canvasElement.clientWidth, height: this._canvasElement.clientHeight }), this._transformBitmapSize = null != g2 ? g2 : function(d3) {
      return d3;
    }, this._allowResizeObserver = null === (O2 = null == _2 ? void 0 : _2.allowResizeObserver) || void 0 === O2 || O2, this._chooseAndInitObserver();
  }
  return DevicePixelContentBoxBinding.prototype.dispose = function() {
    var d2, g2;
    if (null === this._canvasElement) throw new Error("Object is disposed");
    null === (d2 = this._canvasElementResizeObserver) || void 0 === d2 || d2.disconnect(), this._canvasElementResizeObserver = null, null === (g2 = this._devicePixelRatioObservable) || void 0 === g2 || g2.dispose(), this._devicePixelRatioObservable = null, this._suggestedBitmapSizeChangedListeners.length = 0, this._bitmapSizeChangedListeners.length = 0, this._canvasElement = null;
  }, Object.defineProperty(DevicePixelContentBoxBinding.prototype, "canvasElement", { get: function() {
    if (null === this._canvasElement) throw new Error("Object is disposed");
    return this._canvasElement;
  }, enumerable: false, configurable: true }), Object.defineProperty(DevicePixelContentBoxBinding.prototype, "canvasElementClientSize", { get: function() {
    return this._canvasElementClientSize;
  }, enumerable: false, configurable: true }), Object.defineProperty(DevicePixelContentBoxBinding.prototype, "bitmapSize", { get: function() {
    return size({ width: this.canvasElement.width, height: this.canvasElement.height });
  }, enumerable: false, configurable: true }), DevicePixelContentBoxBinding.prototype.resizeCanvasElement = function(d2) {
    this._canvasElementClientSize = size(d2), this.canvasElement.style.width = "".concat(this._canvasElementClientSize.width, "px"), this.canvasElement.style.height = "".concat(this._canvasElementClientSize.height, "px"), this._invalidateBitmapSize();
  }, DevicePixelContentBoxBinding.prototype.subscribeBitmapSizeChanged = function(d2) {
    this._bitmapSizeChangedListeners.push(d2);
  }, DevicePixelContentBoxBinding.prototype.unsubscribeBitmapSizeChanged = function(d2) {
    this._bitmapSizeChangedListeners = this._bitmapSizeChangedListeners.filter(function(g2) {
      return g2 !== d2;
    });
  }, Object.defineProperty(DevicePixelContentBoxBinding.prototype, "suggestedBitmapSize", { get: function() {
    return this._suggestedBitmapSize;
  }, enumerable: false, configurable: true }), DevicePixelContentBoxBinding.prototype.subscribeSuggestedBitmapSizeChanged = function(d2) {
    this._suggestedBitmapSizeChangedListeners.push(d2);
  }, DevicePixelContentBoxBinding.prototype.unsubscribeSuggestedBitmapSizeChanged = function(d2) {
    this._suggestedBitmapSizeChangedListeners = this._suggestedBitmapSizeChangedListeners.filter(function(g2) {
      return g2 !== d2;
    });
  }, DevicePixelContentBoxBinding.prototype.applySuggestedBitmapSize = function() {
    if (null !== this._suggestedBitmapSize) {
      var d2 = this._suggestedBitmapSize;
      this._suggestedBitmapSize = null, this._resizeBitmap(d2), this._emitSuggestedBitmapSizeChanged(d2, this._suggestedBitmapSize);
    }
  }, DevicePixelContentBoxBinding.prototype._resizeBitmap = function(d2) {
    var g2 = this.bitmapSize;
    equalSizes(g2, d2) || (this.canvasElement.width = d2.width, this.canvasElement.height = d2.height, this._emitBitmapSizeChanged(g2, d2));
  }, DevicePixelContentBoxBinding.prototype._emitBitmapSizeChanged = function(d2, g2) {
    var _2 = this;
    this._bitmapSizeChangedListeners.forEach(function(O2) {
      return O2.call(_2, d2, g2);
    });
  }, DevicePixelContentBoxBinding.prototype._suggestNewBitmapSize = function(d2) {
    var g2 = this._suggestedBitmapSize, _2 = size(this._transformBitmapSize(d2, this._canvasElementClientSize)), O2 = equalSizes(this.bitmapSize, _2) ? null : _2;
    null === g2 && null === O2 || null !== g2 && null !== O2 && equalSizes(g2, O2) || (this._suggestedBitmapSize = O2, this._emitSuggestedBitmapSizeChanged(g2, O2));
  }, DevicePixelContentBoxBinding.prototype._emitSuggestedBitmapSizeChanged = function(d2, g2) {
    var _2 = this;
    this._suggestedBitmapSizeChangedListeners.forEach(function(O2) {
      return O2.call(_2, d2, g2);
    });
  }, DevicePixelContentBoxBinding.prototype._chooseAndInitObserver = function() {
    var d2 = this;
    this._allowResizeObserver ? function isDevicePixelContentBoxSupported() {
      return new Promise(function(d3) {
        var g2 = new ResizeObserver(function(_2) {
          d3(_2.every(function(d4) {
            return "devicePixelContentBoxSize" in d4;
          })), g2.disconnect();
        });
        g2.observe(document.body, { box: "device-pixel-content-box" });
      }).catch(function() {
        return false;
      });
    }().then(function(g2) {
      return g2 ? d2._initResizeObserver() : d2._initDevicePixelRatioObservable();
    }) : this._initDevicePixelRatioObservable();
  }, DevicePixelContentBoxBinding.prototype._initDevicePixelRatioObservable = function() {
    var d2 = this;
    if (null !== this._canvasElement) {
      var g2 = canvasElementWindow(this._canvasElement);
      if (null === g2) throw new Error("No window is associated with the canvas");
      this._devicePixelRatioObservable = function createObservable(d3) {
        return new tp(d3);
      }(g2), this._devicePixelRatioObservable.subscribe(function() {
        return d2._invalidateBitmapSize();
      }), this._invalidateBitmapSize();
    }
  }, DevicePixelContentBoxBinding.prototype._invalidateBitmapSize = function() {
    var d2, g2;
    if (null !== this._canvasElement) {
      var _2 = canvasElementWindow(this._canvasElement);
      if (null !== _2) {
        var O2 = null !== (g2 = null === (d2 = this._devicePixelRatioObservable) || void 0 === d2 ? void 0 : d2.value) && void 0 !== g2 ? g2 : _2.devicePixelRatio, $2 = this._canvasElement.getClientRects(), st2 = void 0 !== $2[0] ? function predictedBitmapSize(d3, g3) {
          return size({ width: Math.round(d3.left * g3 + d3.width * g3) - Math.round(d3.left * g3), height: Math.round(d3.top * g3 + d3.height * g3) - Math.round(d3.top * g3) });
        }($2[0], O2) : size({ width: this._canvasElementClientSize.width * O2, height: this._canvasElementClientSize.height * O2 });
        this._suggestNewBitmapSize(st2);
      }
    }
  }, DevicePixelContentBoxBinding.prototype._initResizeObserver = function() {
    var d2 = this;
    null !== this._canvasElement && (this._canvasElementResizeObserver = new ResizeObserver(function(g2) {
      var _2 = g2.find(function(g3) {
        return g3.target === d2._canvasElement;
      });
      if (_2 && _2.devicePixelContentBoxSize && _2.devicePixelContentBoxSize[0]) {
        var O2 = _2.devicePixelContentBoxSize[0], $2 = size({ width: O2.inlineSize, height: O2.blockSize });
        d2._suggestNewBitmapSize($2);
      }
    }), this._canvasElementResizeObserver.observe(this._canvasElement, { box: "device-pixel-content-box" }));
  }, DevicePixelContentBoxBinding;
}();
function canvasElementWindow(d2) {
  return d2.ownerDocument.defaultView;
}
var ip = function() {
  function CanvasRenderingTarget2D(d2, g2, _2) {
    if (0 === g2.width || 0 === g2.height) throw new TypeError("Rendering target could only be created on a media with positive width and height");
    if (this._mediaSize = g2, 0 === _2.width || 0 === _2.height) throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");
    this._bitmapSize = _2, this._context = d2;
  }
  return CanvasRenderingTarget2D.prototype.useMediaCoordinateSpace = function(d2) {
    try {
      return this._context.save(), this._context.setTransform(1, 0, 0, 1, 0, 0), this._context.scale(this._horizontalPixelRatio, this._verticalPixelRatio), d2({ context: this._context, mediaSize: this._mediaSize });
    } finally {
      this._context.restore();
    }
  }, CanvasRenderingTarget2D.prototype.useBitmapCoordinateSpace = function(d2) {
    try {
      return this._context.save(), this._context.setTransform(1, 0, 0, 1, 0, 0), d2({ context: this._context, mediaSize: this._mediaSize, bitmapSize: this._bitmapSize, horizontalPixelRatio: this._horizontalPixelRatio, verticalPixelRatio: this._verticalPixelRatio });
    } finally {
      this._context.restore();
    }
  }, Object.defineProperty(CanvasRenderingTarget2D.prototype, "_horizontalPixelRatio", { get: function() {
    return this._bitmapSize.width / this._mediaSize.width;
  }, enumerable: false, configurable: true }), Object.defineProperty(CanvasRenderingTarget2D.prototype, "_verticalPixelRatio", { get: function() {
    return this._bitmapSize.height / this._mediaSize.height;
  }, enumerable: false, configurable: true }), CanvasRenderingTarget2D;
}();
function tryCreateCanvasRenderingTarget2D(d2, g2) {
  var _2 = d2.canvasElementClientSize;
  if (0 === _2.width || 0 === _2.height) return null;
  var O2 = d2.bitmapSize;
  if (0 === O2.width || 0 === O2.height) return null;
  var $2 = d2.canvasElement.getContext("2d", g2);
  return null === $2 ? null : new ip($2, _2, O2);
}
const sp = { upColor: "#26a69a", downColor: "#ef5350", wickVisible: true, borderVisible: true, borderColor: "#378658", borderUpColor: "#26a69a", borderDownColor: "#ef5350", wickColor: "#737375", wickUpColor: "#26a69a", wickDownColor: "#ef5350" }, np = { upColor: "#26a69a", downColor: "#ef5350", openVisible: true, thinBars: true }, rp = { color: "#2196f3", lineStyle: 0, lineWidth: 3, lineType: 0, lineVisible: true, crosshairMarkerVisible: true, crosshairMarkerRadius: 4, crosshairMarkerBorderColor: "", crosshairMarkerBorderWidth: 2, crosshairMarkerBackgroundColor: "", lastPriceAnimation: 0, pointMarkersVisible: false }, op = { topColor: "rgba( 46, 220, 135, 0.4)", bottomColor: "rgba( 40, 221, 100, 0)", invertFilledArea: false, lineColor: "#33D778", lineStyle: 0, lineWidth: 3, lineType: 0, lineVisible: true, crosshairMarkerVisible: true, crosshairMarkerRadius: 4, crosshairMarkerBorderColor: "", crosshairMarkerBorderWidth: 2, crosshairMarkerBackgroundColor: "", lastPriceAnimation: 0, pointMarkersVisible: false }, ap = { baseValue: { type: "price", price: 0 }, topFillColor1: "rgba(38, 166, 154, 0.28)", topFillColor2: "rgba(38, 166, 154, 0.05)", topLineColor: "rgba(38, 166, 154, 1)", bottomFillColor1: "rgba(239, 83, 80, 0.05)", bottomFillColor2: "rgba(239, 83, 80, 0.28)", bottomLineColor: "rgba(239, 83, 80, 1)", lineWidth: 3, lineStyle: 0, lineType: 0, lineVisible: true, crosshairMarkerVisible: true, crosshairMarkerRadius: 4, crosshairMarkerBorderColor: "", crosshairMarkerBorderWidth: 2, crosshairMarkerBackgroundColor: "", lastPriceAnimation: 0, pointMarkersVisible: false }, lp = { color: "#26a69a", base: 0 }, cp = { color: "#2196f3" }, hp = { title: "", visible: true, lastValueVisible: true, priceLineVisible: true, priceLineSource: 0, priceLineWidth: 1, priceLineColor: "", priceLineStyle: 2, baseLineVisible: true, baseLineWidth: 1, baseLineColor: "#B2B5BE", baseLineStyle: 0, priceFormat: { type: "price", precision: 2, minMove: 0.01 } };
var up, dp, pp;
function f(d2, g2) {
  const _2 = { 0: [], 1: [d2.lineWidth, d2.lineWidth], 2: [2 * d2.lineWidth, 2 * d2.lineWidth], 3: [6 * d2.lineWidth, 6 * d2.lineWidth], 4: [d2.lineWidth, 4 * d2.lineWidth] }[g2];
  d2.setLineDash(_2);
}
function v(d2, g2, _2, O2) {
  d2.beginPath();
  const $2 = d2.lineWidth % 2 ? 0.5 : 0;
  d2.moveTo(_2, g2 + $2), d2.lineTo(O2, g2 + $2), d2.stroke();
}
function p(d2, g2) {
  if (!d2) throw new Error("Assertion failed" + (g2 ? ": " + g2 : ""));
}
function m(d2) {
  if (void 0 === d2) throw new Error("Value is undefined");
  return d2;
}
function b(d2) {
  if (null === d2) throw new Error("Value is null");
  return d2;
}
function w(d2) {
  return b(m(d2));
}
(pp = up || (up = {}))[pp.Simple = 0] = "Simple", pp[pp.WithSteps = 1] = "WithSteps", pp[pp.Curved = 2] = "Curved", function(d2) {
  d2[d2.Solid = 0] = "Solid", d2[d2.Dotted = 1] = "Dotted", d2[d2.Dashed = 2] = "Dashed", d2[d2.LargeDashed = 3] = "LargeDashed", d2[d2.SparseDotted = 4] = "SparseDotted";
}(dp || (dp = {}));
const fp = { khaki: "#f0e68c", azure: "#f0ffff", aliceblue: "#f0f8ff", ghostwhite: "#f8f8ff", gold: "#ffd700", goldenrod: "#daa520", gainsboro: "#dcdcdc", gray: "#808080", green: "#008000", honeydew: "#f0fff0", floralwhite: "#fffaf0", lightblue: "#add8e6", lightcoral: "#f08080", lemonchiffon: "#fffacd", hotpink: "#ff69b4", lightyellow: "#ffffe0", greenyellow: "#adff2f", lightgoldenrodyellow: "#fafad2", limegreen: "#32cd32", linen: "#faf0e6", lightcyan: "#e0ffff", magenta: "#f0f", maroon: "#800000", olive: "#808000", orange: "#ffa500", oldlace: "#fdf5e6", mediumblue: "#0000cd", transparent: "#0000", lime: "#0f0", lightpink: "#ffb6c1", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", midnightblue: "#191970", orchid: "#da70d6", mediumorchid: "#ba55d3", mediumturquoise: "#48d1cc", orangered: "#ff4500", royalblue: "#4169e1", powderblue: "#b0e0e6", red: "#f00", coral: "#ff7f50", turquoise: "#40e0d0", white: "#fff", whitesmoke: "#f5f5f5", wheat: "#f5deb3", teal: "#008080", steelblue: "#4682b4", bisque: "#ffe4c4", aquamarine: "#7fffd4", aqua: "#0ff", sienna: "#a0522d", silver: "#c0c0c0", springgreen: "#00ff7f", antiquewhite: "#faebd7", burlywood: "#deb887", brown: "#a52a2a", beige: "#f5f5dc", chocolate: "#d2691e", chartreuse: "#7fff00", cornflowerblue: "#6495ed", cornsilk: "#fff8dc", crimson: "#dc143c", cadetblue: "#5f9ea0", tomato: "#ff6347", fuchsia: "#f0f", blue: "#00f", salmon: "#fa8072", blanchedalmond: "#ffebcd", slateblue: "#6a5acd", slategray: "#708090", thistle: "#d8bfd8", tan: "#d2b48c", cyan: "#0ff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkgray: "#a9a9a9", blueviolet: "#8a2be2", black: "#000", darkmagenta: "#8b008b", darkslateblue: "#483d8b", darkkhaki: "#bdb76b", darkorchid: "#9932cc", darkorange: "#ff8c00", darkgreen: "#006400", darkred: "#8b0000", dodgerblue: "#1e90ff", darkslategray: "#2f4f4f", dimgray: "#696969", deepskyblue: "#00bfff", firebrick: "#b22222", forestgreen: "#228b22", indigo: "#4b0082", ivory: "#fffff0", lavenderblush: "#fff0f5", feldspar: "#d19275", indianred: "#cd5c5c", lightgreen: "#90ee90", lightgrey: "#d3d3d3", lightskyblue: "#87cefa", lightslategray: "#789", lightslateblue: "#8470ff", snow: "#fffafa", lightseagreen: "#20b2aa", lightsalmon: "#ffa07a", darksalmon: "#e9967a", darkviolet: "#9400d3", mediumpurple: "#9370d8", mediumaquamarine: "#66cdaa", skyblue: "#87ceeb", lavender: "#e6e6fa", lightsteelblue: "#b0c4de", mediumvioletred: "#c71585", mintcream: "#f5fffa", navajowhite: "#ffdead", navy: "#000080", olivedrab: "#6b8e23", palevioletred: "#d87093", violetred: "#d02090", yellow: "#ff0", yellowgreen: "#9acd32", lawngreen: "#7cfc00", pink: "#ffc0cb", paleturquoise: "#afeeee", palegoldenrod: "#eee8aa", darkolivegreen: "#556b2f", darkseagreen: "#8fbc8f", darkturquoise: "#00ced1", peachpuff: "#ffdab9", deeppink: "#ff1493", violet: "#ee82ee", palegreen: "#98fb98", mediumseagreen: "#3cb371", peru: "#cd853f", saddlebrown: "#8b4513", sandybrown: "#f4a460", rosybrown: "#bc8f8f", purple: "#800080", seagreen: "#2e8b57", seashell: "#fff5ee", papayawhip: "#ffefd5", mediumslateblue: "#7b68ee", plum: "#dda0dd", mediumspringgreen: "#00fa9a" };
function M$1(d2) {
  return d2 < 0 ? 0 : d2 > 255 ? 255 : Math.round(d2) || 0;
}
function x$1(d2) {
  return d2 <= 0 || d2 > 1 ? Math.min(Math.max(d2, 0), 1) : Math.round(1e4 * d2) / 1e4;
}
const gp = /^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i, _p = /^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i, mp = /^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/, vp = /^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;
function T(d2) {
  (d2 = d2.toLowerCase()) in fp && (d2 = fp[d2]);
  {
    const g2 = vp.exec(d2) || mp.exec(d2);
    if (g2) return [M$1(parseInt(g2[1], 10)), M$1(parseInt(g2[2], 10)), M$1(parseInt(g2[3], 10)), x$1(g2.length < 5 ? 1 : parseFloat(g2[4]))];
  }
  {
    const g2 = _p.exec(d2);
    if (g2) return [M$1(parseInt(g2[1], 16)), M$1(parseInt(g2[2], 16)), M$1(parseInt(g2[3], 16)), 1];
  }
  {
    const g2 = gp.exec(d2);
    if (g2) return [M$1(17 * parseInt(g2[1], 16)), M$1(17 * parseInt(g2[2], 16)), M$1(17 * parseInt(g2[3], 16)), 1];
  }
  throw new Error(`Cannot parse color: ${d2}`);
}
function P(d2) {
  const g2 = T(d2);
  return { t: `rgb(${g2[0]}, ${g2[1]}, ${g2[2]})`, i: (_2 = g2, 0.199 * _2[0] + 0.687 * _2[1] + 0.114 * _2[2] > 160 ? "black" : "white") };
  var _2;
}
class R {
  constructor() {
    this.h = [];
  }
  l(d2, g2, _2) {
    const O2 = { o: d2, _: g2, u: true === _2 };
    this.h.push(O2);
  }
  v(d2) {
    const g2 = this.h.findIndex((g3) => d2 === g3.o);
    g2 > -1 && this.h.splice(g2, 1);
  }
  p(d2) {
    this.h = this.h.filter((g2) => g2._ !== d2);
  }
  m(d2, g2, _2) {
    const O2 = [...this.h];
    this.h = this.h.filter((d3) => !d3.u), O2.forEach((O3) => O3.o(d2, g2, _2));
  }
  M() {
    return this.h.length > 0;
  }
  S() {
    this.h = [];
  }
}
function D(d2, ...g2) {
  for (const _2 of g2) for (const g3 in _2) void 0 !== _2[g3] && ("object" != typeof _2[g3] || void 0 === d2[g3] || Array.isArray(_2[g3]) ? d2[g3] = _2[g3] : D(d2[g3], _2[g3]));
  return d2;
}
function O$1(d2) {
  return "number" == typeof d2 && isFinite(d2);
}
function A(d2) {
  return "number" == typeof d2 && d2 % 1 == 0;
}
function B$1(d2) {
  return "string" == typeof d2;
}
function V(d2) {
  return "boolean" == typeof d2;
}
function I(d2) {
  const g2 = d2;
  if (!g2 || "object" != typeof g2) return g2;
  let _2, O2, $2;
  for (O2 in _2 = Array.isArray(g2) ? [] : {}, g2) g2.hasOwnProperty(O2) && ($2 = g2[O2], _2[O2] = $2 && "object" == typeof $2 ? I($2) : $2);
  return _2;
}
function z$1(d2) {
  return null !== d2;
}
function L$1(d2) {
  return null === d2 ? void 0 : d2;
}
const bp = "-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";
function N$1(d2, g2, _2) {
  return void 0 === g2 && (g2 = bp), `${_2 = void 0 !== _2 ? `${_2} ` : ""}${d2}px ${g2}`;
}
let yp = class F {
  constructor(d2) {
    this.k = { C: 1, T: 5, P: NaN, R: "", D: "", O: "", A: "", B: 0, V: 0, I: 0, L: 0, N: 0 }, this.F = d2;
  }
  W() {
    const d2 = this.k, g2 = this.j(), _2 = this.H();
    return d2.P === g2 && d2.D === _2 || (d2.P = g2, d2.D = _2, d2.R = N$1(g2, _2), d2.L = 2.5 / 12 * g2, d2.B = d2.L, d2.V = g2 / 12 * d2.T, d2.I = g2 / 12 * d2.T, d2.N = 0), d2.O = this.$(), d2.A = this.U(), this.k;
  }
  $() {
    return this.F.W().layout.textColor;
  }
  U() {
    return this.F.q();
  }
  j() {
    return this.F.W().layout.fontSize;
  }
  H() {
    return this.F.W().layout.fontFamily;
  }
};
class W {
  constructor() {
    this.Y = [];
  }
  X(d2) {
    this.Y = d2;
  }
  K(d2, g2, _2) {
    this.Y.forEach((O2) => {
      O2.K(d2, g2, _2);
    });
  }
}
class j {
  K(d2, g2, _2) {
    d2.useBitmapCoordinateSpace((d3) => this.Z(d3, g2, _2));
  }
}
class H extends j {
  constructor() {
    super(...arguments), this.G = null;
  }
  J(d2) {
    this.G = d2;
  }
  Z({ context: d2, horizontalPixelRatio: g2, verticalPixelRatio: _2 }) {
    if (null === this.G || null === this.G.tt) return;
    const O2 = this.G.tt, $2 = this.G, st2 = Math.max(1, Math.floor(g2)) % 2 / 2, h = (ot2) => {
      d2.beginPath();
      for (let lt2 = O2.to - 1; lt2 >= O2.from; --lt2) {
        const O3 = $2.it[lt2], ct2 = Math.round(O3.nt * g2) + st2, ut2 = O3.st * _2, gt2 = ot2 * _2 + st2;
        d2.moveTo(ct2, ut2), d2.arc(ct2, ut2, gt2, 0, 2 * Math.PI);
      }
      d2.fill();
    };
    $2.et > 0 && (d2.fillStyle = $2.rt, h($2.ht + $2.et)), d2.fillStyle = $2.lt, h($2.ht);
  }
}
function $$1() {
  return { it: [{ nt: 0, st: 0, ot: 0, _t: 0 }], lt: "", rt: "", ht: 0, et: 0, tt: null };
}
const wp = { from: 0, to: 1 };
let xp = class q {
  constructor(d2, g2) {
    this.ut = new W(), this.ct = [], this.dt = [], this.ft = true, this.F = d2, this.vt = g2, this.ut.X(this.ct);
  }
  bt(d2) {
    const g2 = this.F.wt();
    g2.length !== this.ct.length && (this.dt = g2.map($$1), this.ct = this.dt.map((d3) => {
      const g3 = new H();
      return g3.J(d3), g3;
    }), this.ut.X(this.ct)), this.ft = true;
  }
  gt() {
    return this.ft && (this.Mt(), this.ft = false), this.ut;
  }
  Mt() {
    const d2 = 2 === this.vt.W().mode, g2 = this.F.wt(), _2 = this.vt.xt(), O2 = this.F.St();
    g2.forEach((g3, $2) => {
      var st2;
      const ot2 = this.dt[$2], lt2 = g3.kt(_2);
      if (d2 || null === lt2 || !g3.yt()) return void (ot2.tt = null);
      const ct2 = b(g3.Ct());
      ot2.lt = lt2.Tt, ot2.ht = lt2.ht, ot2.et = lt2.Pt, ot2.it[0]._t = lt2._t, ot2.it[0].st = g3.Dt().Rt(lt2._t, ct2.Ot), ot2.rt = null !== (st2 = lt2.At) && void 0 !== st2 ? st2 : this.F.Bt(ot2.it[0].st / g3.Dt().Vt()), ot2.it[0].ot = _2, ot2.it[0].nt = O2.It(_2), ot2.tt = wp;
    });
  }
};
class Y extends j {
  constructor(d2) {
    super(), this.zt = d2;
  }
  Z({ context: d2, bitmapSize: g2, horizontalPixelRatio: _2, verticalPixelRatio: O2 }) {
    if (null === this.zt) return;
    const $2 = this.zt.Lt.yt, st2 = this.zt.Et.yt;
    if (!$2 && !st2) return;
    const ot2 = Math.round(this.zt.nt * _2), lt2 = Math.round(this.zt.st * O2);
    d2.lineCap = "butt", $2 && ot2 >= 0 && (d2.lineWidth = Math.floor(this.zt.Lt.et * _2), d2.strokeStyle = this.zt.Lt.O, d2.fillStyle = this.zt.Lt.O, f(d2, this.zt.Lt.Nt), function(d3, g3, _3, O3) {
      d3.beginPath();
      const $3 = d3.lineWidth % 2 ? 0.5 : 0;
      d3.moveTo(g3 + $3, 0), d3.lineTo(g3 + $3, O3), d3.stroke();
    }(d2, ot2, 0, g2.height)), st2 && lt2 >= 0 && (d2.lineWidth = Math.floor(this.zt.Et.et * O2), d2.strokeStyle = this.zt.Et.O, d2.fillStyle = this.zt.Et.O, f(d2, this.zt.Et.Nt), v(d2, lt2, 0, g2.width));
  }
}
class X {
  constructor(d2) {
    this.ft = true, this.Ft = { Lt: { et: 1, Nt: 0, O: "", yt: false }, Et: { et: 1, Nt: 0, O: "", yt: false }, nt: 0, st: 0 }, this.Wt = new Y(this.Ft), this.jt = d2;
  }
  bt() {
    this.ft = true;
  }
  gt() {
    return this.ft && (this.Mt(), this.ft = false), this.Wt;
  }
  Mt() {
    const d2 = this.jt.yt(), g2 = b(this.jt.Ht()), _2 = g2.$t().W().crosshair, O2 = this.Ft;
    if (2 === _2.mode) return O2.Et.yt = false, void (O2.Lt.yt = false);
    O2.Et.yt = d2 && this.jt.Ut(g2), O2.Lt.yt = d2 && this.jt.qt(), O2.Et.et = _2.horzLine.width, O2.Et.Nt = _2.horzLine.style, O2.Et.O = _2.horzLine.color, O2.Lt.et = _2.vertLine.width, O2.Lt.Nt = _2.vertLine.style, O2.Lt.O = _2.vertLine.color, O2.nt = this.jt.Yt(), O2.st = this.jt.Xt();
  }
}
function K(d2, g2, _2, O2, $2, st2) {
  d2.fillRect(g2 + st2, _2, O2 - 2 * st2, st2), d2.fillRect(g2 + st2, _2 + $2 - st2, O2 - 2 * st2, st2), d2.fillRect(g2, _2, st2, $2), d2.fillRect(g2 + O2 - st2, _2, st2, $2);
}
function Z(d2, g2, _2, O2, $2, st2) {
  d2.save(), d2.globalCompositeOperation = "copy", d2.fillStyle = st2, d2.fillRect(g2, _2, O2, $2), d2.restore();
}
function G$1(d2, g2, _2, O2, $2, st2) {
  d2.beginPath(), d2.roundRect ? d2.roundRect(g2, _2, O2, $2, st2) : (d2.lineTo(g2 + O2 - st2[1], _2), 0 !== st2[1] && d2.arcTo(g2 + O2, _2, g2 + O2, _2 + st2[1], st2[1]), d2.lineTo(g2 + O2, _2 + $2 - st2[2]), 0 !== st2[2] && d2.arcTo(g2 + O2, _2 + $2, g2 + O2 - st2[2], _2 + $2, st2[2]), d2.lineTo(g2 + st2[3], _2 + $2), 0 !== st2[3] && d2.arcTo(g2, _2 + $2, g2, _2 + $2 - st2[3], st2[3]), d2.lineTo(g2, _2 + st2[0]), 0 !== st2[0] && d2.arcTo(g2, _2, g2 + st2[0], _2, st2[0]));
}
function J(d2, g2, _2, O2, $2, st2, ot2 = 0, lt2 = [0, 0, 0, 0], ct2 = "") {
  if (d2.save(), !ot2 || !ct2 || ct2 === st2) return G$1(d2, g2, _2, O2, $2, lt2), d2.fillStyle = st2, d2.fill(), void d2.restore();
  const ut2 = ot2 / 2;
  var gt2;
  G$1(d2, g2 + ut2, _2 + ut2, O2 - ot2, $2 - ot2, (gt2 = -ut2, lt2.map((d3) => 0 === d3 ? d3 : d3 + gt2))), "transparent" !== st2 && (d2.fillStyle = st2, d2.fill()), "transparent" !== ct2 && (d2.lineWidth = ot2, d2.strokeStyle = ct2, d2.closePath(), d2.stroke()), d2.restore();
}
function Q$1(d2, g2, _2, O2, $2, st2, ot2) {
  d2.save(), d2.globalCompositeOperation = "copy";
  const lt2 = d2.createLinearGradient(0, 0, 0, $2);
  lt2.addColorStop(0, st2), lt2.addColorStop(1, ot2), d2.fillStyle = lt2, d2.fillRect(g2, _2, O2, $2), d2.restore();
}
class tt {
  constructor(d2, g2) {
    this.J(d2, g2);
  }
  J(d2, g2) {
    this.zt = d2, this.Kt = g2;
  }
  Vt(d2, g2) {
    return this.zt.yt ? d2.P + d2.L + d2.B : 0;
  }
  K(d2, g2, _2, O2) {
    if (!this.zt.yt || 0 === this.zt.Zt.length) return;
    const $2 = this.zt.O, st2 = this.Kt.t, ot2 = d2.useBitmapCoordinateSpace((d3) => {
      const ot3 = d3.context;
      ot3.font = g2.R;
      const lt2 = this.Gt(d3, g2, _2, O2), ct2 = lt2.Jt, o = (d4, g3) => {
        lt2.Qt ? J(ot3, ct2.ti, ct2.ii, ct2.ni, ct2.si, d4, ct2.ei, [ct2.ht, 0, 0, ct2.ht], g3) : J(ot3, ct2.ri, ct2.ii, ct2.ni, ct2.si, d4, ct2.ei, [0, ct2.ht, ct2.ht, 0], g3);
      };
      return o(st2, "transparent"), this.zt.hi && (ot3.fillStyle = $2, ot3.fillRect(ct2.ri, ct2.li, ct2.ai - ct2.ri, ct2.oi)), o("transparent", st2), this.zt._i && (ot3.fillStyle = g2.A, ot3.fillRect(lt2.Qt ? ct2.ui - ct2.ei : 0, ct2.ii, ct2.ei, ct2.ci - ct2.ii)), lt2;
    });
    d2.useMediaCoordinateSpace(({ context: d3 }) => {
      const _3 = ot2.di;
      d3.font = g2.R, d3.textAlign = ot2.Qt ? "right" : "left", d3.textBaseline = "middle", d3.fillStyle = $2, d3.fillText(this.zt.Zt, _3.fi, (_3.ii + _3.ci) / 2 + _3.pi);
    });
  }
  Gt(d2, g2, _2, O2) {
    var $2;
    const { context: st2, bitmapSize: ot2, mediaSize: lt2, horizontalPixelRatio: ct2, verticalPixelRatio: ut2 } = d2, gt2 = this.zt.hi || !this.zt.mi ? g2.T : 0, mt2 = this.zt.bi ? g2.C : 0, bt2 = g2.L + this.Kt.wi, yt2 = g2.B + this.Kt.gi, wt2 = g2.V, Pt2 = g2.I, At2 = this.zt.Zt, St2 = g2.P, Mt2 = _2.Mi(st2, At2), Vt2 = Math.ceil(_2.xi(st2, At2)), Ot2 = St2 + bt2 + yt2, zt2 = g2.C + wt2 + Pt2 + Vt2 + gt2, Bt2 = Math.max(1, Math.floor(ut2));
    let Zt2 = Math.round(Ot2 * ut2);
    Zt2 % 2 != Bt2 % 2 && (Zt2 += 1);
    const ce2 = mt2 > 0 ? Math.max(1, Math.floor(mt2 * ct2)) : 0, ue2 = Math.round(zt2 * ct2), de2 = Math.round(gt2 * ct2), pe2 = null !== ($2 = this.Kt.Si) && void 0 !== $2 ? $2 : this.Kt.ki, fe2 = Math.round(pe2 * ut2) - Math.floor(0.5 * ut2), ge2 = Math.floor(fe2 + Bt2 / 2 - Zt2 / 2), ve2 = ge2 + Zt2, Ee2 = "right" === O2, Ie2 = Ee2 ? lt2.width - mt2 : mt2, Ae2 = Ee2 ? ot2.width - ce2 : ce2;
    let Re2, Ve2, De2;
    return Ee2 ? (Re2 = Ae2 - ue2, Ve2 = Ae2 - de2, De2 = Ie2 - gt2 - wt2 - mt2) : (Re2 = Ae2 + ue2, Ve2 = Ae2 + de2, De2 = Ie2 + gt2 + wt2), { Qt: Ee2, Jt: { ii: ge2, li: fe2, ci: ve2, ni: ue2, si: Zt2, ht: 2 * ct2, ei: ce2, ti: Re2, ri: Ae2, ai: Ve2, oi: Bt2, ui: ot2.width }, di: { ii: ge2 / ut2, ci: ve2 / ut2, fi: De2, pi: Mt2 } };
  }
}
let Tp = class it {
  constructor(d2) {
    this.yi = { ki: 0, t: "#000", gi: 0, wi: 0 }, this.Ci = { Zt: "", yt: false, hi: true, mi: false, At: "", O: "#FFF", _i: false, bi: false }, this.Ti = { Zt: "", yt: false, hi: false, mi: true, At: "", O: "#FFF", _i: true, bi: true }, this.ft = true, this.Pi = new (d2 || tt)(this.Ci, this.yi), this.Ri = new (d2 || tt)(this.Ti, this.yi);
  }
  Zt() {
    return this.Di(), this.Ci.Zt;
  }
  ki() {
    return this.Di(), this.yi.ki;
  }
  bt() {
    this.ft = true;
  }
  Vt(d2, g2 = false) {
    return Math.max(this.Pi.Vt(d2, g2), this.Ri.Vt(d2, g2));
  }
  Oi() {
    return this.yi.Si || 0;
  }
  Ai(d2) {
    this.yi.Si = d2;
  }
  Bi() {
    return this.Di(), this.Ci.yt || this.Ti.yt;
  }
  Vi() {
    return this.Di(), this.Ci.yt;
  }
  gt(d2) {
    return this.Di(), this.Ci.hi = this.Ci.hi && d2.W().ticksVisible, this.Ti.hi = this.Ti.hi && d2.W().ticksVisible, this.Pi.J(this.Ci, this.yi), this.Ri.J(this.Ti, this.yi), this.Pi;
  }
  Ii() {
    return this.Di(), this.Pi.J(this.Ci, this.yi), this.Ri.J(this.Ti, this.yi), this.Ri;
  }
  Di() {
    this.ft && (this.Ci.hi = true, this.Ti.hi = false, this.zi(this.Ci, this.Ti, this.yi));
  }
};
class nt extends Tp {
  constructor(d2, g2, _2) {
    super(), this.jt = d2, this.Li = g2, this.Ei = _2;
  }
  zi(d2, g2, _2) {
    if (d2.yt = false, 2 === this.jt.W().mode) return;
    const O2 = this.jt.W().horzLine;
    if (!O2.labelVisible) return;
    const $2 = this.Li.Ct();
    if (!this.jt.yt() || this.Li.Ni() || null === $2) return;
    const st2 = P(O2.labelBackgroundColor);
    _2.t = st2.t, d2.O = st2.i;
    const ot2 = 2 / 12 * this.Li.P();
    _2.wi = ot2, _2.gi = ot2;
    const lt2 = this.Ei(this.Li);
    _2.ki = lt2.ki, d2.Zt = this.Li.Fi(lt2._t, $2), d2.yt = true;
  }
}
const Ep = /[1-9]/g;
class et {
  constructor() {
    this.zt = null;
  }
  J(d2) {
    this.zt = d2;
  }
  K(d2, g2) {
    if (null === this.zt || false === this.zt.yt || 0 === this.zt.Zt.length) return;
    const _2 = d2.useMediaCoordinateSpace(({ context: d3 }) => (d3.font = g2.R, Math.round(g2.Wi.xi(d3, b(this.zt).Zt, Ep))));
    if (_2 <= 0) return;
    const O2 = g2.ji, $2 = _2 + 2 * O2, st2 = $2 / 2, ot2 = this.zt.Hi;
    let lt2 = this.zt.ki, ct2 = Math.floor(lt2 - st2) + 0.5;
    ct2 < 0 ? (lt2 += Math.abs(0 - ct2), ct2 = Math.floor(lt2 - st2) + 0.5) : ct2 + $2 > ot2 && (lt2 -= Math.abs(ot2 - (ct2 + $2)), ct2 = Math.floor(lt2 - st2) + 0.5);
    const ut2 = ct2 + $2, gt2 = Math.ceil(0 + g2.C + g2.T + g2.L + g2.P + g2.B);
    d2.useBitmapCoordinateSpace(({ context: d3, horizontalPixelRatio: _3, verticalPixelRatio: O3 }) => {
      const $3 = b(this.zt);
      d3.fillStyle = $3.t;
      const st3 = Math.round(ct2 * _3), ot3 = Math.round(0 * O3), lt3 = Math.round(ut2 * _3), mt2 = Math.round(gt2 * O3), bt2 = Math.round(2 * _3);
      if (d3.beginPath(), d3.moveTo(st3, ot3), d3.lineTo(st3, mt2 - bt2), d3.arcTo(st3, mt2, st3 + bt2, mt2, bt2), d3.lineTo(lt3 - bt2, mt2), d3.arcTo(lt3, mt2, lt3, mt2 - bt2, bt2), d3.lineTo(lt3, ot3), d3.fill(), $3.hi) {
        const st4 = Math.round($3.ki * _3), lt4 = ot3, ct3 = Math.round((lt4 + g2.T) * O3);
        d3.fillStyle = $3.O;
        const ut3 = Math.max(1, Math.floor(_3)), gt3 = Math.floor(0.5 * _3);
        d3.fillRect(st4 - gt3, lt4, ut3, ct3 - lt4);
      }
    }), d2.useMediaCoordinateSpace(({ context: d3 }) => {
      const _3 = b(this.zt), $3 = 0 + g2.C + g2.T + g2.L + g2.P / 2;
      d3.font = g2.R, d3.textAlign = "left", d3.textBaseline = "middle", d3.fillStyle = _3.O;
      const st3 = g2.Wi.Mi(d3, "Apr0");
      d3.translate(ct2 + O2, $3 + st3), d3.fillText(_3.Zt, 0, 0);
    });
  }
}
class rt {
  constructor(d2, g2, _2) {
    this.ft = true, this.Wt = new et(), this.Ft = { yt: false, t: "#4c525e", O: "white", Zt: "", Hi: 0, ki: NaN, hi: true }, this.vt = d2, this.$i = g2, this.Ei = _2;
  }
  bt() {
    this.ft = true;
  }
  gt() {
    return this.ft && (this.Mt(), this.ft = false), this.Wt.J(this.Ft), this.Wt;
  }
  Mt() {
    const d2 = this.Ft;
    if (d2.yt = false, 2 === this.vt.W().mode) return;
    const g2 = this.vt.W().vertLine;
    if (!g2.labelVisible) return;
    const _2 = this.$i.St();
    if (_2.Ni()) return;
    d2.Hi = _2.Hi();
    const O2 = this.Ei();
    if (null === O2) return;
    d2.ki = O2.ki;
    const $2 = _2.Ui(this.vt.xt());
    d2.Zt = _2.qi(b($2)), d2.yt = true;
    const st2 = P(g2.labelBackgroundColor);
    d2.t = st2.t, d2.O = st2.i, d2.hi = _2.W().ticksVisible;
  }
}
let Pp = class ht {
  constructor() {
    this.Yi = null, this.Xi = 0;
  }
  Ki() {
    return this.Xi;
  }
  Zi(d2) {
    this.Xi = d2;
  }
  Dt() {
    return this.Yi;
  }
  Gi(d2) {
    this.Yi = d2;
  }
  Ji(d2) {
    return [];
  }
  Qi() {
    return [];
  }
  yt() {
    return true;
  }
};
var Ip;
!function(d2) {
  d2[d2.Normal = 0] = "Normal", d2[d2.Magnet = 1] = "Magnet", d2[d2.Hidden = 2] = "Hidden";
}(Ip || (Ip = {}));
let Ap = class at extends Pp {
  constructor(d2, g2) {
    super(), this.tn = null, this.nn = NaN, this.sn = 0, this.en = true, this.rn = /* @__PURE__ */ new Map(), this.hn = false, this.ln = NaN, this.an = NaN, this._n = NaN, this.un = NaN, this.$i = d2, this.cn = g2, this.dn = new xp(d2, this), this.fn = /* @__PURE__ */ ((d3, g3) => (_3) => {
      const O2 = g3(), $2 = d3();
      if (_3 === b(this.tn).vn()) return { _t: $2, ki: O2 };
      {
        const d4 = b(_3.Ct());
        return { _t: _3.pn(O2, d4), ki: O2 };
      }
    })(() => this.nn, () => this.an);
    const _2 = /* @__PURE__ */ ((d3, g3) => () => {
      const _3 = this.$i.St().mn(d3()), O2 = g3();
      return _3 && Number.isFinite(O2) ? { ot: _3, ki: O2 } : null;
    })(() => this.sn, () => this.Yt());
    this.bn = new rt(this, d2, _2), this.wn = new X(this);
  }
  W() {
    return this.cn;
  }
  gn(d2, g2) {
    this._n = d2, this.un = g2;
  }
  Mn() {
    this._n = NaN, this.un = NaN;
  }
  xn() {
    return this._n;
  }
  Sn() {
    return this.un;
  }
  kn(d2, g2, _2) {
    this.hn || (this.hn = true), this.en = true, this.yn(d2, g2, _2);
  }
  xt() {
    return this.sn;
  }
  Yt() {
    return this.ln;
  }
  Xt() {
    return this.an;
  }
  yt() {
    return this.en;
  }
  Cn() {
    this.en = false, this.Tn(), this.nn = NaN, this.ln = NaN, this.an = NaN, this.tn = null, this.Mn();
  }
  Pn(d2) {
    return null !== this.tn ? [this.wn, this.dn] : [];
  }
  Ut(d2) {
    return d2 === this.tn && this.cn.horzLine.visible;
  }
  qt() {
    return this.cn.vertLine.visible;
  }
  Rn(d2, g2) {
    this.en && this.tn === d2 || this.rn.clear();
    const _2 = [];
    return this.tn === d2 && _2.push(this.Dn(this.rn, g2, this.fn)), _2;
  }
  Qi() {
    return this.en ? [this.bn] : [];
  }
  Ht() {
    return this.tn;
  }
  On() {
    this.wn.bt(), this.rn.forEach((d2) => d2.bt()), this.bn.bt(), this.dn.bt();
  }
  An(d2) {
    return d2 && !d2.vn().Ni() ? d2.vn() : null;
  }
  yn(d2, g2, _2) {
    this.Bn(d2, g2, _2) && this.On();
  }
  Bn(d2, g2, _2) {
    const O2 = this.ln, $2 = this.an, st2 = this.nn, ot2 = this.sn, lt2 = this.tn, ct2 = this.An(_2);
    this.sn = d2, this.ln = isNaN(d2) ? NaN : this.$i.St().It(d2), this.tn = _2;
    const ut2 = null !== ct2 ? ct2.Ct() : null;
    return null !== ct2 && null !== ut2 ? (this.nn = g2, this.an = ct2.Rt(g2, ut2)) : (this.nn = NaN, this.an = NaN), O2 !== this.ln || $2 !== this.an || ot2 !== this.sn || st2 !== this.nn || lt2 !== this.tn;
  }
  Tn() {
    const d2 = this.$i.wt().map((d3) => d3.In().Vn()).filter(z$1), g2 = 0 === d2.length ? null : Math.max(...d2);
    this.sn = null !== g2 ? g2 : NaN;
  }
  Dn(d2, g2, _2) {
    let O2 = d2.get(g2);
    return void 0 === O2 && (O2 = new nt(this, g2, _2), d2.set(g2, O2)), O2;
  }
};
function ot$1(d2) {
  return "left" === d2 || "right" === d2;
}
let Rp = class _t {
  constructor(d2) {
    this.zn = /* @__PURE__ */ new Map(), this.Ln = [], this.En = d2;
  }
  Nn(d2, g2) {
    const _2 = function(d3, g3) {
      return void 0 === d3 ? g3 : { Fn: Math.max(d3.Fn, g3.Fn), Wn: d3.Wn || g3.Wn };
    }(this.zn.get(d2), g2);
    this.zn.set(d2, _2);
  }
  jn() {
    return this.En;
  }
  Hn(d2) {
    const g2 = this.zn.get(d2);
    return void 0 === g2 ? { Fn: this.En } : { Fn: Math.max(this.En, g2.Fn), Wn: g2.Wn };
  }
  $n() {
    this.Un(), this.Ln = [{ qn: 0 }];
  }
  Yn(d2) {
    this.Un(), this.Ln = [{ qn: 1, Ot: d2 }];
  }
  Xn(d2) {
    this.Kn(), this.Ln.push({ qn: 5, Ot: d2 });
  }
  Un() {
    this.Kn(), this.Ln.push({ qn: 6 });
  }
  Zn() {
    this.Un(), this.Ln = [{ qn: 4 }];
  }
  Gn(d2) {
    this.Un(), this.Ln.push({ qn: 2, Ot: d2 });
  }
  Jn(d2) {
    this.Un(), this.Ln.push({ qn: 3, Ot: d2 });
  }
  Qn() {
    return this.Ln;
  }
  ts(d2) {
    for (const g2 of d2.Ln) this.ns(g2);
    this.En = Math.max(this.En, d2.En), d2.zn.forEach((d3, g2) => {
      this.Nn(g2, d3);
    });
  }
  static ss() {
    return new _t(2);
  }
  static es() {
    return new _t(3);
  }
  ns(d2) {
    switch (d2.qn) {
      case 0:
        this.$n();
        break;
      case 1:
        this.Yn(d2.Ot);
        break;
      case 2:
        this.Gn(d2.Ot);
        break;
      case 3:
        this.Jn(d2.Ot);
        break;
      case 4:
        this.Zn();
        break;
      case 5:
        this.Xn(d2.Ot);
        break;
      case 6:
        this.Kn();
    }
  }
  Kn() {
    const d2 = this.Ln.findIndex((d3) => 5 === d3.qn);
    -1 !== d2 && this.Ln.splice(d2, 1);
  }
};
function ct$1(d2, g2) {
  if (!O$1(d2)) return "n/a";
  if (!A(g2)) throw new TypeError("invalid length");
  if (g2 < 0 || g2 > 16) throw new TypeError("invalid length");
  return 0 === g2 ? d2.toString() : ("0000000000000000" + d2.toString()).slice(-g2);
}
let kp = class dt {
  constructor(d2, g2) {
    if (g2 || (g2 = 1), O$1(d2) && A(d2) || (d2 = 100), d2 < 0) throw new TypeError("invalid base");
    this.Li = d2, this.rs = g2, this.hs();
  }
  format(d2) {
    const g2 = d2 < 0 ? "−" : "";
    return d2 = Math.abs(d2), g2 + this.ls(d2);
  }
  hs() {
    if (this.os = 0, this.Li > 0 && this.rs > 0) {
      let d2 = this.Li;
      for (; d2 > 1; ) d2 /= 10, this.os++;
    }
  }
  ls(d2) {
    const g2 = this.Li / this.rs;
    let _2 = Math.floor(d2), O2 = "";
    const $2 = void 0 !== this.os ? this.os : NaN;
    if (g2 > 1) {
      let st2 = +(Math.round(d2 * g2) - _2 * g2).toFixed(this.os);
      st2 >= g2 && (st2 -= g2, _2 += 1), O2 = "." + ct$1(+st2.toFixed(this.os) * this.rs, $2);
    } else _2 = Math.round(_2 * g2) / g2, $2 > 0 && (O2 = "." + ct$1(0, $2));
    return _2.toFixed(0) + O2;
  }
}, Sp = class ft extends kp {
  constructor(d2 = 100) {
    super(d2);
  }
  format(d2) {
    return `${super.format(d2)}%`;
  }
};
class vt {
  constructor(d2) {
    this._s = d2;
  }
  format(d2) {
    let g2 = "";
    return d2 < 0 && (g2 = "-", d2 = -d2), d2 < 995 ? g2 + this.us(d2) : d2 < 999995 ? g2 + this.us(d2 / 1e3) + "K" : d2 < 999999995 ? (d2 = 1e3 * Math.round(d2 / 1e3), g2 + this.us(d2 / 1e6) + "M") : (d2 = 1e6 * Math.round(d2 / 1e6), g2 + this.us(d2 / 1e9) + "B");
  }
  us(d2) {
    let g2;
    const _2 = Math.pow(10, this._s);
    return g2 = (d2 = Math.round(d2 * _2) / _2) >= 1e-15 && d2 < 1 ? d2.toFixed(this._s).replace(/\.?0+$/, "") : String(d2), g2.replace(/(\.[1-9]*)0+$/, (d3, g3) => g3);
  }
}
function pt(d2, g2, _2, O2, $2, st2, ot2) {
  if (0 === g2.length || O2.from >= g2.length || O2.to <= 0) return;
  const { context: lt2, horizontalPixelRatio: ct2, verticalPixelRatio: ut2 } = d2, gt2 = g2[O2.from];
  let mt2 = st2(d2, gt2), bt2 = gt2;
  if (O2.to - O2.from < 2) {
    const g3 = $2 / 2;
    lt2.beginPath();
    const _3 = { nt: gt2.nt - g3, st: gt2.st }, O3 = { nt: gt2.nt + g3, st: gt2.st };
    lt2.moveTo(_3.nt * ct2, _3.st * ut2), lt2.lineTo(O3.nt * ct2, O3.st * ut2), ot2(d2, mt2, _3, O3);
  } else {
    const e = (g3, _3) => {
      ot2(d2, mt2, bt2, _3), lt2.beginPath(), mt2 = g3, bt2 = _3;
    };
    let $3 = bt2;
    lt2.beginPath(), lt2.moveTo(gt2.nt * ct2, gt2.st * ut2);
    for (let ot3 = O2.from + 1; ot3 < O2.to; ++ot3) {
      $3 = g2[ot3];
      const O3 = st2(d2, $3);
      switch (_2) {
        case 0:
          lt2.lineTo($3.nt * ct2, $3.st * ut2);
          break;
        case 1:
          lt2.lineTo($3.nt * ct2, g2[ot3 - 1].st * ut2), O3 !== mt2 && (e(O3, $3), lt2.lineTo($3.nt * ct2, g2[ot3 - 1].st * ut2)), lt2.lineTo($3.nt * ct2, $3.st * ut2);
          break;
        case 2: {
          const [d3, _3] = gt$1(g2, ot3 - 1, ot3);
          lt2.bezierCurveTo(d3.nt * ct2, d3.st * ut2, _3.nt * ct2, _3.st * ut2, $3.nt * ct2, $3.st * ut2);
          break;
        }
      }
      1 !== _2 && O3 !== mt2 && (e(O3, $3), lt2.moveTo($3.nt * ct2, $3.st * ut2));
    }
    (bt2 !== $3 || bt2 === $3 && 1 === _2) && ot2(d2, mt2, bt2, $3);
  }
}
const Cp = 6;
function bt$1(d2, g2) {
  return { nt: d2.nt - g2.nt, st: d2.st - g2.st };
}
function wt$1(d2, g2) {
  return { nt: d2.nt / g2, st: d2.st / g2 };
}
function gt$1(d2, g2, _2) {
  const O2 = Math.max(0, g2 - 1), $2 = Math.min(d2.length - 1, _2 + 1);
  var st2, ot2;
  return [(st2 = d2[g2], ot2 = wt$1(bt$1(d2[_2], d2[O2]), Cp), { nt: st2.nt + ot2.nt, st: st2.st + ot2.st }), bt$1(d2[_2], wt$1(bt$1(d2[$2], d2[g2]), Cp))];
}
function Mt$1(d2, g2, _2, O2, $2) {
  const { context: st2, horizontalPixelRatio: ot2, verticalPixelRatio: lt2 } = g2;
  st2.lineTo($2.nt * ot2, d2 * lt2), st2.lineTo(O2.nt * ot2, d2 * lt2), st2.closePath(), st2.fillStyle = _2, st2.fill();
}
let Mp = class xt extends j {
  constructor() {
    super(...arguments), this.G = null;
  }
  J(d2) {
    this.G = d2;
  }
  Z(d2) {
    var g2;
    if (null === this.G) return;
    const { it: _2, tt: O2, cs: $2, et: st2, Nt: ot2, ds: lt2 } = this.G, ct2 = null !== (g2 = this.G.fs) && void 0 !== g2 ? g2 : this.G.vs ? 0 : d2.mediaSize.height;
    if (null === O2) return;
    const ut2 = d2.context;
    ut2.lineCap = "butt", ut2.lineJoin = "round", ut2.lineWidth = st2, f(ut2, ot2), ut2.lineWidth = 1, pt(d2, _2, lt2, O2, $2, this.ps.bind(this), Mt$1.bind(null, ct2));
  }
};
function St$1(d2, g2, _2) {
  return Math.min(Math.max(d2, g2), _2);
}
function kt(d2, g2, _2) {
  return g2 - d2 <= _2;
}
function yt$1(d2) {
  const g2 = Math.ceil(d2);
  return g2 % 2 == 0 ? g2 - 1 : g2;
}
class Ct {
  bs(d2, g2) {
    const _2 = this.ws, { gs: O2, Ms: $2, xs: st2, Ss: ot2, ks: lt2, fs: ct2 } = g2;
    if (void 0 === this.ys || void 0 === _2 || _2.gs !== O2 || _2.Ms !== $2 || _2.xs !== st2 || _2.Ss !== ot2 || _2.fs !== ct2 || _2.ks !== lt2) {
      const _3 = d2.context.createLinearGradient(0, 0, 0, lt2);
      if (_3.addColorStop(0, O2), null != ct2) {
        const g3 = St$1(ct2 * d2.verticalPixelRatio / lt2, 0, 1);
        _3.addColorStop(g3, $2), _3.addColorStop(g3, st2);
      }
      _3.addColorStop(1, ot2), this.ys = _3, this.ws = g2;
    }
    return this.ys;
  }
}
let Vp = class Tt extends Mp {
  constructor() {
    super(...arguments), this.Cs = new Ct();
  }
  ps(d2, g2) {
    return this.Cs.bs(d2, { gs: g2.Ts, Ms: "", xs: "", Ss: g2.Ps, ks: d2.bitmapSize.height });
  }
};
function Pt$1(d2, g2) {
  const _2 = d2.context;
  _2.strokeStyle = g2, _2.stroke();
}
class Rt extends j {
  constructor() {
    super(...arguments), this.G = null;
  }
  J(d2) {
    this.G = d2;
  }
  Z(d2) {
    if (null === this.G) return;
    const { it: g2, tt: _2, cs: O2, ds: $2, et: st2, Nt: ot2, Rs: lt2 } = this.G;
    if (null === _2) return;
    const ct2 = d2.context;
    ct2.lineCap = "butt", ct2.lineWidth = st2 * d2.verticalPixelRatio, f(ct2, ot2), ct2.lineJoin = "round";
    const ut2 = this.Ds.bind(this);
    void 0 !== $2 && pt(d2, g2, $2, _2, O2, ut2, Pt$1), lt2 && function(d3, g3, _3, O3, $3) {
      const { horizontalPixelRatio: st3, verticalPixelRatio: ot3, context: lt3 } = d3;
      let ct3 = null;
      const ut3 = Math.max(1, Math.floor(st3)) % 2 / 2, gt2 = _3 * ot3 + ut3;
      for (let _4 = O3.to - 1; _4 >= O3.from; --_4) {
        const O4 = g3[_4];
        if (O4) {
          const g4 = $3(d3, O4);
          g4 !== ct3 && (lt3.beginPath(), null !== ct3 && lt3.fill(), lt3.fillStyle = g4, ct3 = g4);
          const _5 = Math.round(O4.nt * st3) + ut3, mt2 = O4.st * ot3;
          lt3.moveTo(_5, mt2), lt3.arc(_5, mt2, gt2, 0, 2 * Math.PI);
        }
      }
      lt3.fill();
    }(d2, g2, lt2, _2, ut2);
  }
}
class Dt extends Rt {
  Ds(d2, g2) {
    return g2.lt;
  }
}
function Ot$1(d2, g2, _2, O2, $2 = 0, st2 = g2.length) {
  let ot2 = st2 - $2;
  for (; 0 < ot2; ) {
    const st3 = ot2 >> 1, lt2 = $2 + st3;
    O2(g2[lt2], _2) === d2 ? ($2 = lt2 + 1, ot2 -= st3 + 1) : ot2 = st3;
  }
  return $2;
}
const Dp = Ot$1.bind(null, true), Op = Ot$1.bind(null, false);
function Vt$1(d2, g2) {
  return d2.ot < g2;
}
function It(d2, g2) {
  return g2 < d2.ot;
}
function zt$1(d2, g2, _2) {
  const O2 = g2.Os(), $2 = g2.ui(), st2 = Dp(d2, O2, Vt$1), ot2 = Op(d2, $2, It);
  if (!_2) return { from: st2, to: ot2 };
  let lt2 = st2, ct2 = ot2;
  return st2 > 0 && st2 < d2.length && d2[st2].ot >= O2 && (lt2 = st2 - 1), ot2 > 0 && ot2 < d2.length && d2[ot2 - 1].ot <= $2 && (ct2 = ot2 + 1), { from: lt2, to: ct2 };
}
class Lt {
  constructor(d2, g2, _2) {
    this.As = true, this.Bs = true, this.Vs = true, this.Is = [], this.zs = null, this.Ls = d2, this.Es = g2, this.Ns = _2;
  }
  bt(d2) {
    this.As = true, "data" === d2 && (this.Bs = true), "options" === d2 && (this.Vs = true);
  }
  gt() {
    return this.Ls.yt() ? (this.Fs(), null === this.zs ? null : this.Ws) : null;
  }
  js() {
    this.Is = this.Is.map((d2) => Object.assign(Object.assign({}, d2), this.Ls.$s().Hs(d2.ot)));
  }
  Us() {
    this.zs = null;
  }
  Fs() {
    this.Bs && (this.qs(), this.Bs = false), this.Vs && (this.js(), this.Vs = false), this.As && (this.Ys(), this.As = false);
  }
  Ys() {
    const d2 = this.Ls.Dt(), g2 = this.Es.St();
    if (this.Us(), g2.Ni() || d2.Ni()) return;
    const _2 = g2.Xs();
    if (null === _2) return;
    if (0 === this.Ls.In().Ks()) return;
    const O2 = this.Ls.Ct();
    null !== O2 && (this.zs = zt$1(this.Is, _2, this.Ns), this.Zs(d2, g2, O2.Ot), this.Gs());
  }
}
class Et extends Lt {
  constructor(d2, g2) {
    super(d2, g2, true);
  }
  Zs(d2, g2, _2) {
    g2.Js(this.Is, L$1(this.zs)), d2.Qs(this.Is, _2, L$1(this.zs));
  }
  te(d2, g2) {
    return { ot: d2, _t: g2, nt: NaN, st: NaN };
  }
  qs() {
    const d2 = this.Ls.$s();
    this.Is = this.Ls.In().ie().map((g2) => {
      const _2 = g2.Ot[3];
      return this.ne(g2.se, _2, d2);
    });
  }
}
class Nt extends Et {
  constructor(d2, g2) {
    super(d2, g2), this.Ws = new W(), this.ee = new Vp(), this.re = new Dt(), this.Ws.X([this.ee, this.re]);
  }
  ne(d2, g2, _2) {
    return Object.assign(Object.assign({}, this.te(d2, g2)), _2.Hs(d2));
  }
  Gs() {
    const d2 = this.Ls.W();
    this.ee.J({ ds: d2.lineType, it: this.Is, Nt: d2.lineStyle, et: d2.lineWidth, fs: null, vs: d2.invertFilledArea, tt: this.zs, cs: this.Es.St().he() }), this.re.J({ ds: d2.lineVisible ? d2.lineType : void 0, it: this.Is, Nt: d2.lineStyle, et: d2.lineWidth, tt: this.zs, cs: this.Es.St().he(), Rs: d2.pointMarkersVisible ? d2.pointMarkersRadius || d2.lineWidth / 2 + 2 : void 0 });
  }
}
let Lp = class Ft extends j {
  constructor() {
    super(...arguments), this.zt = null, this.le = 0, this.ae = 0;
  }
  J(d2) {
    this.zt = d2;
  }
  Z({ context: d2, horizontalPixelRatio: g2, verticalPixelRatio: _2 }) {
    if (null === this.zt || 0 === this.zt.In.length || null === this.zt.tt) return;
    this.le = this.oe(g2), this.le >= 2 && Math.max(1, Math.floor(g2)) % 2 != this.le % 2 && this.le--, this.ae = this.zt._e ? Math.min(this.le, Math.floor(g2)) : this.le;
    let O2 = null;
    const $2 = this.ae <= this.le && this.zt.he >= Math.floor(1.5 * g2);
    for (let st2 = this.zt.tt.from; st2 < this.zt.tt.to; ++st2) {
      const ot2 = this.zt.In[st2];
      O2 !== ot2.ue && (d2.fillStyle = ot2.ue, O2 = ot2.ue);
      const lt2 = Math.floor(0.5 * this.ae), ct2 = Math.round(ot2.nt * g2), ut2 = ct2 - lt2, gt2 = this.ae, mt2 = ut2 + gt2 - 1, bt2 = Math.min(ot2.ce, ot2.de), yt2 = Math.max(ot2.ce, ot2.de), wt2 = Math.round(bt2 * _2) - lt2, Pt2 = Math.round(yt2 * _2) + lt2, At2 = Math.max(Pt2 - wt2, this.ae);
      d2.fillRect(ut2, wt2, gt2, At2);
      const St2 = Math.ceil(1.5 * this.le);
      if ($2) {
        if (this.zt.fe) {
          const g4 = ct2 - St2;
          let O4 = Math.max(wt2, Math.round(ot2.ve * _2) - lt2), $4 = O4 + gt2 - 1;
          $4 > wt2 + At2 - 1 && ($4 = wt2 + At2 - 1, O4 = $4 - gt2 + 1), d2.fillRect(g4, O4, ut2 - g4, $4 - O4 + 1);
        }
        const g3 = ct2 + St2;
        let O3 = Math.max(wt2, Math.round(ot2.pe * _2) - lt2), $3 = O3 + gt2 - 1;
        $3 > wt2 + At2 - 1 && ($3 = wt2 + At2 - 1, O3 = $3 - gt2 + 1), d2.fillRect(mt2 + 1, O3, g3 - mt2, $3 - O3 + 1);
      }
    }
  }
  oe(d2) {
    const g2 = Math.floor(d2);
    return Math.max(g2, Math.floor(function(d3, g3) {
      return Math.floor(0.3 * d3 * g3);
    }(b(this.zt).he, d2)));
  }
};
class Wt extends Lt {
  constructor(d2, g2) {
    super(d2, g2, false);
  }
  Zs(d2, g2, _2) {
    g2.Js(this.Is, L$1(this.zs)), d2.me(this.Is, _2, L$1(this.zs));
  }
  be(d2, g2, _2) {
    return { ot: d2, we: g2.Ot[0], ge: g2.Ot[1], Me: g2.Ot[2], xe: g2.Ot[3], nt: NaN, ve: NaN, ce: NaN, de: NaN, pe: NaN };
  }
  qs() {
    const d2 = this.Ls.$s();
    this.Is = this.Ls.In().ie().map((g2) => this.ne(g2.se, g2, d2));
  }
}
let Np = class jt extends Wt {
  constructor() {
    super(...arguments), this.Ws = new Lp();
  }
  ne(d2, g2, _2) {
    return Object.assign(Object.assign({}, this.be(d2, g2, _2)), _2.Hs(d2));
  }
  Gs() {
    const d2 = this.Ls.W();
    this.Ws.J({ In: this.Is, he: this.Es.St().he(), fe: d2.openVisible, _e: d2.thinBars, tt: this.zs });
  }
}, $p = class Ht extends Mp {
  constructor() {
    super(...arguments), this.Cs = new Ct();
  }
  ps(d2, g2) {
    const _2 = this.G;
    return this.Cs.bs(d2, { gs: g2.Se, Ms: g2.ke, xs: g2.ye, Ss: g2.Ce, ks: d2.bitmapSize.height, fs: _2.fs });
  }
}, Fp = class $t extends Rt {
  constructor() {
    super(...arguments), this.Te = new Ct();
  }
  Ds(d2, g2) {
    const _2 = this.G;
    return this.Te.bs(d2, { gs: g2.Pe, Ms: g2.Pe, xs: g2.Re, Ss: g2.Re, ks: d2.bitmapSize.height, fs: _2.fs });
  }
};
class Ut extends Et {
  constructor(d2, g2) {
    super(d2, g2), this.Ws = new W(), this.De = new $p(), this.Oe = new Fp(), this.Ws.X([this.De, this.Oe]);
  }
  ne(d2, g2, _2) {
    return Object.assign(Object.assign({}, this.te(d2, g2)), _2.Hs(d2));
  }
  Gs() {
    const d2 = this.Ls.Ct();
    if (null === d2) return;
    const g2 = this.Ls.W(), _2 = this.Ls.Dt().Rt(g2.baseValue.price, d2.Ot), O2 = this.Es.St().he();
    this.De.J({ it: this.Is, et: g2.lineWidth, Nt: g2.lineStyle, ds: g2.lineType, fs: _2, vs: false, tt: this.zs, cs: O2 }), this.Oe.J({ it: this.Is, et: g2.lineWidth, Nt: g2.lineStyle, ds: g2.lineVisible ? g2.lineType : void 0, Rs: g2.pointMarkersVisible ? g2.pointMarkersRadius || g2.lineWidth / 2 + 2 : void 0, fs: _2, tt: this.zs, cs: O2 });
  }
}
class qt extends j {
  constructor() {
    super(...arguments), this.zt = null, this.le = 0;
  }
  J(d2) {
    this.zt = d2;
  }
  Z(d2) {
    if (null === this.zt || 0 === this.zt.In.length || null === this.zt.tt) return;
    const { horizontalPixelRatio: g2 } = d2;
    this.le = function(d3, g3) {
      if (d3 >= 2.5 && d3 <= 4) return Math.floor(3 * g3);
      const _3 = 1 - 0.2 * Math.atan(Math.max(4, d3) - 4) / (0.5 * Math.PI), O3 = Math.floor(d3 * _3 * g3), $2 = Math.floor(d3 * g3), st2 = Math.min(O3, $2);
      return Math.max(Math.floor(g3), st2);
    }(this.zt.he, g2), this.le >= 2 && Math.floor(g2) % 2 != this.le % 2 && this.le--;
    const _2 = this.zt.In;
    this.zt.Ae && this.Be(d2, _2, this.zt.tt), this.zt._i && this.Ve(d2, _2, this.zt.tt);
    const O2 = this.Ie(g2);
    (!this.zt._i || this.le > 2 * O2) && this.ze(d2, _2, this.zt.tt);
  }
  Be(d2, g2, _2) {
    if (null === this.zt) return;
    const { context: O2, horizontalPixelRatio: $2, verticalPixelRatio: st2 } = d2;
    let ot2 = "", lt2 = Math.min(Math.floor($2), Math.floor(this.zt.he * $2));
    lt2 = Math.max(Math.floor($2), Math.min(lt2, this.le));
    const ct2 = Math.floor(0.5 * lt2);
    let ut2 = null;
    for (let d3 = _2.from; d3 < _2.to; d3++) {
      const _3 = g2[d3];
      _3.Le !== ot2 && (O2.fillStyle = _3.Le, ot2 = _3.Le);
      const gt2 = Math.round(Math.min(_3.ve, _3.pe) * st2), mt2 = Math.round(Math.max(_3.ve, _3.pe) * st2), bt2 = Math.round(_3.ce * st2), yt2 = Math.round(_3.de * st2);
      let wt2 = Math.round($2 * _3.nt) - ct2;
      const Pt2 = wt2 + lt2 - 1;
      null !== ut2 && (wt2 = Math.max(ut2 + 1, wt2), wt2 = Math.min(wt2, Pt2));
      const At2 = Pt2 - wt2 + 1;
      O2.fillRect(wt2, bt2, At2, gt2 - bt2), O2.fillRect(wt2, mt2 + 1, At2, yt2 - mt2), ut2 = Pt2;
    }
  }
  Ie(d2) {
    let g2 = Math.floor(1 * d2);
    this.le <= 2 * g2 && (g2 = Math.floor(0.5 * (this.le - 1)));
    const _2 = Math.max(Math.floor(d2), g2);
    return this.le <= 2 * _2 ? Math.max(Math.floor(d2), Math.floor(1 * d2)) : _2;
  }
  Ve(d2, g2, _2) {
    if (null === this.zt) return;
    const { context: O2, horizontalPixelRatio: $2, verticalPixelRatio: st2 } = d2;
    let ot2 = "";
    const lt2 = this.Ie($2);
    let ct2 = null;
    for (let d3 = _2.from; d3 < _2.to; d3++) {
      const _3 = g2[d3];
      _3.Ee !== ot2 && (O2.fillStyle = _3.Ee, ot2 = _3.Ee);
      let ut2 = Math.round(_3.nt * $2) - Math.floor(0.5 * this.le);
      const gt2 = ut2 + this.le - 1, mt2 = Math.round(Math.min(_3.ve, _3.pe) * st2), bt2 = Math.round(Math.max(_3.ve, _3.pe) * st2);
      if (null !== ct2 && (ut2 = Math.max(ct2 + 1, ut2), ut2 = Math.min(ut2, gt2)), this.zt.he * $2 > 2 * lt2) K(O2, ut2, mt2, gt2 - ut2 + 1, bt2 - mt2 + 1, lt2);
      else {
        const d4 = gt2 - ut2 + 1;
        O2.fillRect(ut2, mt2, d4, bt2 - mt2 + 1);
      }
      ct2 = gt2;
    }
  }
  ze(d2, g2, _2) {
    if (null === this.zt) return;
    const { context: O2, horizontalPixelRatio: $2, verticalPixelRatio: st2 } = d2;
    let ot2 = "";
    const lt2 = this.Ie($2);
    for (let d3 = _2.from; d3 < _2.to; d3++) {
      const _3 = g2[d3];
      let ct2 = Math.round(Math.min(_3.ve, _3.pe) * st2), ut2 = Math.round(Math.max(_3.ve, _3.pe) * st2), gt2 = Math.round(_3.nt * $2) - Math.floor(0.5 * this.le), mt2 = gt2 + this.le - 1;
      if (_3.ue !== ot2) {
        const d4 = _3.ue;
        O2.fillStyle = d4, ot2 = d4;
      }
      this.zt._i && (gt2 += lt2, ct2 += lt2, mt2 -= lt2, ut2 -= lt2), ct2 > ut2 || O2.fillRect(gt2, ct2, mt2 - gt2 + 1, ut2 - ct2 + 1);
    }
  }
}
let zp = class Yt extends Wt {
  constructor() {
    super(...arguments), this.Ws = new qt();
  }
  ne(d2, g2, _2) {
    return Object.assign(Object.assign({}, this.be(d2, g2, _2)), _2.Hs(d2));
  }
  Gs() {
    const d2 = this.Ls.W();
    this.Ws.J({ In: this.Is, he: this.Es.St().he(), Ae: d2.wickVisible, _i: d2.borderVisible, tt: this.zs });
  }
}, Bp = class Xt {
  constructor(d2, g2) {
    this.Ne = d2, this.Li = g2;
  }
  K(d2, g2, _2) {
    this.Ne.draw(d2, this.Li, g2, _2);
  }
};
class Kt extends Lt {
  constructor(d2, g2, _2) {
    super(d2, g2, false), this.wn = _2, this.Ws = new Bp(this.wn.renderer(), (g3) => {
      const _3 = d2.Ct();
      return null === _3 ? null : d2.Dt().Rt(g3, _3.Ot);
    });
  }
  Fe(d2) {
    return this.wn.priceValueBuilder(d2);
  }
  We(d2) {
    return this.wn.isWhitespace(d2);
  }
  qs() {
    const d2 = this.Ls.$s();
    this.Is = this.Ls.In().ie().map((g2) => Object.assign(Object.assign({ ot: g2.se, nt: NaN }, d2.Hs(g2.se)), { je: g2.He }));
  }
  Zs(d2, g2) {
    g2.Js(this.Is, L$1(this.zs));
  }
  Gs() {
    this.wn.update({ bars: this.Is.map(Zt$1), barSpacing: this.Es.St().he(), visibleRange: this.zs }, this.Ls.W());
  }
}
function Zt$1(d2) {
  return { x: d2.nt, time: d2.ot, originalData: d2.je, barColor: d2.ue };
}
class Gt extends j {
  constructor() {
    super(...arguments), this.zt = null, this.$e = [];
  }
  J(d2) {
    this.zt = d2, this.$e = [];
  }
  Z({ context: d2, horizontalPixelRatio: g2, verticalPixelRatio: _2 }) {
    if (null === this.zt || 0 === this.zt.it.length || null === this.zt.tt) return;
    this.$e.length || this.Ue(g2);
    const O2 = Math.max(1, Math.floor(_2)), $2 = Math.round(this.zt.qe * _2) - Math.floor(O2 / 2), st2 = $2 + O2;
    for (let g3 = this.zt.tt.from; g3 < this.zt.tt.to; g3++) {
      const ot2 = this.zt.it[g3], lt2 = this.$e[g3 - this.zt.tt.from], ct2 = Math.round(ot2.st * _2);
      let ut2, gt2;
      d2.fillStyle = ot2.ue, ct2 <= $2 ? (ut2 = ct2, gt2 = st2) : (ut2 = $2, gt2 = ct2 - Math.floor(O2 / 2) + O2), d2.fillRect(lt2.Os, ut2, lt2.ui - lt2.Os + 1, gt2 - ut2);
    }
  }
  Ue(d2) {
    if (null === this.zt || 0 === this.zt.it.length || null === this.zt.tt) return void (this.$e = []);
    const g2 = Math.ceil(this.zt.he * d2) <= 1 ? 0 : Math.max(1, Math.floor(d2)), _2 = Math.round(this.zt.he * d2) - g2;
    this.$e = new Array(this.zt.tt.to - this.zt.tt.from);
    for (let g3 = this.zt.tt.from; g3 < this.zt.tt.to; g3++) {
      const O3 = this.zt.it[g3], $2 = Math.round(O3.nt * d2);
      let st2, ot2;
      if (_2 % 2) {
        const d3 = (_2 - 1) / 2;
        st2 = $2 - d3, ot2 = $2 + d3;
      } else {
        const d3 = _2 / 2;
        st2 = $2 - d3, ot2 = $2 + d3 - 1;
      }
      this.$e[g3 - this.zt.tt.from] = { Os: st2, ui: ot2, Ye: $2, Xe: O3.nt * d2, ot: O3.ot };
    }
    for (let d3 = this.zt.tt.from + 1; d3 < this.zt.tt.to; d3++) {
      const _3 = this.$e[d3 - this.zt.tt.from], O3 = this.$e[d3 - this.zt.tt.from - 1];
      _3.ot === O3.ot + 1 && _3.Os - O3.ui !== g2 + 1 && (O3.Ye > O3.Xe ? O3.ui = _3.Os - g2 - 1 : _3.Os = O3.ui + g2 + 1);
    }
    let O2 = Math.ceil(this.zt.he * d2);
    for (let d3 = this.zt.tt.from; d3 < this.zt.tt.to; d3++) {
      const g3 = this.$e[d3 - this.zt.tt.from];
      g3.ui < g3.Os && (g3.ui = g3.Os);
      const _3 = g3.ui - g3.Os + 1;
      O2 = Math.min(_3, O2);
    }
    if (g2 > 0 && O2 < 4) for (let d3 = this.zt.tt.from; d3 < this.zt.tt.to; d3++) {
      const g3 = this.$e[d3 - this.zt.tt.from];
      g3.ui - g3.Os + 1 > O2 && (g3.Ye > g3.Xe ? g3.ui -= 1 : g3.Os += 1);
    }
  }
}
let Up = class Jt extends Et {
  constructor() {
    super(...arguments), this.Ws = new Gt();
  }
  ne(d2, g2, _2) {
    return Object.assign(Object.assign({}, this.te(d2, g2)), _2.Hs(d2));
  }
  Gs() {
    const d2 = { it: this.Is, he: this.Es.St().he(), tt: this.zs, qe: this.Ls.Dt().Rt(this.Ls.W().base, b(this.Ls.Ct()).Ot) };
    this.Ws.J(d2);
  }
}, Wp = class Qt extends Et {
  constructor() {
    super(...arguments), this.Ws = new Dt();
  }
  ne(d2, g2, _2) {
    return Object.assign(Object.assign({}, this.te(d2, g2)), _2.Hs(d2));
  }
  Gs() {
    const d2 = this.Ls.W(), g2 = { it: this.Is, Nt: d2.lineStyle, ds: d2.lineVisible ? d2.lineType : void 0, et: d2.lineWidth, Rs: d2.pointMarkersVisible ? d2.pointMarkersRadius || d2.lineWidth / 2 + 2 : void 0, tt: this.zs, cs: this.Es.St().he() };
    this.Ws.J(g2);
  }
};
const jp = /[2-9]/g;
class ii {
  constructor(d2 = 50) {
    this.Ke = 0, this.Ze = 1, this.Ge = 1, this.Je = {}, this.Qe = /* @__PURE__ */ new Map(), this.tr = d2;
  }
  ir() {
    this.Ke = 0, this.Qe.clear(), this.Ze = 1, this.Ge = 1, this.Je = {};
  }
  xi(d2, g2, _2) {
    return this.nr(d2, g2, _2).width;
  }
  Mi(d2, g2, _2) {
    const O2 = this.nr(d2, g2, _2);
    return ((O2.actualBoundingBoxAscent || 0) - (O2.actualBoundingBoxDescent || 0)) / 2;
  }
  nr(d2, g2, _2) {
    const O2 = _2 || jp, $2 = String(g2).replace(O2, "0");
    if (this.Qe.has($2)) return m(this.Qe.get($2)).sr;
    if (this.Ke === this.tr) {
      const d3 = this.Je[this.Ge];
      delete this.Je[this.Ge], this.Qe.delete(d3), this.Ge++, this.Ke--;
    }
    d2.save(), d2.textBaseline = "middle";
    const st2 = d2.measureText($2);
    return d2.restore(), 0 === st2.width && g2.length || (this.Qe.set($2, { sr: st2, er: this.Ze }), this.Je[this.Ze] = $2, this.Ke++, this.Ze++), st2;
  }
}
class ni {
  constructor(d2) {
    this.rr = null, this.k = null, this.hr = "right", this.lr = d2;
  }
  ar(d2, g2, _2) {
    this.rr = d2, this.k = g2, this.hr = _2;
  }
  K(d2) {
    null !== this.k && null !== this.rr && this.rr.K(d2, this.k, this.lr, this.hr);
  }
}
class si {
  constructor(d2, g2, _2) {
    this._r = d2, this.lr = new ii(50), this.ur = g2, this.F = _2, this.j = -1, this.Wt = new ni(this.lr);
  }
  gt() {
    const d2 = this.F.cr(this.ur);
    if (null === d2) return null;
    const g2 = d2.dr(this.ur) ? d2.vr() : this.ur.Dt();
    if (null === g2) return null;
    const _2 = d2.pr(g2);
    if ("overlay" === _2) return null;
    const O2 = this.F.mr();
    return O2.P !== this.j && (this.j = O2.P, this.lr.ir()), this.Wt.ar(this._r.Ii(), O2, _2), this.Wt;
  }
}
class ei extends j {
  constructor() {
    super(...arguments), this.zt = null;
  }
  J(d2) {
    this.zt = d2;
  }
  br(d2, g2) {
    var _2;
    if (!(null === (_2 = this.zt) || void 0 === _2 ? void 0 : _2.yt)) return null;
    const { st: O2, et: $2, wr: st2 } = this.zt;
    return g2 >= O2 - $2 - 7 && g2 <= O2 + $2 + 7 ? { gr: this.zt, wr: st2 } : null;
  }
  Z({ context: d2, bitmapSize: g2, horizontalPixelRatio: _2, verticalPixelRatio: O2 }) {
    if (null === this.zt) return;
    if (false === this.zt.yt) return;
    const $2 = Math.round(this.zt.st * O2);
    $2 < 0 || $2 > g2.height || (d2.lineCap = "butt", d2.strokeStyle = this.zt.O, d2.lineWidth = Math.floor(this.zt.et * _2), f(d2, this.zt.Nt), v(d2, $2, 0, g2.width));
  }
}
class ri {
  constructor(d2) {
    this.Mr = { st: 0, O: "rgba(0, 0, 0, 0)", et: 1, Nt: 0, yt: false }, this.Sr = new ei(), this.ft = true, this.Ls = d2, this.Es = d2.$t(), this.Sr.J(this.Mr);
  }
  bt() {
    this.ft = true;
  }
  gt() {
    return this.Ls.yt() ? (this.ft && (this.kr(), this.ft = false), this.Sr) : null;
  }
}
class hi extends ri {
  constructor(d2) {
    super(d2);
  }
  kr() {
    this.Mr.yt = false;
    const d2 = this.Ls.Dt(), g2 = d2.yr().yr;
    if (2 !== g2 && 3 !== g2) return;
    const _2 = this.Ls.W();
    if (!_2.baseLineVisible || !this.Ls.yt()) return;
    const O2 = this.Ls.Ct();
    null !== O2 && (this.Mr.yt = true, this.Mr.st = d2.Rt(O2.Ot, O2.Ot), this.Mr.O = _2.baseLineColor, this.Mr.et = _2.baseLineWidth, this.Mr.Nt = _2.baseLineStyle);
  }
}
class li extends j {
  constructor() {
    super(...arguments), this.zt = null;
  }
  J(d2) {
    this.zt = d2;
  }
  He() {
    return this.zt;
  }
  Z({ context: d2, horizontalPixelRatio: g2, verticalPixelRatio: _2 }) {
    const O2 = this.zt;
    if (null === O2) return;
    const $2 = Math.max(1, Math.floor(g2)), st2 = $2 % 2 / 2, ot2 = Math.round(O2.Xe.x * g2) + st2, lt2 = O2.Xe.y * _2;
    d2.fillStyle = O2.Cr, d2.beginPath();
    const ct2 = Math.max(2, 1.5 * O2.Tr) * g2;
    d2.arc(ot2, lt2, ct2, 0, 2 * Math.PI, false), d2.fill(), d2.fillStyle = O2.Pr, d2.beginPath(), d2.arc(ot2, lt2, O2.ht * g2, 0, 2 * Math.PI, false), d2.fill(), d2.lineWidth = $2, d2.strokeStyle = O2.Rr, d2.beginPath(), d2.arc(ot2, lt2, O2.ht * g2 + $2 / 2, 0, 2 * Math.PI, false), d2.stroke();
  }
}
const qp = [{ Dr: 0, Or: 0.25, Ar: 4, Br: 10, Vr: 0.25, Ir: 0, zr: 0.4, Lr: 0.8 }, { Dr: 0.25, Or: 0.525, Ar: 10, Br: 14, Vr: 0, Ir: 0, zr: 0.8, Lr: 0 }, { Dr: 0.525, Or: 1, Ar: 14, Br: 14, Vr: 0, Ir: 0, zr: 0, Lr: 0 }];
function oi(d2, g2, _2, O2) {
  return function(d3, g3) {
    if ("transparent" === d3) return d3;
    const _3 = T(d3), O3 = _3[3];
    return `rgba(${_3[0]}, ${_3[1]}, ${_3[2]}, ${g3 * O3})`;
  }(d2, _2 + (O2 - _2) * g2);
}
function _i(d2, g2) {
  const _2 = d2 % 2600 / 2600;
  let O2;
  for (const d3 of qp) if (_2 >= d3.Dr && _2 <= d3.Or) {
    O2 = d3;
    break;
  }
  p(void 0 !== O2, "Last price animation internal logic error");
  const $2 = (_2 - O2.Dr) / (O2.Or - O2.Dr);
  return { Pr: oi(g2, $2, O2.Vr, O2.Ir), Rr: oi(g2, $2, O2.zr, O2.Lr), ht: (st2 = $2, ot2 = O2.Ar, lt2 = O2.Br, ot2 + (lt2 - ot2) * st2) };
  var st2, ot2, lt2;
}
class ui {
  constructor(d2) {
    this.Wt = new li(), this.ft = true, this.Er = true, this.Nr = performance.now(), this.Fr = this.Nr - 1, this.Wr = d2;
  }
  jr() {
    this.Fr = this.Nr - 1, this.bt();
  }
  Hr() {
    if (this.bt(), 2 === this.Wr.W().lastPriceAnimation) {
      const d2 = performance.now(), g2 = this.Fr - d2;
      if (g2 > 0) return void (g2 < 650 && (this.Fr += 2600));
      this.Nr = d2, this.Fr = d2 + 2600;
    }
  }
  bt() {
    this.ft = true;
  }
  $r() {
    this.Er = true;
  }
  yt() {
    return 0 !== this.Wr.W().lastPriceAnimation;
  }
  Ur() {
    switch (this.Wr.W().lastPriceAnimation) {
      case 0:
        return false;
      case 1:
        return true;
      case 2:
        return performance.now() <= this.Fr;
    }
  }
  gt() {
    return this.ft ? (this.Mt(), this.ft = false, this.Er = false) : this.Er && (this.qr(), this.Er = false), this.Wt;
  }
  Mt() {
    this.Wt.J(null);
    const d2 = this.Wr.$t().St(), g2 = d2.Xs(), _2 = this.Wr.Ct();
    if (null === g2 || null === _2) return;
    const O2 = this.Wr.Yr(true);
    if (O2.Xr || !g2.Kr(O2.se)) return;
    const $2 = { x: d2.It(O2.se), y: this.Wr.Dt().Rt(O2._t, _2.Ot) }, st2 = O2.O, ot2 = this.Wr.W().lineWidth, lt2 = _i(this.Zr(), st2);
    this.Wt.J({ Cr: st2, Tr: ot2, Pr: lt2.Pr, Rr: lt2.Rr, ht: lt2.ht, Xe: $2 });
  }
  qr() {
    const d2 = this.Wt.He();
    if (null !== d2) {
      const g2 = _i(this.Zr(), d2.Cr);
      d2.Pr = g2.Pr, d2.Rr = g2.Rr, d2.ht = g2.ht;
    }
  }
  Zr() {
    return this.Ur() ? performance.now() - this.Nr : 2599;
  }
}
function ci(d2, g2) {
  return yt$1(Math.min(Math.max(d2, 12), 30) * g2);
}
function di(d2, g2) {
  switch (d2) {
    case "arrowDown":
    case "arrowUp":
      return ci(g2, 1);
    case "circle":
      return ci(g2, 0.8);
    case "square":
      return ci(g2, 0.7);
  }
}
function fi(d2) {
  return function(d3) {
    const g2 = Math.ceil(d3);
    return g2 % 2 != 0 ? g2 - 1 : g2;
  }(ci(d2, 1));
}
function vi(d2) {
  return Math.max(ci(d2, 0.1), 3);
}
function pi(d2, g2, _2) {
  return g2 ? d2 : _2 ? Math.ceil(d2 / 2) : 0;
}
function mi(d2, g2, _2, O2, $2) {
  const st2 = di("square", _2), ot2 = (st2 - 1) / 2, lt2 = d2 - ot2, ct2 = g2 - ot2;
  return O2 >= lt2 && O2 <= lt2 + st2 && $2 >= ct2 && $2 <= ct2 + st2;
}
function bi(d2, g2, _2, O2) {
  const $2 = (di("arrowUp", O2) - 1) / 2 * _2.Gr, st2 = (yt$1(O2 / 2) - 1) / 2 * _2.Gr;
  g2.beginPath(), d2 ? (g2.moveTo(_2.nt - $2, _2.st), g2.lineTo(_2.nt, _2.st - $2), g2.lineTo(_2.nt + $2, _2.st), g2.lineTo(_2.nt + st2, _2.st), g2.lineTo(_2.nt + st2, _2.st + $2), g2.lineTo(_2.nt - st2, _2.st + $2), g2.lineTo(_2.nt - st2, _2.st)) : (g2.moveTo(_2.nt - $2, _2.st), g2.lineTo(_2.nt, _2.st + $2), g2.lineTo(_2.nt + $2, _2.st), g2.lineTo(_2.nt + st2, _2.st), g2.lineTo(_2.nt + st2, _2.st - $2), g2.lineTo(_2.nt - st2, _2.st - $2), g2.lineTo(_2.nt - st2, _2.st)), g2.fill();
}
class gi extends j {
  constructor() {
    super(...arguments), this.zt = null, this.lr = new ii(), this.j = -1, this.H = "", this.Jr = "";
  }
  J(d2) {
    this.zt = d2;
  }
  ar(d2, g2) {
    this.j === d2 && this.H === g2 || (this.j = d2, this.H = g2, this.Jr = N$1(d2, g2), this.lr.ir());
  }
  br(d2, g2) {
    if (null === this.zt || null === this.zt.tt) return null;
    for (let _2 = this.zt.tt.from; _2 < this.zt.tt.to; _2++) {
      const O2 = this.zt.it[_2];
      if (xi(O2, d2, g2)) return { gr: O2.Qr, wr: O2.wr };
    }
    return null;
  }
  Z({ context: d2, horizontalPixelRatio: g2, verticalPixelRatio: _2 }, O2, $2) {
    if (null !== this.zt && null !== this.zt.tt) {
      d2.textBaseline = "middle", d2.font = this.Jr;
      for (let O3 = this.zt.tt.from; O3 < this.zt.tt.to; O3++) {
        const $3 = this.zt.it[O3];
        void 0 !== $3.Zt && ($3.Zt.Hi = this.lr.xi(d2, $3.Zt.th), $3.Zt.Vt = this.j, $3.Zt.nt = $3.nt - $3.Zt.Hi / 2), Mi($3, d2, g2, _2);
      }
    }
  }
}
function Mi(d2, g2, _2, O2) {
  g2.fillStyle = d2.O, void 0 !== d2.Zt && function(d3, g3, _3, O3, $2, st2) {
    d3.save(), d3.scale($2, st2), d3.fillText(g3, _3, O3), d3.restore();
  }(g2, d2.Zt.th, d2.Zt.nt, d2.Zt.st, _2, O2), function(d3, g3, _3) {
    if (0 !== d3.Ks) {
      switch (d3.ih) {
        case "arrowDown":
          return void bi(false, g3, _3, d3.Ks);
        case "arrowUp":
          return void bi(true, g3, _3, d3.Ks);
        case "circle":
          return void function(d4, g4, _4) {
            const O3 = (di("circle", _4) - 1) / 2;
            d4.beginPath(), d4.arc(g4.nt, g4.st, O3 * g4.Gr, 0, 2 * Math.PI, false), d4.fill();
          }(g3, _3, d3.Ks);
        case "square":
          return void function(d4, g4, _4) {
            const O3 = di("square", _4), $2 = (O3 - 1) * g4.Gr / 2, st2 = g4.nt - $2, ot2 = g4.st - $2;
            d4.fillRect(st2, ot2, O3 * g4.Gr, O3 * g4.Gr);
          }(g3, _3, d3.Ks);
      }
      d3.ih;
    }
  }(d2, g2, function(d3, g3, _3) {
    const O3 = Math.max(1, Math.floor(g3)) % 2 / 2;
    return { nt: Math.round(d3.nt * g3) + O3, st: d3.st * _3, Gr: g3 };
  }(d2, _2, O2));
}
function xi(d2, g2, _2) {
  return !(void 0 === d2.Zt || !function(d3, g3, _3, O2, $2, st2) {
    const ot2 = O2 / 2;
    return $2 >= d3 && $2 <= d3 + _3 && st2 >= g3 - ot2 && st2 <= g3 + ot2;
  }(d2.Zt.nt, d2.Zt.st, d2.Zt.Hi, d2.Zt.Vt, g2, _2)) || function(d3, g3, _3) {
    if (0 === d3.Ks) return false;
    switch (d3.ih) {
      case "arrowDown":
      case "arrowUp":
        return function wi(d4, g4, _4, O2, $2, st2) {
          return mi(g4, _4, O2, $2, st2);
        }(0, d3.nt, d3.st, d3.Ks, g3, _3);
      case "circle":
        return function(d4, g4, _4, O2, $2) {
          const st2 = 2 + di("circle", _4) / 2, ot2 = d4 - O2, lt2 = g4 - $2;
          return Math.sqrt(ot2 * ot2 + lt2 * lt2) <= st2;
        }(d3.nt, d3.st, d3.Ks, g3, _3);
      case "square":
        return mi(d3.nt, d3.st, d3.Ks, g3, _3);
    }
  }(d2, g2, _2);
}
function Si(d2, g2, _2, O2, $2, st2, ot2, lt2, ct2) {
  const ut2 = O$1(_2) ? _2 : _2.xe, gt2 = O$1(_2) ? _2 : _2.ge, mt2 = O$1(_2) ? _2 : _2.Me, bt2 = O$1(g2.size) ? Math.max(g2.size, 0) : 1, yt2 = fi(lt2.he()) * bt2, wt2 = yt2 / 2;
  switch (d2.Ks = yt2, g2.position) {
    case "inBar":
      return d2.st = ot2.Rt(ut2, ct2), void (void 0 !== d2.Zt && (d2.Zt.st = d2.st + wt2 + st2 + 0.6 * $2));
    case "aboveBar":
      return d2.st = ot2.Rt(gt2, ct2) - wt2 - O2.nh, void 0 !== d2.Zt && (d2.Zt.st = d2.st - wt2 - 0.6 * $2, O2.nh += 1.2 * $2), void (O2.nh += yt2 + st2);
    case "belowBar":
      return d2.st = ot2.Rt(mt2, ct2) + wt2 + O2.sh, void 0 !== d2.Zt && (d2.Zt.st = d2.st + wt2 + st2 + 0.6 * $2, O2.sh += 1.2 * $2), void (O2.sh += yt2 + st2);
  }
  g2.position;
}
class ki {
  constructor(d2, g2) {
    this.ft = true, this.eh = true, this.rh = true, this.hh = null, this.ah = null, this.Wt = new gi(), this.Wr = d2, this.$i = g2, this.zt = { it: [], tt: null };
  }
  bt(d2) {
    this.ft = true, this.rh = true, "data" === d2 && (this.eh = true, this.ah = null);
  }
  gt(d2) {
    if (!this.Wr.yt()) return null;
    this.ft && this.oh();
    const g2 = this.$i.W().layout;
    return this.Wt.ar(g2.fontSize, g2.fontFamily), this.Wt.J(this.zt), this.Wt;
  }
  _h() {
    if (this.rh) {
      if (this.Wr.uh().length > 0) {
        const d2 = this.$i.St().he(), g2 = vi(d2), _2 = 1.5 * fi(d2) + 2 * g2, O2 = this.dh();
        this.hh = { above: pi(_2, O2.aboveBar, O2.inBar), below: pi(_2, O2.belowBar, O2.inBar) };
      } else this.hh = null;
      this.rh = false;
    }
    return this.hh;
  }
  dh() {
    return null === this.ah && (this.ah = this.Wr.uh().reduce((d2, g2) => (d2[g2.position] || (d2[g2.position] = true), d2), { inBar: false, aboveBar: false, belowBar: false })), this.ah;
  }
  oh() {
    const d2 = this.Wr.Dt(), g2 = this.$i.St(), _2 = this.Wr.uh();
    this.eh && (this.zt.it = _2.map((d3) => ({ ot: d3.time, nt: 0, st: 0, Ks: 0, ih: d3.shape, O: d3.color, Qr: d3.Qr, wr: d3.id, Zt: void 0 })), this.eh = false);
    const O2 = this.$i.W().layout;
    this.zt.tt = null;
    const $2 = g2.Xs();
    if (null === $2) return;
    const st2 = this.Wr.Ct();
    if (null === st2) return;
    if (0 === this.zt.it.length) return;
    let ot2 = NaN;
    const lt2 = vi(g2.he()), ct2 = { nh: lt2, sh: lt2 };
    this.zt.tt = zt$1(this.zt.it, $2, true);
    for (let $3 = this.zt.tt.from; $3 < this.zt.tt.to; $3++) {
      const ut2 = _2[$3];
      ut2.time !== ot2 && (ct2.nh = lt2, ct2.sh = lt2, ot2 = ut2.time);
      const gt2 = this.zt.it[$3];
      gt2.nt = g2.It(ut2.time), void 0 !== ut2.text && ut2.text.length > 0 && (gt2.Zt = { th: ut2.text, nt: 0, st: 0, Hi: 0, Vt: 0 });
      const mt2 = this.Wr.fh(ut2.time);
      null !== mt2 && Si(gt2, ut2, mt2, ct2, O2.fontSize, lt2, d2, g2, st2.Ot);
    }
    this.ft = false;
  }
}
class yi extends ri {
  constructor(d2) {
    super(d2);
  }
  kr() {
    const d2 = this.Mr;
    d2.yt = false;
    const g2 = this.Ls.W();
    if (!g2.priceLineVisible || !this.Ls.yt()) return;
    const _2 = this.Ls.Yr(0 === g2.priceLineSource);
    _2.Xr || (d2.yt = true, d2.st = _2.ki, d2.O = this.Ls.ph(_2.O), d2.et = g2.priceLineWidth, d2.Nt = g2.priceLineStyle);
  }
}
class Ci extends Tp {
  constructor(d2) {
    super(), this.jt = d2;
  }
  zi(d2, g2, _2) {
    d2.yt = false, g2.yt = false;
    const O2 = this.jt;
    if (!O2.yt()) return;
    const $2 = O2.W(), st2 = $2.lastValueVisible, ot2 = "" !== O2.mh(), lt2 = 0 === $2.seriesLastValueMode, ct2 = O2.Yr(false);
    if (ct2.Xr) return;
    st2 && (d2.Zt = this.bh(ct2, st2, lt2), d2.yt = 0 !== d2.Zt.length), (ot2 || lt2) && (g2.Zt = this.wh(ct2, st2, ot2, lt2), g2.yt = g2.Zt.length > 0);
    const ut2 = O2.ph(ct2.O), gt2 = P(ut2);
    _2.t = gt2.t, _2.ki = ct2.ki, g2.At = O2.$t().Bt(ct2.ki / O2.Dt().Vt()), d2.At = ut2, d2.O = gt2.i, g2.O = gt2.i;
  }
  wh(d2, g2, _2, O2) {
    let $2 = "";
    const st2 = this.jt.mh();
    return _2 && 0 !== st2.length && ($2 += `${st2} `), g2 && O2 && ($2 += this.jt.Dt().gh() ? d2.Mh : d2.xh), $2.trim();
  }
  bh(d2, g2, _2) {
    return g2 ? _2 ? this.jt.Dt().gh() ? d2.xh : d2.Mh : d2.Zt : "";
  }
}
function Ti(d2, g2, _2, O2) {
  const $2 = Number.isFinite(g2), st2 = Number.isFinite(_2);
  return $2 && st2 ? d2(g2, _2) : $2 || st2 ? $2 ? g2 : _2 : O2;
}
class Pi {
  constructor(d2, g2) {
    this.Sh = d2, this.kh = g2;
  }
  yh(d2) {
    return null !== d2 && this.Sh === d2.Sh && this.kh === d2.kh;
  }
  Ch() {
    return new Pi(this.Sh, this.kh);
  }
  Th() {
    return this.Sh;
  }
  Ph() {
    return this.kh;
  }
  Rh() {
    return this.kh - this.Sh;
  }
  Ni() {
    return this.kh === this.Sh || Number.isNaN(this.kh) || Number.isNaN(this.Sh);
  }
  ts(d2) {
    return null === d2 ? this : new Pi(Ti(Math.min, this.Th(), d2.Th(), -1 / 0), Ti(Math.max, this.Ph(), d2.Ph(), 1 / 0));
  }
  Dh(d2) {
    if (!O$1(d2)) return;
    if (0 == this.kh - this.Sh) return;
    const g2 = 0.5 * (this.kh + this.Sh);
    let _2 = this.kh - g2, O2 = this.Sh - g2;
    _2 *= d2, O2 *= d2, this.kh = g2 + _2, this.Sh = g2 + O2;
  }
  Oh(d2) {
    O$1(d2) && (this.kh += d2, this.Sh += d2);
  }
  Ah() {
    return { minValue: this.Sh, maxValue: this.kh };
  }
  static Bh(d2) {
    return null === d2 ? null : new Pi(d2.minValue, d2.maxValue);
  }
}
class Ri {
  constructor(d2, g2) {
    this.Vh = d2, this.Ih = g2 || null;
  }
  zh() {
    return this.Vh;
  }
  Lh() {
    return this.Ih;
  }
  Ah() {
    return null === this.Vh ? null : { priceRange: this.Vh.Ah(), margins: this.Ih || void 0 };
  }
  static Bh(d2) {
    return null === d2 ? null : new Ri(Pi.Bh(d2.priceRange), d2.margins);
  }
}
class Di extends ri {
  constructor(d2, g2) {
    super(d2), this.Eh = g2;
  }
  kr() {
    const d2 = this.Mr;
    d2.yt = false;
    const g2 = this.Eh.W();
    if (!this.Ls.yt() || !g2.lineVisible) return;
    const _2 = this.Eh.Nh();
    null !== _2 && (d2.yt = true, d2.st = _2, d2.O = g2.color, d2.et = g2.lineWidth, d2.Nt = g2.lineStyle, d2.wr = this.Eh.W().id);
  }
}
class Oi extends Tp {
  constructor(d2, g2) {
    super(), this.Wr = d2, this.Eh = g2;
  }
  zi(d2, g2, _2) {
    d2.yt = false, g2.yt = false;
    const O2 = this.Eh.W(), $2 = O2.axisLabelVisible, st2 = "" !== O2.title, ot2 = this.Wr;
    if (!$2 || !ot2.yt()) return;
    const lt2 = this.Eh.Nh();
    if (null === lt2) return;
    st2 && (g2.Zt = O2.title, g2.yt = true), g2.At = ot2.$t().Bt(lt2 / ot2.Dt().Vt()), d2.Zt = this.Fh(O2.price), d2.yt = true;
    const ct2 = P(O2.axisLabelColor || O2.color);
    _2.t = ct2.t;
    const ut2 = O2.axisLabelTextColor || ct2.i;
    d2.O = ut2, g2.O = ut2, _2.ki = lt2;
  }
  Fh(d2) {
    const g2 = this.Wr.Ct();
    return null === g2 ? "" : this.Wr.Dt().Fi(d2, g2.Ot);
  }
}
class Ai {
  constructor(d2, g2) {
    this.Wr = d2, this.cn = g2, this.Wh = new Di(d2, this), this._r = new Oi(d2, this), this.jh = new si(this._r, d2, d2.$t());
  }
  Hh(d2) {
    D(this.cn, d2), this.bt(), this.Wr.$t().$h();
  }
  W() {
    return this.cn;
  }
  Uh() {
    return this.Wh;
  }
  qh() {
    return this.jh;
  }
  Yh() {
    return this._r;
  }
  bt() {
    this.Wh.bt(), this._r.bt();
  }
  Nh() {
    const d2 = this.Wr, g2 = d2.Dt();
    if (d2.$t().St().Ni() || g2.Ni()) return null;
    const _2 = d2.Ct();
    return null === _2 ? null : g2.Rt(this.cn.price, _2.Ot);
  }
}
class Bi extends Pp {
  constructor(d2) {
    super(), this.$i = d2;
  }
  $t() {
    return this.$i;
  }
}
const Hp = { Bar: (d2, g2, _2, O2) => {
  var $2;
  const st2 = g2.upColor, ot2 = g2.downColor, lt2 = b(d2(_2, O2)), ct2 = w(lt2.Ot[0]) <= w(lt2.Ot[3]);
  return { ue: null !== ($2 = lt2.O) && void 0 !== $2 ? $2 : ct2 ? st2 : ot2 };
}, Candlestick: (d2, g2, _2, O2) => {
  var $2, st2, ot2;
  const lt2 = g2.upColor, ct2 = g2.downColor, ut2 = g2.borderUpColor, gt2 = g2.borderDownColor, mt2 = g2.wickUpColor, bt2 = g2.wickDownColor, yt2 = b(d2(_2, O2)), wt2 = w(yt2.Ot[0]) <= w(yt2.Ot[3]);
  return { ue: null !== ($2 = yt2.O) && void 0 !== $2 ? $2 : wt2 ? lt2 : ct2, Ee: null !== (st2 = yt2.At) && void 0 !== st2 ? st2 : wt2 ? ut2 : gt2, Le: null !== (ot2 = yt2.Xh) && void 0 !== ot2 ? ot2 : wt2 ? mt2 : bt2 };
}, Custom: (d2, g2, _2, O2) => {
  var $2;
  return { ue: null !== ($2 = b(d2(_2, O2)).O) && void 0 !== $2 ? $2 : g2.color };
}, Area: (d2, g2, _2, O2) => {
  var $2, st2, ot2, lt2;
  const ct2 = b(d2(_2, O2));
  return { ue: null !== ($2 = ct2.lt) && void 0 !== $2 ? $2 : g2.lineColor, lt: null !== (st2 = ct2.lt) && void 0 !== st2 ? st2 : g2.lineColor, Ts: null !== (ot2 = ct2.Ts) && void 0 !== ot2 ? ot2 : g2.topColor, Ps: null !== (lt2 = ct2.Ps) && void 0 !== lt2 ? lt2 : g2.bottomColor };
}, Baseline: (d2, g2, _2, O2) => {
  var $2, st2, ot2, lt2, ct2, ut2;
  const gt2 = b(d2(_2, O2));
  return { ue: gt2.Ot[3] >= g2.baseValue.price ? g2.topLineColor : g2.bottomLineColor, Pe: null !== ($2 = gt2.Pe) && void 0 !== $2 ? $2 : g2.topLineColor, Re: null !== (st2 = gt2.Re) && void 0 !== st2 ? st2 : g2.bottomLineColor, Se: null !== (ot2 = gt2.Se) && void 0 !== ot2 ? ot2 : g2.topFillColor1, ke: null !== (lt2 = gt2.ke) && void 0 !== lt2 ? lt2 : g2.topFillColor2, ye: null !== (ct2 = gt2.ye) && void 0 !== ct2 ? ct2 : g2.bottomFillColor1, Ce: null !== (ut2 = gt2.Ce) && void 0 !== ut2 ? ut2 : g2.bottomFillColor2 };
}, Line: (d2, g2, _2, O2) => {
  var $2, st2;
  const ot2 = b(d2(_2, O2));
  return { ue: null !== ($2 = ot2.O) && void 0 !== $2 ? $2 : g2.color, lt: null !== (st2 = ot2.O) && void 0 !== st2 ? st2 : g2.color };
}, Histogram: (d2, g2, _2, O2) => {
  var $2;
  return { ue: null !== ($2 = b(d2(_2, O2)).O) && void 0 !== $2 ? $2 : g2.color };
} };
class Ii {
  constructor(d2) {
    this.Kh = (d3, g2) => void 0 !== g2 ? g2.Ot : this.Wr.In().Zh(d3), this.Wr = d2, this.Gh = Hp[d2.Jh()];
  }
  Hs(d2, g2) {
    return this.Gh(this.Kh, this.Wr.W(), d2, g2);
  }
}
var Kp;
!function(d2) {
  d2[d2.NearestLeft = -1] = "NearestLeft", d2[d2.None = 0] = "None", d2[d2.NearestRight = 1] = "NearestRight";
}(Kp || (Kp = {}));
const Gp = 30;
class Ei {
  constructor() {
    this.Qh = [], this.tl = /* @__PURE__ */ new Map(), this.il = /* @__PURE__ */ new Map();
  }
  nl() {
    return this.Ks() > 0 ? this.Qh[this.Qh.length - 1] : null;
  }
  sl() {
    return this.Ks() > 0 ? this.el(0) : null;
  }
  Vn() {
    return this.Ks() > 0 ? this.el(this.Qh.length - 1) : null;
  }
  Ks() {
    return this.Qh.length;
  }
  Ni() {
    return 0 === this.Ks();
  }
  Kr(d2) {
    return null !== this.rl(d2, 0);
  }
  Zh(d2) {
    return this.hl(d2);
  }
  hl(d2, g2 = 0) {
    const _2 = this.rl(d2, g2);
    return null === _2 ? null : Object.assign(Object.assign({}, this.ll(_2)), { se: this.el(_2) });
  }
  ie() {
    return this.Qh;
  }
  al(d2, g2, _2) {
    if (this.Ni()) return null;
    let O2 = null;
    for (const $2 of _2) O2 = Ni(O2, this.ol(d2, g2, $2));
    return O2;
  }
  J(d2) {
    this.il.clear(), this.tl.clear(), this.Qh = d2;
  }
  el(d2) {
    return this.Qh[d2].se;
  }
  ll(d2) {
    return this.Qh[d2];
  }
  rl(d2, g2) {
    const _2 = this._l(d2);
    if (null === _2 && 0 !== g2) switch (g2) {
      case -1:
        return this.ul(d2);
      case 1:
        return this.cl(d2);
      default:
        throw new TypeError("Unknown search mode");
    }
    return _2;
  }
  ul(d2) {
    let g2 = this.dl(d2);
    return g2 > 0 && (g2 -= 1), g2 !== this.Qh.length && this.el(g2) < d2 ? g2 : null;
  }
  cl(d2) {
    const g2 = this.fl(d2);
    return g2 !== this.Qh.length && d2 < this.el(g2) ? g2 : null;
  }
  _l(d2) {
    const g2 = this.dl(d2);
    return g2 === this.Qh.length || d2 < this.Qh[g2].se ? null : g2;
  }
  dl(d2) {
    return Dp(this.Qh, d2, (d3, g2) => d3.se < g2);
  }
  fl(d2) {
    return Op(this.Qh, d2, (d3, g2) => d3.se > g2);
  }
  vl(d2, g2, _2) {
    let O2 = null;
    for (let $2 = d2; $2 < g2; $2++) {
      const d3 = this.Qh[$2].Ot[_2];
      Number.isNaN(d3) || (null === O2 ? O2 = { pl: d3, ml: d3 } : (d3 < O2.pl && (O2.pl = d3), d3 > O2.ml && (O2.ml = d3)));
    }
    return O2;
  }
  ol(d2, g2, _2) {
    if (this.Ni()) return null;
    let O2 = null;
    const $2 = b(this.sl()), st2 = b(this.Vn()), ot2 = Math.max(d2, $2), lt2 = Math.min(g2, st2), ct2 = Math.ceil(ot2 / Gp) * Gp, ut2 = Math.max(ct2, Math.floor(lt2 / Gp) * Gp);
    {
      const d3 = this.dl(ot2), $3 = this.fl(Math.min(lt2, ct2, g2));
      O2 = Ni(O2, this.vl(d3, $3, _2));
    }
    let gt2 = this.tl.get(_2);
    void 0 === gt2 && (gt2 = /* @__PURE__ */ new Map(), this.tl.set(_2, gt2));
    for (let d3 = Math.max(ct2 + 1, ot2); d3 < ut2; d3 += Gp) {
      const g3 = Math.floor(d3 / Gp);
      let $3 = gt2.get(g3);
      if (void 0 === $3) {
        const d4 = this.dl(g3 * Gp), O3 = this.fl((g3 + 1) * Gp - 1);
        $3 = this.vl(d4, O3, _2), gt2.set(g3, $3);
      }
      O2 = Ni(O2, $3);
    }
    {
      const d3 = this.dl(ut2), g3 = this.fl(lt2);
      O2 = Ni(O2, this.vl(d3, g3, _2));
    }
    return O2;
  }
}
function Ni(d2, g2) {
  return null === d2 ? g2 : null === g2 ? d2 : { pl: Math.min(d2.pl, g2.pl), ml: Math.max(d2.ml, g2.ml) };
}
class Fi {
  constructor(d2) {
    this.bl = d2;
  }
  K(d2, g2, _2) {
    this.bl.draw(d2);
  }
  wl(d2, g2, _2) {
    var O2, $2;
    null === ($2 = (O2 = this.bl).drawBackground) || void 0 === $2 || $2.call(O2, d2);
  }
}
class Wi {
  constructor(d2) {
    this.Qe = null, this.wn = d2;
  }
  gt() {
    var d2;
    const g2 = this.wn.renderer();
    if (null === g2) return null;
    if ((null === (d2 = this.Qe) || void 0 === d2 ? void 0 : d2.gl) === g2) return this.Qe.Ml;
    const _2 = new Fi(g2);
    return this.Qe = { gl: g2, Ml: _2 }, _2;
  }
  xl() {
    var d2, g2, _2;
    return null !== (_2 = null === (g2 = (d2 = this.wn).zOrder) || void 0 === g2 ? void 0 : g2.call(d2)) && void 0 !== _2 ? _2 : "normal";
  }
}
function ji(d2) {
  var g2, _2, O2, $2, st2;
  return { Zt: d2.text(), ki: d2.coordinate(), Si: null === (g2 = d2.fixedCoordinate) || void 0 === g2 ? void 0 : g2.call(d2), O: d2.textColor(), t: d2.backColor(), yt: null === (O2 = null === (_2 = d2.visible) || void 0 === _2 ? void 0 : _2.call(d2)) || void 0 === O2 || O2, hi: null === (st2 = null === ($2 = d2.tickVisible) || void 0 === $2 ? void 0 : $2.call(d2)) || void 0 === st2 || st2 };
}
class Hi {
  constructor(d2, g2) {
    this.Wt = new et(), this.Sl = d2, this.kl = g2;
  }
  gt() {
    return this.Wt.J(Object.assign({ Hi: this.kl.Hi() }, ji(this.Sl))), this.Wt;
  }
}
class $i extends Tp {
  constructor(d2, g2) {
    super(), this.Sl = d2, this.Li = g2;
  }
  zi(d2, g2, _2) {
    const O2 = ji(this.Sl);
    _2.t = O2.t, d2.O = O2.O;
    const $2 = 2 / 12 * this.Li.P();
    _2.wi = $2, _2.gi = $2, _2.ki = O2.ki, _2.Si = O2.Si, d2.Zt = O2.Zt, d2.yt = O2.yt, d2.hi = O2.hi;
  }
}
class Ui {
  constructor(d2, g2) {
    this.yl = null, this.Cl = null, this.Tl = null, this.Pl = null, this.Rl = null, this.Dl = d2, this.Wr = g2;
  }
  Ol() {
    return this.Dl;
  }
  On() {
    var d2, g2;
    null === (g2 = (d2 = this.Dl).updateAllViews) || void 0 === g2 || g2.call(d2);
  }
  Pn() {
    var d2, g2, _2, O2;
    const $2 = null !== (_2 = null === (g2 = (d2 = this.Dl).paneViews) || void 0 === g2 ? void 0 : g2.call(d2)) && void 0 !== _2 ? _2 : [];
    if ((null === (O2 = this.yl) || void 0 === O2 ? void 0 : O2.gl) === $2) return this.yl.Ml;
    const st2 = $2.map((d3) => new Wi(d3));
    return this.yl = { gl: $2, Ml: st2 }, st2;
  }
  Qi() {
    var d2, g2, _2, O2;
    const $2 = null !== (_2 = null === (g2 = (d2 = this.Dl).timeAxisViews) || void 0 === g2 ? void 0 : g2.call(d2)) && void 0 !== _2 ? _2 : [];
    if ((null === (O2 = this.Cl) || void 0 === O2 ? void 0 : O2.gl) === $2) return this.Cl.Ml;
    const st2 = this.Wr.$t().St(), ot2 = $2.map((d3) => new Hi(d3, st2));
    return this.Cl = { gl: $2, Ml: ot2 }, ot2;
  }
  Rn() {
    var d2, g2, _2, O2;
    const $2 = null !== (_2 = null === (g2 = (d2 = this.Dl).priceAxisViews) || void 0 === g2 ? void 0 : g2.call(d2)) && void 0 !== _2 ? _2 : [];
    if ((null === (O2 = this.Tl) || void 0 === O2 ? void 0 : O2.gl) === $2) return this.Tl.Ml;
    const st2 = this.Wr.Dt(), ot2 = $2.map((d3) => new $i(d3, st2));
    return this.Tl = { gl: $2, Ml: ot2 }, ot2;
  }
  Al() {
    var d2, g2, _2, O2;
    const $2 = null !== (_2 = null === (g2 = (d2 = this.Dl).priceAxisPaneViews) || void 0 === g2 ? void 0 : g2.call(d2)) && void 0 !== _2 ? _2 : [];
    if ((null === (O2 = this.Pl) || void 0 === O2 ? void 0 : O2.gl) === $2) return this.Pl.Ml;
    const st2 = $2.map((d3) => new Wi(d3));
    return this.Pl = { gl: $2, Ml: st2 }, st2;
  }
  Bl() {
    var d2, g2, _2, O2;
    const $2 = null !== (_2 = null === (g2 = (d2 = this.Dl).timeAxisPaneViews) || void 0 === g2 ? void 0 : g2.call(d2)) && void 0 !== _2 ? _2 : [];
    if ((null === (O2 = this.Rl) || void 0 === O2 ? void 0 : O2.gl) === $2) return this.Rl.Ml;
    const st2 = $2.map((d3) => new Wi(d3));
    return this.Rl = { gl: $2, Ml: st2 }, st2;
  }
  Vl(d2, g2) {
    var _2, O2, $2;
    return null !== ($2 = null === (O2 = (_2 = this.Dl).autoscaleInfo) || void 0 === O2 ? void 0 : O2.call(_2, d2, g2)) && void 0 !== $2 ? $2 : null;
  }
  br(d2, g2) {
    var _2, O2, $2;
    return null !== ($2 = null === (O2 = (_2 = this.Dl).hitTest) || void 0 === O2 ? void 0 : O2.call(_2, d2, g2)) && void 0 !== $2 ? $2 : null;
  }
}
function qi(d2, g2, _2, O2) {
  d2.forEach((d3) => {
    g2(d3).forEach((d4) => {
      d4.xl() === _2 && O2.push(d4);
    });
  });
}
function Yi(d2) {
  return d2.Pn();
}
function Xi(d2) {
  return d2.Al();
}
function Ki(d2) {
  return d2.Bl();
}
class Zi extends Bi {
  constructor(d2, g2, _2, O2, $2) {
    super(d2), this.zt = new Ei(), this.Wh = new yi(this), this.Il = [], this.zl = new hi(this), this.Ll = null, this.El = null, this.Nl = [], this.Fl = [], this.Wl = null, this.jl = [], this.cn = g2, this.Hl = _2;
    const st2 = new Ci(this);
    this.rn = [st2], this.jh = new si(st2, this, d2), "Area" !== _2 && "Line" !== _2 && "Baseline" !== _2 || (this.Ll = new ui(this)), this.$l(), this.Ul($2);
  }
  S() {
    null !== this.Wl && clearTimeout(this.Wl);
  }
  ph(d2) {
    return this.cn.priceLineColor || d2;
  }
  Yr(d2) {
    const g2 = { Xr: true }, _2 = this.Dt();
    if (this.$t().St().Ni() || _2.Ni() || this.zt.Ni()) return g2;
    const O2 = this.$t().St().Xs(), $2 = this.Ct();
    if (null === O2 || null === $2) return g2;
    let st2, ot2;
    if (d2) {
      const d3 = this.zt.nl();
      if (null === d3) return g2;
      st2 = d3, ot2 = d3.se;
    } else {
      const d3 = this.zt.hl(O2.ui(), -1);
      if (null === d3) return g2;
      if (st2 = this.zt.Zh(d3.se), null === st2) return g2;
      ot2 = d3.se;
    }
    const lt2 = st2.Ot[3], ct2 = this.$s().Hs(ot2, { Ot: st2 }), ut2 = _2.Rt(lt2, $2.Ot);
    return { Xr: false, _t: lt2, Zt: _2.Fi(lt2, $2.Ot), Mh: _2.ql(lt2), xh: _2.Yl(lt2, $2.Ot), O: ct2.ue, ki: ut2, se: ot2 };
  }
  $s() {
    return null !== this.El || (this.El = new Ii(this)), this.El;
  }
  W() {
    return this.cn;
  }
  Hh(d2) {
    const g2 = d2.priceScaleId;
    void 0 !== g2 && g2 !== this.cn.priceScaleId && this.$t().Xl(this, g2), D(this.cn, d2), void 0 !== d2.priceFormat && (this.$l(), this.$t().Kl()), this.$t().Zl(this), this.$t().Gl(), this.wn.bt("options");
  }
  J(d2, g2) {
    this.zt.J(d2), this.Jl(), this.wn.bt("data"), this.dn.bt("data"), null !== this.Ll && (g2 && g2.Ql ? this.Ll.Hr() : 0 === d2.length && this.Ll.jr());
    const _2 = this.$t().cr(this);
    this.$t().ta(_2), this.$t().Zl(this), this.$t().Gl(), this.$t().$h();
  }
  ia(d2) {
    this.Nl = d2, this.Jl();
    const g2 = this.$t().cr(this);
    this.dn.bt("data"), this.$t().ta(g2), this.$t().Zl(this), this.$t().Gl(), this.$t().$h();
  }
  na() {
    return this.Nl;
  }
  uh() {
    return this.Fl;
  }
  sa(d2) {
    const g2 = new Ai(this, d2);
    return this.Il.push(g2), this.$t().Zl(this), g2;
  }
  ea(d2) {
    const g2 = this.Il.indexOf(d2);
    -1 !== g2 && this.Il.splice(g2, 1), this.$t().Zl(this);
  }
  Jh() {
    return this.Hl;
  }
  Ct() {
    const d2 = this.ra();
    return null === d2 ? null : { Ot: d2.Ot[3], ha: d2.ot };
  }
  ra() {
    const d2 = this.$t().St().Xs();
    if (null === d2) return null;
    const g2 = d2.Os();
    return this.zt.hl(g2, 1);
  }
  In() {
    return this.zt;
  }
  fh(d2) {
    const g2 = this.zt.Zh(d2);
    return null === g2 ? null : "Bar" === this.Hl || "Candlestick" === this.Hl || "Custom" === this.Hl ? { we: g2.Ot[0], ge: g2.Ot[1], Me: g2.Ot[2], xe: g2.Ot[3] } : g2.Ot[3];
  }
  la(d2) {
    const g2 = [];
    qi(this.jl, Yi, "top", g2);
    const _2 = this.Ll;
    return null !== _2 && _2.yt() ? (null === this.Wl && _2.Ur() && (this.Wl = setTimeout(() => {
      this.Wl = null, this.$t().aa();
    }, 0)), _2.$r(), g2.unshift(_2), g2) : g2;
  }
  Pn() {
    const d2 = [];
    this.oa() || d2.push(this.zl), d2.push(this.wn, this.Wh, this.dn);
    const g2 = this.Il.map((d3) => d3.Uh());
    return d2.push(...g2), qi(this.jl, Yi, "normal", d2), d2;
  }
  _a() {
    return this.ua(Yi, "bottom");
  }
  ca(d2) {
    return this.ua(Xi, d2);
  }
  da(d2) {
    return this.ua(Ki, d2);
  }
  fa(d2, g2) {
    return this.jl.map((_2) => _2.br(d2, g2)).filter((d3) => null !== d3);
  }
  Ji(d2) {
    return [this.jh, ...this.Il.map((d3) => d3.qh())];
  }
  Rn(d2, g2) {
    if (g2 !== this.Yi && !this.oa()) return [];
    const _2 = [...this.rn];
    for (const d3 of this.Il) _2.push(d3.Yh());
    return this.jl.forEach((d3) => {
      _2.push(...d3.Rn());
    }), _2;
  }
  Qi() {
    const d2 = [];
    return this.jl.forEach((g2) => {
      d2.push(...g2.Qi());
    }), d2;
  }
  Vl(d2, g2) {
    if (void 0 !== this.cn.autoscaleInfoProvider) {
      const _2 = this.cn.autoscaleInfoProvider(() => {
        const _3 = this.va(d2, g2);
        return null === _3 ? null : _3.Ah();
      });
      return Ri.Bh(_2);
    }
    return this.va(d2, g2);
  }
  pa() {
    return this.cn.priceFormat.minMove;
  }
  ma() {
    return this.ba;
  }
  On() {
    var d2;
    this.wn.bt(), this.dn.bt();
    for (const d3 of this.rn) d3.bt();
    for (const d3 of this.Il) d3.bt();
    this.Wh.bt(), this.zl.bt(), null === (d2 = this.Ll) || void 0 === d2 || d2.bt(), this.jl.forEach((d3) => d3.On());
  }
  Dt() {
    return b(super.Dt());
  }
  kt(d2) {
    if ("Line" !== this.Hl && "Area" !== this.Hl && "Baseline" !== this.Hl || !this.cn.crosshairMarkerVisible) return null;
    const g2 = this.zt.Zh(d2);
    return null === g2 ? null : { _t: g2.Ot[3], ht: this.wa(), At: this.ga(), Pt: this.Ma(), Tt: this.xa(d2) };
  }
  mh() {
    return this.cn.title;
  }
  yt() {
    return this.cn.visible;
  }
  Sa(d2) {
    this.jl.push(new Ui(d2, this));
  }
  ka(d2) {
    this.jl = this.jl.filter((g2) => g2.Ol() !== d2);
  }
  ya() {
    if (this.wn instanceof Kt != 0) return (d2) => this.wn.Fe(d2);
  }
  Ca() {
    if (this.wn instanceof Kt != 0) return (d2) => this.wn.We(d2);
  }
  oa() {
    return !ot$1(this.Dt().Ta());
  }
  va(d2, g2) {
    if (!A(d2) || !A(g2) || this.zt.Ni()) return null;
    const _2 = "Line" === this.Hl || "Area" === this.Hl || "Baseline" === this.Hl || "Histogram" === this.Hl ? [3] : [2, 1], O2 = this.zt.al(d2, g2, _2);
    let $2 = null !== O2 ? new Pi(O2.pl, O2.ml) : null;
    if ("Histogram" === this.Jh()) {
      const d3 = this.cn.base, g3 = new Pi(d3, d3);
      $2 = null !== $2 ? $2.ts(g3) : g3;
    }
    let st2 = this.dn._h();
    return this.jl.forEach((_3) => {
      const O3 = _3.Vl(d2, g2);
      if (null == O3 ? void 0 : O3.priceRange) {
        const d3 = new Pi(O3.priceRange.minValue, O3.priceRange.maxValue);
        $2 = null !== $2 ? $2.ts(d3) : d3;
      }
      var ot2, lt2, ct2, ut2;
      (null == O3 ? void 0 : O3.margins) && (ot2 = st2, lt2 = O3.margins, st2 = { above: Math.max(null !== (ct2 = null == ot2 ? void 0 : ot2.above) && void 0 !== ct2 ? ct2 : 0, lt2.above), below: Math.max(null !== (ut2 = null == ot2 ? void 0 : ot2.below) && void 0 !== ut2 ? ut2 : 0, lt2.below) });
    }), new Ri($2, st2);
  }
  wa() {
    switch (this.Hl) {
      case "Line":
      case "Area":
      case "Baseline":
        return this.cn.crosshairMarkerRadius;
    }
    return 0;
  }
  ga() {
    switch (this.Hl) {
      case "Line":
      case "Area":
      case "Baseline": {
        const d2 = this.cn.crosshairMarkerBorderColor;
        if (0 !== d2.length) return d2;
      }
    }
    return null;
  }
  Ma() {
    switch (this.Hl) {
      case "Line":
      case "Area":
      case "Baseline":
        return this.cn.crosshairMarkerBorderWidth;
    }
    return 0;
  }
  xa(d2) {
    switch (this.Hl) {
      case "Line":
      case "Area":
      case "Baseline": {
        const d3 = this.cn.crosshairMarkerBackgroundColor;
        if (0 !== d3.length) return d3;
      }
    }
    return this.$s().Hs(d2).ue;
  }
  $l() {
    switch (this.cn.priceFormat.type) {
      case "custom":
        this.ba = { format: this.cn.priceFormat.formatter };
        break;
      case "volume":
        this.ba = new vt(this.cn.priceFormat.precision);
        break;
      case "percent":
        this.ba = new Sp(this.cn.priceFormat.precision);
        break;
      default: {
        const d2 = Math.pow(10, this.cn.priceFormat.precision);
        this.ba = new kp(d2, this.cn.priceFormat.minMove * d2);
      }
    }
    null !== this.Yi && this.Yi.Pa();
  }
  Jl() {
    const d2 = this.$t().St();
    if (!d2.Ra() || this.zt.Ni()) return void (this.Fl = []);
    const g2 = b(this.zt.sl());
    this.Fl = this.Nl.map((_2, O2) => {
      const $2 = b(d2.Da(_2.time, true)), st2 = $2 < g2 ? 1 : -1;
      return { time: b(this.zt.hl($2, st2)).se, position: _2.position, shape: _2.shape, color: _2.color, id: _2.id, Qr: O2, text: _2.text, size: _2.size, originalTime: _2.originalTime };
    });
  }
  Ul(d2) {
    switch (this.dn = new ki(this, this.$t()), this.Hl) {
      case "Bar":
        this.wn = new Np(this, this.$t());
        break;
      case "Candlestick":
        this.wn = new zp(this, this.$t());
        break;
      case "Line":
        this.wn = new Wp(this, this.$t());
        break;
      case "Custom":
        this.wn = new Kt(this, this.$t(), m(d2));
        break;
      case "Area":
        this.wn = new Nt(this, this.$t());
        break;
      case "Baseline":
        this.wn = new Ut(this, this.$t());
        break;
      case "Histogram":
        this.wn = new Up(this, this.$t());
        break;
      default:
        throw Error("Unknown chart style assigned: " + this.Hl);
    }
  }
  ua(d2, g2) {
    const _2 = [];
    return qi(this.jl, d2, g2, _2), _2;
  }
}
class Gi {
  constructor(d2) {
    this.cn = d2;
  }
  Oa(d2, g2, _2) {
    let O2 = d2;
    if (0 === this.cn.mode) return O2;
    const $2 = _2.vn(), st2 = $2.Ct();
    if (null === st2) return O2;
    const ot2 = $2.Rt(d2, st2), lt2 = _2.Aa().filter((d3) => d3 instanceof Zi).reduce((d3, O3) => {
      if (_2.dr(O3) || !O3.yt()) return d3;
      const $3 = O3.Dt(), st3 = O3.In();
      if ($3.Ni() || !st3.Kr(g2)) return d3;
      const ot3 = st3.Zh(g2);
      if (null === ot3) return d3;
      const lt3 = w(O3.Ct());
      return d3.concat([$3.Rt(ot3.Ot[3], lt3.Ot)]);
    }, []);
    if (0 === lt2.length) return O2;
    lt2.sort((d3, g3) => Math.abs(d3 - ot2) - Math.abs(g3 - ot2));
    const ct2 = lt2[0];
    return O2 = $2.pn(ct2, st2), O2;
  }
}
class Ji extends j {
  constructor() {
    super(...arguments), this.zt = null;
  }
  J(d2) {
    this.zt = d2;
  }
  Z({ context: d2, bitmapSize: g2, horizontalPixelRatio: _2, verticalPixelRatio: O2 }) {
    if (null === this.zt) return;
    const $2 = Math.max(1, Math.floor(_2));
    d2.lineWidth = $2, function(d3, g3) {
      d3.save(), d3.lineWidth % 2 && d3.translate(0.5, 0.5), g3(), d3.restore();
    }(d2, () => {
      const st2 = b(this.zt);
      if (st2.Ba) {
        d2.strokeStyle = st2.Va, f(d2, st2.Ia), d2.beginPath();
        for (const O3 of st2.za) {
          const st3 = Math.round(O3.La * _2);
          d2.moveTo(st3, -$2), d2.lineTo(st3, g2.height + $2);
        }
        d2.stroke();
      }
      if (st2.Ea) {
        d2.strokeStyle = st2.Na, f(d2, st2.Fa), d2.beginPath();
        for (const _3 of st2.Wa) {
          const st3 = Math.round(_3.La * O2);
          d2.moveTo(-$2, st3), d2.lineTo(g2.width + $2, st3);
        }
        d2.stroke();
      }
    });
  }
}
class Qi {
  constructor(d2) {
    this.Wt = new Ji(), this.ft = true, this.tn = d2;
  }
  bt() {
    this.ft = true;
  }
  gt() {
    if (this.ft) {
      const d2 = this.tn.$t().W().grid, g2 = { Ea: d2.horzLines.visible, Ba: d2.vertLines.visible, Na: d2.horzLines.color, Va: d2.vertLines.color, Fa: d2.horzLines.style, Ia: d2.vertLines.style, Wa: this.tn.vn().ja(), za: (this.tn.$t().St().ja() || []).map((d3) => ({ La: d3.coord })) };
      this.Wt.J(g2), this.ft = false;
    }
    return this.Wt;
  }
}
let Yp = class tn {
  constructor(d2) {
    this.wn = new Qi(d2);
  }
  Uh() {
    return this.wn;
  }
};
const Qp = { Ha: 4, $a: 1e-4 };
function sn$1(d2, g2) {
  const _2 = 100 * (d2 - g2) / g2;
  return g2 < 0 ? -_2 : _2;
}
function en$1(d2, g2) {
  const _2 = sn$1(d2.Th(), g2), O2 = sn$1(d2.Ph(), g2);
  return new Pi(_2, O2);
}
function rn$1(d2, g2) {
  const _2 = 100 * (d2 - g2) / g2 + 100;
  return g2 < 0 ? -_2 : _2;
}
function hn(d2, g2) {
  const _2 = rn$1(d2.Th(), g2), O2 = rn$1(d2.Ph(), g2);
  return new Pi(_2, O2);
}
function ln$1(d2, g2) {
  const _2 = Math.abs(d2);
  if (_2 < 1e-15) return 0;
  const O2 = Math.log10(_2 + g2.$a) + g2.Ha;
  return d2 < 0 ? -O2 : O2;
}
function an$1(d2, g2) {
  const _2 = Math.abs(d2);
  if (_2 < 1e-15) return 0;
  const O2 = Math.pow(10, _2 - g2.Ha) - g2.$a;
  return d2 < 0 ? -O2 : O2;
}
function on$1(d2, g2) {
  if (null === d2) return null;
  const _2 = ln$1(d2.Th(), g2), O2 = ln$1(d2.Ph(), g2);
  return new Pi(_2, O2);
}
function _n$1(d2, g2) {
  if (null === d2) return null;
  const _2 = an$1(d2.Th(), g2), O2 = an$1(d2.Ph(), g2);
  return new Pi(_2, O2);
}
function un(d2) {
  if (null === d2) return Qp;
  const g2 = Math.abs(d2.Ph() - d2.Th());
  if (g2 >= 1 || g2 < 1e-15) return Qp;
  const _2 = Math.ceil(Math.abs(Math.log10(g2))), O2 = Qp.Ha + _2;
  return { Ha: O2, $a: 1 / Math.pow(10, O2) };
}
class cn {
  constructor(d2, g2) {
    if (this.Ua = d2, this.qa = g2, function(d3) {
      if (d3 < 0) return false;
      for (let g3 = d3; g3 > 1; g3 /= 10) if (g3 % 10 != 0) return false;
      return true;
    }(this.Ua)) this.Ya = [2, 2.5, 2];
    else {
      this.Ya = [];
      for (let d3 = this.Ua; 1 !== d3; ) {
        if (d3 % 2 == 0) this.Ya.push(2), d3 /= 2;
        else {
          if (d3 % 5 != 0) throw new Error("unexpected base");
          this.Ya.push(2, 2.5), d3 /= 5;
        }
        if (this.Ya.length > 100) throw new Error("something wrong with base");
      }
    }
  }
  Xa(d2, g2, _2) {
    const O2 = 0 === this.Ua ? 0 : 1 / this.Ua;
    let $2 = Math.pow(10, Math.max(0, Math.ceil(Math.log10(d2 - g2)))), st2 = 0, ot2 = this.qa[0];
    for (; ; ) {
      const d3 = kt($2, O2, 1e-14) && $2 > O2 + 1e-14, g3 = kt($2, _2 * ot2, 1e-14), lt3 = kt($2, 1, 1e-14);
      if (!(d3 && g3 && lt3)) break;
      $2 /= ot2, ot2 = this.qa[++st2 % this.qa.length];
    }
    if ($2 <= O2 + 1e-14 && ($2 = O2), $2 = Math.max(1, $2), this.Ya.length > 0 && (lt2 = $2, Math.abs(lt2 - 1) < 1e-14)) for (st2 = 0, ot2 = this.Ya[0]; kt($2, _2 * ot2, 1e-14) && $2 > O2 + 1e-14; ) $2 /= ot2, ot2 = this.Ya[++st2 % this.Ya.length];
    var lt2;
    return $2;
  }
}
class dn {
  constructor(d2, g2, _2, O2) {
    this.Ka = [], this.Li = d2, this.Ua = g2, this.Za = _2, this.Ga = O2;
  }
  Xa(d2, g2) {
    if (d2 < g2) throw new Error("high < low");
    const _2 = this.Li.Vt(), O2 = (d2 - g2) * this.Ja() / _2, $2 = new cn(this.Ua, [2, 2.5, 2]), st2 = new cn(this.Ua, [2, 2, 2.5]), ot2 = new cn(this.Ua, [2.5, 2, 2]), lt2 = [];
    return lt2.push($2.Xa(d2, g2, O2), st2.Xa(d2, g2, O2), ot2.Xa(d2, g2, O2)), function(d3) {
      if (d3.length < 1) throw Error("array is empty");
      let g3 = d3[0];
      for (let _3 = 1; _3 < d3.length; ++_3) d3[_3] < g3 && (g3 = d3[_3]);
      return g3;
    }(lt2);
  }
  Qa() {
    const d2 = this.Li, g2 = d2.Ct();
    if (null === g2) return void (this.Ka = []);
    const _2 = d2.Vt(), O2 = this.Za(_2 - 1, g2), $2 = this.Za(0, g2), st2 = this.Li.W().entireTextOnly ? this.io() / 2 : 0, ot2 = st2, lt2 = _2 - 1 - st2, ct2 = Math.max(O2, $2), ut2 = Math.min(O2, $2);
    if (ct2 === ut2) return void (this.Ka = []);
    let gt2 = this.Xa(ct2, ut2), mt2 = ct2 % gt2;
    mt2 += mt2 < 0 ? gt2 : 0;
    const bt2 = ct2 >= ut2 ? 1 : -1;
    let yt2 = null, wt2 = 0;
    for (let _3 = ct2 - mt2; _3 > ut2; _3 -= gt2) {
      const O3 = this.Ga(_3, g2, true);
      null !== yt2 && Math.abs(O3 - yt2) < this.Ja() || O3 < ot2 || O3 > lt2 || (wt2 < this.Ka.length ? (this.Ka[wt2].La = O3, this.Ka[wt2].no = d2.so(_3)) : this.Ka.push({ La: O3, no: d2.so(_3) }), wt2++, yt2 = O3, d2.eo() && (gt2 = this.Xa(_3 * bt2, ut2)));
    }
    this.Ka.length = wt2;
  }
  ja() {
    return this.Ka;
  }
  io() {
    return this.Li.P();
  }
  Ja() {
    return Math.ceil(2.5 * this.io());
  }
}
function fn(d2) {
  return d2.slice().sort((d3, g2) => b(d3.Ki()) - b(g2.Ki()));
}
var Xp;
!function(d2) {
  d2[d2.Normal = 0] = "Normal", d2[d2.Logarithmic = 1] = "Logarithmic", d2[d2.Percentage = 2] = "Percentage", d2[d2.IndexedTo100 = 3] = "IndexedTo100";
}(Xp || (Xp = {}));
const Jp = new Sp(), Zp = new kp(100, 1);
class bn {
  constructor(d2, g2, _2, O2) {
    this.ro = 0, this.ho = null, this.Vh = null, this.lo = null, this.ao = { oo: false, _o: null }, this.uo = 0, this.co = 0, this.do = new R(), this.fo = new R(), this.vo = [], this.po = null, this.mo = null, this.bo = null, this.wo = null, this.ba = Zp, this.Mo = un(null), this.xo = d2, this.cn = g2, this.So = _2, this.ko = O2, this.yo = new dn(this, 100, this.Co.bind(this), this.To.bind(this));
  }
  Ta() {
    return this.xo;
  }
  W() {
    return this.cn;
  }
  Hh(d2) {
    if (D(this.cn, d2), this.Pa(), void 0 !== d2.mode && this.Po({ yr: d2.mode }), void 0 !== d2.scaleMargins) {
      const g2 = m(d2.scaleMargins.top), _2 = m(d2.scaleMargins.bottom);
      if (g2 < 0 || g2 > 1) throw new Error(`Invalid top margin - expect value between 0 and 1, given=${g2}`);
      if (_2 < 0 || _2 > 1) throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${_2}`);
      if (g2 + _2 > 1) throw new Error(`Invalid margins - sum of margins must be less than 1, given=${g2 + _2}`);
      this.Ro(), this.mo = null;
    }
  }
  Do() {
    return this.cn.autoScale;
  }
  eo() {
    return 1 === this.cn.mode;
  }
  gh() {
    return 2 === this.cn.mode;
  }
  Oo() {
    return 3 === this.cn.mode;
  }
  yr() {
    return { Wn: this.cn.autoScale, Ao: this.cn.invertScale, yr: this.cn.mode };
  }
  Po(d2) {
    const g2 = this.yr();
    let _2 = null;
    void 0 !== d2.Wn && (this.cn.autoScale = d2.Wn), void 0 !== d2.yr && (this.cn.mode = d2.yr, 2 !== d2.yr && 3 !== d2.yr || (this.cn.autoScale = true), this.ao.oo = false), 1 === g2.yr && d2.yr !== g2.yr && (function(d3, g3) {
      if (null === d3) return false;
      const _3 = an$1(d3.Th(), g3), O3 = an$1(d3.Ph(), g3);
      return isFinite(_3) && isFinite(O3);
    }(this.Vh, this.Mo) ? (_2 = _n$1(this.Vh, this.Mo), null !== _2 && this.Bo(_2)) : this.cn.autoScale = true), 1 === d2.yr && d2.yr !== g2.yr && (_2 = on$1(this.Vh, this.Mo), null !== _2 && this.Bo(_2));
    const O2 = g2.yr !== this.cn.mode;
    O2 && (2 === g2.yr || this.gh()) && this.Pa(), O2 && (3 === g2.yr || this.Oo()) && this.Pa(), void 0 !== d2.Ao && g2.Ao !== d2.Ao && (this.cn.invertScale = d2.Ao, this.Vo()), this.fo.m(g2, this.yr());
  }
  Io() {
    return this.fo;
  }
  P() {
    return this.So.fontSize;
  }
  Vt() {
    return this.ro;
  }
  zo(d2) {
    this.ro !== d2 && (this.ro = d2, this.Ro(), this.mo = null);
  }
  Lo() {
    if (this.ho) return this.ho;
    const d2 = this.Vt() - this.Eo() - this.No();
    return this.ho = d2, d2;
  }
  zh() {
    return this.Fo(), this.Vh;
  }
  Bo(d2, g2) {
    const _2 = this.Vh;
    (g2 || null === _2 && null !== d2 || null !== _2 && !_2.yh(d2)) && (this.mo = null, this.Vh = d2);
  }
  Ni() {
    return this.Fo(), 0 === this.ro || !this.Vh || this.Vh.Ni();
  }
  Wo(d2) {
    return this.Ao() ? d2 : this.Vt() - 1 - d2;
  }
  Rt(d2, g2) {
    return this.gh() ? d2 = sn$1(d2, g2) : this.Oo() && (d2 = rn$1(d2, g2)), this.To(d2, g2);
  }
  Qs(d2, g2, _2) {
    this.Fo();
    const O2 = this.No(), $2 = b(this.zh()), st2 = $2.Th(), ot2 = $2.Ph(), lt2 = this.Lo() - 1, ct2 = this.Ao(), ut2 = lt2 / (ot2 - st2), gt2 = void 0 === _2 ? 0 : _2.from, mt2 = void 0 === _2 ? d2.length : _2.to, bt2 = this.jo();
    for (let _3 = gt2; _3 < mt2; _3++) {
      const $3 = d2[_3], ot3 = $3._t;
      if (isNaN(ot3)) continue;
      let lt3 = ot3;
      null !== bt2 && (lt3 = bt2($3._t, g2));
      const gt3 = O2 + ut2 * (lt3 - st2), mt3 = ct2 ? gt3 : this.ro - 1 - gt3;
      $3.st = mt3;
    }
  }
  me(d2, g2, _2) {
    this.Fo();
    const O2 = this.No(), $2 = b(this.zh()), st2 = $2.Th(), ot2 = $2.Ph(), lt2 = this.Lo() - 1, ct2 = this.Ao(), ut2 = lt2 / (ot2 - st2), gt2 = void 0 === _2 ? 0 : _2.from, mt2 = void 0 === _2 ? d2.length : _2.to, bt2 = this.jo();
    for (let _3 = gt2; _3 < mt2; _3++) {
      const $3 = d2[_3];
      let ot3 = $3.we, lt3 = $3.ge, gt3 = $3.Me, mt3 = $3.xe;
      null !== bt2 && (ot3 = bt2($3.we, g2), lt3 = bt2($3.ge, g2), gt3 = bt2($3.Me, g2), mt3 = bt2($3.xe, g2));
      let yt2 = O2 + ut2 * (ot3 - st2), wt2 = ct2 ? yt2 : this.ro - 1 - yt2;
      $3.ve = wt2, yt2 = O2 + ut2 * (lt3 - st2), wt2 = ct2 ? yt2 : this.ro - 1 - yt2, $3.ce = wt2, yt2 = O2 + ut2 * (gt3 - st2), wt2 = ct2 ? yt2 : this.ro - 1 - yt2, $3.de = wt2, yt2 = O2 + ut2 * (mt3 - st2), wt2 = ct2 ? yt2 : this.ro - 1 - yt2, $3.pe = wt2;
    }
  }
  pn(d2, g2) {
    const _2 = this.Co(d2, g2);
    return this.Ho(_2, g2);
  }
  Ho(d2, g2) {
    let _2 = d2;
    return this.gh() ? _2 = function(d3, g3) {
      return g3 < 0 && (d3 = -d3), d3 / 100 * g3 + g3;
    }(_2, g2) : this.Oo() && (_2 = function(d3, g3) {
      return d3 -= 100, g3 < 0 && (d3 = -d3), d3 / 100 * g3 + g3;
    }(_2, g2)), _2;
  }
  Aa() {
    return this.vo;
  }
  $o() {
    if (this.po) return this.po;
    let d2 = [];
    for (let g2 = 0; g2 < this.vo.length; g2++) {
      const _2 = this.vo[g2];
      null === _2.Ki() && _2.Zi(g2 + 1), d2.push(_2);
    }
    return d2 = fn(d2), this.po = d2, this.po;
  }
  Uo(d2) {
    -1 === this.vo.indexOf(d2) && (this.vo.push(d2), this.Pa(), this.qo());
  }
  Yo(d2) {
    const g2 = this.vo.indexOf(d2);
    if (-1 === g2) throw new Error("source is not attached to scale");
    this.vo.splice(g2, 1), 0 === this.vo.length && (this.Po({ Wn: true }), this.Bo(null)), this.Pa(), this.qo();
  }
  Ct() {
    let d2 = null;
    for (const g2 of this.vo) {
      const _2 = g2.Ct();
      null !== _2 && (null === d2 || _2.ha < d2.ha) && (d2 = _2);
    }
    return null === d2 ? null : d2.Ot;
  }
  Ao() {
    return this.cn.invertScale;
  }
  ja() {
    const d2 = null === this.Ct();
    if (null !== this.mo && (d2 || this.mo.Xo === d2)) return this.mo.ja;
    this.yo.Qa();
    const g2 = this.yo.ja();
    return this.mo = { ja: g2, Xo: d2 }, this.do.m(), g2;
  }
  Ko() {
    return this.do;
  }
  Zo(d2) {
    this.gh() || this.Oo() || null === this.bo && null === this.lo && (this.Ni() || (this.bo = this.ro - d2, this.lo = b(this.zh()).Ch()));
  }
  Go(d2) {
    if (this.gh() || this.Oo()) return;
    if (null === this.bo) return;
    this.Po({ Wn: false }), (d2 = this.ro - d2) < 0 && (d2 = 0);
    let g2 = (this.bo + 0.2 * (this.ro - 1)) / (d2 + 0.2 * (this.ro - 1));
    const _2 = b(this.lo).Ch();
    g2 = Math.max(g2, 0.1), _2.Dh(g2), this.Bo(_2);
  }
  Jo() {
    this.gh() || this.Oo() || (this.bo = null, this.lo = null);
  }
  Qo(d2) {
    this.Do() || null === this.wo && null === this.lo && (this.Ni() || (this.wo = d2, this.lo = b(this.zh()).Ch()));
  }
  t_(d2) {
    if (this.Do()) return;
    if (null === this.wo) return;
    const g2 = b(this.zh()).Rh() / (this.Lo() - 1);
    let _2 = d2 - this.wo;
    this.Ao() && (_2 *= -1);
    const O2 = _2 * g2, $2 = b(this.lo).Ch();
    $2.Oh(O2), this.Bo($2, true), this.mo = null;
  }
  i_() {
    this.Do() || null !== this.wo && (this.wo = null, this.lo = null);
  }
  ma() {
    return this.ba || this.Pa(), this.ba;
  }
  Fi(d2, g2) {
    switch (this.cn.mode) {
      case 2:
        return this.n_(sn$1(d2, g2));
      case 3:
        return this.ma().format(rn$1(d2, g2));
      default:
        return this.Fh(d2);
    }
  }
  so(d2) {
    switch (this.cn.mode) {
      case 2:
        return this.n_(d2);
      case 3:
        return this.ma().format(d2);
      default:
        return this.Fh(d2);
    }
  }
  ql(d2) {
    return this.Fh(d2, b(this.s_()).ma());
  }
  Yl(d2, g2) {
    return d2 = sn$1(d2, g2), this.n_(d2, Jp);
  }
  e_() {
    return this.vo;
  }
  r_(d2) {
    this.ao = { _o: d2, oo: false };
  }
  On() {
    this.vo.forEach((d2) => d2.On());
  }
  Pa() {
    this.mo = null;
    const d2 = this.s_();
    let g2 = 100;
    null !== d2 && (g2 = Math.round(1 / d2.pa())), this.ba = Zp, this.gh() ? (this.ba = Jp, g2 = 100) : this.Oo() ? (this.ba = new kp(100, 1), g2 = 100) : null !== d2 && (this.ba = d2.ma()), this.yo = new dn(this, g2, this.Co.bind(this), this.To.bind(this)), this.yo.Qa();
  }
  qo() {
    this.po = null;
  }
  s_() {
    return this.vo[0] || null;
  }
  Eo() {
    return this.Ao() ? this.cn.scaleMargins.bottom * this.Vt() + this.co : this.cn.scaleMargins.top * this.Vt() + this.uo;
  }
  No() {
    return this.Ao() ? this.cn.scaleMargins.top * this.Vt() + this.uo : this.cn.scaleMargins.bottom * this.Vt() + this.co;
  }
  Fo() {
    this.ao.oo || (this.ao.oo = true, this.h_());
  }
  Ro() {
    this.ho = null;
  }
  To(d2, g2) {
    if (this.Fo(), this.Ni()) return 0;
    d2 = this.eo() && d2 ? ln$1(d2, this.Mo) : d2;
    const _2 = b(this.zh()), O2 = this.No() + (this.Lo() - 1) * (d2 - _2.Th()) / _2.Rh();
    return this.Wo(O2);
  }
  Co(d2, g2) {
    if (this.Fo(), this.Ni()) return 0;
    const _2 = this.Wo(d2), O2 = b(this.zh()), $2 = O2.Th() + O2.Rh() * ((_2 - this.No()) / (this.Lo() - 1));
    return this.eo() ? an$1($2, this.Mo) : $2;
  }
  Vo() {
    this.mo = null, this.yo.Qa();
  }
  h_() {
    const d2 = this.ao._o;
    if (null === d2) return;
    let g2 = null;
    const _2 = this.e_();
    let O2 = 0, $2 = 0;
    for (const st3 of _2) {
      if (!st3.yt()) continue;
      const _3 = st3.Ct();
      if (null === _3) continue;
      const ot3 = st3.Vl(d2.Os(), d2.ui());
      let lt2 = ot3 && ot3.zh();
      if (null !== lt2) {
        switch (this.cn.mode) {
          case 1:
            lt2 = on$1(lt2, this.Mo);
            break;
          case 2:
            lt2 = en$1(lt2, _3.Ot);
            break;
          case 3:
            lt2 = hn(lt2, _3.Ot);
        }
        if (g2 = null === g2 ? lt2 : g2.ts(b(lt2)), null !== ot3) {
          const d3 = ot3.Lh();
          null !== d3 && (O2 = Math.max(O2, d3.above), $2 = Math.max($2, d3.below));
        }
      }
    }
    if (O2 === this.uo && $2 === this.co || (this.uo = O2, this.co = $2, this.mo = null, this.Ro()), null !== g2) {
      if (g2.Th() === g2.Ph()) {
        const d3 = this.s_(), _3 = 5 * (null === d3 || this.gh() || this.Oo() ? 1 : d3.pa());
        this.eo() && (g2 = _n$1(g2, this.Mo)), g2 = new Pi(g2.Th() - _3, g2.Ph() + _3), this.eo() && (g2 = on$1(g2, this.Mo));
      }
      if (this.eo()) {
        const d3 = _n$1(g2, this.Mo), _3 = un(d3);
        if (st2 = _3, ot2 = this.Mo, st2.Ha !== ot2.Ha || st2.$a !== ot2.$a) {
          const O3 = null !== this.lo ? _n$1(this.lo, this.Mo) : null;
          this.Mo = _3, g2 = on$1(d3, _3), null !== O3 && (this.lo = on$1(O3, _3));
        }
      }
      this.Bo(g2);
    } else null === this.Vh && (this.Bo(new Pi(-0.5, 0.5)), this.Mo = un(null));
    var st2, ot2;
    this.ao.oo = true;
  }
  jo() {
    return this.gh() ? sn$1 : this.Oo() ? rn$1 : this.eo() ? (d2) => ln$1(d2, this.Mo) : null;
  }
  l_(d2, g2, _2) {
    return void 0 === g2 ? (void 0 === _2 && (_2 = this.ma()), _2.format(d2)) : g2(d2);
  }
  Fh(d2, g2) {
    return this.l_(d2, this.ko.priceFormatter, g2);
  }
  n_(d2, g2) {
    return this.l_(d2, this.ko.percentageFormatter, g2);
  }
}
class wn {
  constructor(d2, g2) {
    this.vo = [], this.a_ = /* @__PURE__ */ new Map(), this.ro = 0, this.o_ = 0, this.__ = 1e3, this.po = null, this.u_ = new R(), this.kl = d2, this.$i = g2, this.c_ = new Yp(this);
    const _2 = g2.W();
    this.d_ = this.f_("left", _2.leftPriceScale), this.v_ = this.f_("right", _2.rightPriceScale), this.d_.Io().l(this.p_.bind(this, this.d_), this), this.v_.Io().l(this.p_.bind(this, this.v_), this), this.m_(_2);
  }
  m_(d2) {
    if (d2.leftPriceScale && this.d_.Hh(d2.leftPriceScale), d2.rightPriceScale && this.v_.Hh(d2.rightPriceScale), d2.localization && (this.d_.Pa(), this.v_.Pa()), d2.overlayPriceScales) {
      const g2 = Array.from(this.a_.values());
      for (const _2 of g2) {
        const g3 = b(_2[0].Dt());
        g3.Hh(d2.overlayPriceScales), d2.localization && g3.Pa();
      }
    }
  }
  b_(d2) {
    switch (d2) {
      case "left":
        return this.d_;
      case "right":
        return this.v_;
    }
    return this.a_.has(d2) ? m(this.a_.get(d2))[0].Dt() : null;
  }
  S() {
    this.$t().w_().p(this), this.d_.Io().p(this), this.v_.Io().p(this), this.vo.forEach((d2) => {
      d2.S && d2.S();
    }), this.u_.m();
  }
  g_() {
    return this.__;
  }
  M_(d2) {
    this.__ = d2;
  }
  $t() {
    return this.$i;
  }
  Hi() {
    return this.o_;
  }
  Vt() {
    return this.ro;
  }
  x_(d2) {
    this.o_ = d2, this.S_();
  }
  zo(d2) {
    this.ro = d2, this.d_.zo(d2), this.v_.zo(d2), this.vo.forEach((g2) => {
      if (this.dr(g2)) {
        const _2 = g2.Dt();
        null !== _2 && _2.zo(d2);
      }
    }), this.S_();
  }
  Aa() {
    return this.vo;
  }
  dr(d2) {
    const g2 = d2.Dt();
    return null === g2 || this.d_ !== g2 && this.v_ !== g2;
  }
  Uo(d2, g2, _2) {
    const O2 = void 0 !== _2 ? _2 : this.y_().k_ + 1;
    this.C_(d2, g2, O2);
  }
  Yo(d2) {
    const g2 = this.vo.indexOf(d2);
    p(-1 !== g2, "removeDataSource: invalid data source"), this.vo.splice(g2, 1);
    const _2 = b(d2.Dt()).Ta();
    if (this.a_.has(_2)) {
      const g3 = m(this.a_.get(_2)), O3 = g3.indexOf(d2);
      -1 !== O3 && (g3.splice(O3, 1), 0 === g3.length && this.a_.delete(_2));
    }
    const O2 = d2.Dt();
    O2 && O2.Aa().indexOf(d2) >= 0 && O2.Yo(d2), null !== O2 && (O2.qo(), this.T_(O2)), this.po = null;
  }
  pr(d2) {
    return d2 === this.d_ ? "left" : d2 === this.v_ ? "right" : "overlay";
  }
  P_() {
    return this.d_;
  }
  R_() {
    return this.v_;
  }
  D_(d2, g2) {
    d2.Zo(g2);
  }
  O_(d2, g2) {
    d2.Go(g2), this.S_();
  }
  A_(d2) {
    d2.Jo();
  }
  B_(d2, g2) {
    d2.Qo(g2);
  }
  V_(d2, g2) {
    d2.t_(g2), this.S_();
  }
  I_(d2) {
    d2.i_();
  }
  S_() {
    this.vo.forEach((d2) => {
      d2.On();
    });
  }
  vn() {
    let d2 = null;
    return this.$i.W().rightPriceScale.visible && 0 !== this.v_.Aa().length ? d2 = this.v_ : this.$i.W().leftPriceScale.visible && 0 !== this.d_.Aa().length ? d2 = this.d_ : 0 !== this.vo.length && (d2 = this.vo[0].Dt()), null === d2 && (d2 = this.v_), d2;
  }
  vr() {
    let d2 = null;
    return this.$i.W().rightPriceScale.visible ? d2 = this.v_ : this.$i.W().leftPriceScale.visible && (d2 = this.d_), d2;
  }
  T_(d2) {
    null !== d2 && d2.Do() && this.z_(d2);
  }
  L_(d2) {
    const g2 = this.kl.Xs();
    d2.Po({ Wn: true }), null !== g2 && d2.r_(g2), this.S_();
  }
  E_() {
    this.z_(this.d_), this.z_(this.v_);
  }
  N_() {
    this.T_(this.d_), this.T_(this.v_), this.vo.forEach((d2) => {
      this.dr(d2) && this.T_(d2.Dt());
    }), this.S_(), this.$i.$h();
  }
  $o() {
    return null === this.po && (this.po = fn(this.vo)), this.po;
  }
  F_() {
    return this.u_;
  }
  W_() {
    return this.c_;
  }
  z_(d2) {
    const g2 = d2.e_();
    if (g2 && g2.length > 0 && !this.kl.Ni()) {
      const g3 = this.kl.Xs();
      null !== g3 && d2.r_(g3);
    }
    d2.On();
  }
  y_() {
    const d2 = this.$o();
    if (0 === d2.length) return { j_: 0, k_: 0 };
    let g2 = 0, _2 = 0;
    for (let O2 = 0; O2 < d2.length; O2++) {
      const $2 = d2[O2].Ki();
      null !== $2 && ($2 < g2 && (g2 = $2), $2 > _2 && (_2 = $2));
    }
    return { j_: g2, k_: _2 };
  }
  C_(d2, g2, _2) {
    let O2 = this.b_(g2);
    if (null === O2 && (O2 = this.f_(g2, this.$i.W().overlayPriceScales)), this.vo.push(d2), !ot$1(g2)) {
      const _3 = this.a_.get(g2) || [];
      _3.push(d2), this.a_.set(g2, _3);
    }
    O2.Uo(d2), d2.Gi(O2), d2.Zi(_2), this.T_(O2), this.po = null;
  }
  p_(d2, g2, _2) {
    g2.yr !== _2.yr && this.z_(d2);
  }
  f_(d2, g2) {
    const _2 = Object.assign({ visible: true, autoScale: true }, I(g2)), O2 = new bn(d2, _2, this.$i.W().layout, this.$i.W().localization);
    return O2.zo(this.Vt()), O2;
  }
}
class gn {
  constructor(d2, g2, _2 = 50) {
    this.Ke = 0, this.Ze = 1, this.Ge = 1, this.Qe = /* @__PURE__ */ new Map(), this.Je = /* @__PURE__ */ new Map(), this.H_ = d2, this.U_ = g2, this.tr = _2;
  }
  q_(d2) {
    const g2 = d2.time, _2 = this.U_.cacheKey(g2), O2 = this.Qe.get(_2);
    if (void 0 !== O2) return O2.Y_;
    if (this.Ke === this.tr) {
      const d3 = this.Je.get(this.Ge);
      this.Je.delete(this.Ge), this.Qe.delete(m(d3)), this.Ge++, this.Ke--;
    }
    const $2 = this.H_(d2);
    return this.Qe.set(_2, { Y_: $2, er: this.Ze }), this.Je.set(this.Ze, _2), this.Ke++, this.Ze++, $2;
  }
}
class Mn {
  constructor(d2, g2) {
    p(d2 <= g2, "right should be >= left"), this.X_ = d2, this.K_ = g2;
  }
  Os() {
    return this.X_;
  }
  ui() {
    return this.K_;
  }
  Z_() {
    return this.K_ - this.X_ + 1;
  }
  Kr(d2) {
    return this.X_ <= d2 && d2 <= this.K_;
  }
  yh(d2) {
    return this.X_ === d2.Os() && this.K_ === d2.ui();
  }
}
function xn(d2, g2) {
  return null === d2 || null === g2 ? d2 === g2 : d2.yh(g2);
}
class Sn {
  constructor() {
    this.G_ = /* @__PURE__ */ new Map(), this.Qe = null, this.J_ = false;
  }
  Q_(d2) {
    this.J_ = d2, this.Qe = null;
  }
  tu(d2, g2) {
    this.iu(g2), this.Qe = null;
    for (let _2 = g2; _2 < d2.length; ++_2) {
      const g3 = d2[_2];
      let O2 = this.G_.get(g3.timeWeight);
      void 0 === O2 && (O2 = [], this.G_.set(g3.timeWeight, O2)), O2.push({ index: _2, time: g3.time, weight: g3.timeWeight, originalTime: g3.originalTime });
    }
  }
  nu(d2, g2) {
    const _2 = Math.ceil(g2 / d2);
    return null !== this.Qe && this.Qe.su === _2 || (this.Qe = { ja: this.eu(_2), su: _2 }), this.Qe.ja;
  }
  iu(d2) {
    if (0 === d2) return void this.G_.clear();
    const g2 = [];
    this.G_.forEach((_2, O2) => {
      d2 <= _2[0].index ? g2.push(O2) : _2.splice(Dp(_2, d2, (g3) => g3.index < d2), 1 / 0);
    });
    for (const d3 of g2) this.G_.delete(d3);
  }
  eu(d2) {
    let g2 = [];
    for (const _2 of Array.from(this.G_.keys()).sort((d3, g3) => g3 - d3)) {
      if (!this.G_.get(_2)) continue;
      const O2 = g2;
      g2 = [];
      const $2 = O2.length;
      let st2 = 0;
      const ot2 = m(this.G_.get(_2)), lt2 = ot2.length;
      let ct2 = 1 / 0, ut2 = -1 / 0;
      for (let _3 = 0; _3 < lt2; _3++) {
        const lt3 = ot2[_3], gt2 = lt3.index;
        for (; st2 < $2; ) {
          const d3 = O2[st2], _4 = d3.index;
          if (!(_4 < gt2)) {
            ct2 = _4;
            break;
          }
          st2++, g2.push(d3), ut2 = _4, ct2 = 1 / 0;
        }
        if (ct2 - gt2 >= d2 && gt2 - ut2 >= d2) g2.push(lt3), ut2 = gt2;
        else if (this.J_) return O2;
      }
      for (; st2 < $2; st2++) g2.push(O2[st2]);
    }
    return g2;
  }
}
class kn {
  constructor(d2) {
    this.ru = d2;
  }
  hu() {
    return null === this.ru ? null : new Mn(Math.floor(this.ru.Os()), Math.ceil(this.ru.ui()));
  }
  lu() {
    return this.ru;
  }
  static au() {
    return new kn(null);
  }
}
function yn(d2, g2) {
  return d2.weight > g2.weight ? d2 : g2;
}
class Cn {
  constructor(d2, g2, _2, O2) {
    this.o_ = 0, this.ou = null, this._u = [], this.wo = null, this.bo = null, this.uu = new Sn(), this.cu = /* @__PURE__ */ new Map(), this.du = kn.au(), this.fu = true, this.vu = new R(), this.pu = new R(), this.mu = new R(), this.bu = null, this.wu = null, this.gu = [], this.cn = g2, this.ko = _2, this.Mu = g2.rightOffset, this.xu = g2.barSpacing, this.$i = d2, this.U_ = O2, this.Su(), this.uu.Q_(g2.uniformDistribution);
  }
  W() {
    return this.cn;
  }
  ku(d2) {
    D(this.ko, d2), this.yu(), this.Su();
  }
  Hh(d2, g2) {
    var _2;
    D(this.cn, d2), this.cn.fixLeftEdge && this.Cu(), this.cn.fixRightEdge && this.Tu(), void 0 !== d2.barSpacing && this.$i.Gn(d2.barSpacing), void 0 !== d2.rightOffset && this.$i.Jn(d2.rightOffset), void 0 !== d2.minBarSpacing && this.$i.Gn(null !== (_2 = d2.barSpacing) && void 0 !== _2 ? _2 : this.xu), this.yu(), this.Su(), this.mu.m();
  }
  mn(d2) {
    var g2, _2;
    return null !== (_2 = null === (g2 = this._u[d2]) || void 0 === g2 ? void 0 : g2.time) && void 0 !== _2 ? _2 : null;
  }
  Ui(d2) {
    var g2;
    return null !== (g2 = this._u[d2]) && void 0 !== g2 ? g2 : null;
  }
  Da(d2, g2) {
    if (this._u.length < 1) return null;
    if (this.U_.key(d2) > this.U_.key(this._u[this._u.length - 1].time)) return g2 ? this._u.length - 1 : null;
    const _2 = Dp(this._u, this.U_.key(d2), (d3, g3) => this.U_.key(d3.time) < g3);
    return this.U_.key(d2) < this.U_.key(this._u[_2].time) ? g2 ? _2 : null : _2;
  }
  Ni() {
    return 0 === this.o_ || 0 === this._u.length || null === this.ou;
  }
  Ra() {
    return this._u.length > 0;
  }
  Xs() {
    return this.Pu(), this.du.hu();
  }
  Ru() {
    return this.Pu(), this.du.lu();
  }
  Du() {
    const d2 = this.Xs();
    if (null === d2) return null;
    const g2 = { from: d2.Os(), to: d2.ui() };
    return this.Ou(g2);
  }
  Ou(d2) {
    const g2 = Math.round(d2.from), _2 = Math.round(d2.to), O2 = b(this.Au()), $2 = b(this.Bu());
    return { from: b(this.Ui(Math.max(O2, g2))), to: b(this.Ui(Math.min($2, _2))) };
  }
  Vu(d2) {
    return { from: b(this.Da(d2.from, true)), to: b(this.Da(d2.to, true)) };
  }
  Hi() {
    return this.o_;
  }
  x_(d2) {
    if (!isFinite(d2) || d2 <= 0) return;
    if (this.o_ === d2) return;
    const g2 = this.Ru(), _2 = this.o_;
    if (this.o_ = d2, this.fu = true, this.cn.lockVisibleTimeRangeOnResize && 0 !== _2) {
      const g3 = this.xu * d2 / _2;
      this.xu = g3;
    }
    if (this.cn.fixLeftEdge && null !== g2 && g2.Os() <= 0) {
      const g3 = _2 - d2;
      this.Mu -= Math.round(g3 / this.xu) + 1, this.fu = true;
    }
    this.Iu(), this.zu();
  }
  It(d2) {
    if (this.Ni() || !A(d2)) return 0;
    const g2 = this.Lu() + this.Mu - d2;
    return this.o_ - (g2 + 0.5) * this.xu - 1;
  }
  Js(d2, g2) {
    const _2 = this.Lu(), O2 = void 0 === g2 ? 0 : g2.from, $2 = void 0 === g2 ? d2.length : g2.to;
    for (let g3 = O2; g3 < $2; g3++) {
      const O3 = d2[g3].ot, $3 = _2 + this.Mu - O3, st2 = this.o_ - ($3 + 0.5) * this.xu - 1;
      d2[g3].nt = st2;
    }
  }
  Eu(d2) {
    return Math.ceil(this.Nu(d2));
  }
  Jn(d2) {
    this.fu = true, this.Mu = d2, this.zu(), this.$i.Fu(), this.$i.$h();
  }
  he() {
    return this.xu;
  }
  Gn(d2) {
    this.Wu(d2), this.zu(), this.$i.Fu(), this.$i.$h();
  }
  ju() {
    return this.Mu;
  }
  ja() {
    if (this.Ni()) return null;
    if (null !== this.wu) return this.wu;
    const d2 = this.xu, g2 = 5 * (this.$i.W().layout.fontSize + 4) / 8 * (this.cn.tickMarkMaxCharacterLength || 8), _2 = Math.round(g2 / d2), O2 = b(this.Xs()), $2 = Math.max(O2.Os(), O2.Os() - _2), st2 = Math.max(O2.ui(), O2.ui() - _2), ot2 = this.uu.nu(d2, g2), lt2 = this.Au() + _2, ct2 = this.Bu() - _2, ut2 = this.Hu(), gt2 = this.cn.fixLeftEdge || ut2, mt2 = this.cn.fixRightEdge || ut2;
    let bt2 = 0;
    for (const d3 of ot2) {
      if (!($2 <= d3.index && d3.index <= st2)) continue;
      let _3;
      bt2 < this.gu.length ? (_3 = this.gu[bt2], _3.coord = this.It(d3.index), _3.label = this.$u(d3), _3.weight = d3.weight) : (_3 = { needAlignCoordinate: false, coord: this.It(d3.index), label: this.$u(d3), weight: d3.weight }, this.gu.push(_3)), this.xu > g2 / 2 && !ut2 ? _3.needAlignCoordinate = false : _3.needAlignCoordinate = gt2 && d3.index <= lt2 || mt2 && d3.index >= ct2, bt2++;
    }
    return this.gu.length = bt2, this.wu = this.gu, this.gu;
  }
  Uu() {
    this.fu = true, this.Gn(this.cn.barSpacing), this.Jn(this.cn.rightOffset);
  }
  qu(d2) {
    this.fu = true, this.ou = d2, this.zu(), this.Cu();
  }
  Yu(d2, g2) {
    const _2 = this.Nu(d2), O2 = this.he(), $2 = O2 + g2 * (O2 / 10);
    this.Gn($2), this.cn.rightBarStaysOnScroll || this.Jn(this.ju() + (_2 - this.Nu(d2)));
  }
  Zo(d2) {
    this.wo && this.i_(), null === this.bo && null === this.bu && (this.Ni() || (this.bo = d2, this.Xu()));
  }
  Go(d2) {
    if (null === this.bu) return;
    const g2 = St$1(this.o_ - d2, 0, this.o_), _2 = St$1(this.o_ - b(this.bo), 0, this.o_);
    0 !== g2 && 0 !== _2 && this.Gn(this.bu.he * g2 / _2);
  }
  Jo() {
    null !== this.bo && (this.bo = null, this.Ku());
  }
  Qo(d2) {
    null === this.wo && null === this.bu && (this.Ni() || (this.wo = d2, this.Xu()));
  }
  t_(d2) {
    if (null === this.wo) return;
    const g2 = (this.wo - d2) / this.he();
    this.Mu = b(this.bu).ju + g2, this.fu = true, this.zu();
  }
  i_() {
    null !== this.wo && (this.wo = null, this.Ku());
  }
  Zu() {
    this.Gu(this.cn.rightOffset);
  }
  Gu(d2, g2 = 400) {
    if (!isFinite(d2)) throw new RangeError("offset is required and must be finite number");
    if (!isFinite(g2) || g2 <= 0) throw new RangeError("animationDuration (optional) must be finite positive number");
    const _2 = this.Mu, O2 = performance.now();
    this.$i.Xn({ Ju: (d3) => (d3 - O2) / g2 >= 1, Qu: ($2) => {
      const st2 = ($2 - O2) / g2;
      return st2 >= 1 ? d2 : _2 + (d2 - _2) * st2;
    } });
  }
  bt(d2, g2) {
    this.fu = true, this._u = d2, this.uu.tu(d2, g2), this.zu();
  }
  tc() {
    return this.vu;
  }
  nc() {
    return this.pu;
  }
  sc() {
    return this.mu;
  }
  Lu() {
    return this.ou || 0;
  }
  ec(d2) {
    const g2 = d2.Z_();
    this.Wu(this.o_ / g2), this.Mu = d2.ui() - this.Lu(), this.zu(), this.fu = true, this.$i.Fu(), this.$i.$h();
  }
  rc() {
    const d2 = this.Au(), g2 = this.Bu();
    null !== d2 && null !== g2 && this.ec(new Mn(d2, g2 + this.cn.rightOffset));
  }
  hc(d2) {
    const g2 = new Mn(d2.from, d2.to);
    this.ec(g2);
  }
  qi(d2) {
    return void 0 !== this.ko.timeFormatter ? this.ko.timeFormatter(d2.originalTime) : this.U_.formatHorzItem(d2.time);
  }
  Hu() {
    const { handleScroll: d2, handleScale: g2 } = this.$i.W();
    return !(d2.horzTouchDrag || d2.mouseWheel || d2.pressedMouseMove || d2.vertTouchDrag || g2.axisDoubleClickReset.time || g2.axisPressedMouseMove.time || g2.mouseWheel || g2.pinch);
  }
  Au() {
    return 0 === this._u.length ? null : 0;
  }
  Bu() {
    return 0 === this._u.length ? null : this._u.length - 1;
  }
  lc(d2) {
    return (this.o_ - 1 - d2) / this.xu;
  }
  Nu(d2) {
    const g2 = this.lc(d2), _2 = this.Lu() + this.Mu - g2;
    return Math.round(1e6 * _2) / 1e6;
  }
  Wu(d2) {
    const g2 = this.xu;
    this.xu = d2, this.Iu(), g2 !== this.xu && (this.fu = true, this.ac());
  }
  Pu() {
    if (!this.fu) return;
    if (this.fu = false, this.Ni()) return void this.oc(kn.au());
    const d2 = this.Lu(), g2 = this.o_ / this.xu, _2 = this.Mu + d2, O2 = new Mn(_2 - g2 + 1, _2);
    this.oc(new kn(O2));
  }
  Iu() {
    const d2 = this._c();
    if (this.xu < d2 && (this.xu = d2, this.fu = true), 0 !== this.o_) {
      const d3 = 0.5 * this.o_;
      this.xu > d3 && (this.xu = d3, this.fu = true);
    }
  }
  _c() {
    return this.cn.fixLeftEdge && this.cn.fixRightEdge && 0 !== this._u.length ? this.o_ / this._u.length : this.cn.minBarSpacing;
  }
  zu() {
    const d2 = this.uc();
    this.Mu > d2 && (this.Mu = d2, this.fu = true);
    const g2 = this.cc();
    null !== g2 && this.Mu < g2 && (this.Mu = g2, this.fu = true);
  }
  cc() {
    const d2 = this.Au(), g2 = this.ou;
    return null === d2 || null === g2 ? null : d2 - g2 - 1 + (this.cn.fixLeftEdge ? this.o_ / this.xu : Math.min(2, this._u.length));
  }
  uc() {
    return this.cn.fixRightEdge ? 0 : this.o_ / this.xu - Math.min(2, this._u.length);
  }
  Xu() {
    this.bu = { he: this.he(), ju: this.ju() };
  }
  Ku() {
    this.bu = null;
  }
  $u(d2) {
    let g2 = this.cu.get(d2.weight);
    return void 0 === g2 && (g2 = new gn((d3) => this.dc(d3), this.U_), this.cu.set(d2.weight, g2)), g2.q_(d2);
  }
  dc(d2) {
    return this.U_.formatTickmark(d2, this.ko);
  }
  oc(d2) {
    const g2 = this.du;
    this.du = d2, xn(g2.hu(), this.du.hu()) || this.vu.m(), xn(g2.lu(), this.du.lu()) || this.pu.m(), this.ac();
  }
  ac() {
    this.wu = null;
  }
  yu() {
    this.ac(), this.cu.clear();
  }
  Su() {
    this.U_.updateFormatter(this.ko);
  }
  Cu() {
    if (!this.cn.fixLeftEdge) return;
    const d2 = this.Au();
    if (null === d2) return;
    const g2 = this.Xs();
    if (null === g2) return;
    const _2 = g2.Os() - d2;
    if (_2 < 0) {
      const d3 = this.Mu - _2 - 1;
      this.Jn(d3);
    }
    this.Iu();
  }
  Tu() {
    this.zu(), this.Iu();
  }
}
class Tn {
  K(d2, g2, _2) {
    d2.useMediaCoordinateSpace((d3) => this.Z(d3, g2, _2));
  }
  wl(d2, g2, _2) {
    d2.useMediaCoordinateSpace((d3) => this.fc(d3, g2, _2));
  }
  fc(d2, g2, _2) {
  }
}
class Pn extends Tn {
  constructor(d2) {
    super(), this.vc = /* @__PURE__ */ new Map(), this.zt = d2;
  }
  Z(d2) {
  }
  fc(d2) {
    if (!this.zt.yt) return;
    const { context: g2, mediaSize: _2 } = d2;
    let O2 = 0;
    for (const d3 of this.zt.mc) {
      if (0 === d3.Zt.length) continue;
      g2.font = d3.R;
      const $3 = this.bc(g2, d3.Zt);
      $3 > _2.width ? d3.Yu = _2.width / $3 : d3.Yu = 1, O2 += d3.wc * d3.Yu;
    }
    let $2 = 0;
    switch (this.zt.gc) {
      case "top":
        $2 = 0;
        break;
      case "center":
        $2 = Math.max((_2.height - O2) / 2, 0);
        break;
      case "bottom":
        $2 = Math.max(_2.height - O2, 0);
    }
    g2.fillStyle = this.zt.O;
    for (const d3 of this.zt.mc) {
      g2.save();
      let O3 = 0;
      switch (this.zt.Mc) {
        case "left":
          g2.textAlign = "left", O3 = d3.wc / 2;
          break;
        case "center":
          g2.textAlign = "center", O3 = _2.width / 2;
          break;
        case "right":
          g2.textAlign = "right", O3 = _2.width - 1 - d3.wc / 2;
      }
      g2.translate(O3, $2), g2.textBaseline = "top", g2.font = d3.R, g2.scale(d3.Yu, d3.Yu), g2.fillText(d3.Zt, 0, d3.xc), g2.restore(), $2 += d3.wc * d3.Yu;
    }
  }
  bc(d2, g2) {
    const _2 = this.Sc(d2.font);
    let O2 = _2.get(g2);
    return void 0 === O2 && (O2 = d2.measureText(g2).width, _2.set(g2, O2)), O2;
  }
  Sc(d2) {
    let g2 = this.vc.get(d2);
    return void 0 === g2 && (g2 = /* @__PURE__ */ new Map(), this.vc.set(d2, g2)), g2;
  }
}
class Rn {
  constructor(d2) {
    this.ft = true, this.Ft = { yt: false, O: "", mc: [], gc: "center", Mc: "center" }, this.Wt = new Pn(this.Ft), this.jt = d2;
  }
  bt() {
    this.ft = true;
  }
  gt() {
    return this.ft && (this.Mt(), this.ft = false), this.Wt;
  }
  Mt() {
    const d2 = this.jt.W(), g2 = this.Ft;
    g2.yt = d2.visible, g2.yt && (g2.O = d2.color, g2.Mc = d2.horzAlign, g2.gc = d2.vertAlign, g2.mc = [{ Zt: d2.text, R: N$1(d2.fontSize, d2.fontFamily, d2.fontStyle), wc: 1.2 * d2.fontSize, xc: 0, Yu: 0 }]);
  }
}
class Dn extends Pp {
  constructor(d2, g2) {
    super(), this.cn = g2, this.wn = new Rn(this);
  }
  Rn() {
    return [];
  }
  Pn() {
    return [this.wn];
  }
  W() {
    return this.cn;
  }
  On() {
    this.wn.bt();
  }
}
var tf, ef, sf, nf, rf;
!function(d2) {
  d2[d2.OnTouchEnd = 0] = "OnTouchEnd", d2[d2.OnNextTap = 1] = "OnNextTap";
}(tf || (tf = {}));
class zn {
  constructor(d2, g2, _2) {
    this.kc = [], this.yc = [], this.o_ = 0, this.Cc = null, this.Tc = new R(), this.Pc = new R(), this.Rc = null, this.Dc = d2, this.cn = g2, this.U_ = _2, this.Oc = new yp(this), this.kl = new Cn(this, g2.timeScale, this.cn.localization, _2), this.vt = new Ap(this, g2.crosshair), this.Ac = new Gi(g2.crosshair), this.Bc = new Dn(this, g2.watermark), this.Vc(), this.kc[0].M_(2e3), this.Ic = this.zc(0), this.Lc = this.zc(1);
  }
  Kl() {
    this.Ec(Rp.es());
  }
  $h() {
    this.Ec(Rp.ss());
  }
  aa() {
    this.Ec(new Rp(1));
  }
  Zl(d2) {
    const g2 = this.Nc(d2);
    this.Ec(g2);
  }
  Fc() {
    return this.Cc;
  }
  Wc(d2) {
    const g2 = this.Cc;
    this.Cc = d2, null !== g2 && this.Zl(g2.jc), null !== d2 && this.Zl(d2.jc);
  }
  W() {
    return this.cn;
  }
  Hh(d2) {
    D(this.cn, d2), this.kc.forEach((g2) => g2.m_(d2)), void 0 !== d2.timeScale && this.kl.Hh(d2.timeScale), void 0 !== d2.localization && this.kl.ku(d2.localization), (d2.leftPriceScale || d2.rightPriceScale) && this.Tc.m(), this.Ic = this.zc(0), this.Lc = this.zc(1), this.Kl();
  }
  Hc(d2, g2) {
    if ("left" === d2) return void this.Hh({ leftPriceScale: g2 });
    if ("right" === d2) return void this.Hh({ rightPriceScale: g2 });
    const _2 = this.$c(d2);
    null !== _2 && (_2.Dt.Hh(g2), this.Tc.m());
  }
  $c(d2) {
    for (const g2 of this.kc) {
      const _2 = g2.b_(d2);
      if (null !== _2) return { Ht: g2, Dt: _2 };
    }
    return null;
  }
  St() {
    return this.kl;
  }
  Uc() {
    return this.kc;
  }
  qc() {
    return this.Bc;
  }
  Yc() {
    return this.vt;
  }
  Xc() {
    return this.Pc;
  }
  Kc(d2, g2) {
    d2.zo(g2), this.Fu();
  }
  x_(d2) {
    this.o_ = d2, this.kl.x_(this.o_), this.kc.forEach((g2) => g2.x_(d2)), this.Fu();
  }
  Vc(d2) {
    const g2 = new wn(this.kl, this);
    void 0 !== d2 ? this.kc.splice(d2, 0, g2) : this.kc.push(g2);
    const _2 = void 0 === d2 ? this.kc.length - 1 : d2, O2 = Rp.es();
    return O2.Nn(_2, { Fn: 0, Wn: true }), this.Ec(O2), g2;
  }
  D_(d2, g2, _2) {
    d2.D_(g2, _2);
  }
  O_(d2, g2, _2) {
    d2.O_(g2, _2), this.Gl(), this.Ec(this.Zc(d2, 2));
  }
  A_(d2, g2) {
    d2.A_(g2), this.Ec(this.Zc(d2, 2));
  }
  B_(d2, g2, _2) {
    g2.Do() || d2.B_(g2, _2);
  }
  V_(d2, g2, _2) {
    g2.Do() || (d2.V_(g2, _2), this.Gl(), this.Ec(this.Zc(d2, 2)));
  }
  I_(d2, g2) {
    g2.Do() || (d2.I_(g2), this.Ec(this.Zc(d2, 2)));
  }
  L_(d2, g2) {
    d2.L_(g2), this.Ec(this.Zc(d2, 2));
  }
  Gc(d2) {
    this.kl.Zo(d2);
  }
  Jc(d2, g2) {
    const _2 = this.St();
    if (_2.Ni() || 0 === g2) return;
    const O2 = _2.Hi();
    d2 = Math.max(1, Math.min(d2, O2)), _2.Yu(d2, g2), this.Fu();
  }
  Qc(d2) {
    this.td(0), this.nd(d2), this.sd();
  }
  ed(d2) {
    this.kl.Go(d2), this.Fu();
  }
  rd() {
    this.kl.Jo(), this.$h();
  }
  td(d2) {
    this.kl.Qo(d2);
  }
  nd(d2) {
    this.kl.t_(d2), this.Fu();
  }
  sd() {
    this.kl.i_(), this.$h();
  }
  wt() {
    return this.yc;
  }
  hd(d2, g2, _2, O2, $2) {
    this.vt.gn(d2, g2);
    let st2 = NaN, ot2 = this.kl.Eu(d2);
    const lt2 = this.kl.Xs();
    null !== lt2 && (ot2 = Math.min(Math.max(lt2.Os(), ot2), lt2.ui()));
    const ct2 = O2.vn(), ut2 = ct2.Ct();
    null !== ut2 && (st2 = ct2.pn(g2, ut2)), st2 = this.Ac.Oa(st2, ot2, O2), this.vt.kn(ot2, st2, O2), this.aa(), $2 || this.Pc.m(this.vt.xt(), { x: d2, y: g2 }, _2);
  }
  ld(d2, g2, _2) {
    const O2 = _2.vn(), $2 = O2.Ct(), st2 = O2.Rt(d2, b($2)), ot2 = this.kl.Da(g2, true), lt2 = this.kl.It(b(ot2));
    this.hd(lt2, st2, null, _2, true);
  }
  ad(d2) {
    this.Yc().Cn(), this.aa(), d2 || this.Pc.m(null, null, null);
  }
  Gl() {
    const d2 = this.vt.Ht();
    if (null !== d2) {
      const g2 = this.vt.xn(), _2 = this.vt.Sn();
      this.hd(g2, _2, null, d2);
    }
    this.vt.On();
  }
  od(d2, g2, _2) {
    const O2 = this.kl.mn(0);
    void 0 !== g2 && void 0 !== _2 && this.kl.bt(g2, _2);
    const $2 = this.kl.mn(0), st2 = this.kl.Lu(), ot2 = this.kl.Xs();
    if (null !== ot2 && null !== O2 && null !== $2) {
      const g3 = ot2.Kr(st2), lt2 = this.U_.key(O2) > this.U_.key($2), ct2 = null !== d2 && d2 > st2 && !lt2, ut2 = this.kl.W().allowShiftVisibleRangeOnWhitespaceReplacement, gt2 = g3 && (!(void 0 === _2) || ut2) && this.kl.W().shiftVisibleRangeOnNewBar;
      if (ct2 && !gt2) {
        const g4 = d2 - st2;
        this.kl.Jn(this.kl.ju() - g4);
      }
    }
    this.kl.qu(d2);
  }
  ta(d2) {
    null !== d2 && d2.N_();
  }
  cr(d2) {
    const g2 = this.kc.find((g3) => g3.$o().includes(d2));
    return void 0 === g2 ? null : g2;
  }
  Fu() {
    this.Bc.On(), this.kc.forEach((d2) => d2.N_()), this.Gl();
  }
  S() {
    this.kc.forEach((d2) => d2.S()), this.kc.length = 0, this.cn.localization.priceFormatter = void 0, this.cn.localization.percentageFormatter = void 0, this.cn.localization.timeFormatter = void 0;
  }
  _d() {
    return this.Oc;
  }
  mr() {
    return this.Oc.W();
  }
  w_() {
    return this.Tc;
  }
  ud(d2, g2, _2) {
    const O2 = this.kc[0], $2 = this.dd(g2, d2, O2, _2);
    return this.yc.push($2), 1 === this.yc.length ? this.Kl() : this.$h(), $2;
  }
  fd(d2) {
    const g2 = this.cr(d2), _2 = this.yc.indexOf(d2);
    p(-1 !== _2, "Series not found"), this.yc.splice(_2, 1), b(g2).Yo(d2), d2.S && d2.S();
  }
  Xl(d2, g2) {
    const _2 = b(this.cr(d2));
    _2.Yo(d2);
    const O2 = this.$c(g2);
    if (null === O2) {
      const O3 = d2.Ki();
      _2.Uo(d2, g2, O3);
    } else {
      const $2 = O2.Ht === _2 ? d2.Ki() : void 0;
      O2.Ht.Uo(d2, g2, $2);
    }
  }
  rc() {
    const d2 = Rp.ss();
    d2.$n(), this.Ec(d2);
  }
  vd(d2) {
    const g2 = Rp.ss();
    g2.Yn(d2), this.Ec(g2);
  }
  Zn() {
    const d2 = Rp.ss();
    d2.Zn(), this.Ec(d2);
  }
  Gn(d2) {
    const g2 = Rp.ss();
    g2.Gn(d2), this.Ec(g2);
  }
  Jn(d2) {
    const g2 = Rp.ss();
    g2.Jn(d2), this.Ec(g2);
  }
  Xn(d2) {
    const g2 = Rp.ss();
    g2.Xn(d2), this.Ec(g2);
  }
  Un() {
    const d2 = Rp.ss();
    d2.Un(), this.Ec(d2);
  }
  pd() {
    return this.cn.rightPriceScale.visible ? "right" : "left";
  }
  md() {
    return this.Lc;
  }
  q() {
    return this.Ic;
  }
  Bt(d2) {
    const g2 = this.Lc, _2 = this.Ic;
    if (g2 === _2) return g2;
    if (d2 = Math.max(0, Math.min(100, Math.round(100 * d2))), null === this.Rc || this.Rc.Ts !== _2 || this.Rc.Ps !== g2) this.Rc = { Ts: _2, Ps: g2, bd: /* @__PURE__ */ new Map() };
    else {
      const g3 = this.Rc.bd.get(d2);
      if (void 0 !== g3) return g3;
    }
    const O2 = function(d3, g3, _3) {
      const [O3, $2, st2, ot2] = T(d3), [lt2, ct2, ut2, gt2] = T(g3), mt2 = [M$1(O3 + _3 * (lt2 - O3)), M$1($2 + _3 * (ct2 - $2)), M$1(st2 + _3 * (ut2 - st2)), x$1(ot2 + _3 * (gt2 - ot2))];
      return `rgba(${mt2[0]}, ${mt2[1]}, ${mt2[2]}, ${mt2[3]})`;
    }(_2, g2, d2 / 100);
    return this.Rc.bd.set(d2, O2), O2;
  }
  Zc(d2, g2) {
    const _2 = new Rp(g2);
    if (null !== d2) {
      const O2 = this.kc.indexOf(d2);
      _2.Nn(O2, { Fn: g2 });
    }
    return _2;
  }
  Nc(d2, g2) {
    return void 0 === g2 && (g2 = 2), this.Zc(this.cr(d2), g2);
  }
  Ec(d2) {
    this.Dc && this.Dc(d2), this.kc.forEach((d3) => d3.W_().Uh().bt());
  }
  dd(d2, g2, _2, O2) {
    const $2 = new Zi(this, d2, g2, _2, O2), st2 = void 0 !== d2.priceScaleId ? d2.priceScaleId : this.pd();
    return _2.Uo($2, st2), ot$1(st2) || $2.Hh(d2), $2;
  }
  zc(d2) {
    const g2 = this.cn.layout;
    return "gradient" === g2.background.type ? 0 === d2 ? g2.background.topColor : g2.background.bottomColor : g2.background.color;
  }
}
function Ln(d2) {
  return !O$1(d2) && !B$1(d2);
}
function En(d2) {
  return O$1(d2);
}
!function(d2) {
  d2[d2.Disabled = 0] = "Disabled", d2[d2.Continuous = 1] = "Continuous", d2[d2.OnDataUpdate = 2] = "OnDataUpdate";
}(ef || (ef = {})), function(d2) {
  d2[d2.LastBar = 0] = "LastBar", d2[d2.LastVisible = 1] = "LastVisible";
}(sf || (sf = {})), function(d2) {
  d2.Solid = "solid", d2.VerticalGradient = "gradient";
}(nf || (nf = {})), function(d2) {
  d2[d2.Year = 0] = "Year", d2[d2.Month = 1] = "Month", d2[d2.DayOfMonth = 2] = "DayOfMonth", d2[d2.Time = 3] = "Time", d2[d2.TimeWithSeconds = 4] = "TimeWithSeconds";
}(rf || (rf = {}));
const Nn = (d2) => d2.getUTCFullYear();
class Wn {
  constructor(d2 = "yyyy-MM-dd", g2 = "default") {
    this.wd = d2, this.gd = g2;
  }
  q_(d2) {
    return function Fn(d3, g2, _2) {
      return g2.replace(/yyyy/g, ((d4) => ct$1(Nn(d4), 4))(d3)).replace(/yy/g, ((d4) => ct$1(Nn(d4) % 100, 2))(d3)).replace(/MMMM/g, ((d4, g3) => new Date(d4.getUTCFullYear(), d4.getUTCMonth(), 1).toLocaleString(g3, { month: "long" }))(d3, _2)).replace(/MMM/g, ((d4, g3) => new Date(d4.getUTCFullYear(), d4.getUTCMonth(), 1).toLocaleString(g3, { month: "short" }))(d3, _2)).replace(/MM/g, ((d4) => ct$1(((d5) => d5.getUTCMonth() + 1)(d4), 2))(d3)).replace(/dd/g, ((d4) => ct$1(((d5) => d5.getUTCDate())(d4), 2))(d3));
    }(d2, this.wd, this.gd);
  }
}
class jn {
  constructor(d2) {
    this.Md = d2 || "%h:%m:%s";
  }
  q_(d2) {
    return this.Md.replace("%h", ct$1(d2.getUTCHours(), 2)).replace("%m", ct$1(d2.getUTCMinutes(), 2)).replace("%s", ct$1(d2.getUTCSeconds(), 2));
  }
}
const of = { xd: "yyyy-MM-dd", Sd: "%h:%m:%s", kd: " ", yd: "default" };
class $n {
  constructor(d2 = {}) {
    const g2 = Object.assign(Object.assign({}, of), d2);
    this.Cd = new Wn(g2.xd, g2.yd), this.Td = new jn(g2.Sd), this.Pd = g2.kd;
  }
  q_(d2) {
    return `${this.Cd.q_(d2)}${this.Pd}${this.Td.q_(d2)}`;
  }
}
function Un(d2) {
  return 60 * d2 * 60 * 1e3;
}
function qn(d2) {
  return 60 * d2 * 1e3;
}
const af = [{ Rd: 1e3, Dd: 10 }, { Rd: qn(1), Dd: 20 }, { Rd: qn(5), Dd: 21 }, { Rd: qn(30), Dd: 22 }, { Rd: Un(1), Dd: 30 }, { Rd: Un(3), Dd: 31 }, { Rd: Un(6), Dd: 32 }, { Rd: Un(12), Dd: 33 }];
function Kn(d2, g2) {
  if (d2.getUTCFullYear() !== g2.getUTCFullYear()) return 70;
  if (d2.getUTCMonth() !== g2.getUTCMonth()) return 60;
  if (d2.getUTCDate() !== g2.getUTCDate()) return 50;
  for (let _2 = af.length - 1; _2 >= 0; --_2) if (Math.floor(g2.getTime() / af[_2].Rd) !== Math.floor(d2.getTime() / af[_2].Rd)) return af[_2].Dd;
  return 0;
}
function Zn(d2) {
  let g2 = d2;
  if (B$1(d2) && (g2 = Jn(d2)), !Ln(g2)) throw new Error("time must be of type BusinessDay");
  const _2 = new Date(Date.UTC(g2.year, g2.month - 1, g2.day, 0, 0, 0, 0));
  return { Od: Math.round(_2.getTime() / 1e3), Ad: g2 };
}
function Gn(d2) {
  if (!En(d2)) throw new Error("time must be of type isUTCTimestamp");
  return { Od: d2 };
}
function Jn(d2) {
  const g2 = new Date(d2);
  if (isNaN(g2.getTime())) throw new Error(`Invalid date string=${d2}, expected format=yyyy-mm-dd`);
  return { day: g2.getUTCDate(), month: g2.getUTCMonth() + 1, year: g2.getUTCFullYear() };
}
function Qn(d2) {
  B$1(d2.time) && (d2.time = Jn(d2.time));
}
class ts {
  options() {
    return this.cn;
  }
  setOptions(d2) {
    this.cn = d2, this.updateFormatter(d2.localization);
  }
  preprocessData(d2) {
    Array.isArray(d2) ? function(d3) {
      d3.forEach(Qn);
    }(d2) : Qn(d2);
  }
  createConverterToInternalObj(d2) {
    return b(function(d3) {
      return 0 === d3.length ? null : Ln(d3[0].time) || B$1(d3[0].time) ? Zn : Gn;
    }(d2));
  }
  key(d2) {
    return "object" == typeof d2 && "Od" in d2 ? d2.Od : this.key(this.convertHorzItemToInternal(d2));
  }
  cacheKey(d2) {
    const g2 = d2;
    return void 0 === g2.Ad ? new Date(1e3 * g2.Od).getTime() : new Date(Date.UTC(g2.Ad.year, g2.Ad.month - 1, g2.Ad.day)).getTime();
  }
  convertHorzItemToInternal(d2) {
    return En(g2 = d2) ? Gn(g2) : Ln(g2) ? Zn(g2) : Zn(Jn(g2));
    var g2;
  }
  updateFormatter(d2) {
    if (!this.cn) return;
    const g2 = d2.dateFormat;
    this.cn.timeScale.timeVisible ? this.Bd = new $n({ xd: g2, Sd: this.cn.timeScale.secondsVisible ? "%h:%m:%s" : "%h:%m", kd: "   ", yd: d2.locale }) : this.Bd = new Wn(g2, d2.locale);
  }
  formatHorzItem(d2) {
    const g2 = d2;
    return this.Bd.q_(new Date(1e3 * g2.Od));
  }
  formatTickmark(d2, g2) {
    const _2 = function(d3, g3, _3) {
      switch (d3) {
        case 0:
        case 10:
          return g3 ? _3 ? 4 : 3 : 2;
        case 20:
        case 21:
        case 22:
        case 30:
        case 31:
        case 32:
        case 33:
          return g3 ? 3 : 2;
        case 50:
          return 2;
        case 60:
          return 1;
        case 70:
          return 0;
      }
    }(d2.weight, this.cn.timeScale.timeVisible, this.cn.timeScale.secondsVisible), O2 = this.cn.timeScale;
    if (void 0 !== O2.tickMarkFormatter) {
      const $2 = O2.tickMarkFormatter(d2.originalTime, _2, g2.locale);
      if (null !== $2) return $2;
    }
    return function(d3, g3, _3) {
      const O3 = {};
      switch (g3) {
        case 0:
          O3.year = "numeric";
          break;
        case 1:
          O3.month = "short";
          break;
        case 2:
          O3.day = "numeric";
          break;
        case 3:
          O3.hour12 = false, O3.hour = "2-digit", O3.minute = "2-digit";
          break;
        case 4:
          O3.hour12 = false, O3.hour = "2-digit", O3.minute = "2-digit", O3.second = "2-digit";
      }
      const $2 = void 0 === d3.Ad ? new Date(1e3 * d3.Od) : new Date(Date.UTC(d3.Ad.year, d3.Ad.month - 1, d3.Ad.day));
      return new Date($2.getUTCFullYear(), $2.getUTCMonth(), $2.getUTCDate(), $2.getUTCHours(), $2.getUTCMinutes(), $2.getUTCSeconds(), $2.getUTCMilliseconds()).toLocaleString(_3, O3);
    }(d2.time, _2, g2.locale);
  }
  maxTickMarkWeight(d2) {
    let g2 = d2.reduce(yn, d2[0]).weight;
    return g2 > 30 && g2 < 50 && (g2 = 30), g2;
  }
  fillWeightsForPoints(d2, g2) {
    !function(d3, g3 = 0) {
      if (0 === d3.length) return;
      let _2 = 0 === g3 ? null : d3[g3 - 1].time.Od, O2 = null !== _2 ? new Date(1e3 * _2) : null, $2 = 0;
      for (let st2 = g3; st2 < d3.length; ++st2) {
        const g4 = d3[st2], ot2 = new Date(1e3 * g4.time.Od);
        null !== O2 && (g4.timeWeight = Kn(ot2, O2)), $2 += g4.time.Od - (_2 || g4.time.Od), _2 = g4.time.Od, O2 = ot2;
      }
      if (0 === g3 && d3.length > 1) {
        const g4 = Math.ceil($2 / (d3.length - 1)), _3 = new Date(1e3 * (d3[0].time.Od - g4));
        d3[0].timeWeight = Kn(new Date(1e3 * d3[0].time.Od), _3);
      }
    }(d2, g2);
  }
  static Vd(d2) {
    return D({ localization: { dateFormat: "dd MMM 'yy" } }, null != d2 ? d2 : {});
  }
}
const lf = "undefined" != typeof window;
function ns() {
  return !!lf && window.navigator.userAgent.toLowerCase().indexOf("firefox") > -1;
}
function ss() {
  return !!lf && /iPhone|iPad|iPod/.test(window.navigator.platform);
}
function es(d2) {
  return d2 + d2 % 2;
}
function rs(d2, g2) {
  return d2.Id - g2.Id;
}
function hs(d2, g2, _2) {
  const O2 = (d2.Id - g2.Id) / (d2.ot - g2.ot);
  return Math.sign(O2) * Math.min(Math.abs(O2), _2);
}
class ls {
  constructor(d2, g2, _2, O2) {
    this.zd = null, this.Ld = null, this.Ed = null, this.Nd = null, this.Fd = null, this.Wd = 0, this.jd = 0, this.Hd = d2, this.$d = g2, this.Ud = _2, this.rs = O2;
  }
  qd(d2, g2) {
    if (null !== this.zd) {
      if (this.zd.ot === g2) return void (this.zd.Id = d2);
      if (Math.abs(this.zd.Id - d2) < this.rs) return;
    }
    this.Nd = this.Ed, this.Ed = this.Ld, this.Ld = this.zd, this.zd = { ot: g2, Id: d2 };
  }
  Dr(d2, g2) {
    if (null === this.zd || null === this.Ld) return;
    if (g2 - this.zd.ot > 50) return;
    let _2 = 0;
    const O2 = hs(this.zd, this.Ld, this.$d), $2 = rs(this.zd, this.Ld), st2 = [O2], ot2 = [$2];
    if (_2 += $2, null !== this.Ed) {
      const d3 = hs(this.Ld, this.Ed, this.$d);
      if (Math.sign(d3) === Math.sign(O2)) {
        const g3 = rs(this.Ld, this.Ed);
        if (st2.push(d3), ot2.push(g3), _2 += g3, null !== this.Nd) {
          const d4 = hs(this.Ed, this.Nd, this.$d);
          if (Math.sign(d4) === Math.sign(O2)) {
            const g4 = rs(this.Ed, this.Nd);
            st2.push(d4), ot2.push(g4), _2 += g4;
          }
        }
      }
    }
    let lt2 = 0;
    for (let d3 = 0; d3 < st2.length; ++d3) lt2 += ot2[d3] / _2 * st2[d3];
    Math.abs(lt2) < this.Hd || (this.Fd = { Id: d2, ot: g2 }, this.jd = lt2, this.Wd = function(d3, g3) {
      const _3 = Math.log(g3);
      return Math.log(1 * _3 / -d3) / _3;
    }(Math.abs(lt2), this.Ud));
  }
  Qu(d2) {
    const g2 = b(this.Fd), _2 = d2 - g2.ot;
    return g2.Id + this.jd * (Math.pow(this.Ud, _2) - 1) / Math.log(this.Ud);
  }
  Ju(d2) {
    return null === this.Fd || this.Yd(d2) === this.Wd;
  }
  Yd(d2) {
    const g2 = d2 - b(this.Fd).ot;
    return Math.min(g2, this.Wd);
  }
}
function as(d2, g2) {
  const _2 = b(d2.ownerDocument).createElement("canvas");
  d2.appendChild(_2);
  const O2 = function bindTo(d3, g3) {
    if ("device-pixel-content-box" === g3.type) return new ep(d3, g3.transform, g3.options);
    throw new Error("Unsupported binding target");
  }(_2, { type: "device-pixel-content-box", options: { allowResizeObserver: false }, transform: (d3, g3) => ({ width: Math.max(d3.width, g3.width), height: Math.max(d3.height, g3.height) }) });
  return O2.resizeCanvasElement(g2), O2;
}
function os(d2) {
  var g2;
  d2.width = 1, d2.height = 1, null === (g2 = d2.getContext("2d")) || void 0 === g2 || g2.clearRect(0, 0, 1, 1);
}
function _s(d2, g2, _2, O2) {
  d2.wl && d2.wl(g2, _2, O2);
}
function us(d2, g2, _2, O2) {
  d2.K(g2, _2, O2);
}
function cs(d2, g2, _2, O2) {
  const $2 = d2(_2, O2);
  for (const d3 of $2) {
    const _3 = d3.gt();
    null !== _3 && g2(_3);
  }
}
class fs {
  constructor(d2, g2, _2) {
    this.Xd = 0, this.Kd = null, this.Zd = { nt: Number.NEGATIVE_INFINITY, st: Number.POSITIVE_INFINITY }, this.Gd = 0, this.Jd = null, this.Qd = { nt: Number.NEGATIVE_INFINITY, st: Number.POSITIVE_INFINITY }, this.tf = null, this.if = false, this.nf = null, this.sf = null, this.ef = false, this.rf = false, this.hf = false, this.lf = null, this.af = null, this._f = null, this.uf = null, this.cf = null, this.df = null, this.ff = null, this.vf = 0, this.pf = false, this.mf = false, this.bf = false, this.wf = 0, this.gf = null, this.Mf = !ss(), this.xf = (d3) => {
      this.Sf(d3);
    }, this.kf = (d3) => {
      if (this.yf(d3)) {
        const g3 = this.Cf(d3);
        if (++this.Gd, this.Jd && this.Gd > 1) {
          const { Tf: _3 } = this.Pf(ms(d3), this.Qd);
          _3 < 30 && !this.hf && this.Rf(g3, this.Of.Df), this.Af();
        }
      } else {
        const g3 = this.Cf(d3);
        if (++this.Xd, this.Kd && this.Xd > 1) {
          const { Tf: _3 } = this.Pf(ms(d3), this.Zd);
          _3 < 5 && !this.rf && this.Bf(g3, this.Of.Vf), this.If();
        }
      }
    }, this.zf = d2, this.Of = g2, this.cn = _2, this.Lf();
  }
  S() {
    null !== this.lf && (this.lf(), this.lf = null), null !== this.af && (this.af(), this.af = null), null !== this.uf && (this.uf(), this.uf = null), null !== this.cf && (this.cf(), this.cf = null), null !== this.df && (this.df(), this.df = null), null !== this._f && (this._f(), this._f = null), this.Ef(), this.If();
  }
  Nf(d2) {
    this.uf && this.uf();
    const g2 = this.Ff.bind(this);
    if (this.uf = () => {
      this.zf.removeEventListener("mousemove", g2);
    }, this.zf.addEventListener("mousemove", g2), this.yf(d2)) return;
    const _2 = this.Cf(d2);
    this.Bf(_2, this.Of.Wf), this.Mf = true;
  }
  If() {
    null !== this.Kd && clearTimeout(this.Kd), this.Xd = 0, this.Kd = null, this.Zd = { nt: Number.NEGATIVE_INFINITY, st: Number.POSITIVE_INFINITY };
  }
  Af() {
    null !== this.Jd && clearTimeout(this.Jd), this.Gd = 0, this.Jd = null, this.Qd = { nt: Number.NEGATIVE_INFINITY, st: Number.POSITIVE_INFINITY };
  }
  Ff(d2) {
    if (this.bf || null !== this.sf) return;
    if (this.yf(d2)) return;
    const g2 = this.Cf(d2);
    this.Bf(g2, this.Of.jf), this.Mf = true;
  }
  Hf(d2) {
    const g2 = ws(d2.changedTouches, b(this.gf));
    if (null === g2) return;
    if (this.wf = bs(d2), null !== this.ff) return;
    if (this.mf) return;
    this.pf = true;
    const _2 = this.Pf(ms(g2), b(this.sf)), { $f: O2, Uf: $2, Tf: st2 } = _2;
    if (this.ef || !(st2 < 5)) {
      if (!this.ef) {
        const d3 = 0.5 * O2, g3 = $2 >= d3 && !this.cn.qf(), _3 = d3 > $2 && !this.cn.Yf();
        g3 || _3 || (this.mf = true), this.ef = true, this.hf = true, this.Ef(), this.Af();
      }
      if (!this.mf) {
        const _3 = this.Cf(d2, g2);
        this.Rf(_3, this.Of.Xf), ps(d2);
      }
    }
  }
  Kf(d2) {
    if (0 !== d2.button) return;
    const g2 = this.Pf(ms(d2), b(this.nf)), { Tf: _2 } = g2;
    if (_2 >= 5 && (this.rf = true, this.If()), this.rf) {
      const g3 = this.Cf(d2);
      this.Bf(g3, this.Of.Zf);
    }
  }
  Pf(d2, g2) {
    const _2 = Math.abs(g2.nt - d2.nt), O2 = Math.abs(g2.st - d2.st);
    return { $f: _2, Uf: O2, Tf: _2 + O2 };
  }
  Gf(d2) {
    let g2 = ws(d2.changedTouches, b(this.gf));
    if (null === g2 && 0 === d2.touches.length && (g2 = d2.changedTouches[0]), null === g2) return;
    this.gf = null, this.wf = bs(d2), this.Ef(), this.sf = null, this.df && (this.df(), this.df = null);
    const _2 = this.Cf(d2, g2);
    if (this.Rf(_2, this.Of.Jf), ++this.Gd, this.Jd && this.Gd > 1) {
      const { Tf: d3 } = this.Pf(ms(g2), this.Qd);
      d3 < 30 && !this.hf && this.Rf(_2, this.Of.Df), this.Af();
    } else this.hf || (this.Rf(_2, this.Of.Qf), this.Of.Qf && ps(d2));
    0 === this.Gd && ps(d2), 0 === d2.touches.length && this.if && (this.if = false, ps(d2));
  }
  Sf(d2) {
    if (0 !== d2.button) return;
    const g2 = this.Cf(d2);
    if (this.nf = null, this.bf = false, this.cf && (this.cf(), this.cf = null), ns() && this.zf.ownerDocument.documentElement.removeEventListener("mouseleave", this.xf), !this.yf(d2)) if (this.Bf(g2, this.Of.tv), ++this.Xd, this.Kd && this.Xd > 1) {
      const { Tf: _2 } = this.Pf(ms(d2), this.Zd);
      _2 < 5 && !this.rf && this.Bf(g2, this.Of.Vf), this.If();
    } else this.rf || this.Bf(g2, this.Of.iv);
  }
  Ef() {
    null !== this.tf && (clearTimeout(this.tf), this.tf = null);
  }
  nv(d2) {
    if (null !== this.gf) return;
    const g2 = d2.changedTouches[0];
    this.gf = g2.identifier, this.wf = bs(d2);
    const _2 = this.zf.ownerDocument.documentElement;
    this.hf = false, this.ef = false, this.mf = false, this.sf = ms(g2), this.df && (this.df(), this.df = null);
    {
      const g3 = this.Hf.bind(this), O3 = this.Gf.bind(this);
      this.df = () => {
        _2.removeEventListener("touchmove", g3), _2.removeEventListener("touchend", O3);
      }, _2.addEventListener("touchmove", g3, { passive: false }), _2.addEventListener("touchend", O3, { passive: false }), this.Ef(), this.tf = setTimeout(this.sv.bind(this, d2), 240);
    }
    const O2 = this.Cf(d2, g2);
    this.Rf(O2, this.Of.ev), this.Jd || (this.Gd = 0, this.Jd = setTimeout(this.Af.bind(this), 500), this.Qd = ms(g2));
  }
  rv(d2) {
    if (0 !== d2.button) return;
    const g2 = this.zf.ownerDocument.documentElement;
    ns() && g2.addEventListener("mouseleave", this.xf), this.rf = false, this.nf = ms(d2), this.cf && (this.cf(), this.cf = null);
    {
      const d3 = this.Kf.bind(this), _3 = this.Sf.bind(this);
      this.cf = () => {
        g2.removeEventListener("mousemove", d3), g2.removeEventListener("mouseup", _3);
      }, g2.addEventListener("mousemove", d3), g2.addEventListener("mouseup", _3);
    }
    if (this.bf = true, this.yf(d2)) return;
    const _2 = this.Cf(d2);
    this.Bf(_2, this.Of.hv), this.Kd || (this.Xd = 0, this.Kd = setTimeout(this.If.bind(this), 500), this.Zd = ms(d2));
  }
  Lf() {
    this.zf.addEventListener("mouseenter", this.Nf.bind(this)), this.zf.addEventListener("touchcancel", this.Ef.bind(this));
    {
      const d2 = this.zf.ownerDocument, i = (d3) => {
        this.Of.lv && (d3.composed && this.zf.contains(d3.composedPath()[0]) || d3.target && this.zf.contains(d3.target) || this.Of.lv());
      };
      this.af = () => {
        d2.removeEventListener("touchstart", i);
      }, this.lf = () => {
        d2.removeEventListener("mousedown", i);
      }, d2.addEventListener("mousedown", i), d2.addEventListener("touchstart", i, { passive: true });
    }
    ss() && (this._f = () => {
      this.zf.removeEventListener("dblclick", this.kf);
    }, this.zf.addEventListener("dblclick", this.kf)), this.zf.addEventListener("mouseleave", this.av.bind(this)), this.zf.addEventListener("touchstart", this.nv.bind(this), { passive: true }), function ds(d2) {
      lf && void 0 !== window.chrome && d2.addEventListener("mousedown", (d3) => {
        if (1 === d3.button) return d3.preventDefault(), false;
      });
    }(this.zf), this.zf.addEventListener("mousedown", this.rv.bind(this)), this.ov(), this.zf.addEventListener("touchmove", () => {
    }, { passive: false });
  }
  ov() {
    void 0 === this.Of._v && void 0 === this.Of.uv && void 0 === this.Of.cv || (this.zf.addEventListener("touchstart", (d2) => this.dv(d2.touches), { passive: true }), this.zf.addEventListener("touchmove", (d2) => {
      if (2 === d2.touches.length && null !== this.ff && void 0 !== this.Of.uv) {
        const g2 = vs(d2.touches[0], d2.touches[1]) / this.vf;
        this.Of.uv(this.ff, g2), ps(d2);
      }
    }, { passive: false }), this.zf.addEventListener("touchend", (d2) => {
      this.dv(d2.touches);
    }));
  }
  dv(d2) {
    1 === d2.length && (this.pf = false), 2 !== d2.length || this.pf || this.if ? this.fv() : this.vv(d2);
  }
  vv(d2) {
    const g2 = this.zf.getBoundingClientRect() || { left: 0, top: 0 };
    this.ff = { nt: (d2[0].clientX - g2.left + (d2[1].clientX - g2.left)) / 2, st: (d2[0].clientY - g2.top + (d2[1].clientY - g2.top)) / 2 }, this.vf = vs(d2[0], d2[1]), void 0 !== this.Of._v && this.Of._v(), this.Ef();
  }
  fv() {
    null !== this.ff && (this.ff = null, void 0 !== this.Of.cv && this.Of.cv());
  }
  av(d2) {
    if (this.uf && this.uf(), this.yf(d2)) return;
    if (!this.Mf) return;
    const g2 = this.Cf(d2);
    this.Bf(g2, this.Of.pv), this.Mf = !ss();
  }
  sv(d2) {
    const g2 = ws(d2.touches, b(this.gf));
    if (null === g2) return;
    const _2 = this.Cf(d2, g2);
    this.Rf(_2, this.Of.mv), this.hf = true, this.if = true;
  }
  yf(d2) {
    return d2.sourceCapabilities && void 0 !== d2.sourceCapabilities.firesTouchEvents ? d2.sourceCapabilities.firesTouchEvents : bs(d2) < this.wf + 500;
  }
  Rf(d2, g2) {
    g2 && g2.call(this.Of, d2);
  }
  Bf(d2, g2) {
    g2 && g2.call(this.Of, d2);
  }
  Cf(d2, g2) {
    const _2 = g2 || d2, O2 = this.zf.getBoundingClientRect() || { left: 0, top: 0 };
    return { clientX: _2.clientX, clientY: _2.clientY, pageX: _2.pageX, pageY: _2.pageY, screenX: _2.screenX, screenY: _2.screenY, localX: _2.clientX - O2.left, localY: _2.clientY - O2.top, ctrlKey: d2.ctrlKey, altKey: d2.altKey, shiftKey: d2.shiftKey, metaKey: d2.metaKey, bv: !d2.type.startsWith("mouse") && "contextmenu" !== d2.type && "click" !== d2.type, wv: d2.type, gv: _2.target, Mv: d2.view, xv: () => {
      "touchstart" !== d2.type && ps(d2);
    } };
  }
}
function vs(d2, g2) {
  const _2 = d2.clientX - g2.clientX, O2 = d2.clientY - g2.clientY;
  return Math.sqrt(_2 * _2 + O2 * O2);
}
function ps(d2) {
  d2.cancelable && d2.preventDefault();
}
function ms(d2) {
  return { nt: d2.pageX, st: d2.pageY };
}
function bs(d2) {
  return d2.timeStamp || performance.now();
}
function ws(d2, g2) {
  for (let _2 = 0; _2 < d2.length; ++_2) if (d2[_2].identifier === g2) return d2[_2];
  return null;
}
function gs(d2) {
  return { jc: d2.jc, Sv: { wr: d2.kv.externalId }, yv: d2.kv.cursorStyle };
}
function Ms(d2, g2, _2) {
  for (const O2 of d2) {
    const d3 = O2.gt();
    if (null !== d3 && d3.br) {
      const $2 = d3.br(g2, _2);
      if (null !== $2) return { Mv: O2, Sv: $2 };
    }
  }
  return null;
}
function xs(d2, g2) {
  return (_2) => {
    var O2, $2, st2, ot2;
    return (null !== ($2 = null === (O2 = _2.Dt()) || void 0 === O2 ? void 0 : O2.Ta()) && void 0 !== $2 ? $2 : "") !== g2 ? [] : null !== (ot2 = null === (st2 = _2.ca) || void 0 === st2 ? void 0 : st2.call(_2, d2)) && void 0 !== ot2 ? ot2 : [];
  };
}
function Ss(d2, g2, _2, O2) {
  if (!d2.length) return;
  let $2 = 0;
  const st2 = d2[0].Vt(O2, true);
  let ot2 = 1 === g2 ? _2 / 2 - (d2[0].Oi() - st2 / 2) : d2[0].Oi() - st2 / 2 - _2 / 2;
  ot2 = Math.max(0, ot2);
  for (let st3 = 1; st3 < d2.length; st3++) {
    const lt2 = d2[st3], ct2 = d2[st3 - 1], ut2 = ct2.Vt(O2, false), gt2 = lt2.Oi(), mt2 = ct2.Oi();
    if (1 === g2 ? gt2 > mt2 - ut2 : gt2 < mt2 + ut2) {
      const O3 = mt2 - ut2 * g2;
      lt2.Ai(O3);
      const st4 = O3 - g2 * ut2 / 2;
      if ((1 === g2 ? st4 < 0 : st4 > _2) && ot2 > 0) {
        const O4 = 1 === g2 ? -1 - st4 : st4 - _2, lt3 = Math.min(O4, ot2);
        for (let _3 = $2; _3 < d2.length; _3++) d2[_3].Ai(d2[_3].Oi() + g2 * lt3);
        ot2 -= lt3;
      }
    } else $2 = st3, ot2 = 1 === g2 ? mt2 - ut2 - gt2 : gt2 - (mt2 + ut2);
  }
}
class ks {
  constructor(d2, g2, _2, O2) {
    this.Li = null, this.Cv = null, this.Tv = false, this.Pv = new ii(200), this.Jr = null, this.Rv = 0, this.Dv = false, this.Ov = () => {
      this.Dv || this.tn.Av().$t().$h();
    }, this.Bv = () => {
      this.Dv || this.tn.Av().$t().$h();
    }, this.tn = d2, this.cn = g2, this.So = g2.layout, this.Oc = _2, this.Vv = "left" === O2, this.Iv = xs("normal", O2), this.zv = xs("top", O2), this.Lv = xs("bottom", O2), this.Ev = document.createElement("div"), this.Ev.style.height = "100%", this.Ev.style.overflow = "hidden", this.Ev.style.width = "25px", this.Ev.style.left = "0", this.Ev.style.position = "relative", this.Nv = as(this.Ev, size({ width: 16, height: 16 })), this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);
    const $2 = this.Nv.canvasElement;
    $2.style.position = "absolute", $2.style.zIndex = "1", $2.style.left = "0", $2.style.top = "0", this.Fv = as(this.Ev, size({ width: 16, height: 16 })), this.Fv.subscribeSuggestedBitmapSizeChanged(this.Bv);
    const st2 = this.Fv.canvasElement;
    st2.style.position = "absolute", st2.style.zIndex = "2", st2.style.left = "0", st2.style.top = "0";
    const ot2 = { hv: this.Wv.bind(this), ev: this.Wv.bind(this), Zf: this.jv.bind(this), Xf: this.jv.bind(this), lv: this.Hv.bind(this), tv: this.$v.bind(this), Jf: this.$v.bind(this), Vf: this.Uv.bind(this), Df: this.Uv.bind(this), Wf: this.qv.bind(this), pv: this.Yv.bind(this) };
    this.Xv = new fs(this.Fv.canvasElement, ot2, { qf: () => !this.cn.handleScroll.vertTouchDrag, Yf: () => true });
  }
  S() {
    this.Xv.S(), this.Fv.unsubscribeSuggestedBitmapSizeChanged(this.Bv), os(this.Fv.canvasElement), this.Fv.dispose(), this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov), os(this.Nv.canvasElement), this.Nv.dispose(), null !== this.Li && this.Li.Ko().p(this), this.Li = null;
  }
  Kv() {
    return this.Ev;
  }
  P() {
    return this.So.fontSize;
  }
  Zv() {
    const d2 = this.Oc.W();
    return this.Jr !== d2.R && (this.Pv.ir(), this.Jr = d2.R), d2;
  }
  Gv() {
    if (null === this.Li) return 0;
    let d2 = 0;
    const g2 = this.Zv(), _2 = b(this.Nv.canvasElement.getContext("2d"));
    _2.save();
    const O2 = this.Li.ja();
    _2.font = this.Jv(), O2.length > 0 && (d2 = Math.max(this.Pv.xi(_2, O2[0].no), this.Pv.xi(_2, O2[O2.length - 1].no)));
    const $2 = this.Qv();
    for (let g3 = $2.length; g3--; ) {
      const O3 = this.Pv.xi(_2, $2[g3].Zt());
      O3 > d2 && (d2 = O3);
    }
    const st2 = this.Li.Ct();
    if (null !== st2 && null !== this.Cv) {
      const g3 = this.Li.pn(1, st2), O3 = this.Li.pn(this.Cv.height - 2, st2);
      d2 = Math.max(d2, this.Pv.xi(_2, this.Li.Fi(Math.floor(Math.min(g3, O3)) + 0.11111111111111, st2)), this.Pv.xi(_2, this.Li.Fi(Math.ceil(Math.max(g3, O3)) - 0.11111111111111, st2)));
    }
    _2.restore();
    const ot2 = d2 || 34;
    return es(Math.ceil(g2.C + g2.T + g2.V + g2.I + 5 + ot2));
  }
  tp(d2) {
    null !== this.Cv && equalSizes(this.Cv, d2) || (this.Cv = d2, this.Dv = true, this.Nv.resizeCanvasElement(d2), this.Fv.resizeCanvasElement(d2), this.Dv = false, this.Ev.style.width = `${d2.width}px`, this.Ev.style.height = `${d2.height}px`);
  }
  ip() {
    return b(this.Cv).width;
  }
  Gi(d2) {
    this.Li !== d2 && (null !== this.Li && this.Li.Ko().p(this), this.Li = d2, d2.Ko().l(this.do.bind(this), this));
  }
  Dt() {
    return this.Li;
  }
  ir() {
    const d2 = this.tn.np();
    this.tn.Av().$t().L_(d2, b(this.Dt()));
  }
  sp(d2) {
    if (null === this.Cv) return;
    if (1 !== d2) {
      this.ep(), this.Nv.applySuggestedBitmapSize();
      const d3 = tryCreateCanvasRenderingTarget2D(this.Nv);
      null !== d3 && (d3.useBitmapCoordinateSpace((d4) => {
        this.rp(d4), this.Ve(d4);
      }), this.tn.hp(d3, this.Lv), this.lp(d3), this.tn.hp(d3, this.Iv), this.ap(d3));
    }
    this.Fv.applySuggestedBitmapSize();
    const g2 = tryCreateCanvasRenderingTarget2D(this.Fv);
    null !== g2 && (g2.useBitmapCoordinateSpace(({ context: d3, bitmapSize: g3 }) => {
      d3.clearRect(0, 0, g3.width, g3.height);
    }), this.op(g2), this.tn.hp(g2, this.zv));
  }
  _p() {
    return this.Nv.bitmapSize;
  }
  up(d2, g2, _2) {
    const O2 = this._p();
    O2.width > 0 && O2.height > 0 && d2.drawImage(this.Nv.canvasElement, g2, _2);
  }
  bt() {
    var d2;
    null === (d2 = this.Li) || void 0 === d2 || d2.ja();
  }
  Wv(d2) {
    if (null === this.Li || this.Li.Ni() || !this.cn.handleScale.axisPressedMouseMove.price) return;
    const g2 = this.tn.Av().$t(), _2 = this.tn.np();
    this.Tv = true, g2.D_(_2, this.Li, d2.localY);
  }
  jv(d2) {
    if (null === this.Li || !this.cn.handleScale.axisPressedMouseMove.price) return;
    const g2 = this.tn.Av().$t(), _2 = this.tn.np(), O2 = this.Li;
    g2.O_(_2, O2, d2.localY);
  }
  Hv() {
    if (null === this.Li || !this.cn.handleScale.axisPressedMouseMove.price) return;
    const d2 = this.tn.Av().$t(), g2 = this.tn.np(), _2 = this.Li;
    this.Tv && (this.Tv = false, d2.A_(g2, _2));
  }
  $v(d2) {
    if (null === this.Li || !this.cn.handleScale.axisPressedMouseMove.price) return;
    const g2 = this.tn.Av().$t(), _2 = this.tn.np();
    this.Tv = false, g2.A_(_2, this.Li);
  }
  Uv(d2) {
    this.cn.handleScale.axisDoubleClickReset.price && this.ir();
  }
  qv(d2) {
    null !== this.Li && (!this.tn.Av().$t().W().handleScale.axisPressedMouseMove.price || this.Li.gh() || this.Li.Oo() || this.cp(1));
  }
  Yv(d2) {
    this.cp(0);
  }
  Qv() {
    const d2 = [], g2 = null === this.Li ? void 0 : this.Li;
    return ((_2) => {
      for (let O2 = 0; O2 < _2.length; ++O2) {
        const $2 = _2[O2].Rn(this.tn.np(), g2);
        for (let g3 = 0; g3 < $2.length; g3++) d2.push($2[g3]);
      }
    })(this.tn.np().$o()), d2;
  }
  rp({ context: d2, bitmapSize: g2 }) {
    const { width: _2, height: O2 } = g2, $2 = this.tn.np().$t(), st2 = $2.q(), ot2 = $2.md();
    st2 === ot2 ? Z(d2, 0, 0, _2, O2, st2) : Q$1(d2, 0, 0, _2, O2, st2, ot2);
  }
  Ve({ context: d2, bitmapSize: g2, horizontalPixelRatio: _2 }) {
    if (null === this.Cv || null === this.Li || !this.Li.W().borderVisible) return;
    d2.fillStyle = this.Li.W().borderColor;
    const O2 = Math.max(1, Math.floor(this.Zv().C * _2));
    let $2;
    $2 = this.Vv ? g2.width - O2 : 0, d2.fillRect($2, 0, O2, g2.height);
  }
  lp(d2) {
    if (null === this.Cv || null === this.Li) return;
    const g2 = this.Li.ja(), _2 = this.Li.W(), O2 = this.Zv(), $2 = this.Vv ? this.Cv.width - O2.T : 0;
    _2.borderVisible && _2.ticksVisible && d2.useBitmapCoordinateSpace(({ context: d3, horizontalPixelRatio: st2, verticalPixelRatio: ot2 }) => {
      d3.fillStyle = _2.borderColor;
      const lt2 = Math.max(1, Math.floor(ot2)), ct2 = Math.floor(0.5 * ot2), ut2 = Math.round(O2.T * st2);
      d3.beginPath();
      for (const _3 of g2) d3.rect(Math.floor($2 * st2), Math.round(_3.La * ot2) - ct2, ut2, lt2);
      d3.fill();
    }), d2.useMediaCoordinateSpace(({ context: d3 }) => {
      var st2;
      d3.font = this.Jv(), d3.fillStyle = null !== (st2 = _2.textColor) && void 0 !== st2 ? st2 : this.So.textColor, d3.textAlign = this.Vv ? "right" : "left", d3.textBaseline = "middle";
      const ot2 = this.Vv ? Math.round($2 - O2.V) : Math.round($2 + O2.T + O2.V), lt2 = g2.map((g3) => this.Pv.Mi(d3, g3.no));
      for (let _3 = g2.length; _3--; ) {
        const O3 = g2[_3];
        d3.fillText(O3.no, ot2, O3.La + lt2[_3]);
      }
    });
  }
  ep() {
    if (null === this.Cv || null === this.Li) return;
    let d2 = this.Cv.height / 2;
    const g2 = [], _2 = this.Li.$o().slice(), O2 = this.tn.np(), $2 = this.Zv();
    this.Li === O2.vr() && this.tn.np().$o().forEach((d3) => {
      O2.dr(d3) && _2.push(d3);
    });
    const st2 = this.Li.Aa()[0], ot2 = this.Li;
    _2.forEach((_3) => {
      const $3 = _3.Rn(O2, ot2);
      $3.forEach((d3) => {
        d3.Ai(null), d3.Bi() && g2.push(d3);
      }), st2 === _3 && $3.length > 0 && (d2 = $3[0].ki());
    }), g2.forEach((d3) => d3.Ai(d3.ki())), this.Li.W().alignLabels && this.dp(g2, $2, d2);
  }
  dp(d2, g2, _2) {
    if (null === this.Cv) return;
    const O2 = d2.filter((d3) => d3.ki() <= _2), $2 = d2.filter((d3) => d3.ki() > _2);
    O2.sort((d3, g3) => g3.ki() - d3.ki()), O2.length && $2.length && $2.push(O2[0]), $2.sort((d3, g3) => d3.ki() - g3.ki());
    for (const _3 of d2) {
      const d3 = Math.floor(_3.Vt(g2) / 2), O3 = _3.ki();
      O3 > -d3 && O3 < d3 && _3.Ai(d3), O3 > this.Cv.height - d3 && O3 < this.Cv.height + d3 && _3.Ai(this.Cv.height - d3);
    }
    Ss(O2, 1, this.Cv.height, g2), Ss($2, -1, this.Cv.height, g2);
  }
  ap(d2) {
    if (null === this.Cv) return;
    const g2 = this.Qv(), _2 = this.Zv(), O2 = this.Vv ? "right" : "left";
    g2.forEach((g3) => {
      g3.Vi() && g3.gt(b(this.Li)).K(d2, _2, this.Pv, O2);
    });
  }
  op(d2) {
    if (null === this.Cv || null === this.Li) return;
    const g2 = this.tn.Av().$t(), _2 = [], O2 = this.tn.np(), $2 = g2.Yc().Rn(O2, this.Li);
    $2.length && _2.push($2);
    const st2 = this.Zv(), ot2 = this.Vv ? "right" : "left";
    _2.forEach((g3) => {
      g3.forEach((g4) => {
        g4.gt(b(this.Li)).K(d2, st2, this.Pv, ot2);
      });
    });
  }
  cp(d2) {
    this.Ev.style.cursor = 1 === d2 ? "ns-resize" : "default";
  }
  do() {
    const d2 = this.Gv();
    this.Rv < d2 && this.tn.Av().$t().Kl(), this.Rv = d2;
  }
  Jv() {
    return N$1(this.So.fontSize, this.So.fontFamily);
  }
}
function ys(d2, g2) {
  var _2, O2;
  return null !== (O2 = null === (_2 = d2._a) || void 0 === _2 ? void 0 : _2.call(d2, g2)) && void 0 !== O2 ? O2 : [];
}
function Cs(d2, g2) {
  var _2, O2;
  return null !== (O2 = null === (_2 = d2.Pn) || void 0 === _2 ? void 0 : _2.call(d2, g2)) && void 0 !== O2 ? O2 : [];
}
function Ts(d2, g2) {
  var _2, O2;
  return null !== (O2 = null === (_2 = d2.Ji) || void 0 === _2 ? void 0 : _2.call(d2, g2)) && void 0 !== O2 ? O2 : [];
}
function Ps(d2, g2) {
  var _2, O2;
  return null !== (O2 = null === (_2 = d2.la) || void 0 === _2 ? void 0 : _2.call(d2, g2)) && void 0 !== O2 ? O2 : [];
}
class Rs {
  constructor(d2, g2) {
    this.Cv = size({ width: 0, height: 0 }), this.fp = null, this.vp = null, this.pp = null, this.mp = false, this.bp = new R(), this.wp = new R(), this.gp = 0, this.Mp = false, this.xp = null, this.Sp = false, this.kp = null, this.yp = null, this.Dv = false, this.Ov = () => {
      this.Dv || null === this.Cp || this.$i().$h();
    }, this.Bv = () => {
      this.Dv || null === this.Cp || this.$i().$h();
    }, this.Tp = d2, this.Cp = g2, this.Cp.F_().l(this.Pp.bind(this), this, true), this.Rp = document.createElement("td"), this.Rp.style.padding = "0", this.Rp.style.position = "relative";
    const _2 = document.createElement("div");
    _2.style.width = "100%", _2.style.height = "100%", _2.style.position = "relative", _2.style.overflow = "hidden", this.Dp = document.createElement("td"), this.Dp.style.padding = "0", this.Op = document.createElement("td"), this.Op.style.padding = "0", this.Rp.appendChild(_2), this.Nv = as(_2, size({ width: 16, height: 16 })), this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);
    const O2 = this.Nv.canvasElement;
    O2.style.position = "absolute", O2.style.zIndex = "1", O2.style.left = "0", O2.style.top = "0", this.Fv = as(_2, size({ width: 16, height: 16 })), this.Fv.subscribeSuggestedBitmapSizeChanged(this.Bv);
    const $2 = this.Fv.canvasElement;
    $2.style.position = "absolute", $2.style.zIndex = "2", $2.style.left = "0", $2.style.top = "0", this.Ap = document.createElement("tr"), this.Ap.appendChild(this.Dp), this.Ap.appendChild(this.Rp), this.Ap.appendChild(this.Op), this.Bp(), this.Xv = new fs(this.Fv.canvasElement, this, { qf: () => null === this.xp && !this.Tp.W().handleScroll.vertTouchDrag, Yf: () => null === this.xp && !this.Tp.W().handleScroll.horzTouchDrag });
  }
  S() {
    null !== this.fp && this.fp.S(), null !== this.vp && this.vp.S(), this.Fv.unsubscribeSuggestedBitmapSizeChanged(this.Bv), os(this.Fv.canvasElement), this.Fv.dispose(), this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov), os(this.Nv.canvasElement), this.Nv.dispose(), null !== this.Cp && this.Cp.F_().p(this), this.Xv.S();
  }
  np() {
    return b(this.Cp);
  }
  Vp(d2) {
    null !== this.Cp && this.Cp.F_().p(this), this.Cp = d2, null !== this.Cp && this.Cp.F_().l(Rs.prototype.Pp.bind(this), this, true), this.Bp();
  }
  Av() {
    return this.Tp;
  }
  Kv() {
    return this.Ap;
  }
  Bp() {
    if (null !== this.Cp && (this.Ip(), 0 !== this.$i().wt().length)) {
      if (null !== this.fp) {
        const d2 = this.Cp.P_();
        this.fp.Gi(b(d2));
      }
      if (null !== this.vp) {
        const d2 = this.Cp.R_();
        this.vp.Gi(b(d2));
      }
    }
  }
  zp() {
    null !== this.fp && this.fp.bt(), null !== this.vp && this.vp.bt();
  }
  g_() {
    return null !== this.Cp ? this.Cp.g_() : 0;
  }
  M_(d2) {
    this.Cp && this.Cp.M_(d2);
  }
  Wf(d2) {
    if (!this.Cp) return;
    this.Lp();
    const g2 = d2.localX, _2 = d2.localY;
    this.Ep(g2, _2, d2);
  }
  hv(d2) {
    this.Lp(), this.Np(), this.Ep(d2.localX, d2.localY, d2);
  }
  jf(d2) {
    var g2;
    if (!this.Cp) return;
    this.Lp();
    const _2 = d2.localX, O2 = d2.localY;
    this.Ep(_2, O2, d2);
    const $2 = this.br(_2, O2);
    this.Tp.Fp(null !== (g2 = null == $2 ? void 0 : $2.yv) && void 0 !== g2 ? g2 : null), this.$i().Wc($2 && { jc: $2.jc, Sv: $2.Sv });
  }
  iv(d2) {
    null !== this.Cp && (this.Lp(), this.Wp(d2));
  }
  Vf(d2) {
    null !== this.Cp && this.jp(this.wp, d2);
  }
  Df(d2) {
    this.Vf(d2);
  }
  Zf(d2) {
    this.Lp(), this.Hp(d2), this.Ep(d2.localX, d2.localY, d2);
  }
  tv(d2) {
    null !== this.Cp && (this.Lp(), this.Mp = false, this.$p(d2));
  }
  Qf(d2) {
    null !== this.Cp && this.Wp(d2);
  }
  mv(d2) {
    if (this.Mp = true, null === this.xp) {
      const g2 = { x: d2.localX, y: d2.localY };
      this.Up(g2, g2, d2);
    }
  }
  pv(d2) {
    null !== this.Cp && (this.Lp(), this.Cp.$t().Wc(null), this.qp());
  }
  Yp() {
    return this.bp;
  }
  Xp() {
    return this.wp;
  }
  _v() {
    this.gp = 1, this.$i().Un();
  }
  uv(d2, g2) {
    if (!this.Tp.W().handleScale.pinch) return;
    const _2 = 5 * (g2 - this.gp);
    this.gp = g2, this.$i().Jc(d2.nt, _2);
  }
  ev(d2) {
    this.Mp = false, this.Sp = null !== this.xp, this.Np();
    const g2 = this.$i().Yc();
    null !== this.xp && g2.yt() && (this.kp = { x: g2.Yt(), y: g2.Xt() }, this.xp = { x: d2.localX, y: d2.localY });
  }
  Xf(d2) {
    if (null === this.Cp) return;
    const g2 = d2.localX, _2 = d2.localY;
    if (null === this.xp) this.Hp(d2);
    else {
      this.Sp = false;
      const O2 = b(this.kp), $2 = O2.x + (g2 - this.xp.x), st2 = O2.y + (_2 - this.xp.y);
      this.Ep($2, st2, d2);
    }
  }
  Jf(d2) {
    0 === this.Av().W().trackingMode.exitMode && (this.Sp = true), this.Kp(), this.$p(d2);
  }
  br(d2, g2) {
    const _2 = this.Cp;
    return null === _2 ? null : function(d3, g3, _3) {
      const O2 = d3.$o(), $2 = function(d4, g4, _4) {
        var O3, $3;
        let st2, ot2;
        for (const ut2 of d4) {
          const d5 = null !== ($3 = null === (O3 = ut2.fa) || void 0 === O3 ? void 0 : O3.call(ut2, g4, _4)) && void 0 !== $3 ? $3 : [];
          for (const g5 of d5) lt2 = g5.zOrder, (!(ct2 = null == st2 ? void 0 : st2.zOrder) || "top" === lt2 && "top" !== ct2 || "normal" === lt2 && "bottom" === ct2) && (st2 = g5, ot2 = ut2);
        }
        var lt2, ct2;
        return st2 && ot2 ? { kv: st2, jc: ot2 } : null;
      }(O2, g3, _3);
      if ("top" === (null == $2 ? void 0 : $2.kv.zOrder)) return gs($2);
      for (const st2 of O2) {
        if ($2 && $2.jc === st2 && "bottom" !== $2.kv.zOrder && !$2.kv.isBackground) return gs($2);
        const O3 = Ms(st2.Pn(d3), g3, _3);
        if (null !== O3) return { jc: st2, Mv: O3.Mv, Sv: O3.Sv };
        if ($2 && $2.jc === st2 && "bottom" !== $2.kv.zOrder && $2.kv.isBackground) return gs($2);
      }
      return (null == $2 ? void 0 : $2.kv) ? gs($2) : null;
    }(_2, d2, g2);
  }
  Zp(d2, g2) {
    b("left" === g2 ? this.fp : this.vp).tp(size({ width: d2, height: this.Cv.height }));
  }
  Gp() {
    return this.Cv;
  }
  tp(d2) {
    equalSizes(this.Cv, d2) || (this.Cv = d2, this.Dv = true, this.Nv.resizeCanvasElement(d2), this.Fv.resizeCanvasElement(d2), this.Dv = false, this.Rp.style.width = d2.width + "px", this.Rp.style.height = d2.height + "px");
  }
  Jp() {
    const d2 = b(this.Cp);
    d2.T_(d2.P_()), d2.T_(d2.R_());
    for (const g2 of d2.Aa()) if (d2.dr(g2)) {
      const _2 = g2.Dt();
      null !== _2 && d2.T_(_2), g2.On();
    }
  }
  _p() {
    return this.Nv.bitmapSize;
  }
  up(d2, g2, _2) {
    const O2 = this._p();
    O2.width > 0 && O2.height > 0 && d2.drawImage(this.Nv.canvasElement, g2, _2);
  }
  sp(d2) {
    if (0 === d2) return;
    if (null === this.Cp) return;
    if (d2 > 1 && this.Jp(), null !== this.fp && this.fp.sp(d2), null !== this.vp && this.vp.sp(d2), 1 !== d2) {
      this.Nv.applySuggestedBitmapSize();
      const d3 = tryCreateCanvasRenderingTarget2D(this.Nv);
      null !== d3 && (d3.useBitmapCoordinateSpace((d4) => {
        this.rp(d4);
      }), this.Cp && (this.Qp(d3, ys), this.tm(d3), this.im(d3), this.Qp(d3, Cs), this.Qp(d3, Ts)));
    }
    this.Fv.applySuggestedBitmapSize();
    const g2 = tryCreateCanvasRenderingTarget2D(this.Fv);
    null !== g2 && (g2.useBitmapCoordinateSpace(({ context: d3, bitmapSize: g3 }) => {
      d3.clearRect(0, 0, g3.width, g3.height);
    }), this.nm(g2), this.Qp(g2, Ps));
  }
  sm() {
    return this.fp;
  }
  rm() {
    return this.vp;
  }
  hp(d2, g2) {
    this.Qp(d2, g2);
  }
  Pp() {
    null !== this.Cp && this.Cp.F_().p(this), this.Cp = null;
  }
  Wp(d2) {
    this.jp(this.bp, d2);
  }
  jp(d2, g2) {
    const _2 = g2.localX, O2 = g2.localY;
    d2.M() && d2.m(this.$i().St().Eu(_2), { x: _2, y: O2 }, g2);
  }
  rp({ context: d2, bitmapSize: g2 }) {
    const { width: _2, height: O2 } = g2, $2 = this.$i(), st2 = $2.q(), ot2 = $2.md();
    st2 === ot2 ? Z(d2, 0, 0, _2, O2, ot2) : Q$1(d2, 0, 0, _2, O2, st2, ot2);
  }
  tm(d2) {
    const g2 = b(this.Cp).W_().Uh().gt();
    null !== g2 && g2.K(d2, false);
  }
  im(d2) {
    const g2 = this.$i().qc();
    this.hm(d2, Cs, _s, g2), this.hm(d2, Cs, us, g2);
  }
  nm(d2) {
    this.hm(d2, Cs, us, this.$i().Yc());
  }
  Qp(d2, g2) {
    const _2 = b(this.Cp).$o();
    for (const O2 of _2) this.hm(d2, g2, _s, O2);
    for (const O2 of _2) this.hm(d2, g2, us, O2);
  }
  hm(d2, g2, _2, O2) {
    const $2 = b(this.Cp), st2 = $2.$t().Fc(), ot2 = null !== st2 && st2.jc === O2, lt2 = null !== st2 && ot2 && void 0 !== st2.Sv ? st2.Sv.gr : void 0;
    cs(g2, (g3) => _2(g3, d2, ot2, lt2), O2, $2);
  }
  Ip() {
    if (null === this.Cp) return;
    const d2 = this.Tp, g2 = this.Cp.P_().W().visible, _2 = this.Cp.R_().W().visible;
    g2 || null === this.fp || (this.Dp.removeChild(this.fp.Kv()), this.fp.S(), this.fp = null), _2 || null === this.vp || (this.Op.removeChild(this.vp.Kv()), this.vp.S(), this.vp = null);
    const O2 = d2.$t()._d();
    g2 && null === this.fp && (this.fp = new ks(this, d2.W(), O2, "left"), this.Dp.appendChild(this.fp.Kv())), _2 && null === this.vp && (this.vp = new ks(this, d2.W(), O2, "right"), this.Op.appendChild(this.vp.Kv()));
  }
  lm(d2) {
    return d2.bv && this.Mp || null !== this.xp;
  }
  am(d2) {
    return Math.max(0, Math.min(d2, this.Cv.width - 1));
  }
  om(d2) {
    return Math.max(0, Math.min(d2, this.Cv.height - 1));
  }
  Ep(d2, g2, _2) {
    this.$i().hd(this.am(d2), this.om(g2), _2, b(this.Cp));
  }
  qp() {
    this.$i().ad();
  }
  Kp() {
    this.Sp && (this.xp = null, this.qp());
  }
  Up(d2, g2, _2) {
    this.xp = d2, this.Sp = false, this.Ep(g2.x, g2.y, _2);
    const O2 = this.$i().Yc();
    this.kp = { x: O2.Yt(), y: O2.Xt() };
  }
  $i() {
    return this.Tp.$t();
  }
  $p(d2) {
    if (!this.mp) return;
    const g2 = this.$i(), _2 = this.np();
    if (g2.I_(_2, _2.vn()), this.pp = null, this.mp = false, g2.sd(), null !== this.yp) {
      const d3 = performance.now(), _3 = g2.St();
      this.yp.Dr(_3.ju(), d3), this.yp.Ju(d3) || g2.Xn(this.yp);
    }
  }
  Lp() {
    this.xp = null;
  }
  Np() {
    if (this.Cp) {
      if (this.$i().Un(), document.activeElement !== document.body && document.activeElement !== document.documentElement) b(document.activeElement).blur();
      else {
        const d2 = document.getSelection();
        null !== d2 && d2.removeAllRanges();
      }
      !this.Cp.vn().Ni() && this.$i().St().Ni();
    }
  }
  Hp(d2) {
    if (null === this.Cp) return;
    const g2 = this.$i(), _2 = g2.St();
    if (_2.Ni()) return;
    const O2 = this.Tp.W(), $2 = O2.handleScroll, st2 = O2.kineticScroll;
    if ((!$2.pressedMouseMove || d2.bv) && (!$2.horzTouchDrag && !$2.vertTouchDrag || !d2.bv)) return;
    const ot2 = this.Cp.vn(), lt2 = performance.now();
    if (null !== this.pp || this.lm(d2) || (this.pp = { x: d2.clientX, y: d2.clientY, Od: lt2, _m: d2.localX, um: d2.localY }), null !== this.pp && !this.mp && (this.pp.x !== d2.clientX || this.pp.y !== d2.clientY)) {
      if (d2.bv && st2.touch || !d2.bv && st2.mouse) {
        const d3 = _2.he();
        this.yp = new ls(0.2 / d3, 7 / d3, 0.997, 15 / d3), this.yp.qd(_2.ju(), this.pp.Od);
      } else this.yp = null;
      ot2.Ni() || g2.B_(this.Cp, ot2, d2.localY), g2.td(d2.localX), this.mp = true;
    }
    this.mp && (ot2.Ni() || g2.V_(this.Cp, ot2, d2.localY), g2.nd(d2.localX), null !== this.yp && this.yp.qd(_2.ju(), lt2));
  }
}
class Ds {
  constructor(d2, g2, _2, O2, $2) {
    this.ft = true, this.Cv = size({ width: 0, height: 0 }), this.Ov = () => this.sp(3), this.Vv = "left" === d2, this.Oc = _2._d, this.cn = g2, this.dm = O2, this.fm = $2, this.Ev = document.createElement("div"), this.Ev.style.width = "25px", this.Ev.style.height = "100%", this.Ev.style.overflow = "hidden", this.Nv = as(this.Ev, size({ width: 16, height: 16 })), this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);
  }
  S() {
    this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov), os(this.Nv.canvasElement), this.Nv.dispose();
  }
  Kv() {
    return this.Ev;
  }
  Gp() {
    return this.Cv;
  }
  tp(d2) {
    equalSizes(this.Cv, d2) || (this.Cv = d2, this.Nv.resizeCanvasElement(d2), this.Ev.style.width = `${d2.width}px`, this.Ev.style.height = `${d2.height}px`, this.ft = true);
  }
  sp(d2) {
    if (d2 < 3 && !this.ft) return;
    if (0 === this.Cv.width || 0 === this.Cv.height) return;
    this.ft = false, this.Nv.applySuggestedBitmapSize();
    const g2 = tryCreateCanvasRenderingTarget2D(this.Nv);
    null !== g2 && g2.useBitmapCoordinateSpace((d3) => {
      this.rp(d3), this.Ve(d3);
    });
  }
  _p() {
    return this.Nv.bitmapSize;
  }
  up(d2, g2, _2) {
    const O2 = this._p();
    O2.width > 0 && O2.height > 0 && d2.drawImage(this.Nv.canvasElement, g2, _2);
  }
  Ve({ context: d2, bitmapSize: g2, horizontalPixelRatio: _2, verticalPixelRatio: O2 }) {
    if (!this.dm()) return;
    d2.fillStyle = this.cn.timeScale.borderColor;
    const $2 = Math.floor(this.Oc.W().C * _2), st2 = Math.floor(this.Oc.W().C * O2), ot2 = this.Vv ? g2.width - $2 : 0;
    d2.fillRect(ot2, 0, $2, st2);
  }
  rp({ context: d2, bitmapSize: g2 }) {
    Z(d2, 0, 0, g2.width, g2.height, this.fm());
  }
}
function Os(d2) {
  return (g2) => {
    var _2, O2;
    return null !== (O2 = null === (_2 = g2.da) || void 0 === _2 ? void 0 : _2.call(g2, d2)) && void 0 !== O2 ? O2 : [];
  };
}
const cf = Os("normal"), hf = Os("top"), uf = Os("bottom");
class Is {
  constructor(d2, g2) {
    this.vm = null, this.pm = null, this.k = null, this.bm = false, this.Cv = size({ width: 0, height: 0 }), this.wm = new R(), this.Pv = new ii(5), this.Dv = false, this.Ov = () => {
      this.Dv || this.Tp.$t().$h();
    }, this.Bv = () => {
      this.Dv || this.Tp.$t().$h();
    }, this.Tp = d2, this.U_ = g2, this.cn = d2.W().layout, this.gm = document.createElement("tr"), this.Mm = document.createElement("td"), this.Mm.style.padding = "0", this.xm = document.createElement("td"), this.xm.style.padding = "0", this.Ev = document.createElement("td"), this.Ev.style.height = "25px", this.Ev.style.padding = "0", this.Sm = document.createElement("div"), this.Sm.style.width = "100%", this.Sm.style.height = "100%", this.Sm.style.position = "relative", this.Sm.style.overflow = "hidden", this.Ev.appendChild(this.Sm), this.Nv = as(this.Sm, size({ width: 16, height: 16 })), this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);
    const _2 = this.Nv.canvasElement;
    _2.style.position = "absolute", _2.style.zIndex = "1", _2.style.left = "0", _2.style.top = "0", this.Fv = as(this.Sm, size({ width: 16, height: 16 })), this.Fv.subscribeSuggestedBitmapSizeChanged(this.Bv);
    const O2 = this.Fv.canvasElement;
    O2.style.position = "absolute", O2.style.zIndex = "2", O2.style.left = "0", O2.style.top = "0", this.gm.appendChild(this.Mm), this.gm.appendChild(this.Ev), this.gm.appendChild(this.xm), this.km(), this.Tp.$t().w_().l(this.km.bind(this), this), this.Xv = new fs(this.Fv.canvasElement, this, { qf: () => true, Yf: () => !this.Tp.W().handleScroll.horzTouchDrag });
  }
  S() {
    this.Xv.S(), null !== this.vm && this.vm.S(), null !== this.pm && this.pm.S(), this.Fv.unsubscribeSuggestedBitmapSizeChanged(this.Bv), os(this.Fv.canvasElement), this.Fv.dispose(), this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov), os(this.Nv.canvasElement), this.Nv.dispose();
  }
  Kv() {
    return this.gm;
  }
  ym() {
    return this.vm;
  }
  Cm() {
    return this.pm;
  }
  hv(d2) {
    if (this.bm) return;
    this.bm = true;
    const g2 = this.Tp.$t();
    !g2.St().Ni() && this.Tp.W().handleScale.axisPressedMouseMove.time && g2.Gc(d2.localX);
  }
  ev(d2) {
    this.hv(d2);
  }
  lv() {
    const d2 = this.Tp.$t();
    !d2.St().Ni() && this.bm && (this.bm = false, this.Tp.W().handleScale.axisPressedMouseMove.time && d2.rd());
  }
  Zf(d2) {
    const g2 = this.Tp.$t();
    !g2.St().Ni() && this.Tp.W().handleScale.axisPressedMouseMove.time && g2.ed(d2.localX);
  }
  Xf(d2) {
    this.Zf(d2);
  }
  tv() {
    this.bm = false;
    const d2 = this.Tp.$t();
    d2.St().Ni() && !this.Tp.W().handleScale.axisPressedMouseMove.time || d2.rd();
  }
  Jf() {
    this.tv();
  }
  Vf() {
    this.Tp.W().handleScale.axisDoubleClickReset.time && this.Tp.$t().Zn();
  }
  Df() {
    this.Vf();
  }
  Wf() {
    this.Tp.$t().W().handleScale.axisPressedMouseMove.time && this.cp(1);
  }
  pv() {
    this.cp(0);
  }
  Gp() {
    return this.Cv;
  }
  Tm() {
    return this.wm;
  }
  Pm(d2, g2, _2) {
    equalSizes(this.Cv, d2) || (this.Cv = d2, this.Dv = true, this.Nv.resizeCanvasElement(d2), this.Fv.resizeCanvasElement(d2), this.Dv = false, this.Ev.style.width = `${d2.width}px`, this.Ev.style.height = `${d2.height}px`, this.wm.m(d2)), null !== this.vm && this.vm.tp(size({ width: g2, height: d2.height })), null !== this.pm && this.pm.tp(size({ width: _2, height: d2.height }));
  }
  Rm() {
    const d2 = this.Dm();
    return Math.ceil(d2.C + d2.T + d2.P + d2.L + d2.B + d2.Om);
  }
  bt() {
    this.Tp.$t().St().ja();
  }
  _p() {
    return this.Nv.bitmapSize;
  }
  up(d2, g2, _2) {
    const O2 = this._p();
    O2.width > 0 && O2.height > 0 && d2.drawImage(this.Nv.canvasElement, g2, _2);
  }
  sp(d2) {
    if (0 === d2) return;
    if (1 !== d2) {
      this.Nv.applySuggestedBitmapSize();
      const g3 = tryCreateCanvasRenderingTarget2D(this.Nv);
      null !== g3 && (g3.useBitmapCoordinateSpace((d3) => {
        this.rp(d3), this.Ve(d3), this.Am(g3, uf);
      }), this.lp(g3), this.Am(g3, cf)), null !== this.vm && this.vm.sp(d2), null !== this.pm && this.pm.sp(d2);
    }
    this.Fv.applySuggestedBitmapSize();
    const g2 = tryCreateCanvasRenderingTarget2D(this.Fv);
    null !== g2 && (g2.useBitmapCoordinateSpace(({ context: d3, bitmapSize: g3 }) => {
      d3.clearRect(0, 0, g3.width, g3.height);
    }), this.Bm([...this.Tp.$t().wt(), this.Tp.$t().Yc()], g2), this.Am(g2, hf));
  }
  Am(d2, g2) {
    const _2 = this.Tp.$t().wt();
    for (const O2 of _2) cs(g2, (g3) => _s(g3, d2, false, void 0), O2, void 0);
    for (const O2 of _2) cs(g2, (g3) => us(g3, d2, false, void 0), O2, void 0);
  }
  rp({ context: d2, bitmapSize: g2 }) {
    Z(d2, 0, 0, g2.width, g2.height, this.Tp.$t().md());
  }
  Ve({ context: d2, bitmapSize: g2, verticalPixelRatio: _2 }) {
    if (this.Tp.W().timeScale.borderVisible) {
      d2.fillStyle = this.Vm();
      const O2 = Math.max(1, Math.floor(this.Dm().C * _2));
      d2.fillRect(0, 0, g2.width, O2);
    }
  }
  lp(d2) {
    const g2 = this.Tp.$t().St(), _2 = g2.ja();
    if (!_2 || 0 === _2.length) return;
    const O2 = this.U_.maxTickMarkWeight(_2), $2 = this.Dm(), st2 = g2.W();
    st2.borderVisible && st2.ticksVisible && d2.useBitmapCoordinateSpace(({ context: d3, horizontalPixelRatio: g3, verticalPixelRatio: O3 }) => {
      d3.strokeStyle = this.Vm(), d3.fillStyle = this.Vm();
      const st3 = Math.max(1, Math.floor(g3)), ot2 = Math.floor(0.5 * g3);
      d3.beginPath();
      const lt2 = Math.round($2.T * O3);
      for (let O4 = _2.length; O4--; ) {
        const $3 = Math.round(_2[O4].coord * g3);
        d3.rect($3 - ot2, 0, st3, lt2);
      }
      d3.fill();
    }), d2.useMediaCoordinateSpace(({ context: d3 }) => {
      const g3 = $2.C + $2.T + $2.L + $2.P / 2;
      d3.textAlign = "center", d3.textBaseline = "middle", d3.fillStyle = this.$(), d3.font = this.Jv();
      for (const $3 of _2) if ($3.weight < O2) {
        const _3 = $3.needAlignCoordinate ? this.Im(d3, $3.coord, $3.label) : $3.coord;
        d3.fillText($3.label, _3, g3);
      }
      this.Tp.W().timeScale.allowBoldLabels && (d3.font = this.zm());
      for (const $3 of _2) if ($3.weight >= O2) {
        const _3 = $3.needAlignCoordinate ? this.Im(d3, $3.coord, $3.label) : $3.coord;
        d3.fillText($3.label, _3, g3);
      }
    });
  }
  Im(d2, g2, _2) {
    const O2 = this.Pv.xi(d2, _2), $2 = O2 / 2, st2 = Math.floor(g2 - $2) + 0.5;
    return st2 < 0 ? g2 += Math.abs(0 - st2) : st2 + O2 > this.Cv.width && (g2 -= Math.abs(this.Cv.width - (st2 + O2))), g2;
  }
  Bm(d2, g2) {
    const _2 = this.Dm();
    for (const O2 of d2) for (const d3 of O2.Qi()) d3.gt().K(g2, _2);
  }
  Vm() {
    return this.Tp.W().timeScale.borderColor;
  }
  $() {
    return this.cn.textColor;
  }
  j() {
    return this.cn.fontSize;
  }
  Jv() {
    return N$1(this.j(), this.cn.fontFamily);
  }
  zm() {
    return N$1(this.j(), this.cn.fontFamily, "bold");
  }
  Dm() {
    null === this.k && (this.k = { C: 1, N: NaN, L: NaN, B: NaN, ji: NaN, T: 5, P: NaN, R: "", Wi: new ii(), Om: 0 });
    const d2 = this.k, g2 = this.Jv();
    if (d2.R !== g2) {
      const _2 = this.j();
      d2.P = _2, d2.R = g2, d2.L = 3 * _2 / 12, d2.B = 3 * _2 / 12, d2.ji = 9 * _2 / 12, d2.N = 0, d2.Om = 4 * _2 / 12, d2.Wi.ir();
    }
    return this.k;
  }
  cp(d2) {
    this.Ev.style.cursor = 1 === d2 ? "ew-resize" : "default";
  }
  km() {
    const d2 = this.Tp.$t(), g2 = d2.W();
    g2.leftPriceScale.visible || null === this.vm || (this.Mm.removeChild(this.vm.Kv()), this.vm.S(), this.vm = null), g2.rightPriceScale.visible || null === this.pm || (this.xm.removeChild(this.pm.Kv()), this.pm.S(), this.pm = null);
    const _2 = { _d: this.Tp.$t()._d() }, s = () => g2.leftPriceScale.borderVisible && d2.St().W().borderVisible, e = () => d2.md();
    g2.leftPriceScale.visible && null === this.vm && (this.vm = new Ds("left", g2, _2, s, e), this.Mm.appendChild(this.vm.Kv())), g2.rightPriceScale.visible && null === this.pm && (this.pm = new Ds("right", g2, _2, s, e), this.xm.appendChild(this.pm.Kv()));
  }
}
const df = !!lf && !!navigator.userAgentData && navigator.userAgentData.brands.some((d2) => d2.brand.includes("Chromium")) && !!lf && ((null === (pf = null === navigator || void 0 === navigator ? void 0 : navigator.userAgentData) || void 0 === pf ? void 0 : pf.platform) ? "Windows" === navigator.userAgentData.platform : navigator.userAgent.toLowerCase().indexOf("win") >= 0);
var pf;
class Es {
  constructor(d2, g2, _2) {
    var O2;
    this.Lm = [], this.Em = 0, this.ro = 0, this.o_ = 0, this.Nm = 0, this.Fm = 0, this.Wm = null, this.jm = false, this.bp = new R(), this.wp = new R(), this.Pc = new R(), this.Hm = null, this.$m = null, this.Um = d2, this.cn = g2, this.U_ = _2, this.gm = document.createElement("div"), this.gm.classList.add("tv-lightweight-charts"), this.gm.style.overflow = "hidden", this.gm.style.direction = "ltr", this.gm.style.width = "100%", this.gm.style.height = "100%", (O2 = this.gm).style.userSelect = "none", O2.style.webkitUserSelect = "none", O2.style.msUserSelect = "none", O2.style.MozUserSelect = "none", O2.style.webkitTapHighlightColor = "transparent", this.qm = document.createElement("table"), this.qm.setAttribute("cellspacing", "0"), this.gm.appendChild(this.qm), this.Ym = this.Xm.bind(this), Ns(this.cn) && this.Km(true), this.$i = new zn(this.Dc.bind(this), this.cn, _2), this.$t().Xc().l(this.Zm.bind(this), this), this.Gm = new Is(this, this.U_), this.qm.appendChild(this.Gm.Kv());
    const $2 = g2.autoSize && this.Jm();
    let st2 = this.cn.width, ot2 = this.cn.height;
    if ($2 || 0 === st2 || 0 === ot2) {
      const g3 = d2.getBoundingClientRect();
      st2 = st2 || g3.width, ot2 = ot2 || g3.height;
    }
    this.Qm(st2, ot2), this.tb(), d2.appendChild(this.gm), this.ib(), this.$i.St().sc().l(this.$i.Kl.bind(this.$i), this), this.$i.w_().l(this.$i.Kl.bind(this.$i), this);
  }
  $t() {
    return this.$i;
  }
  W() {
    return this.cn;
  }
  nb() {
    return this.Lm;
  }
  sb() {
    return this.Gm;
  }
  S() {
    this.Km(false), 0 !== this.Em && window.cancelAnimationFrame(this.Em), this.$i.Xc().p(this), this.$i.St().sc().p(this), this.$i.w_().p(this), this.$i.S();
    for (const d2 of this.Lm) this.qm.removeChild(d2.Kv()), d2.Yp().p(this), d2.Xp().p(this), d2.S();
    this.Lm = [], b(this.Gm).S(), null !== this.gm.parentElement && this.gm.parentElement.removeChild(this.gm), this.Pc.S(), this.bp.S(), this.wp.S(), this.eb();
  }
  Qm(d2, g2, _2 = false) {
    if (this.ro === g2 && this.o_ === d2) return;
    const O2 = function(d3) {
      const g3 = Math.floor(d3.width), _3 = Math.floor(d3.height);
      return size({ width: g3 - g3 % 2, height: _3 - _3 % 2 });
    }(size({ width: d2, height: g2 }));
    this.ro = O2.height, this.o_ = O2.width;
    const $2 = this.ro + "px", st2 = this.o_ + "px";
    b(this.gm).style.height = $2, b(this.gm).style.width = st2, this.qm.style.height = $2, this.qm.style.width = st2, _2 ? this.rb(Rp.es(), performance.now()) : this.$i.Kl();
  }
  sp(d2) {
    void 0 === d2 && (d2 = Rp.es());
    for (let g2 = 0; g2 < this.Lm.length; g2++) this.Lm[g2].sp(d2.Hn(g2).Fn);
    this.cn.timeScale.visible && this.Gm.sp(d2.jn());
  }
  Hh(d2) {
    const g2 = Ns(this.cn);
    this.$i.Hh(d2);
    const _2 = Ns(this.cn);
    _2 !== g2 && this.Km(_2), this.ib(), this.hb(d2);
  }
  Yp() {
    return this.bp;
  }
  Xp() {
    return this.wp;
  }
  Xc() {
    return this.Pc;
  }
  lb() {
    null !== this.Wm && (this.rb(this.Wm, performance.now()), this.Wm = null);
    const d2 = this.ab(null), g2 = document.createElement("canvas");
    g2.width = d2.width, g2.height = d2.height;
    const _2 = b(g2.getContext("2d"));
    return this.ab(_2), g2;
  }
  ob(d2) {
    return ("left" !== d2 || this._b()) && ("right" !== d2 || this.ub()) ? 0 === this.Lm.length ? 0 : b("left" === d2 ? this.Lm[0].sm() : this.Lm[0].rm()).ip() : 0;
  }
  cb() {
    return this.cn.autoSize && null !== this.Hm;
  }
  fb() {
    return this.gm;
  }
  Fp(d2) {
    this.$m = d2, this.$m ? this.fb().style.setProperty("cursor", d2) : this.fb().style.removeProperty("cursor");
  }
  pb() {
    return this.$m;
  }
  mb() {
    return m(this.Lm[0]).Gp();
  }
  hb(d2) {
    (void 0 !== d2.autoSize || !this.Hm || void 0 === d2.width && void 0 === d2.height) && (d2.autoSize && !this.Hm && this.Jm(), false === d2.autoSize && null !== this.Hm && this.eb(), d2.autoSize || void 0 === d2.width && void 0 === d2.height || this.Qm(d2.width || this.o_, d2.height || this.ro));
  }
  ab(d2) {
    let g2 = 0, _2 = 0;
    const O2 = this.Lm[0], r = (g3, _3) => {
      let O3 = 0;
      for (let $2 = 0; $2 < this.Lm.length; $2++) {
        const st2 = this.Lm[$2], ot2 = b("left" === g3 ? st2.sm() : st2.rm()), lt2 = ot2._p();
        null !== d2 && ot2.up(d2, _3, O3), O3 += lt2.height;
      }
    };
    this._b() && (r("left", 0), g2 += b(O2.sm())._p().width);
    for (let O3 = 0; O3 < this.Lm.length; O3++) {
      const $2 = this.Lm[O3], st2 = $2._p();
      null !== d2 && $2.up(d2, g2, _2), _2 += st2.height;
    }
    g2 += O2._p().width, this.ub() && (r("right", g2), g2 += b(O2.rm())._p().width);
    const h = (g3, _3, O3) => {
      b("left" === g3 ? this.Gm.ym() : this.Gm.Cm()).up(b(d2), _3, O3);
    };
    if (this.cn.timeScale.visible) {
      const g3 = this.Gm._p();
      if (null !== d2) {
        let $2 = 0;
        this._b() && (h("left", $2, _2), $2 = b(O2.sm())._p().width), this.Gm.up(d2, $2, _2), $2 += g3.width, this.ub() && h("right", $2, _2);
      }
      _2 += g3.height;
    }
    return size({ width: g2, height: _2 });
  }
  bb() {
    let d2 = 0, g2 = 0, _2 = 0;
    for (const O3 of this.Lm) this._b() && (g2 = Math.max(g2, b(O3.sm()).Gv(), this.cn.leftPriceScale.minimumWidth)), this.ub() && (_2 = Math.max(_2, b(O3.rm()).Gv(), this.cn.rightPriceScale.minimumWidth)), d2 += O3.g_();
    g2 = es(g2), _2 = es(_2);
    const O2 = this.o_, $2 = this.ro, st2 = Math.max(O2 - g2 - _2, 0), ot2 = this.cn.timeScale.visible;
    let lt2 = ot2 ? Math.max(this.Gm.Rm(), this.cn.timeScale.minimumHeight) : 0;
    var ct2;
    lt2 = (ct2 = lt2) + ct2 % 2;
    const ut2 = 0 + lt2, gt2 = $2 < ut2 ? 0 : $2 - ut2, mt2 = gt2 / d2;
    let bt2 = 0;
    for (let d3 = 0; d3 < this.Lm.length; ++d3) {
      const O3 = this.Lm[d3];
      O3.Vp(this.$i.Uc()[d3]);
      let $3 = 0, ot3 = 0;
      ot3 = d3 === this.Lm.length - 1 ? gt2 - bt2 : Math.round(O3.g_() * mt2), $3 = Math.max(ot3, 2), bt2 += $3, O3.tp(size({ width: st2, height: $3 })), this._b() && O3.Zp(g2, "left"), this.ub() && O3.Zp(_2, "right"), O3.np() && this.$i.Kc(O3.np(), $3);
    }
    this.Gm.Pm(size({ width: ot2 ? st2 : 0, height: lt2 }), ot2 ? g2 : 0, ot2 ? _2 : 0), this.$i.x_(st2), this.Nm !== g2 && (this.Nm = g2), this.Fm !== _2 && (this.Fm = _2);
  }
  Km(d2) {
    d2 ? this.gm.addEventListener("wheel", this.Ym, { passive: false }) : this.gm.removeEventListener("wheel", this.Ym);
  }
  wb(d2) {
    switch (d2.deltaMode) {
      case d2.DOM_DELTA_PAGE:
        return 120;
      case d2.DOM_DELTA_LINE:
        return 32;
    }
    return df ? 1 / window.devicePixelRatio : 1;
  }
  Xm(d2) {
    if (!(0 !== d2.deltaX && this.cn.handleScroll.mouseWheel || 0 !== d2.deltaY && this.cn.handleScale.mouseWheel)) return;
    const g2 = this.wb(d2), _2 = g2 * d2.deltaX / 100, O2 = -g2 * d2.deltaY / 100;
    if (d2.cancelable && d2.preventDefault(), 0 !== O2 && this.cn.handleScale.mouseWheel) {
      const g3 = Math.sign(O2) * Math.min(1, Math.abs(O2)), _3 = d2.clientX - this.gm.getBoundingClientRect().left;
      this.$t().Jc(_3, g3);
    }
    0 !== _2 && this.cn.handleScroll.mouseWheel && this.$t().Qc(-80 * _2);
  }
  rb(d2, g2) {
    var _2;
    const O2 = d2.jn();
    3 === O2 && this.gb(), 3 !== O2 && 2 !== O2 || (this.Mb(d2), this.xb(d2, g2), this.Gm.bt(), this.Lm.forEach((d3) => {
      d3.zp();
    }), 3 === (null === (_2 = this.Wm) || void 0 === _2 ? void 0 : _2.jn()) && (this.Wm.ts(d2), this.gb(), this.Mb(this.Wm), this.xb(this.Wm, g2), d2 = this.Wm, this.Wm = null)), this.sp(d2);
  }
  xb(d2, g2) {
    for (const _2 of d2.Qn()) this.ns(_2, g2);
  }
  Mb(d2) {
    const g2 = this.$i.Uc();
    for (let _2 = 0; _2 < g2.length; _2++) d2.Hn(_2).Wn && g2[_2].E_();
  }
  ns(d2, g2) {
    const _2 = this.$i.St();
    switch (d2.qn) {
      case 0:
        _2.rc();
        break;
      case 1:
        _2.hc(d2.Ot);
        break;
      case 2:
        _2.Gn(d2.Ot);
        break;
      case 3:
        _2.Jn(d2.Ot);
        break;
      case 4:
        _2.Uu();
        break;
      case 5:
        d2.Ot.Ju(g2) || _2.Jn(d2.Ot.Qu(g2));
    }
  }
  Dc(d2) {
    null !== this.Wm ? this.Wm.ts(d2) : this.Wm = d2, this.jm || (this.jm = true, this.Em = window.requestAnimationFrame((d3) => {
      if (this.jm = false, this.Em = 0, null !== this.Wm) {
        const g2 = this.Wm;
        this.Wm = null, this.rb(g2, d3);
        for (const _2 of g2.Qn()) if (5 === _2.qn && !_2.Ot.Ju(d3)) {
          this.$t().Xn(_2.Ot);
          break;
        }
      }
    }));
  }
  gb() {
    this.tb();
  }
  tb() {
    const d2 = this.$i.Uc(), g2 = d2.length, _2 = this.Lm.length;
    for (let d3 = g2; d3 < _2; d3++) {
      const d4 = m(this.Lm.pop());
      this.qm.removeChild(d4.Kv()), d4.Yp().p(this), d4.Xp().p(this), d4.S();
    }
    for (let O2 = _2; O2 < g2; O2++) {
      const g3 = new Rs(this, d2[O2]);
      g3.Yp().l(this.Sb.bind(this), this), g3.Xp().l(this.kb.bind(this), this), this.Lm.push(g3), this.qm.insertBefore(g3.Kv(), this.Gm.Kv());
    }
    for (let _3 = 0; _3 < g2; _3++) {
      const g3 = d2[_3], O2 = this.Lm[_3];
      O2.np() !== g3 ? O2.Vp(g3) : O2.Bp();
    }
    this.ib(), this.bb();
  }
  yb(d2, g2, _2) {
    var O2;
    const $2 = /* @__PURE__ */ new Map();
    let st2;
    if (null !== d2 && this.$i.wt().forEach((g3) => {
      const _3 = g3.In().hl(d2);
      null !== _3 && $2.set(g3, _3);
    }), null !== d2) {
      const g3 = null === (O2 = this.$i.St().Ui(d2)) || void 0 === O2 ? void 0 : O2.originalTime;
      void 0 !== g3 && (st2 = g3);
    }
    const ot2 = this.$t().Fc(), lt2 = null !== ot2 && ot2.jc instanceof Zi ? ot2.jc : void 0, ct2 = null !== ot2 && void 0 !== ot2.Sv ? ot2.Sv.wr : void 0;
    return { Cb: st2, se: null != d2 ? d2 : void 0, Tb: null != g2 ? g2 : void 0, Pb: lt2, Rb: $2, Db: ct2, Ob: null != _2 ? _2 : void 0 };
  }
  Sb(d2, g2, _2) {
    this.bp.m(() => this.yb(d2, g2, _2));
  }
  kb(d2, g2, _2) {
    this.wp.m(() => this.yb(d2, g2, _2));
  }
  Zm(d2, g2, _2) {
    this.Pc.m(() => this.yb(d2, g2, _2));
  }
  ib() {
    const d2 = this.cn.timeScale.visible ? "" : "none";
    this.Gm.Kv().style.display = d2;
  }
  _b() {
    return this.Lm[0].np().P_().W().visible;
  }
  ub() {
    return this.Lm[0].np().R_().W().visible;
  }
  Jm() {
    return "ResizeObserver" in window && (this.Hm = new ResizeObserver((d2) => {
      const g2 = d2.find((d3) => d3.target === this.Um);
      g2 && this.Qm(g2.contentRect.width, g2.contentRect.height);
    }), this.Hm.observe(this.Um, { box: "border-box" }), true);
  }
  eb() {
    null !== this.Hm && this.Hm.disconnect(), this.Hm = null;
  }
}
function Ns(d2) {
  return Boolean(d2.handleScroll.mouseWheel || d2.handleScale.mouseWheel);
}
function Fs(d2, g2) {
  var _2 = {};
  for (var O2 in d2) Object.prototype.hasOwnProperty.call(d2, O2) && g2.indexOf(O2) < 0 && (_2[O2] = d2[O2]);
  if (null != d2 && "function" == typeof Object.getOwnPropertySymbols) {
    var $2 = 0;
    for (O2 = Object.getOwnPropertySymbols(d2); $2 < O2.length; $2++) g2.indexOf(O2[$2]) < 0 && Object.prototype.propertyIsEnumerable.call(d2, O2[$2]) && (_2[O2[$2]] = d2[O2[$2]]);
  }
  return _2;
}
function Ws(d2, g2, _2, O2) {
  const $2 = _2.value, st2 = { se: g2, ot: d2, Ot: [$2, $2, $2, $2], Cb: O2 };
  return void 0 !== _2.color && (st2.O = _2.color), st2;
}
function js(d2, g2, _2, O2) {
  const $2 = _2.value, st2 = { se: g2, ot: d2, Ot: [$2, $2, $2, $2], Cb: O2 };
  return void 0 !== _2.lineColor && (st2.lt = _2.lineColor), void 0 !== _2.topColor && (st2.Ts = _2.topColor), void 0 !== _2.bottomColor && (st2.Ps = _2.bottomColor), st2;
}
function Hs(d2, g2, _2, O2) {
  const $2 = _2.value, st2 = { se: g2, ot: d2, Ot: [$2, $2, $2, $2], Cb: O2 };
  return void 0 !== _2.topLineColor && (st2.Pe = _2.topLineColor), void 0 !== _2.bottomLineColor && (st2.Re = _2.bottomLineColor), void 0 !== _2.topFillColor1 && (st2.Se = _2.topFillColor1), void 0 !== _2.topFillColor2 && (st2.ke = _2.topFillColor2), void 0 !== _2.bottomFillColor1 && (st2.ye = _2.bottomFillColor1), void 0 !== _2.bottomFillColor2 && (st2.Ce = _2.bottomFillColor2), st2;
}
function $s(d2, g2, _2, O2) {
  const $2 = { se: g2, ot: d2, Ot: [_2.open, _2.high, _2.low, _2.close], Cb: O2 };
  return void 0 !== _2.color && ($2.O = _2.color), $2;
}
function Us(d2, g2, _2, O2) {
  const $2 = { se: g2, ot: d2, Ot: [_2.open, _2.high, _2.low, _2.close], Cb: O2 };
  return void 0 !== _2.color && ($2.O = _2.color), void 0 !== _2.borderColor && ($2.At = _2.borderColor), void 0 !== _2.wickColor && ($2.Xh = _2.wickColor), $2;
}
function qs(d2, g2, _2, O2, $2) {
  const st2 = m($2)(_2), ot2 = Math.max(...st2), lt2 = Math.min(...st2), ct2 = st2[st2.length - 1], ut2 = [ct2, ot2, lt2, ct2], gt2 = _2, { time: mt2, color: bt2 } = gt2;
  return { se: g2, ot: d2, Ot: ut2, Cb: O2, He: Fs(gt2, ["time", "color"]), O: bt2 };
}
function Ys(d2) {
  return void 0 !== d2.Ot;
}
function Xs(d2, g2) {
  return void 0 !== g2.customValues && (d2.Ab = g2.customValues), d2;
}
function Ks(d2) {
  return (g2, _2, O2, $2, st2, ot2) => function(d3, g3) {
    return g3 ? g3(d3) : void 0 === (_3 = d3).open && void 0 === _3.value;
    var _3;
  }(O2, ot2) ? Xs({ ot: g2, se: _2, Cb: $2 }, O2) : Xs(d2(g2, _2, O2, $2, st2), O2);
}
function Zs(d2) {
  return { Candlestick: Ks(Us), Bar: Ks($s), Area: Ks(js), Baseline: Ks(Hs), Histogram: Ks(Ws), Line: Ks(Ws), Custom: Ks(qs) }[d2];
}
function Gs(d2) {
  return { se: 0, Bb: /* @__PURE__ */ new Map(), ha: d2 };
}
function Js(d2, g2) {
  if (void 0 !== d2 && 0 !== d2.length) return { Vb: g2.key(d2[0].ot), Ib: g2.key(d2[d2.length - 1].ot) };
}
function Qs(d2) {
  let g2;
  return d2.forEach((d3) => {
    void 0 === g2 && (g2 = d3.Cb);
  }), m(g2);
}
class te {
  constructor(d2) {
    this.zb = /* @__PURE__ */ new Map(), this.Lb = /* @__PURE__ */ new Map(), this.Eb = /* @__PURE__ */ new Map(), this.Nb = [], this.U_ = d2;
  }
  S() {
    this.zb.clear(), this.Lb.clear(), this.Eb.clear(), this.Nb = [];
  }
  Fb(d2, g2) {
    let _2 = 0 !== this.zb.size, O2 = false;
    const $2 = this.Lb.get(d2);
    if (void 0 !== $2) if (1 === this.Lb.size) _2 = false, O2 = true, this.zb.clear();
    else for (const g3 of this.Nb) g3.pointData.Bb.delete(d2) && (O2 = true);
    let st2 = [];
    if (0 !== g2.length) {
      const _3 = g2.map((d3) => d3.time), $3 = this.U_.createConverterToInternalObj(g2), ot3 = Zs(d2.Jh()), lt2 = d2.ya(), ct2 = d2.Ca();
      st2 = g2.map((g3, st3) => {
        const ut2 = $3(g3.time), gt2 = this.U_.key(ut2);
        let mt2 = this.zb.get(gt2);
        void 0 === mt2 && (mt2 = Gs(ut2), this.zb.set(gt2, mt2), O2 = true);
        const bt2 = ot3(ut2, mt2.se, g3, _3[st3], lt2, ct2);
        return mt2.Bb.set(d2, bt2), bt2;
      });
    }
    _2 && this.Wb(), this.jb(d2, st2);
    let ot2 = -1;
    if (O2) {
      const d3 = [];
      this.zb.forEach((g3) => {
        d3.push({ timeWeight: 0, time: g3.ha, pointData: g3, originalTime: Qs(g3.Bb) });
      }), d3.sort((d4, g3) => this.U_.key(d4.time) - this.U_.key(g3.time)), ot2 = this.Hb(d3);
    }
    return this.$b(d2, ot2, function(d3, g3, _3) {
      const O3 = Js(d3, _3), $3 = Js(g3, _3);
      if (void 0 !== O3 && void 0 !== $3) return { Ql: O3.Ib >= $3.Ib && O3.Vb >= $3.Vb };
    }(this.Lb.get(d2), $2, this.U_));
  }
  fd(d2) {
    return this.Fb(d2, []);
  }
  Ub(d2, g2) {
    const _2 = g2;
    !function(d3) {
      void 0 === d3.Cb && (d3.Cb = d3.time);
    }(_2), this.U_.preprocessData(g2);
    const O2 = this.U_.createConverterToInternalObj([g2])(g2.time), $2 = this.Eb.get(d2);
    if (void 0 !== $2 && this.U_.key(O2) < this.U_.key($2)) throw new Error(`Cannot update oldest data, last time=${$2}, new time=${O2}`);
    let st2 = this.zb.get(this.U_.key(O2));
    const ot2 = void 0 === st2;
    void 0 === st2 && (st2 = Gs(O2), this.zb.set(this.U_.key(O2), st2));
    const lt2 = Zs(d2.Jh()), ct2 = d2.ya(), ut2 = d2.Ca(), gt2 = lt2(O2, st2.se, g2, _2.Cb, ct2, ut2);
    st2.Bb.set(d2, gt2), this.qb(d2, gt2);
    const mt2 = { Ql: Ys(gt2) };
    if (!ot2) return this.$b(d2, -1, mt2);
    const bt2 = { timeWeight: 0, time: st2.ha, pointData: st2, originalTime: Qs(st2.Bb) }, yt2 = Dp(this.Nb, this.U_.key(bt2.time), (d3, g3) => this.U_.key(d3.time) < g3);
    this.Nb.splice(yt2, 0, bt2);
    for (let d3 = yt2; d3 < this.Nb.length; ++d3) ie(this.Nb[d3].pointData, d3);
    return this.U_.fillWeightsForPoints(this.Nb, yt2), this.$b(d2, yt2, mt2);
  }
  qb(d2, g2) {
    let _2 = this.Lb.get(d2);
    void 0 === _2 && (_2 = [], this.Lb.set(d2, _2));
    const O2 = 0 !== _2.length ? _2[_2.length - 1] : null;
    null === O2 || this.U_.key(g2.ot) > this.U_.key(O2.ot) ? Ys(g2) && _2.push(g2) : Ys(g2) ? _2[_2.length - 1] = g2 : _2.splice(-1, 1), this.Eb.set(d2, g2.ot);
  }
  jb(d2, g2) {
    0 !== g2.length ? (this.Lb.set(d2, g2.filter(Ys)), this.Eb.set(d2, g2[g2.length - 1].ot)) : (this.Lb.delete(d2), this.Eb.delete(d2));
  }
  Wb() {
    for (const d2 of this.Nb) 0 === d2.pointData.Bb.size && this.zb.delete(this.U_.key(d2.time));
  }
  Hb(d2) {
    let g2 = -1;
    for (let _2 = 0; _2 < this.Nb.length && _2 < d2.length; ++_2) {
      const O2 = this.Nb[_2], $2 = d2[_2];
      if (this.U_.key(O2.time) !== this.U_.key($2.time)) {
        g2 = _2;
        break;
      }
      $2.timeWeight = O2.timeWeight, ie($2.pointData, _2);
    }
    if (-1 === g2 && this.Nb.length !== d2.length && (g2 = Math.min(this.Nb.length, d2.length)), -1 === g2) return -1;
    for (let _2 = g2; _2 < d2.length; ++_2) ie(d2[_2].pointData, _2);
    return this.U_.fillWeightsForPoints(d2, g2), this.Nb = d2, g2;
  }
  Yb() {
    if (0 === this.Lb.size) return null;
    let d2 = 0;
    return this.Lb.forEach((g2) => {
      0 !== g2.length && (d2 = Math.max(d2, g2[g2.length - 1].se));
    }), d2;
  }
  $b(d2, g2, _2) {
    const O2 = { Xb: /* @__PURE__ */ new Map(), St: { Lu: this.Yb() } };
    if (-1 !== g2) this.Lb.forEach((g3, $2) => {
      O2.Xb.set($2, { He: g3, Kb: $2 === d2 ? _2 : void 0 });
    }), this.Lb.has(d2) || O2.Xb.set(d2, { He: [], Kb: _2 }), O2.St.Zb = this.Nb, O2.St.Gb = g2;
    else {
      const g3 = this.Lb.get(d2);
      O2.Xb.set(d2, { He: g3 || [], Kb: _2 });
    }
    return O2;
  }
}
function ie(d2, g2) {
  d2.se = g2, d2.Bb.forEach((d3) => {
    d3.se = g2;
  });
}
function ne(d2) {
  const g2 = { value: d2.Ot[3], time: d2.Cb };
  return void 0 !== d2.Ab && (g2.customValues = d2.Ab), g2;
}
function se(d2) {
  const g2 = ne(d2);
  return void 0 !== d2.O && (g2.color = d2.O), g2;
}
function ee(d2) {
  const g2 = ne(d2);
  return void 0 !== d2.lt && (g2.lineColor = d2.lt), void 0 !== d2.Ts && (g2.topColor = d2.Ts), void 0 !== d2.Ps && (g2.bottomColor = d2.Ps), g2;
}
function re(d2) {
  const g2 = ne(d2);
  return void 0 !== d2.Pe && (g2.topLineColor = d2.Pe), void 0 !== d2.Re && (g2.bottomLineColor = d2.Re), void 0 !== d2.Se && (g2.topFillColor1 = d2.Se), void 0 !== d2.ke && (g2.topFillColor2 = d2.ke), void 0 !== d2.ye && (g2.bottomFillColor1 = d2.ye), void 0 !== d2.Ce && (g2.bottomFillColor2 = d2.Ce), g2;
}
function he(d2) {
  const g2 = { open: d2.Ot[0], high: d2.Ot[1], low: d2.Ot[2], close: d2.Ot[3], time: d2.Cb };
  return void 0 !== d2.Ab && (g2.customValues = d2.Ab), g2;
}
function le(d2) {
  const g2 = he(d2);
  return void 0 !== d2.O && (g2.color = d2.O), g2;
}
function ae(d2) {
  const g2 = he(d2), { O: _2, At: O2, Xh: $2 } = d2;
  return void 0 !== _2 && (g2.color = _2), void 0 !== O2 && (g2.borderColor = O2), void 0 !== $2 && (g2.wickColor = $2), g2;
}
function oe(d2) {
  return { Area: ee, Line: se, Baseline: re, Histogram: se, Bar: le, Candlestick: ae, Custom: _e2 }[d2];
}
function _e2(d2) {
  const g2 = d2.Cb;
  return Object.assign(Object.assign({}, d2.He), { time: g2 });
}
const ff = { vertLine: { color: "#9598A1", width: 1, style: 3, visible: true, labelVisible: true, labelBackgroundColor: "#131722" }, horzLine: { color: "#9598A1", width: 1, style: 3, visible: true, labelVisible: true, labelBackgroundColor: "#131722" }, mode: 1 }, gf = { vertLines: { color: "#D6DCDE", style: 0, visible: true }, horzLines: { color: "#D6DCDE", style: 0, visible: true } }, _f = { background: { type: "solid", color: "#FFFFFF" }, textColor: "#191919", fontSize: 12, fontFamily: bp }, mf = { autoScale: true, mode: 0, invertScale: false, alignLabels: true, borderVisible: true, borderColor: "#2B2B43", entireTextOnly: false, visible: false, ticksVisible: false, scaleMargins: { bottom: 0.1, top: 0.2 }, minimumWidth: 0 }, vf = { rightOffset: 0, barSpacing: 6, minBarSpacing: 0.5, fixLeftEdge: false, fixRightEdge: false, lockVisibleTimeRangeOnResize: false, rightBarStaysOnScroll: false, borderVisible: true, borderColor: "#2B2B43", visible: true, timeVisible: false, secondsVisible: true, shiftVisibleRangeOnNewBar: true, allowShiftVisibleRangeOnWhitespaceReplacement: false, ticksVisible: false, uniformDistribution: false, minimumHeight: 0, allowBoldLabels: true }, bf = { color: "rgba(0, 0, 0, 0)", visible: false, fontSize: 48, fontFamily: bp, fontStyle: "", text: "", horzAlign: "center", vertAlign: "center" };
function me() {
  return { width: 0, height: 0, autoSize: false, layout: _f, crosshair: ff, grid: gf, overlayPriceScales: Object.assign({}, mf), leftPriceScale: Object.assign(Object.assign({}, mf), { visible: false }), rightPriceScale: Object.assign(Object.assign({}, mf), { visible: true }), timeScale: vf, watermark: bf, localization: { locale: lf ? navigator.language : "", dateFormat: "dd MMM 'yy" }, handleScroll: { mouseWheel: true, pressedMouseMove: true, horzTouchDrag: true, vertTouchDrag: true }, handleScale: { axisPressedMouseMove: { time: true, price: true }, axisDoubleClickReset: { time: true, price: true }, mouseWheel: true, pinch: true }, kineticScroll: { mouse: false, touch: true }, trackingMode: { exitMode: 1 } };
}
class be {
  constructor(d2, g2) {
    this.Jb = d2, this.Qb = g2;
  }
  applyOptions(d2) {
    this.Jb.$t().Hc(this.Qb, d2);
  }
  options() {
    return this.Li().W();
  }
  width() {
    return ot$1(this.Qb) ? this.Jb.ob(this.Qb) : 0;
  }
  Li() {
    return b(this.Jb.$t().$c(this.Qb)).Dt;
  }
}
function we(d2, g2, _2) {
  const O2 = Fs(d2, ["time", "originalTime"]), $2 = Object.assign({ time: g2 }, O2);
  return void 0 !== _2 && ($2.originalTime = _2), $2;
}
const yf = { color: "#FF0000", price: 0, lineStyle: 2, lineWidth: 1, lineVisible: true, axisLabelVisible: true, title: "", axisLabelColor: "", axisLabelTextColor: "" };
class Me {
  constructor(d2) {
    this.Eh = d2;
  }
  applyOptions(d2) {
    this.Eh.Hh(d2);
  }
  options() {
    return this.Eh.W();
  }
  tw() {
    return this.Eh;
  }
}
class xe {
  constructor(d2, g2, _2, O2, $2) {
    this.iw = new R(), this.Ls = d2, this.nw = g2, this.sw = _2, this.U_ = $2, this.ew = O2;
  }
  S() {
    this.iw.S();
  }
  priceFormatter() {
    return this.Ls.ma();
  }
  priceToCoordinate(d2) {
    const g2 = this.Ls.Ct();
    return null === g2 ? null : this.Ls.Dt().Rt(d2, g2.Ot);
  }
  coordinateToPrice(d2) {
    const g2 = this.Ls.Ct();
    return null === g2 ? null : this.Ls.Dt().pn(d2, g2.Ot);
  }
  barsInLogicalRange(d2) {
    if (null === d2) return null;
    const g2 = new kn(new Mn(d2.from, d2.to)).hu(), _2 = this.Ls.In();
    if (_2.Ni()) return null;
    const O2 = _2.hl(g2.Os(), 1), $2 = _2.hl(g2.ui(), -1), st2 = b(_2.sl()), ot2 = b(_2.Vn());
    if (null !== O2 && null !== $2 && O2.se > $2.se) return { barsBefore: d2.from - st2, barsAfter: ot2 - d2.to };
    const lt2 = { barsBefore: null === O2 || O2.se === st2 ? d2.from - st2 : O2.se - st2, barsAfter: null === $2 || $2.se === ot2 ? ot2 - d2.to : ot2 - $2.se };
    return null !== O2 && null !== $2 && (lt2.from = O2.Cb, lt2.to = $2.Cb), lt2;
  }
  setData(d2) {
    this.U_, this.Ls.Jh(), this.nw.rw(this.Ls, d2), this.hw("full");
  }
  update(d2) {
    this.Ls.Jh(), this.nw.lw(this.Ls, d2), this.hw("update");
  }
  dataByIndex(d2, g2) {
    const _2 = this.Ls.In().hl(d2, g2);
    return null === _2 ? null : oe(this.seriesType())(_2);
  }
  data() {
    const d2 = oe(this.seriesType());
    return this.Ls.In().ie().map((g2) => d2(g2));
  }
  subscribeDataChanged(d2) {
    this.iw.l(d2);
  }
  unsubscribeDataChanged(d2) {
    this.iw.v(d2);
  }
  setMarkers(d2) {
    this.U_;
    const g2 = d2.map((d3) => we(d3, this.U_.convertHorzItemToInternal(d3.time), d3.time));
    this.Ls.ia(g2);
  }
  markers() {
    return this.Ls.na().map((d2) => we(d2, d2.originalTime, void 0));
  }
  applyOptions(d2) {
    this.Ls.Hh(d2);
  }
  options() {
    return I(this.Ls.W());
  }
  priceScale() {
    return this.sw.priceScale(this.Ls.Dt().Ta());
  }
  createPriceLine(d2) {
    const g2 = D(I(yf), d2), _2 = this.Ls.sa(g2);
    return new Me(_2);
  }
  removePriceLine(d2) {
    this.Ls.ea(d2.tw());
  }
  seriesType() {
    return this.Ls.Jh();
  }
  attachPrimitive(d2) {
    this.Ls.Sa(d2), d2.attached && d2.attached({ chart: this.ew, series: this, requestUpdate: () => this.Ls.$t().Kl() });
  }
  detachPrimitive(d2) {
    this.Ls.ka(d2), d2.detached && d2.detached();
  }
  hw(d2) {
    this.iw.M() && this.iw.m(d2);
  }
}
class Se {
  constructor(d2, g2, _2) {
    this.aw = new R(), this.pu = new R(), this.wm = new R(), this.$i = d2, this.kl = d2.St(), this.Gm = g2, this.kl.tc().l(this.ow.bind(this)), this.kl.nc().l(this._w.bind(this)), this.Gm.Tm().l(this.uw.bind(this)), this.U_ = _2;
  }
  S() {
    this.kl.tc().p(this), this.kl.nc().p(this), this.Gm.Tm().p(this), this.aw.S(), this.pu.S(), this.wm.S();
  }
  scrollPosition() {
    return this.kl.ju();
  }
  scrollToPosition(d2, g2) {
    g2 ? this.kl.Gu(d2, 1e3) : this.$i.Jn(d2);
  }
  scrollToRealTime() {
    this.kl.Zu();
  }
  getVisibleRange() {
    const d2 = this.kl.Du();
    return null === d2 ? null : { from: d2.from.originalTime, to: d2.to.originalTime };
  }
  setVisibleRange(d2) {
    const g2 = { from: this.U_.convertHorzItemToInternal(d2.from), to: this.U_.convertHorzItemToInternal(d2.to) }, _2 = this.kl.Vu(g2);
    this.$i.vd(_2);
  }
  getVisibleLogicalRange() {
    const d2 = this.kl.Ru();
    return null === d2 ? null : { from: d2.Os(), to: d2.ui() };
  }
  setVisibleLogicalRange(d2) {
    p(d2.from <= d2.to, "The from index cannot be after the to index."), this.$i.vd(d2);
  }
  resetTimeScale() {
    this.$i.Zn();
  }
  fitContent() {
    this.$i.rc();
  }
  logicalToCoordinate(d2) {
    const g2 = this.$i.St();
    return g2.Ni() ? null : g2.It(d2);
  }
  coordinateToLogical(d2) {
    return this.kl.Ni() ? null : this.kl.Eu(d2);
  }
  timeToCoordinate(d2) {
    const g2 = this.U_.convertHorzItemToInternal(d2), _2 = this.kl.Da(g2, false);
    return null === _2 ? null : this.kl.It(_2);
  }
  coordinateToTime(d2) {
    const g2 = this.$i.St(), _2 = g2.Eu(d2), O2 = g2.Ui(_2);
    return null === O2 ? null : O2.originalTime;
  }
  width() {
    return this.Gm.Gp().width;
  }
  height() {
    return this.Gm.Gp().height;
  }
  subscribeVisibleTimeRangeChange(d2) {
    this.aw.l(d2);
  }
  unsubscribeVisibleTimeRangeChange(d2) {
    this.aw.v(d2);
  }
  subscribeVisibleLogicalRangeChange(d2) {
    this.pu.l(d2);
  }
  unsubscribeVisibleLogicalRangeChange(d2) {
    this.pu.v(d2);
  }
  subscribeSizeChange(d2) {
    this.wm.l(d2);
  }
  unsubscribeSizeChange(d2) {
    this.wm.v(d2);
  }
  applyOptions(d2) {
    this.kl.Hh(d2);
  }
  options() {
    return Object.assign(Object.assign({}, I(this.kl.W())), { barSpacing: this.kl.he() });
  }
  ow() {
    this.aw.M() && this.aw.m(this.getVisibleRange());
  }
  _w() {
    this.pu.M() && this.pu.m(this.getVisibleLogicalRange());
  }
  uw(d2) {
    this.wm.m(d2.width, d2.height);
  }
}
function ye(d2) {
  return function(d3) {
    if (V(d3.handleScale)) {
      const g3 = d3.handleScale;
      d3.handleScale = { axisDoubleClickReset: { time: g3, price: g3 }, axisPressedMouseMove: { time: g3, price: g3 }, mouseWheel: g3, pinch: g3 };
    } else if (void 0 !== d3.handleScale) {
      const { axisPressedMouseMove: g3, axisDoubleClickReset: _2 } = d3.handleScale;
      V(g3) && (d3.handleScale.axisPressedMouseMove = { time: g3, price: g3 }), V(_2) && (d3.handleScale.axisDoubleClickReset = { time: _2, price: _2 });
    }
    const g2 = d3.handleScroll;
    V(g2) && (d3.handleScroll = { horzTouchDrag: g2, vertTouchDrag: g2, mouseWheel: g2, pressedMouseMove: g2 });
  }(d2), d2;
}
class Ce {
  constructor(d2, g2, _2) {
    this.cw = /* @__PURE__ */ new Map(), this.dw = /* @__PURE__ */ new Map(), this.fw = new R(), this.pw = new R(), this.mw = new R(), this.bw = new te(g2);
    const O2 = void 0 === _2 ? I(me()) : D(I(me()), ye(_2));
    this.U_ = g2, this.Jb = new Es(d2, O2, g2), this.Jb.Yp().l((d3) => {
      this.fw.M() && this.fw.m(this.ww(d3()));
    }, this), this.Jb.Xp().l((d3) => {
      this.pw.M() && this.pw.m(this.ww(d3()));
    }, this), this.Jb.Xc().l((d3) => {
      this.mw.M() && this.mw.m(this.ww(d3()));
    }, this);
    const $2 = this.Jb.$t();
    this.gw = new Se($2, this.Jb.sb(), this.U_);
  }
  remove() {
    this.Jb.Yp().p(this), this.Jb.Xp().p(this), this.Jb.Xc().p(this), this.gw.S(), this.Jb.S(), this.cw.clear(), this.dw.clear(), this.fw.S(), this.pw.S(), this.mw.S(), this.bw.S();
  }
  resize(d2, g2, _2) {
    this.autoSizeActive() || this.Jb.Qm(d2, g2, _2);
  }
  addCustomSeries(d2, g2) {
    const _2 = w(d2), O2 = Object.assign(Object.assign({}, cp), _2.defaultOptions());
    return this.Mw("Custom", O2, g2, _2);
  }
  addAreaSeries(d2) {
    return this.Mw("Area", op, d2);
  }
  addBaselineSeries(d2) {
    return this.Mw("Baseline", ap, d2);
  }
  addBarSeries(d2) {
    return this.Mw("Bar", np, d2);
  }
  addCandlestickSeries(d2 = {}) {
    return function(d3) {
      void 0 !== d3.borderColor && (d3.borderUpColor = d3.borderColor, d3.borderDownColor = d3.borderColor), void 0 !== d3.wickColor && (d3.wickUpColor = d3.wickColor, d3.wickDownColor = d3.wickColor);
    }(d2), this.Mw("Candlestick", sp, d2);
  }
  addHistogramSeries(d2) {
    return this.Mw("Histogram", lp, d2);
  }
  addLineSeries(d2) {
    return this.Mw("Line", rp, d2);
  }
  removeSeries(d2) {
    const g2 = m(this.cw.get(d2)), _2 = this.bw.fd(g2);
    this.Jb.$t().fd(g2), this.xw(_2), this.cw.delete(d2), this.dw.delete(g2);
  }
  rw(d2, g2) {
    this.xw(this.bw.Fb(d2, g2));
  }
  lw(d2, g2) {
    this.xw(this.bw.Ub(d2, g2));
  }
  subscribeClick(d2) {
    this.fw.l(d2);
  }
  unsubscribeClick(d2) {
    this.fw.v(d2);
  }
  subscribeCrosshairMove(d2) {
    this.mw.l(d2);
  }
  unsubscribeCrosshairMove(d2) {
    this.mw.v(d2);
  }
  subscribeDblClick(d2) {
    this.pw.l(d2);
  }
  unsubscribeDblClick(d2) {
    this.pw.v(d2);
  }
  priceScale(d2) {
    return new be(this.Jb, d2);
  }
  timeScale() {
    return this.gw;
  }
  applyOptions(d2) {
    this.Jb.Hh(ye(d2));
  }
  options() {
    return this.Jb.W();
  }
  takeScreenshot() {
    return this.Jb.lb();
  }
  autoSizeActive() {
    return this.Jb.cb();
  }
  chartElement() {
    return this.Jb.fb();
  }
  paneSize() {
    const d2 = this.Jb.mb();
    return { height: d2.height, width: d2.width };
  }
  setCrosshairPosition(d2, g2, _2) {
    const O2 = this.cw.get(_2);
    if (void 0 === O2) return;
    const $2 = this.Jb.$t().cr(O2);
    null !== $2 && this.Jb.$t().ld(d2, g2, $2);
  }
  clearCrosshairPosition() {
    this.Jb.$t().ad(true);
  }
  Mw(d2, g2, _2 = {}, O2) {
    !function ke(d3) {
      if (void 0 === d3 || "custom" === d3.type) return;
      const g3 = d3;
      void 0 !== g3.minMove && void 0 === g3.precision && (g3.precision = function(d4) {
        if (d4 >= 1) return 0;
        let g4 = 0;
        for (; g4 < 8; g4++) {
          const _3 = Math.round(d4);
          if (Math.abs(_3 - d4) < 1e-8) return g4;
          d4 *= 10;
        }
        return g4;
      }(g3.minMove));
    }(_2.priceFormat);
    const $2 = D(I(hp), I(g2), _2), st2 = this.Jb.$t().ud(d2, $2, O2), ot2 = new xe(st2, this, this, this, this.U_);
    return this.cw.set(ot2, st2), this.dw.set(st2, ot2), ot2;
  }
  xw(d2) {
    const g2 = this.Jb.$t();
    g2.od(d2.St.Lu, d2.St.Zb, d2.St.Gb), d2.Xb.forEach((d3, g3) => g3.J(d3.He, d3.Kb)), g2.Fu();
  }
  Sw(d2) {
    return m(this.dw.get(d2));
  }
  ww(d2) {
    const g2 = /* @__PURE__ */ new Map();
    d2.Rb.forEach((d3, _3) => {
      const O2 = _3.Jh(), $2 = oe(O2)(d3);
      if ("Custom" !== O2) p(function(d4) {
        return void 0 !== d4.open || void 0 !== d4.value;
      }($2));
      else {
        const d4 = _3.Ca();
        p(!d4 || false === d4($2));
      }
      g2.set(this.Sw(_3), $2);
    });
    const _2 = void 0 !== d2.Pb && this.dw.has(d2.Pb) ? this.Sw(d2.Pb) : void 0;
    return { time: d2.Cb, logical: d2.se, point: d2.Tb, hoveredSeries: _2, hoveredObjectId: d2.Db, seriesData: g2, sourceEvent: d2.Ob };
  }
}
function Pe(d2, g2) {
  return function Te(d3, g3, _2) {
    let O2;
    if (B$1(d3)) {
      const g4 = document.getElementById(d3);
      p(null !== g4, `Cannot find element in DOM with id=${d3}`), O2 = g4;
    } else O2 = d3;
    const $2 = new Ce(O2, g3, _2);
    return g3.setOptions($2.options()), $2;
  }(d2, new ts(), ts.Vd(g2));
}
Object.assign(Object.assign({}, hp), cp);
class TwChart {
  constructor(d2, g2) {
    this.series = [], this.colors = ["#725bf5", "#777777", "#1dcdbc", "#2b3440", "#ffffff", "#3abff8", "#36d399", "#fbbd23", "#f87272"], this.lightTheme = { layout: { textColor: "rgba(0, 0, 0, 0.5)" } }, this.darkTheme = { layout: { textColor: "rgba(255, 255, 255, 0.5)" } }, this.selectTheme = { light: this.lightTheme, dark: this.darkTheme }, this.candlestickSeries = null, this.htmlEle = d2, this.series = [];
    let _2 = { autoSize: true, localization: { locale: "zh-TW", dateFormat: "yyyy-MM-dd", priceFormatter: (d3) => d3.toFixed(2) }, rightPriceScale: { scaleMargins: { top: 0.1, bottom: 0.1 }, mode: Xp.Percentage, borderVisible: false, ticksVisible: true, borderColor: "red" }, timeScale: { borderColor: "red", borderVisible: false }, handleScroll: { pressedMouseMove: true, mouseWheel: false }, handleScale: { mouseWheel: false, pinch: true }, layout: { background: { type: nf.Solid, color: "transparent" } }, grid: { vertLines: { color: "rgba(197, 203, 206, 0.0)", style: dp.Dotted, visible: false }, horzLines: { color: "rgba(197, 203, 206, 0.0)", style: dp.Dotted, visible: false } }, crosshair: { horzLine: { visible: false, labelVisible: true }, vertLine: { visible: false, style: 0, width: 2, color: "rgba(32, 38, 46, 0.1)", labelVisible: true } } };
    g2 || (_2.rightPriceScale.mode = Xp.Normal), this.chart = Pe(this.htmlEle, _2);
  }
  setTheme(d2) {
    d2 && this.chart.applyOptions(this.selectTheme[d2]);
  }
  resetAreaSeries(d2) {
    this.series[d2] && this.chart.removeSeries(this.series[d2]);
    const g2 = this.colors[d2];
    this.series[d2] = this.chart.addAreaSeries({ lineColor: g2, topColor: g2 + "77", bottomColor: g2 + "00", priceLineVisible: false });
  }
  setTimeScale(d2, g2) {
    this.chart.timeScale().setVisibleRange({ from: d2.getTime() / 1e3, to: g2.getTime() / 1e3 });
  }
  addCandlestickSeries() {
    this.candlestickSeries && this.chart.removeSeries(this.candlestickSeries), this.candlestickSeries = this.chart.addCandlestickSeries({ upColor: "#f43098", downColor: "#00d3bb", borderDownColor: "#00d3bb", borderUpColor: "#f43098", wickDownColor: "#00d3bb", wickUpColor: "#f43098" });
  }
  updateCandlestickSeriesData(d2) {
    if (this.candlestickSeries) {
      const g2 = d2.map((d3) => {
        let g3;
        return "string" != typeof d3.time ? null : (g3 = d3.time, { time: g3, open: d3.open, high: d3.high, low: d3.low, close: d3.close });
      }).filter((d3) => null !== d3);
      this.candlestickSeries.setData(g2), this.chart.timeScale().scrollToRealTime();
    }
  }
  addTradeMarkers(d2, g2, _2) {
    if (!this.chart || !this.candlestickSeries) return;
    let O2 = [];
    d2.forEach((d3) => {
      O2.push({ time: d3.time, position: "belowBar", color: _2, shape: "arrowUp", text: "進場", size: 2 });
    }), 0 !== g2.length && g2.forEach((d3) => {
      O2.push({ time: d3.time, position: "aboveBar", color: _2, shape: "arrowDown", text: `Sell @ ${d3.price}`, size: 2 });
    }), this.candlestickSeries && this.candlestickSeries.setMarkers(O2);
  }
}
function setOklchAlpha(d2, g2) {
  if ("#" === d2[0]) {
    const _3 = Math.round(255 * g2).toString(16).padStart(2, "0");
    return `${d2.slice(0, 7)}${_3}`;
  }
  if (d2.startsWith("rgb")) {
    const _3 = d2.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);
    if (!_3) throw new Error(`Invalid RGB color format: ${d2}`);
    return `rgba(${parseInt(_3[1])}, ${parseInt(_3[2])}, ${parseInt(_3[3])}, ${g2})`;
  }
  const _2 = d2.match(/^oklch\(([^)]+)\)/);
  if (!_2) throw new Error(`Invalid OKLCH color format: ${d2}`);
  const O2 = _2[1].split(/\s+/);
  if (O2.length < 3) throw new Error(`Incomplete OKLCH components in: ${d2}`);
  return `oklch(${O2[0]} ${O2[1]} ${O2[2]} / ${g2})`;
}
function riseColor() {
  return function red() {
    return document.documentElement.getAttribute("data-theme"), getComputedStyle(document.documentElement).getPropertyValue("--color-error");
  }();
}
function fallColor() {
  return function green() {
    return document.documentElement.getAttribute("data-theme"), getComputedStyle(document.documentElement).getPropertyValue("--color-success");
  }();
}
function signColor(d2) {
  return 0 === d2 ? function gray() {
    return "dark" === document.documentElement.getAttribute("data-theme") ? "#d1d5db" : "#6b7280";
  }() : d2 > 0 ? riseColor() : fallColor();
}
function nameToColor(d2) {
  return getComputedStyle(document.documentElement).getPropertyValue("--color-" + d2);
}
function signColorClass(d2) {
  return 0 === d2 ? "text-base-content-100" : d2 > 0 ? "text-error" : "text-success";
}
const wf = [];
function writable(d2, g2 = noop$2) {
  let _2 = null;
  const O2 = /* @__PURE__ */ new Set();
  function set2(g3) {
    if (safe_not_equal(d2, g3) && (d2 = g3, _2)) {
      const g4 = !wf.length;
      for (const g5 of O2) g5[1](), wf.push(g5, d2);
      if (g4) {
        for (let d3 = 0; d3 < wf.length; d3 += 2) wf[d3][0](wf[d3 + 1]);
        wf.length = 0;
      }
    }
  }
  function update2(g3) {
    set2(g3(d2));
  }
  return { set: set2, update: update2, subscribe: function subscribe($2, st2 = noop$2) {
    const ot2 = [$2, st2];
    return O2.add(ot2), 1 === O2.size && (_2 = g2(set2, update2) || noop$2), $2(d2), () => {
      O2.delete(ot2), 0 === O2.size && _2 && (_2(), _2 = null);
    };
  } };
}
const xf = { light: "light", dark: "dark", cupcake: "light", bumblebee: "light", emerald: "light", corporate: "light", synthwave: "dark", retro: "light", cyberpunk: "dark", valentine: "light", halloween: "dark", garden: "light", forest: "dark", aqua: "light", lofi: "dark", pastel: "light", fantasy: "light", wireframe: "light", black: "dark", luxury: "dark", dracula: "dark", cmyk: "light", autumn: "dark", business: "dark", acid: "light", lemonade: "light", night: "dark", coffee: "dark", winter: "light", dim: "dark", nord: "light", sunset: "dark", caramellatte: "light", abyss: "dark", silk: "light" }, Tf = writable(null);
function getThemeType(d2) {
  return xf[d2] ? xf[d2] : "light";
}
const Ef = { xmlns: "http://www.w3.org/2000/svg", width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", "stroke-width": 2, "stroke-linecap": "round", "stroke-linejoin": "round" };
var Pf = ns_template("<svg><!><!></svg>");
function Icon(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]), O2 = legacy_rest_props(_2, ["name", "color", "size", "strokeWidth", "absoluteStrokeWidth", "iconNode"]);
  push(g2, false);
  let $2 = prop(g2, "name", 12, void 0), st2 = prop(g2, "color", 12, "currentColor"), ot2 = prop(g2, "size", 12, 24), lt2 = prop(g2, "strokeWidth", 12, 2), ct2 = prop(g2, "absoluteStrokeWidth", 12, false), ut2 = prop(g2, "iconNode", 28, () => []);
  const mergeClasses = (...d3) => d3.filter((d4, g3, _3) => Boolean(d4) && _3.indexOf(d4) === g3).join(" ");
  init();
  var gt2 = Pf();
  let mt2;
  var bt2 = child(gt2);
  return each$1(bt2, 1, ut2, index$1, (d3, g3) => {
    var _3 = comment();
    element(first_child(_3), () => get(g3)[0], 0, (d4, _4) => {
      let O3;
      template_effect(() => O3 = set_attributes(d4, O3, { ...get(g3)[1] }, 0, d4.namespaceURI === St, d4.nodeName.includes("-")));
    }), append(d3, _3);
  }), slot(sibling(bt2), g2, "default", {}, null), reset(gt2), template_effect(() => mt2 = set_attributes(gt2, mt2, { ...Ef, ...O2, width: ot2(), height: ot2(), stroke: st2(), "stroke-width": ct2() ? 24 * Number(lt2()) / Number(ot2()) : lt2(), class: mergeClasses("lucide-icon", "lucide", $2() ? `lucide-${$2()}` : "", _2.class) }, 0, true)), append(d2, gt2), pop({ get name() {
    return $2();
  }, set name(d3) {
    $2(d3), flush_sync();
  }, get color() {
    return st2();
  }, set color(d3) {
    st2(d3), flush_sync();
  }, get size() {
    return ot2();
  }, set size(d3) {
    ot2(d3), flush_sync();
  }, get strokeWidth() {
    return lt2();
  }, set strokeWidth(d3) {
    lt2(d3), flush_sync();
  }, get absoluteStrokeWidth() {
    return ct2();
  }, set absoluteStrokeWidth(d3) {
    ct2(d3), flush_sync();
  }, get iconNode() {
    return ut2();
  }, set iconNode(d3) {
    ut2(d3), flush_sync();
  } });
}
function Activity(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "activity" }, () => _2, { iconNode: [["path", { d: "M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Arrow_down_right(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "arrow-down-right" }, () => _2, { iconNode: [["path", { d: "m7 7 10 10" }], ["path", { d: "M17 7v10H7" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Arrow_down(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "arrow-down" }, () => _2, { iconNode: [["path", { d: "M12 5v14" }], ["path", { d: "m19 12-7 7-7-7" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Arrow_up_right(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "arrow-up-right" }, () => _2, { iconNode: [["path", { d: "M7 7h10v10" }], ["path", { d: "M7 17 17 7" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Arrow_up(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "arrow-up" }, () => _2, { iconNode: [["path", { d: "m5 12 7-7 7 7" }], ["path", { d: "M12 19V5" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Calendar(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "calendar" }, () => _2, { iconNode: [["path", { d: "M8 2v4" }], ["path", { d: "M16 2v4" }], ["rect", { width: "18", height: "18", x: "3", y: "4", rx: "2" }], ["path", { d: "M3 10h18" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Chart_line(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "chart-line" }, () => _2, { iconNode: [["path", { d: "M3 3v16a2 2 0 0 0 2 2h16" }], ["path", { d: "m19 9-5 5-4-4-3 3" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Chart_no_axes_column_increasing(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "chart-no-axes-column-increasing" }, () => _2, { iconNode: [["line", { x1: "12", x2: "12", y1: "20", y2: "10" }], ["line", { x1: "18", x2: "18", y1: "20", y2: "4" }], ["line", { x1: "6", x2: "6", y1: "20", y2: "16" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Chart_no_axes_column(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "chart-no-axes-column" }, () => _2, { iconNode: [["line", { x1: "18", x2: "18", y1: "20", y2: "10" }], ["line", { x1: "12", x2: "12", y1: "20", y2: "4" }], ["line", { x1: "6", x2: "6", y1: "20", y2: "14" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Chevron_down(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "chevron-down" }, () => _2, { iconNode: [["path", { d: "m6 9 6 6 6-6" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Chevron_up(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "chevron-up" }, () => _2, { iconNode: [["path", { d: "m18 15-6-6-6 6" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Dollar_sign(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "dollar-sign" }, () => _2, { iconNode: [["line", { x1: "12", x2: "12", y1: "2", y2: "22" }], ["path", { d: "M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Expand(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "expand" }, () => _2, { iconNode: [["path", { d: "m21 21-6-6m6 6v-4.8m0 4.8h-4.8" }], ["path", { d: "M3 16.2V21m0 0h4.8M3 21l6-6" }], ["path", { d: "M21 7.8V3m0 0h-4.8M21 3l-6 6" }], ["path", { d: "M3 7.8V3m0 0h4.8M3 3l6 6" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Minimize(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "minimize" }, () => _2, { iconNode: [["path", { d: "M8 3v3a2 2 0 0 1-2 2H3" }], ["path", { d: "M21 8h-3a2 2 0 0 1-2-2V3" }], ["path", { d: "M3 16h3a2 2 0 0 1 2 2v3" }], ["path", { d: "M16 21v-3a2 2 0 0 1 2-2h3" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Percent(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "percent" }, () => _2, { iconNode: [["line", { x1: "19", x2: "5", y1: "5", y2: "19" }], ["circle", { cx: "6.5", cy: "6.5", r: "2.5" }], ["circle", { cx: "17.5", cy: "17.5", r: "2.5" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Search(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "search" }, () => _2, { iconNode: [["circle", { cx: "11", cy: "11", r: "8" }], ["path", { d: "m21 21-4.3-4.3" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Trending_down(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "trending-down" }, () => _2, { iconNode: [["polyline", { points: "22 17 13.5 8.5 8.5 13.5 2 7" }], ["polyline", { points: "16 17 22 17 22 11" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Trending_up(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "trending-up" }, () => _2, { iconNode: [["polyline", { points: "22 7 13.5 15.5 8.5 10.5 2 17" }], ["polyline", { points: "16 7 22 7 22 13" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
function Triangle_alert(d2, g2) {
  const _2 = legacy_rest_props(g2, ["children", "$$slots", "$$events", "$$legacy", "$$host"]);
  Icon(d2, spread_props({ name: "triangle-alert" }, () => _2, { iconNode: [["path", { d: "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3" }], ["path", { d: "M12 9v4" }], ["path", { d: "M12 17h.01" }]], children: (d3, _3) => {
    var O2 = comment();
    slot(first_child(O2), g2, "default", {}, null), append(d3, O2);
  }, $$slots: { default: true } }));
}
create_custom_element(Icon, { name: {}, color: {}, size: {}, strokeWidth: {}, absoluteStrokeWidth: {}, iconNode: {} }, ["default"], [], true), create_custom_element(Activity, {}, ["default"], [], true), create_custom_element(Arrow_down_right, {}, ["default"], [], true), create_custom_element(Arrow_down, {}, ["default"], [], true), create_custom_element(Arrow_up_right, {}, ["default"], [], true), create_custom_element(Arrow_up, {}, ["default"], [], true), create_custom_element(Calendar, {}, ["default"], [], true), create_custom_element(Chart_line, {}, ["default"], [], true), create_custom_element(Chart_no_axes_column_increasing, {}, ["default"], [], true), create_custom_element(Chart_no_axes_column, {}, ["default"], [], true), create_custom_element(Chevron_down, {}, ["default"], [], true), create_custom_element(Chevron_up, {}, ["default"], [], true), create_custom_element(Dollar_sign, {}, ["default"], [], true), create_custom_element(Expand, {}, ["default"], [], true), create_custom_element(Minimize, {}, ["default"], [], true), create_custom_element(Percent, {}, ["default"], [], true), create_custom_element(Search, {}, ["default"], [], true), create_custom_element(Trending_down, {}, ["default"], [], true), create_custom_element(Trending_up, {}, ["default"], [], true), create_custom_element(Triangle_alert, {}, ["default"], [], true);
const linear = (d2) => d2;
function cubic_out(d2) {
  const g2 = d2 - 1;
  return g2 * g2 * g2 + 1;
}
function split_css_unit(d2) {
  const g2 = "string" == typeof d2 && d2.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);
  return g2 ? [parseFloat(g2[1]), g2[2] || "px"] : [d2, "px"];
}
function fade(d2, { delay: g2 = 0, duration: _2 = 400, easing: O2 = linear } = {}) {
  const $2 = +getComputedStyle(d2).opacity;
  return { delay: g2, duration: _2, easing: O2, css: (d3) => "opacity: " + d3 * $2 };
}
function fly(d2, { delay: g2 = 0, duration: _2 = 400, easing: O2 = cubic_out, x: $2 = 0, y: st2 = 0, opacity: ot2 = 0 } = {}) {
  const lt2 = getComputedStyle(d2), ct2 = +lt2.opacity, ut2 = "none" === lt2.transform ? "" : lt2.transform, gt2 = ct2 * (1 - ot2), [mt2, bt2] = split_css_unit($2), [yt2, wt2] = split_css_unit(st2);
  return { delay: g2, duration: _2, easing: O2, css: (d3, g3) => `
			transform: ${ut2} translate(${(1 - d3) * mt2}${bt2}, ${(1 - d3) * yt2}${wt2});
			opacity: ${ct2 - gt2 * g3}` };
}
var If = template("<div><!></div>"), Af = template("<div><!></div>"), Rf = template("<div><!></div>"), kf = template("<div><!></div>"), Sf = template("<div><!></div>"), Cf = template('<div class="flex flex-col items-end"><div class="text-xs text-base-content/50">MAE</div> <div class="font-medium"> </div></div>'), Mf = template('<div class="flex flex-col items-end"><div class="text-xs text-base-content/50">GMFE</div> <div class="font-medium"> </div></div>'), Vf = template('<div class="grid grid-cols-12 p-4 gap-3 hover:bg-base-100 group relative transition-all cursor-pointer border-l-4 border-transparent hover:border-primary"><div class="col-span-2 flex items-center"><div class="font-medium text-base-content group-hover:text-primary transition-colors"> </div></div> <div class="col-span-2 flex items-center"><div class="flex items-center gap-2"><div class="w-8 h-8 rounded-lg flex items-center justify-center"><!></div> <div class="font-medium"> </div></div></div> <div class="col-span-2 flex items-center"><div class="flex flex-col"><div class="font-medium"> </div> <div class="text-xs text-base-content/50"> </div></div></div> <div class="col-span-2 flex items-center"><div class="flex flex-col"><div class="font-medium"> </div> <div class="text-xs text-base-content/50"> </div></div></div> <div class="col-span-2 flex items-center"><div class="font-medium"> </div></div> <div class="col-span-2 flex items-center justify-end gap-3"><!> <!></div></div>'), Df = template('<button class="join-item btn btn-sm btn-disabled">...</button>'), Of = template("<button> </button>"), Lf = template('<div class="overflow-hidden rounded-xl border border-base-200 bg-base-100 shadow-sm"><div class="bg-base-200/50 grid grid-cols-12 p-4 gap-3 text-base-content/70 text-sm font-medium"><div class="col-span-2 flex items-center gap-1 cursor-pointer hover:text-primary transition-colors"> <!></div> <div class="col-span-2 flex items-center gap-1 cursor-pointer hover:text-primary transition-colors"> <!></div> <div class="col-span-2 flex items-center gap-1 cursor-pointer hover:text-primary transition-colors"> <!></div> <div class="col-span-2 flex items-center gap-1 cursor-pointer hover:text-primary transition-colors"> <!></div> <div class="col-span-2 flex items-center gap-1 cursor-pointer hover:text-primary transition-colors"> <!></div> <div class="col-span-2 text-center">指標</div></div> <div class="grid grid-cols-1 divide-y divide-base-200"><!> <div class="p-4 flex justify-center items-center border-t border-base-200"><div class="join"><button><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"></path></svg></button> <!> <button><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg></button></div> <div class="ml-4 text-sm text-base-content/70"> </div></div></div></div>'), Nf = template('<div class="flex items-center gap-2 text-base-content/70 p-3 bg-base-200/50 rounded-lg"><!> <p> <code class="px-2 py-1 mx-1 bg-neutral rounded-md text-neutral-content font-mono">report.trades</code> </p></div>'), $f = template('<p class="text-base-content/70"></p>'), Ff = template('<div class="flex flex-col items-center justify-center p-12 text-center bg-base-100 border border-base-200 rounded-xl shadow-sm"><div class="w-16 h-16 mb-6 rounded-full bg-base-200/80 flex items-center justify-center"><!></div> <h3 class="text-xl font-medium mb-3 text-base-content"></h3> <!></div>'), zf = template('<div class="mb-12"><!></div>');
function Stocks(d2, g2) {
  push(g2, false);
  const _2 = mutable_state(), O2 = mutable_state(), $2 = mutable_state(), i = (d3) => {
    const g3 = d3.replaceAll(".", "_");
    return Xd[g3] ? Xd[g3]() : g3;
  };
  let st2 = prop(g2, "browser", 12), ot2 = prop(g2, "report", 12), lt2 = prop(g2, "theme", 12, "light"), ct2 = prop(g2, "candle", 12, "red"), ut2 = prop(g2, "tstart", 12, null), gt2 = prop(g2, "tend", 12, null);
  onMount(() => {
    st2();
  });
  const dateFormatter = (d3) => d3 ? d3 == null ? void 0 : d3.toLocaleDateString() : "-";
  let mt2 = mutable_state("entry"), bt2 = mutable_state("dn"), yt2 = mutable_state([]), wt2 = mutable_state(1), Pt2 = mutable_state(1), At2 = mutable_state([]);
  function goToPage(d3) {
    d3 >= 1 && d3 <= get(Pt2) && set$1(wt2, d3);
  }
  function getVisiblePageNumbers() {
    const d3 = [], g3 = [];
    let _3;
    for (let g4 = 1; g4 <= get(Pt2); g4++) (1 === g4 || g4 === get(Pt2) || g4 >= get(wt2) - 2 && g4 <= get(wt2) + 2) && d3.push(g4);
    return d3.forEach((d4) => {
      _3 && (d4 - _3 == 2 ? g3.push(_3 + 1) : d4 - _3 != 1 && g3.push("...")), g3.push(d4), _3 = d4;
    }), g3;
  }
  const formatPercent = (d3) => {
    if (null == d3) return "-";
    const g3 = Math.abs(100 * d3).toFixed(1);
    return g3.endsWith(".0") ? Math.abs(100 * d3).toFixed(0) + "%" : g3 + "%";
  };
  function getPerformanceIndicator(d3) {
    return null == d3 ? { color: "text-base-content/50", bgColor: "bg-base-300/20", icon: null } : d3 > 0.3 ? { color: `color: ${signColor(1)}`, bgColor: `background-color: ${setOklchAlpha(signColor(1), 0.1)}`, icon: Arrow_up_right } : d3 > 0 ? { color: `color: ${signColor(1)}`, bgColor: `background-color: ${setOklchAlpha(signColor(1), 0.05)}`, icon: Trending_up } : d3 > -0.2 ? { color: `color: ${signColor(-1)}`, bgColor: `background-color: ${setOklchAlpha(signColor(-1), 0.05)}`, icon: Arrow_down_right } : { color: `color: ${signColor(-1)}`, bgColor: `background-color: ${setOklchAlpha(signColor(-1), 0.1)}`, icon: Trending_down };
  }
  legacy_pre_effect(() => (deep_read_state(ot2()), deep_read_state(ut2()), deep_read_state(gt2()), get(yt2), get(bt2), get(mt2), get(Pt2), get(wt2)), () => {
    if (ot2() || ut2() || gt2()) {
      set$1(yt2, ot2().trades), ut2() && gt2() && set$1(yt2, ot2().trades.filter((d4) => {
        const g4 = d4.entry, _3 = d4.entry >= ut2() & d4.entry <= gt2(), O3 = d4.exit >= ut2() & d4.exit <= gt2();
        return g4 && _3 || O3;
      })), set$1(yt2, get(yt2).filter((d4) => Object.entries(d4).every(([d5, g4]) => "exit" === d5 || "exitSig" === d5 || null !== g4))), set$1(yt2, get(yt2).sort((d4, g4) => "up" === get(bt2) ? d4[get(mt2)] > g4[get(mt2)] ? 1 : -1 : d4[get(mt2)] < g4[get(mt2)] ? 1 : -1)), set$1(Pt2, Math.ceil(get(yt2).length / 10)), get(wt2) > get(Pt2) && set$1(wt2, 1);
      const d3 = 10 * (get(wt2) - 1), g3 = Math.min(d3 + 10, get(yt2).length);
      set$1(At2, get(yt2).slice(d3, g3)), set$1($2, get(yt2).length > 10);
    }
  }), legacy_pre_effect(() => get(yt2), () => {
    set$1(_2, get(yt2).length > 0 ? get(yt2)[0].entry : null);
  }), legacy_pre_effect(() => (deep_read_state(ut2()), get(_2)), () => {
    set$1(O2, ut2() > get(_2));
  }), legacy_pre_effect(() => {
  }, () => {
    set$1($2, true);
  }), legacy_pre_effect_reset(), init();
  var St2 = comment(), Mt2 = first_child(St2), consequent_16 = (d3) => {
    var g3 = zf(), _3 = child(g3), consequent_14 = (d4) => {
      var g4 = Lf(), _4 = child(g4), O3 = child(_4), $3 = child(O3);
      template_effect(() => set_text($3, `${i("metrics.stocks.stockId") ?? ""} `));
      var st3 = sibling($3), consequent_1 = (d5) => {
        var g5 = If(), _5 = child(g5), consequent = (d6) => {
          Chevron_down(d6, { size: 14 });
        }, alternate = (d6) => {
          Chevron_up(d6, { size: 14 });
        };
        if_block(_5, (d6) => {
          "dn" === get(bt2) ? d6(consequent) : d6(alternate, false);
        }), reset(g5), transition(1, g5, () => fade, () => ({ duration: 150 })), append(d5, g5);
      };
      if_block(st3, (d5) => {
        "stockId" === get(mt2) && d5(consequent_1);
      }), reset(O3);
      var ot3 = sibling(O3, 2), lt3 = child(ot3);
      template_effect(() => set_text(lt3, `${i("metrics.stocks.return") ?? ""} `));
      var ct3 = sibling(lt3), consequent_3 = (d5) => {
        var g5 = Af(), _5 = child(g5), consequent_2 = (d6) => {
          Chevron_down(d6, { size: 14 });
        }, alternate_1 = (d6) => {
          Chevron_up(d6, { size: 14 });
        };
        if_block(_5, (d6) => {
          "dn" === get(bt2) ? d6(consequent_2) : d6(alternate_1, false);
        }), reset(g5), transition(1, g5, () => fade, () => ({ duration: 150 })), append(d5, g5);
      };
      if_block(ct3, (d5) => {
        "return" === get(mt2) && d5(consequent_3);
      }), reset(ot3);
      var ut3 = sibling(ot3, 2), gt3 = child(ut3);
      template_effect(() => set_text(gt3, `${i("metrics.stocks.entry") ?? ""} `));
      var St3 = sibling(gt3), consequent_5 = (d5) => {
        var g5 = Rf(), _5 = child(g5), consequent_4 = (d6) => {
          Chevron_down(d6, { size: 14 });
        }, alternate_2 = (d6) => {
          Chevron_up(d6, { size: 14 });
        };
        if_block(_5, (d6) => {
          "dn" === get(bt2) ? d6(consequent_4) : d6(alternate_2, false);
        }), reset(g5), transition(1, g5, () => fade, () => ({ duration: 150 })), append(d5, g5);
      };
      if_block(St3, (d5) => {
        "entry" === get(mt2) && d5(consequent_5);
      }), reset(ut3);
      var Mt3 = sibling(ut3, 2), Vt2 = child(Mt3);
      template_effect(() => set_text(Vt2, `${i("metrics.stocks.exit") ?? ""} `));
      var Ot2 = sibling(Vt2), consequent_7 = (d5) => {
        var g5 = kf(), _5 = child(g5), consequent_6 = (d6) => {
          Chevron_down(d6, { size: 14 });
        }, alternate_3 = (d6) => {
          Chevron_up(d6, { size: 14 });
        };
        if_block(_5, (d6) => {
          "dn" === get(bt2) ? d6(consequent_6) : d6(alternate_3, false);
        }), reset(g5), transition(1, g5, () => fade, () => ({ duration: 150 })), append(d5, g5);
      };
      if_block(Ot2, (d5) => {
        "exit" === get(mt2) && d5(consequent_7);
      }), reset(Mt3);
      var zt2 = sibling(Mt3, 2), Bt2 = child(zt2);
      template_effect(() => set_text(Bt2, `${i("metrics.stocks.position") ?? ""} `));
      var Zt2 = sibling(Bt2), consequent_9 = (d5) => {
        var g5 = Sf(), _5 = child(g5), consequent_8 = (d6) => {
          Chevron_down(d6, { size: 14 });
        }, alternate_4 = (d6) => {
          Chevron_up(d6, { size: 14 });
        };
        if_block(_5, (d6) => {
          "dn" === get(bt2) ? d6(consequent_8) : d6(alternate_4, false);
        }), reset(g5), transition(1, g5, () => fade, () => ({ duration: 150 })), append(d5, g5);
      };
      if_block(Zt2, (d5) => {
        "position" === get(mt2) && d5(consequent_9);
      }), reset(zt2), next(2), reset(_4);
      var ce2 = sibling(_4, 2), ue2 = child(ce2);
      each$1(ue2, 1, () => get(At2), index$1, (d5, g5, _5) => {
        var O4 = Vf();
        const $4 = derived_safe_equal(() => getPerformanceIndicator(get(g5).return)), st4 = derived_safe_equal(() => getPerformanceIndicator(get(g5).position));
        var ot4 = child(O4), lt4 = child(ot4), ct4 = child(lt4, true);
        reset(lt4), reset(ot4);
        var ut4 = sibling(ot4, 2), gt4 = child(ut4), mt3 = child(gt4), bt3 = child(mt3), consequent_10 = (d6) => {
          var g6 = comment();
          component(first_child(g6), () => get($4).icon, (d7, g7) => {
            g7(d7, { size: 14, get style() {
              return get($4).color;
            } });
          }), append(d6, g6);
        };
        if_block(bt3, (d6) => {
          get($4).icon && d6(consequent_10);
        }), reset(mt3);
        var yt3 = sibling(mt3, 2), wt3 = child(yt3, true);
        template_effect(() => set_text(wt3, formatPercent(get(g5).return))), reset(yt3), reset(gt4), reset(ut4);
        var Pt3 = sibling(ut4, 2), At3 = child(Pt3), St4 = child(At3), Mt4 = child(St4, true);
        template_effect(() => set_text(Mt4, dateFormatter(get(g5).entry))), reset(St4);
        var Vt3 = sibling(St4, 2), Ot3 = child(Vt3, true);
        reset(Vt3), reset(At3), reset(Pt3);
        var zt3 = sibling(Pt3, 2), Bt3 = child(zt3), Zt3 = child(Bt3), ce3 = child(Zt3, true);
        template_effect(() => set_text(ce3, dateFormatter(get(g5).exit))), reset(Zt3);
        var ue3 = sibling(Zt3, 2), de3 = child(ue3, true);
        reset(ue3), reset(Bt3), reset(zt3);
        var pe3 = sibling(zt3, 2), fe3 = child(pe3), ge3 = child(fe3, true);
        template_effect(() => set_text(ge3, formatPercent(get(g5).position))), reset(fe3), reset(pe3);
        var ve3 = sibling(pe3, 2), Ee3 = child(ve3), consequent_11 = (d6) => {
          var _6 = Cf(), O5 = sibling(child(_6), 2);
          const $5 = derived_safe_equal(() => `color: ${signColor(get(g5).mae)}`);
          var st5 = child(O5, true);
          template_effect(() => set_text(st5, formatPercent(get(g5).mae))), reset(O5), reset(_6), template_effect(() => set_attribute(O5, "style", get($5))), append(d6, _6);
        };
        if_block(Ee3, (d6) => {
          void 0 !== get(g5).mae && null !== get(g5).mae && d6(consequent_11);
        });
        var Ie3 = sibling(Ee3, 2), consequent_12 = (d6) => {
          var _6 = Mf(), O5 = sibling(child(_6), 2);
          const $5 = derived_safe_equal(() => `color: ${signColor(get(g5).gmfe)}`);
          var st5 = child(O5, true);
          template_effect(() => set_text(st5, formatPercent(get(g5).gmfe))), reset(O5), reset(_6), template_effect(() => set_attribute(O5, "style", get($5))), append(d6, _6);
        };
        if_block(Ie3, (d6) => {
          void 0 !== get(g5).gmfe && null !== get(g5).gmfe && d6(consequent_12);
        }), reset(ve3), reset(O4), template_effect(() => {
          set_text(ct4, get(g5).stockId || "-"), set_attribute(mt3, "style", get($4).bgColor), set_attribute(yt3, "style", get($4).color), set_text(Ot3, get(g5).entryPrice ? `$${get(g5).entryPrice}` : ""), set_text(de3, get(g5).exitPrice ? `$${get(g5).exitPrice}` : ""), set_attribute(fe3, "style", get(st4).color);
        }), transition(1, O4, () => fly, () => ({ y: 20, duration: 300, delay: 30 * _5 })), append(d5, O4);
      });
      var de2 = sibling(ue2, 2), pe2 = child(de2), fe2 = child(pe2), ge2 = sibling(fe2, 2);
      each$1(ge2, 1, getVisiblePageNumbers, index$1, (d5, g5) => {
        var _5 = comment(), O4 = first_child(_5), consequent_13 = (d6) => {
          append(d6, Df());
        }, alternate_5 = (d6) => {
          var _6 = Of(), O5 = child(_6, true);
          reset(_6), template_effect(() => {
            set_class(_6, `join-item btn btn-sm ${(get(wt2) === get(g5) ? "btn-active" : "") ?? ""}`), set_text(O5, get(g5));
          }), event("click", _6, () => goToPage(get(g5))), append(d6, _6);
        };
        if_block(O4, (d6) => {
          "..." === get(g5) ? d6(consequent_13) : d6(alternate_5, false);
        }), append(d5, _5);
      });
      var ve2 = sibling(ge2, 2);
      reset(pe2);
      var Ee2 = sibling(pe2, 2), Ie2 = child(Ee2, true);
      reset(Ee2), reset(de2), reset(ce2), reset(g4), template_effect(() => {
        set_class(fe2, `join-item btn btn-sm ${(1 === get(wt2) ? "btn-disabled" : "") ?? ""}`), fe2.disabled = 1 === get(wt2), set_class(ve2, `join-item btn btn-sm ${(get(wt2) === get(Pt2) ? "btn-disabled" : "") ?? ""}`), ve2.disabled = get(wt2) === get(Pt2), set_text(Ie2, `第 ${get(wt2)} 頁，共 ${get(Pt2)} 頁 (${get(yt2).length} 筆交易)`);
      }), event("click", O3, () => {
        "stockId" !== get(mt2) ? set$1(mt2, "stockId") : set$1(bt2, "up" === get(bt2) ? "dn" : "up");
      }), event("click", ot3, () => {
        "return" !== get(mt2) ? set$1(mt2, "return") : set$1(bt2, "up" === get(bt2) ? "dn" : "up");
      }), event("click", ut3, () => {
        "entry" !== get(mt2) ? set$1(mt2, "entry") : set$1(bt2, "up" === get(bt2) ? "dn" : "up");
      }), event("click", Mt3, () => {
        "exit" !== get(mt2) ? set$1(mt2, "exit") : set$1(bt2, "up" === get(bt2) ? "dn" : "up");
      }), event("click", zt2, () => {
        "position" !== get(mt2) ? set$1(mt2, "position") : set$1(bt2, "up" === get(bt2) ? "dn" : "up");
      }), event("click", fe2, () => goToPage(get(wt2) - 1)), event("click", ve2, () => goToPage(get(wt2) + 1)), append(d4, g4);
    }, alternate_7 = (d4) => {
      var g4 = Ff(), _4 = child(g4);
      Search(child(_4), { class: "w-8 h-8 text-base-content/50" }), reset(_4);
      var $3 = sibling(_4, 2);
      $3.textContent = "沒有交易記錄";
      var st3 = sibling($3, 2), consequent_15 = (d5) => {
        var g5 = Nf(), _5 = child(g5);
        Triangle_alert(_5, { size: 16, class: "text-warning" });
        var O3 = sibling(_5, 2), $4 = child(O3);
        $4.nodeValue = "網頁資料受限，請使用程式碼 ", sibling($4, 2).nodeValue = " 查看所有紀錄", reset(O3), reset(g5), append(d5, g5);
      }, alternate_6 = (d5) => {
        var g5 = $f();
        g5.textContent = "這段時間沒有交易，請選擇其他時間範圍", append(d5, g5);
      };
      if_block(st3, (d5) => {
        get(O2) ? d5(consequent_15) : d5(alternate_6, false);
      }), reset(g4), transition(1, g4, () => fade, () => ({ duration: 300 })), append(d4, g4);
    };
    if_block(_3, (d4) => {
      0 !== get(yt2).length ? d4(consequent_14) : d4(alternate_7, false);
    }), reset(g3), append(d3, g3);
  };
  return if_block(Mt2, (d3) => {
    ot2() && 0 != ot2().trades.length && d3(consequent_16);
  }), append(d2, St2), pop({ get browser() {
    return st2();
  }, set browser(d3) {
    st2(d3), flush_sync();
  }, get report() {
    return ot2();
  }, set report(d3) {
    ot2(d3), flush_sync();
  }, get theme() {
    return lt2();
  }, set theme(d3) {
    lt2(d3), flush_sync();
  }, get candle() {
    return ct2();
  }, set candle(d3) {
    ct2(d3), flush_sync();
  }, get tstart() {
    return ut2();
  }, set tstart(d3) {
    ut2(d3), flush_sync();
  }, get tend() {
    return gt2();
  }, set tend(d3) {
    gt2(d3), flush_sync();
  } });
}
create_custom_element(Stocks, { browser: {}, report: {}, theme: {}, candle: {}, tstart: {}, tend: {} }, [], [], true);
var Bf = template('<div class="absolute bg-primary/10 rounded-lg text-center whitespace-nowrap text-base-content text-sm flex justify-center items-start pt-2"> </div>'), Uf = template('<button><div class="flex flex-col items-center"><span class="font-light"> </span> <span> </span></div></button>'), Wf = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"></path></svg>'), jf = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"></path></svg>'), qf = template('<div class="flex justify-center items-center"> </div>'), Hf = template("<div> </div>"), Kf = template('<div class="h-12 flex justify-start items-center"> </div> <!> <div class="flex justify-center items-center border border-base-content/0"> </div>', 1), Gf = template('<div class="col-span-14 text-center mt-3 text-xs text-base-content-200"> </div>'), Yf = template('<div class="grid grid-cols-6 mx-6 md:mx-12 gap-6 md:12 lg:gap-24"><div class="col-span-6 md:col-span-6"><div class="mb-12"><div><div class="text-3xl font-light text-base-content/70"> </div></div> <div class="relative overflow-hidden -mt-6"><div class="text-primary h-64 z-0"></div> <!> <div class="mt-6 @md:text-right"><h3 class="text-lg font-light text-base-content/70 mb-3">年度表現</h3> <div class="carousel carousel-center max-w-full space-x-2 overflow-x-auto"><button class="carousel-item px-5 py-3 rounded-lg border border-base-content/20 hover:shadow-md transition-all duration-300 cursor-pointer"><div class="flex flex-col items-center"><span class="text-medium"> </span> <span class="text-sm"> </span></div></button> <!> <button class="carousel-item px-5 py-3 rounded-lg border border-base-content/20 hover:shadow-md transition-all duration-300 cursor-pointer"><div class="flex flex-col items-center"><span class="font-medium">全部</span> <span class="text-sm">重設時間</span></div></button></div></div></div></div></div> <div class="col-span-6 md:col-span-6"><div><div><div class="text-3xl font-light text-base-content/70 mb-3"> </div> <div class="card-content"><div class="stats"><div class="stat pl-0"><div class="stat-title"> </div> <div class="text-3xl font-light"><span> </span></div> <div class="stat-desc"> </div></div> <div class="stat"><div class="stat-title"> </div> <div class="text-3xl font-light"><span> </span></div> <div class="stat-desc"> </div></div></div> <div class="relative"><div class="flex justify-between items-center mb-2 -mt-12"><div class="text-base-content-200"></div> <button class="btn btn-sm btn-ghost"><!></button></div> <div><div class="grid grid-cols-14 mt-3 text-xs text-base-content-200 rounded-xl min-w-[640px] pb-4 overflow-y-hidden svelte-13tqbdu"><div class="h-5 md:h-10 flex justify-start items-center"> </div> <!> <div class="flex justify-center items-center"></div> <!> <!></div></div></div></div></div></div></div> <div class="col-span-6 md:col-span-6"><div><div><div class="text-3xl font-light text-base-content/70 mb-6"> </div> <div class="text-base-content/70 text-xl mb-3"><!></div> <div class="relative"><div><!></div></div></div></div></div> <div class="col-span-6 md:col-span-3"><div><div><div class="text-3xl font-light text-base-content/70 mb-6"> </div> <div><div class="stat-title"> </div> <div class="text-3xl font-light"> <span class="stat-desc"> </span></div></div> <div><div class="text-sm mt-3 flex"><div class="badge rounded bg-primary text-white mr-2"> </div> <div class="badge rounded bg-gray-500 text-white"> </div></div> <canvas class="h-48 mt-6" style="width:580px"></canvas></div></div></div></div> <div class="col-span-6 md:col-span-3"><div><div><div class="text-3xl font-light text-base-content/70 mb-6"> </div> <div class="text-base-content-100"><div class=" pl-0"><div class="stat-title"> </div> <div class="text-3xl font-light gap-2"> </div></div> <div class="text-sm mt-3 flex"><div class="badge rounded badge-primary text-white"> </div></div> <canvas class="h-48 mt-6" style="width:580px"></canvas></div></div></div></div></div>');
const Qf = { hash: "svelte-13tqbdu", code: ".grid-cols-14.svelte-13tqbdu {grid-template-columns:repeat(14, minmax(0, 1fr));}" };
function Profitability(d2, g2) {
  push(g2, false), append_styles(d2, Qf);
  const _2 = mutable_state(), O2 = mutable_state(), $2 = mutable_state(), st2 = mutable_state(), ot2 = mutable_state(), lt2 = mutable_state(), ct2 = mutable_state(), ut2 = mutable_state(), gt2 = mutable_state(), mt2 = mutable_state(), bt2 = mutable_state(), yt2 = mutable_state(), wt2 = mutable_state(), Pt2 = mutable_state(), At2 = mutable_state();
  Chart.register(LinearScale, BarController, CategoryScale, BarElement, Io);
  let St2 = prop(g2, "browser", 12), Mt2 = prop(g2, "report", 12), Vt2 = prop(g2, "theme", 12, "light"), Ot2 = prop(g2, "showAll", 12, true);
  const i = (d3) => {
    const g3 = d3.replaceAll(".", "_");
    return Xd[g3] ? Xd[g3]() : g3;
  };
  void 0 !== window && (window.report = Mt2());
  let zt2 = mutable_state(), Bt2 = mutable_state(null);
  onMount(() => {
    twRender("all"), renderBarChart2();
  }), onDestroy(() => {
    Ve2 && Ve2.destroy(), De2 && De2.destroy();
  });
  let Zt2 = mutable_state(null), ce2 = mutable_state(null), ue2 = mutable_state(null), de2 = mutable_state(Ot2() ? null : get(O2)), pe2 = mutable_state();
  function selectedMonthRender() {
    if (get(ue2) && get(de2) && Mt2() && get(Bt2) && get(zt2)) {
      const d3 = `${get(de2)}-${get(ue2) < 10 ? `0${get(ue2)}` : String(get(ue2))}-01`, g3 = `${get(de2)}-${get(ue2) + 1 < 10 ? `0${get(ue2) + 1}` : String(get(ue2) + 1)}-01`, _3 = Mt2().indexOfTimestamps(d3), O3 = Mt2().indexOfTimestamps(g3);
      if (!Mt2().timestamps[_3] | !Mt2().timestamps[O3]) return;
      const $3 = get(Bt2).chart.timeScale().timeToCoordinate(Mt2().timestamps[_3]), st3 = get(Bt2).chart.timeScale().timeToCoordinate(Mt2().timestamps[O3]);
      $3 && st3 && (mutate(pe2, get(pe2).style.height = "80%"), mutate(pe2, get(pe2).style.width = st3 - $3 + "px"), mutate(pe2, get(pe2).style.left = $3 + "px"), mutate(pe2, get(pe2).style.top = "0"));
    }
  }
  async function changeTWView(d3, g3) {
    if (!get(Bt2)) return;
    const _3 = Mt2().indexOfTimestamps(d3), O3 = Mt2().indexOfTimestamps(g3);
    get(Bt2).setTimeScale(new Date(Mt2().timestamps[_3]), new Date(Mt2().timestamps[O3]));
  }
  function twRender(d3) {
    get(Bt2) || set$1(Bt2, new TwChart(get(zt2), true)), get(Bt2).setTheme(getThemeType(Vt2()));
    const g3 = "all" === d3 ? Mt2().timestamps.length : 100, _3 = Mt2().timestamps.length / (g3 / 100), O3 = Mt2().createTradingviewSeries("strategy", 0, -1, _3), $3 = Mt2().createTradingviewSeries("benchmark", 0, -1, _3);
    get(Bt2).resetAreaSeries(0), get(Bt2).resetAreaSeries(1), get(Bt2).series[0].setData(O3), get(Bt2).series[1].setData($3), get(Bt2).chart.subscribeCrosshairMove((d4) => {
      const g4 = new Date(d4.time);
      set$1(Zt2, g4.getMonth() + 1), set$1(ce2, g4.getFullYear() || get(ce2));
    }), get(Bt2).chart.subscribeClick((d4) => {
      const g4 = new Date(d4.time);
      set$1(ue2, g4.getMonth() + 1), set$1(de2, g4.getFullYear()), selectedMonthRender();
    }), get(Bt2).chart.timeScale().subscribeVisibleTimeRangeChange((d4) => {
      selectedMonthRender();
    }), "all" === d3 ? get(Bt2).setTimeScale(new Date(Mt2().timestamps[0]), new Date(Mt2().timestamps[Mt2().timestamps.length - 1])) : get(Bt2);
  }
  function sign(d3) {
    return d3 > 0 ? "+" + String(d3) : d3;
  }
  function sumArray(d3) {
    return 0 === d3.length ? 0 : d3[0] + sumArray(d3.slice(1));
  }
  let fe2 = mutable_state(null), ge2 = mutable_state(null);
  function color2(d3) {
    if (!d3 || 0 == d3) return "rgba(0,0,0,0)";
    let g3 = d3 > 0 ? d3 / get(ct2) : d3 / get(ut2);
    g3 = Math.min(0.6, Math.abs(g3));
    return setOklchAlpha(d3 > 0 ? riseColor() : fallColor(), g3);
  }
  function yearlyColor(d3) {
    if (!d3 || 0 == d3) return "rgba(0,0,0,0)";
    let g3 = Math.abs(d3 > 0 ? d3 / get(Pt2) : d3 / get(wt2)) / 2;
    return setOklchAlpha(d3 > 0 ? riseColor() : fallColor(), g3);
  }
  let ve2 = mutable_state(null), Ee2 = mutable_state(null), Ie2 = mutable_state(null);
  let Ae2 = mutable_state(), Re2 = mutable_state(), Ve2 = null, De2 = null;
  function renderBarChart2() {
    if (!St2()) return;
    if (!get(bt2)) return;
    if (!get(At2)) return;
    Ve2 && Ve2.destroy(), De2 && De2.destroy();
    const d3 = function subtractAndMean(d4, g4) {
      const _4 = Object.keys(d4), O4 = {}, $3 = _4.reduce((_5, $4) => {
        const st3 = d4[$4] - g4[$4];
        return O4[$4] = st3, _5 + st3;
      }, 0) / _4.length;
      return { result: O4, mean: $3 };
    }(get(bt2), get(At2));
    set$1(ve2, d3.mean), set$1(Ee2, Object.values(d3.result).filter((d4) => d4 > 0).length), set$1(Ie2, Object.values(d3.result).length - get(Ee2));
    const g3 = Object.keys(get(bt2)), _3 = get(Ae2).getContext("2d");
    Ve2 = new Chart(_3, { type: "bar", data: { labels: g3, datasets: [{ label: i("profitability.yearlyReturn"), data: Object.values(get(bt2)), backgroundColor: "light" === getThemeType(Vt2()) ? "#725bf5" : "#7a64f5", borderWidth: 0, borderRadius: 200 }, { label: i("profitability.benchmarkYearlyReturn"), data: Object.values(get(At2)), backgroundColor: "#777777AA", borderWidth: 0, borderRadius: 200 }] }, options: { responsive: true, maintainAspectRatio: true, layout: { padding: 0 }, plugins: { legend: { display: false }, tooltip: {} }, scales: { y: { beginAtZero: true, ticks: { callback: (d4, g4, _4) => (100 * d4).toFixed() + "%", color: "light" === getThemeType(Vt2()) ? "#000000aa" : "#FFFFFFaa", display: false }, grid: { color: "#77777755", display: false }, border: { display: false } }, x: { ticks: { color: "light" === getThemeType(Vt2()) ? "#000000aa" : "#FFFFFFaa" }, grid: { color: "#77777755", display: false }, border: { display: false } } } } });
    const O3 = get(Re2).getContext("2d");
    De2 = new Chart(O3, { type: "bar", data: { labels: g3, datasets: [{ label: i("profitability.exceedReturn"), data: Object.values(d3.result), backgroundColor: "light" === getThemeType(Vt2()) ? "#725bf5" : "#7a64f5", borderColor: "#725bf5", borderWidth: 0, borderRadius: 200 }] }, options: { responsive: true, maintainAspectRatio: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, ticks: { callback: (d4, g4, _4) => (100 * d4).toFixed() + "%", color: "light" === getThemeType(Vt2()) ? "#000000aa" : "#FFFFFFaa", display: false }, grid: { color: "#77777755", tickBorderDash: [2, 2], display: false }, border: { display: false } }, x: { ticks: { color: "light" === getThemeType(Vt2()) ? "#000000aa" : "#FFFFFFaa" }, grid: { color: "#77777755", tickBorderDash: [2, 2], display: false }, border: { display: false } } } } });
  }
  let Oe2 = mutable_state(false);
  legacy_pre_effect(() => deep_read_state(Vt2()), () => {
    Vt2() && renderBarChart2();
  }), legacy_pre_effect(() => deep_read_state(Mt2()), () => {
    set$1(_2, new Date(Mt2().timestamps[0]).getFullYear());
  }), legacy_pre_effect(() => deep_read_state(Mt2()), () => {
    set$1(O2, new Date(Mt2().timestamps[Mt2().timestamps.length - 1]).getFullYear());
  }), legacy_pre_effect(() => (get(de2), get(ue2)), () => {
    set$1($2, get(de2) ? new Date(new Date(get(de2), (get(ue2) || 1) - 1)) : null);
  }), legacy_pre_effect(() => (get(de2), get(ue2)), () => {
    set$1(st2, get(de2) ? new Date(new Date(get(de2), get(ue2) || 12) - 864e5) : null);
  }), legacy_pre_effect(() => (get(Bt2), deep_read_state(Vt2())), () => {
    get(Bt2) && get(Bt2).setTheme(getThemeType(Vt2()));
  }), legacy_pre_effect(() => deep_read_state(Mt2()), () => {
    set$1(ot2, Mt2().calculateMonthlyReturn("strategy"));
  }), legacy_pre_effect(() => get(ot2), () => {
    set$1(lt2, Object.values(get(ot2)).filter((d3) => d3 == d3));
  }), legacy_pre_effect(() => get(lt2), () => {
    set$1(ct2, Math.max(...get(lt2)));
  }), legacy_pre_effect(() => get(lt2), () => {
    set$1(ut2, Math.min(...get(lt2)));
  }), legacy_pre_effect(() => get(lt2), () => {
    set$1(gt2, sumArray(get(lt2)) / get(lt2).length);
  }), legacy_pre_effect(() => get(lt2), () => {
    set$1(mt2, get(lt2).filter((d3) => d3 > 0).length / get(lt2).length * 100);
  }), legacy_pre_effect(() => deep_read_state(Mt2()), () => {
    set$1(bt2, Mt2().calculateAnnualReturn("strategy"));
  }), legacy_pre_effect(() => get(bt2), () => {
    set$1(yt2, Object.values(get(bt2)).filter((d3) => d3 == d3));
  }), legacy_pre_effect(() => get(yt2), () => {
    set$1(wt2, Math.min(...get(yt2)));
  }), legacy_pre_effect(() => get(yt2), () => {
    set$1(Pt2, Math.max(...get(yt2)));
  }), legacy_pre_effect(() => deep_read_state(Mt2()), () => {
    set$1(At2, Mt2().calculateAnnualReturn("benchmark"));
  }), legacy_pre_effect(() => (get(ot2), deep_read_state(Vt2())), () => {
    (get(ot2) || Vt2()) && set$1(fe2, Object.fromEntries(Object.keys(get(ot2)).map((d3) => [d3, color2(get(ot2)[d3])])));
  }), legacy_pre_effect(() => (get(bt2), deep_read_state(Vt2())), () => {
    (get(bt2) || Vt2()) && set$1(ge2, Object.fromEntries(Object.keys(get(bt2)).map((d3) => [d3, yearlyColor(get(bt2)[d3])])));
  }), legacy_pre_effect_reset(), init();
  var Le2 = Yf(), Ne2 = child(Le2), $e2 = child(Ne2), Fe2 = child($e2), ze2 = child(Fe2), Be2 = child(ze2, true);
  template_effect(() => set_text(Be2, i("profitability.historicalReturn"))), reset(ze2), reset(Fe2);
  var Ue2 = sibling(Fe2, 2), We2 = child(Ue2);
  bind_this(We2, (d3) => set$1(zt2, d3), () => get(zt2));
  var je2 = sibling(We2, 2), consequent = (d3) => {
    var g3 = Bf(), _3 = child(g3);
    reset(g3), bind_this(g3, (d4) => set$1(pe2, d4), () => get(pe2)), template_effect(() => set_text(_3, `${get(de2) ?? ""}-${(get(ue2) < 10 ? "0" + get(ue2) : get(ue2)) ?? ""}`)), append(d3, g3);
  };
  if_block(je2, (d3) => {
    get(ue2) && get(de2) && d3(consequent);
  });
  var qe2 = sibling(je2, 2), He2 = sibling(child(qe2), 2), Ke2 = child(He2), Ge2 = child(Ke2), Ye2 = child(Ge2), Qe2 = child(Ye2, true);
  reset(Ye2);
  var Xe2 = sibling(Ye2, 2), Je2 = child(Xe2, true);
  reset(Xe2), reset(Ge2), reset(Ke2);
  var Ze2 = sibling(Ke2, 2);
  each$1(Ze2, 1, () => Array.from(Array(get(O2) + 1).keys()).slice(get(_2)).filter((d3) => get(Oe2) || d3 > get(O2) - 5), index$1, (d3, g3) => {
    var _3 = Uf(), O3 = child(_3), $3 = child(O3), st3 = child($3, true);
    reset($3);
    var ot3 = sibling($3, 2);
    const lt3 = derived_safe_equal(() => clsx(signColorClass(get(bt2)[get(g3)])));
    var ct3 = child(ot3);
    template_effect(() => set_text(ct3, `${(100 * get(bt2)[get(g3)] || 0).toFixed(1) ?? ""}%`)), reset(ot3), reset(O3), reset(_3), template_effect(() => {
      set_class(_3, `${`cursor-pointer carousel-item px-5 py-3 rounded-lg border transition-all duration-300
									${get(ce2) === get(g3) ? "border-primary shadow-sm" : "border-base-content/20"}
									hover:shadow-md` ?? ""} svelte-13tqbdu`), set_text(st3, get(g3)), set_class(ot3, get(lt3), "svelte-13tqbdu");
    }), event("click", _3, () => {
      twRender("year"), changeTWView(get(g3) - 1 + "-12-31", `${get(g3)}-12-31`), set$1(ce2, get(g3));
    }), append(d3, _3);
  });
  var ti2 = sibling(Ze2, 2);
  reset(He2), reset(qe2), reset(Ue2), reset($e2), reset(Ne2);
  var ai2 = sibling(Ne2, 2), Vi2 = child(ai2), Li2 = child(Vi2), zi2 = child(Li2), is2 = child(zi2, true);
  template_effect(() => set_text(is2, i("profitability.monthlyReturn"))), reset(zi2);
  var As2 = sibling(zi2, 2), Vs2 = child(As2), Ls2 = child(Vs2), zs2 = child(Ls2), Bs2 = child(zs2, true);
  template_effect(() => set_text(Bs2, i("profitability.avgMonthlyReturn"))), reset(zs2);
  var en2 = sibling(zs2, 2), sn2 = child(en2);
  const nn2 = derived_safe_equal(() => clsx(signColorClass(get(gt2))));
  var rn2 = child(sn2);
  template_effect(() => set_text(rn2, `${sign((100 * get(gt2)).toFixed(2)) ?? ""}%`)), reset(sn2), reset(en2);
  var on2 = sibling(en2, 2), an2 = child(on2, true);
  template_effect(() => set_text(an2, i("average"))), reset(on2), reset(Ls2);
  var ln2 = sibling(Ls2, 2), pn2 = child(ln2), _n2 = child(pn2, true);
  template_effect(() => set_text(_n2, i("profitability.monthlyWinRatio"))), reset(pn2);
  var mn2 = sibling(pn2, 2), vn2 = child(mn2);
  const In2 = derived_safe_equal(() => clsx(signColorClass(get(mt2) - 0.5)));
  var An2 = child(vn2);
  template_effect(() => set_text(An2, `${get(mt2).toFixed(1) ?? ""}%`)), reset(vn2), reset(mn2);
  var Vn2 = sibling(mn2, 2), On2 = child(Vn2);
  template_effect(() => set_text(On2, `${get(lt2).filter((d3) => d3 > 0).length ?? ""} / ${get(lt2).length ?? ""}`)), reset(Vn2), reset(ln2), reset(Vs2);
  var Bn2 = sibling(Vs2, 2), Hn2 = child(Bn2), Yn2 = sibling(child(Hn2), 2), Xn2 = child(Yn2), consequent_1 = (d3) => {
    append(d3, Wf());
  }, alternate = (d3) => {
    append(d3, jf());
  };
  if_block(Xn2, (d3) => {
    get(Oe2) ? d3(consequent_1) : d3(alternate, false);
  }), reset(Yn2), reset(Hn2);
  var tr2 = sibling(Hn2, 2);
  const er2 = derived_safe_equal(() => `${`overflow-x-auto
							${function isMobile() {
    const d3 = navigator.userAgent || navigator.vendor;
    return /iPad|iPhone|iPod|android/i.test(d3);
  }() ? "no-scrollbar" : "show-scrollbar"}
						` ?? ""} svelte-13tqbdu`);
  var ir2 = child(tr2), sr2 = child(ir2), nr2 = child(sr2, true);
  template_effect(() => set_text(nr2, i("profitability.monthlyReturn"))), reset(sr2);
  var rr2 = sibling(sr2, 2);
  each$1(rr2, 0, () => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], index$1, (d3, g3) => {
    var _3 = qf(), O3 = child(_3);
    reset(_3), template_effect(() => set_text(O3, `${g3 ?? ""} 月`)), append(d3, _3);
  });
  var or2 = sibling(rr2, 4);
  each$1(or2, 1, () => Array.from(Array(get(O2) + 1).keys()).slice(get(_2)).filter((d3) => get(Oe2) || d3 > get(O2) - 5), index$1, (d3, g3) => {
    var _3 = Kf(), O3 = first_child(_3), $3 = child(O3, true);
    reset(O3);
    var st3 = sibling(O3, 2);
    each$1(st3, 0, () => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], index$1, (d4, _4) => {
      var O4 = Hf(), $4 = child(O4);
      template_effect(() => set_text($4, `${sign((100 * (get(ot2)[`${get(g3)}${_4}`] || 0)).toFixed(1)) ?? ""}%`)), reset(O4), template_effect(() => {
        set_class(O4, `${`cursor-pointer flex justify-center items-center hover:text-base-content-300 hover:z-20 hover:outline hover:shadow-primary hover:outline-2 hover:outline-primary hover:border-none hover:rounded-lg hover:font-bold hover:text-2xl hover:-m-3 hover:shadow-lg 
											${get(g3) === get(ce2) ? "border-t-2 border-b-2 border-primary" : ""} 											${get(g3) === get(ce2) && 1 == _4 ? "border-l-2 border-primary rounded-l-lg" : ""} 											${get(g3) === get(ce2) && 12 == _4 ? "border-r-2 border-primary rounded-r-lg" : ""} 											${_4 === get(Zt2) && get(g3) === get(ce2) ? "text-base-content-300 text-2xl -m-6 font-bold outline shadow-primary outline-2 outline-primary border-none rounded-lg z-20 shadow-2xl" : ""}` ?? ""} svelte-13tqbdu`), set_attribute(O4, "style", `background:${get(fe2)[`${get(g3)}${_4}`]}`);
      }), event("click", O4, () => {
        twRender("year"), changeTWView(get(g3) - 1 + "-12-31", `${get(g3)}-12-31`), set$1(ce2, get(g3)), set$1(de2, get(g3)), set$1(ue2, _4), selectedMonthRender();
      }), append(d4, O4);
    });
    var lt3 = sibling(st3, 2), ct3 = child(lt3, true);
    reset(lt3), template_effect(() => {
      set_text($3, get(g3)), set_text(ct3, get(g3));
    }), append(d3, _3);
  });
  var ar2 = sibling(or2, 2), consequent_2 = (d3) => {
    var g3 = Gf(), $3 = child(g3);
    template_effect(() => set_text($3, `只顯示 ${Math.min(5, get(O2) - get(_2) + 1) ?? ""} 年，如希望看到完整報酬，請點選右上角展開`)), reset(g3), append(d3, g3);
  };
  if_block(ar2, (d3) => {
    !get(Oe2) && get(O2) - get(_2) + 1 > 5 && d3(consequent_2);
  }), reset(ir2), reset(tr2), reset(Bn2), reset(As2), reset(Li2), reset(Vi2), reset(ai2);
  var lr2 = sibling(ai2, 2), cr2 = child(lr2), hr2 = child(cr2), ur2 = child(hr2), dr2 = child(ur2, true);
  template_effect(() => set_text(dr2, i("profitability.stockList"))), reset(ur2);
  var pr2 = sibling(ur2, 2), fr2 = child(pr2), consequent_3 = (d3) => {
    var g3 = text();
    const _3 = derived_safe_equal(() => {
      var _a3;
      return ((_a3 = get($2)) == null ? void 0 : _a3.toLocaleDateString()) ?? "";
    }), O3 = derived_safe_equal(() => {
      var _a3;
      return ((_a3 = get(st2)) == null ? void 0 : _a3.toLocaleDateString()) ?? "";
    });
    template_effect(() => set_text(g3, `${get(_3)}~${get(O3)}`)), append(d3, g3);
  };
  if_block(fr2, (d3) => {
    get(de2) && d3(consequent_3);
  }), reset(pr2);
  var gr2 = sibling(pr2, 2), _r2 = child(gr2);
  Stocks(child(_r2), { get report() {
    return Mt2();
  }, get theme() {
    return Vt2();
  }, get browser() {
    return St2();
  }, get tstart() {
    return get($2);
  }, get tend() {
    return get(st2);
  } }), reset(_r2), reset(gr2), reset(hr2), reset(cr2), reset(lr2);
  var mr2 = sibling(lr2, 2), vr2 = child(mr2), br2 = child(vr2), yr2 = child(br2), wr2 = child(yr2, true);
  template_effect(() => set_text(wr2, i("profitability.YearlyCompareWithBenchmark"))), reset(yr2);
  var xr2 = sibling(yr2, 2), Tr2 = child(xr2), Er2 = child(Tr2, true);
  template_effect(() => set_text(Er2, i("profitability.yearlyWinRate"))), reset(Tr2);
  var Pr2 = sibling(Tr2, 2), Ir2 = child(Pr2), Ar2 = sibling(Ir2), Rr2 = child(Ar2, true);
  template_effect(() => set_text(Rr2, i("profitability.year"))), reset(Ar2), reset(Pr2), reset(xr2);
  var kr2 = sibling(xr2, 2), Sr2 = child(kr2), Cr2 = child(Sr2), Mr2 = child(Cr2, true);
  template_effect(() => set_text(Mr2, i("strategy"))), reset(Cr2);
  var Vr2 = sibling(Cr2, 2), Dr2 = child(Vr2, true);
  template_effect(() => set_text(Dr2, i("benchmark"))), reset(Vr2), reset(Sr2), bind_this(sibling(Sr2, 2), (d3) => set$1(Ae2, d3), () => get(Ae2)), reset(kr2), reset(br2), reset(vr2), reset(mr2);
  var Or2 = sibling(mr2, 2), Lr2 = child(Or2), Nr2 = child(Lr2), $r2 = child(Nr2), Fr2 = child($r2, true);
  template_effect(() => set_text(Fr2, i("profitability.exceedReturn"))), reset($r2);
  var zr2 = sibling($r2, 2), Br2 = child(zr2), Ur2 = child(Br2), Wr2 = child(Ur2, true);
  template_effect(() => set_text(Wr2, i("average"))), reset(Ur2);
  var jr2 = sibling(Ur2, 2), qr2 = child(jr2);
  template_effect(() => set_text(qr2, `${sign((100 * get(ve2)).toFixed(2)) ?? ""}%`)), reset(jr2), reset(Br2);
  var Hr2 = sibling(Br2, 2), Kr2 = child(Hr2), Gr2 = child(Kr2, true);
  return template_effect(() => set_text(Gr2, i("strategy"))), reset(Kr2), reset(Hr2), bind_this(sibling(Hr2, 2), (d3) => set$1(Re2, d3), () => get(Re2)), reset(zr2), reset(Nr2), reset(Lr2), reset(Or2), reset(Le2), template_effect(() => {
    set_text(Qe2, get(Oe2) ? "收起" : "更多"), set_text(Je2, (get(Oe2), "年份")), set_class(sn2, get(nn2), "svelte-13tqbdu"), set_class(vn2, get(In2), "svelte-13tqbdu"), set_attribute(Yn2, "aria-label", get(Oe2) ? "Collapse" : "Expand"), set_class(tr2, get(er2)), set_text(Ir2, `${get(Ee2) ?? ""} / ${get(Ee2) + get(Ie2)} `);
  }), event("click", Ke2, () => set$1(Oe2, !get(Oe2))), event("click", ti2, () => {
    twRender("all"), changeTWView(0, -1), set$1(ce2, null);
  }), event("click", Yn2, () => set$1(Oe2, !get(Oe2))), append(d2, Le2), pop({ get browser() {
    return St2();
  }, set browser(d3) {
    St2(d3), flush_sync();
  }, get report() {
    return Mt2();
  }, set report(d3) {
    Mt2(d3), flush_sync();
  }, get theme() {
    return Vt2();
  }, set theme(d3) {
    Vt2(d3), flush_sync();
  }, get showAll() {
    return Ot2();
  }, set showAll(d3) {
    Ot2(d3), flush_sync();
  } });
}
create_custom_element(Profitability, { browser: {}, report: {}, theme: {}, showAll: {} }, [], [], true);
var Xf = template('<button class="btn btn-xs ml-2">年</button> <button class="btn btn-xs ml-2">季</button> <button class="btn btn-primary btn-xs ml-2">月</button>', 1), Jf = template('<div class="grid grid-cols-6 mx-6 md:mx-12 gap-6 md:12 lg:gap-24 text-base-content-200"><div class="col-span-6 md:col-span-3"><div class="pb-0"><div class="flex items-center"><div class="test-base-content/70 font-light text-3xl mb-6"> <!></div></div> <div><div class="w-full mb-6"><div class="font-light"><div class="text-normal"> </div> <div class="text-3xl"> </div></div></div></div></div> <div class="pl-0 pt-0 pr-0 -mt-8"><div class="h-48"></div></div></div> <div class="col-span-6 md:col-span-3"><div><div class="test-base-content/70 font-light text-3xl mb-6"> </div> <div><span> </span> <div class="w-full overflow-x-auto relative"><div class="text-sm mt-2 flex gap-2"><div class="badge rounded bg-primary text-white"> </div> <div class="badge rounded bg-gray-500 text-white"> </div> <div class="badge rounded bg-[rgba(241,99,102,1)] text-white"> </div></div></div></div></div> <div class="pt-0 pr-0"><canvas class="h-48 mt-6"></canvas></div></div> <div class="col-span-6 md:col-span-3 hidden"><div class="h-48 hidden"></div></div> <div class="col-span-6 md:col-span-3"><div><div class="flex items-end mb-6"><div class="test-base-content/70 font-light text-3xl"> </div> <!></div> <div><div class="w-full mb-6"><div class="font-light"><div class="text-normal"> </div> <div class="text-3xl"> </div></div></div></div></div> <div class="pl-0 pt-0 pr-0 -mt-8"><div class="h-48"></div></div></div> <div class="col-span-6 md:col-span-3"><div><div class="test-base-content/70 font-light text-3xl mb-6"> </div> <div><span> </span> <div class="w-full overflow-x-auto relative"><div class="text-sm mt-3 flex gap-2"><div class="badge rounded badge-primary text-white"> </div> <div class="badge rounded bg-gray-500 text-white"> </div> <div class="badge rounded bg-[rgba(241,99,102,1)] text-white"> </div></div></div></div></div> <div class="pt-0 pr-0"><canvas class="h-48 mt-4" style="width:580px"></canvas></div></div> <div class="col-span-6"><div class="pb-0"><div class="flex items-end mb-6"><div class="test-base-content/70 font-light text-3xl"> </div> <!></div> <div><div class="w-full font-light"><div class="font-normal"> </div> <div class="text-3xl"> </div></div></div></div> <div class="pl-0 pt-0 pr-0"><div class="h-48"></div></div></div> <div class="col-span-6"><div class="pb-0"><div class="flex items-end mb-6"><div class="test-base-content/70 font-light text-3xl">策略與大盤相關性</div> <!></div></div> <div class="pl-0 pt-0 pr-0"><div class="h-48"></div></div></div></div>');
function Ratio(d2, g2) {
  push(g2, false);
  const _2 = mutable_state(), O2 = mutable_state(), $2 = mutable_state(), st2 = mutable_state(), ot2 = mutable_state(), lt2 = mutable_state(), ct2 = mutable_state(), ut2 = mutable_state(), gt2 = mutable_state(), mt2 = mutable_state(), bt2 = mutable_state(), yt2 = mutable_state(), wt2 = mutable_state(), Pt2 = mutable_state(), At2 = mutable_state(), St2 = mutable_state(), Mt2 = mutable_state(), Vt2 = mutable_state(), btns = (d3) => {
    var g3 = Xf(), _3 = first_child(g3), O3 = sibling(_3, 2), $3 = sibling(O3, 2);
    template_effect(() => {
      toggle_class(_3, "btn-primary", 252 == get(ce2)), toggle_class(O3, "btn-primary", 60 == get(ce2)), toggle_class($3, "btn-primary", 20 == get(ce2));
    }), event("click", _3, () => updateRollingWindow(252)), event("click", O3, () => updateRollingWindow(60)), event("click", $3, () => updateRollingWindow(20)), append(d3, g3);
  };
  Chart.register(LinearScale, BarController, CategoryScale, BarElement, Io);
  let Ot2 = prop(g2, "browser", 12), zt2 = prop(g2, "report", 12), Bt2 = prop(g2, "theme", 12), Zt2 = prop(g2, "lang", 12, "en");
  function aboveProbability(d3, g3) {
    let _3 = 0;
    for (let O3 = 0; O3 < d3.length; O3++) d3[O3] > g3[O3] && _3++;
    return _3 / d3.length;
  }
  let ce2 = mutable_state(252), ue2 = mutable_state(), de2 = null, pe2 = mutable_state(), fe2 = null, ge2 = mutable_state(), ve2 = null, Ee2 = mutable_state(), Ie2 = null, Ae2 = mutable_state(), Re2 = null, Ve2 = mutable_state(), De2 = null;
  function yearlyWinRate(d3, g3) {
    return get(At2) ? get(At2).map((_3) => {
      const O3 = d3[_3].value, $3 = g3[_3].value;
      return O3 > $3 ? 1 : O3 < $3 ? 0 : 0.5;
    }).reduce((d4, g4) => d4 + g4, 0) : 0;
  }
  let Oe2 = mutable_state(), Le2 = null;
  function determineColor(d3, g3) {
    return d3.map((d4, _3) => d4 < g3[_3] ? "rgba(241, 99, 102, 1)" : "light" === getThemeType(Bt2()) ? "#725bf5" : "#7a64f5");
  }
  function updateTWCharts() {
    var _a3, _b3;
    null === de2 && (de2 = new TwChart(get(ue2), false)), de2.setTheme(getThemeType(Bt2())), de2.resetAreaSeries(0), de2.resetAreaSeries(1), get(ce2);
    let d3 = get(_2)[0].time, g3 = get(_2)[get(_2).length - 1].time;
    de2.series[0].setData(get(_2)), de2.series[1].setData(get(O2)), de2.setTimeScale(new Date(d3), new Date(g3)), ve2 || (ve2 = new TwChart(get(ge2), false)), ve2.setTheme(getThemeType(Bt2())), ve2.resetAreaSeries(0), ve2.resetAreaSeries(1), d3 = get(st2)[0].time, g3 = get(st2)[get(st2).length - 1].time, ve2.series[0].setData(get(st2)), ve2.series[1].setData(get(ot2)), ve2.setTimeScale(new Date(d3), new Date(g3)), Ie2 || (Ie2 = new TwChart(get(Ee2), false)), Ie2.setTheme(getThemeType(Bt2())), Ie2.resetAreaSeries(0), Ie2.resetAreaSeries(1), d3 = get(lt2)[0].time, g3 = (_a3 = get(lt2)[get(lt2).length - 1]) == null ? void 0 : _a3.time, Ie2.series[0].setData(get(lt2)), Ie2.series[1].setData(get(ct2)), Ie2.setTimeScale(new Date(d3), new Date(g3)), Re2 || (Re2 = new TwChart(get(Ae2), false)), Re2.setTheme(getThemeType(Bt2())), Re2.resetAreaSeries(0), Re2.resetAreaSeries(1), d3 = get(gt2)[0].time, g3 = (_b3 = get(gt2)[get(_2).length - 1]) == null ? void 0 : _b3.time, Re2.series[0].setData(get(gt2)), Re2.series[1].setData(get(mt2)), Re2.setTimeScale(new Date(d3), new Date(g3)), Le2 || (Le2 = new TwChart(get(Oe2), false)), Le2.setTheme(getThemeType(Bt2())), Le2.resetAreaSeries(0), Le2.series[0].setData(get(Vt2));
  }
  function updateBarCharts() {
    if (void 0 !== get(pe2)) {
      fe2 && fe2.destroy();
      var d3 = get(pe2).getContext("2d");
      fe2 = new Chart(d3, { type: "bar", data: { labels: get(Pt2), datasets: [{ label: metrics_ratio_sharperatio1(), data: get(At2).map((d4) => get(_2)[d4].value), backgroundColor: determineColor(get(At2).map((d4) => get(_2)[d4].value), get(At2).map((d4) => get(O2)[d4].value)), borderWidth: 0, barPercentage: 0.5 }, { label: benchmark(), data: get(At2).map((d4) => get(O2)[d4].value), backgroundColor: "#77777777", borderWidth: 0, barPercentage: 0.5 }] }, options: { responsive: true, maintainAspectRatio: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, ticks: { color: "light" === getThemeType(Bt2()) ? "#000000aa" : "#FFFFFFaa" }, grid: { color: "#77777755", tickBorderDash: [2, 2], display: false } }, x: { ticks: { color: "light" === getThemeType(Bt2()) ? "#000000aa" : "#FFFFFFaa" }, grid: { color: "#77777755", tickBorderDash: [2, 2], display: false } } } } }), De2 && De2.destroy();
      var g3 = get(Ve2).getContext("2d");
      De2 = new Chart(g3, { type: "bar", data: { labels: get(Pt2), datasets: [{ label: metrics_ratio_tailratio1(), data: get(At2).map((d4) => get(gt2)[d4].value), backgroundColor: determineColor(get(At2).map((d4) => get(gt2)[d4].value), get(At2).map((d4) => get(mt2)[d4].value)), borderWidth: 0, barPercentage: 0.5 }, { label: benchmark(), data: get(At2).map((d4) => get(mt2)[d4].value), backgroundColor: "#77777777", borderWidth: 0, barPercentage: 0.5 }] }, options: { responsive: true, maintainAspectRatio: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, ticks: { color: "light" === getThemeType(Bt2()) ? "#000000aa" : "#FFFFFFaa" }, grid: { color: "#77777755", tickBorderDash: [2, 2], display: false } }, x: { ticks: { color: "light" === getThemeType(Bt2()) ? "#000000aa" : "#FFFFFFaa" }, grid: { color: "#77777755", tickBorderDash: [2, 2], display: false } } } } });
    }
  }
  async function updateRollingWindow(d3) {
    set$1(ce2, d3), await tick(), updateTWCharts();
  }
  onMount(() => {
    Ot2() && (updateTWCharts(), updateBarCharts());
  }), onDestroy(() => {
    fe2 && fe2.destroy(), De2 && De2.destroy();
  }), legacy_pre_effect(() => (deep_read_state(zt2()), get(ce2)), () => {
    set$1(_2, zt2().calculateSharpe("strategy", 0, get(ce2)));
  }), legacy_pre_effect(() => (deep_read_state(zt2()), get(ce2)), () => {
    set$1(O2, zt2().calculateSharpe("benchmark", 0, get(ce2)));
  }), legacy_pre_effect(() => (get(_2), get(O2)), () => {
    set$1($2, aboveProbability(get(_2).map((d3) => d3.value), get(O2).map((d3) => d3.value)));
  }), legacy_pre_effect(() => (deep_read_state(zt2()), get(ce2)), () => {
    set$1(st2, zt2().calculateSortino("strategy", 0, get(ce2)));
  }), legacy_pre_effect(() => (deep_read_state(zt2()), get(ce2)), () => {
    set$1(ot2, zt2().calculateSortino("benchmark", 0, get(ce2)));
  }), legacy_pre_effect(() => (deep_read_state(zt2()), get(st2)), () => {
    set$1(lt2, zt2().calculateVolitility("strategy", 0, 10).slice(-get(st2).length));
  }), legacy_pre_effect(() => (deep_read_state(zt2()), get(st2)), () => {
    set$1(ct2, zt2().calculateVolitility("benchmark", 0, 10).slice(-get(st2).length));
  }), legacy_pre_effect(() => (get(lt2), get(ct2)), () => {
    set$1(ut2, aboveProbability(get(lt2).map((d3) => d3.value), get(ct2).map((d3) => d3.value)));
  }), legacy_pre_effect(() => (deep_read_state(zt2()), get(ce2)), () => {
    set$1(gt2, zt2().calculateTailRatio("strategy", get(ce2)));
  }), legacy_pre_effect(() => (deep_read_state(zt2()), get(ce2)), () => {
    set$1(mt2, zt2().calculateTailRatio("benchmark", get(ce2)));
  }), legacy_pre_effect(() => (get(gt2), get(mt2)), () => {
    set$1(bt2, aboveProbability(get(gt2).map((d3) => d3.value), get(mt2).map((d3) => d3.value)));
  }), legacy_pre_effect(() => get(_2), () => {
    set$1(yt2, get(_2) ? parseInt(get(_2)[0].time.slice(0, 4)) : 0);
  }), legacy_pre_effect(() => get(_2), () => {
    set$1(wt2, get(_2) ? parseInt(get(_2)[get(_2).length - 1].time.slice(0, 4)) : 0);
  }), legacy_pre_effect(() => (get(wt2), get(yt2)), () => {
    set$1(Pt2, Array.from(Array(get(wt2) + 1).keys()).slice(get(yt2)));
  }), legacy_pre_effect(() => (get(Pt2), deep_read_state(zt2()), get(_2)), () => {
    set$1(At2, get(Pt2) ? get(Pt2).map((d3) => Math.max(Math.min(zt2().indexOfTimestamps(d3 + "-12-31") - 249, get(_2).length - 1), 0)) : []);
  }), legacy_pre_effect(() => (get(_2), get(O2)), () => {
    set$1(St2, yearlyWinRate(get(_2), get(O2)));
  }), legacy_pre_effect(() => (get(gt2), get(mt2)), () => {
    set$1(Mt2, yearlyWinRate(get(gt2), get(mt2)));
  }), legacy_pre_effect(() => (deep_read_state(zt2()), get(ce2)), () => {
    set$1(Vt2, zt2().calculateCorrelation(get(ce2)));
  }), legacy_pre_effect(() => deep_read_state(Bt2()), () => {
    Bt2() && updateBarCharts();
  }), legacy_pre_effect_reset(), init();
  var Ne2 = Jf(), $e2 = child(Ne2), Fe2 = child($e2), ze2 = child(Fe2), Be2 = child(ze2), Ue2 = child(Be2);
  template_effect(() => set_text(Ue2, `${metrics_ratio_sharperatio1() ?? ""} `)), btns(sibling(Ue2)), reset(Be2), reset(ze2);
  var We2 = sibling(ze2, 2), je2 = child(We2), qe2 = child(je2), He2 = child(qe2), Ke2 = child(He2, true);
  template_effect(() => set_text(Ke2, metrics_ratio_timebetterthanbenchmark3())), reset(He2);
  var Ge2 = sibling(He2, 2), Ye2 = child(Ge2);
  template_effect(() => set_text(Ye2, `${(100 * get($2)).toFixed(2) ?? ""}％`)), reset(Ge2), reset(qe2), reset(je2), reset(We2), reset(Fe2);
  var Qe2 = sibling(Fe2, 2);
  bind_this(child(Qe2), (d3) => set$1(ue2, d3), () => get(ue2)), reset(Qe2), reset($e2);
  var Xe2 = sibling($e2, 2), Je2 = child(Xe2), Ze2 = child(Je2), ti2 = child(Ze2, true);
  template_effect(() => set_text(ti2, metrics_ratio_yearlysharperatio2())), reset(Ze2);
  var ai2 = sibling(Ze2, 2), Vi2 = child(ai2);
  const Li2 = derived_safe_equal(() => metrics_ratio_timebetterthanbenchmark3() ?? ""), zi2 = derived_safe_equal(() => get(St2) ?? ""), is2 = derived_safe_equal(() => get(At2).length ?? ""), As2 = derived_safe_equal(() => metrics_ratio_year() ?? "");
  var Vs2 = child(Vi2);
  template_effect(() => set_text(Vs2, `${get(Li2)}
					${get(zi2)} / ${get(is2)}
					${get(As2)}`)), reset(Vi2);
  var Ls2 = sibling(Vi2, 2), zs2 = child(Ls2), Bs2 = child(zs2), en2 = child(Bs2, true);
  template_effect(() => set_text(en2, strategy())), reset(Bs2);
  var sn2 = sibling(Bs2, 2), nn2 = child(sn2, true);
  template_effect(() => set_text(nn2, benchmark())), reset(sn2);
  var rn2 = sibling(sn2, 2), on2 = child(rn2, true);
  template_effect(() => set_text(on2, metrics_ratio_worsethanbenchmark2())), reset(rn2), reset(zs2), reset(Ls2), reset(ai2), reset(Je2);
  var an2 = sibling(Je2, 2);
  bind_this(child(an2), (d3) => set$1(pe2, d3), () => get(pe2)), reset(an2), reset(Xe2);
  var ln2 = sibling(Xe2, 2);
  bind_this(child(ln2), (d3) => set$1(ge2, d3), () => get(ge2)), reset(ln2);
  var pn2 = sibling(ln2, 2), _n2 = child(pn2), mn2 = child(_n2), vn2 = child(mn2), In2 = child(vn2, true);
  template_effect(() => set_text(In2, metrics_ratio_rollingtailratio2())), reset(vn2), btns(sibling(vn2, 2)), reset(mn2);
  var An2 = sibling(mn2, 2), Vn2 = child(An2), On2 = child(Vn2), Bn2 = child(On2), Hn2 = child(Bn2, true);
  template_effect(() => set_text(Hn2, metrics_ratio_timebetterthanbenchmark3())), reset(Bn2);
  var Yn2 = sibling(Bn2, 2), Xn2 = child(Yn2);
  template_effect(() => set_text(Xn2, `${(100 * get(bt2)).toFixed(2) ?? ""}％`)), reset(Yn2), reset(On2), reset(Vn2), reset(An2), reset(_n2);
  var tr2 = sibling(_n2, 2);
  bind_this(child(tr2), (d3) => set$1(Ae2, d3), () => get(Ae2)), reset(tr2), reset(pn2);
  var er2 = sibling(pn2, 2), ir2 = child(er2), sr2 = child(ir2), nr2 = child(sr2, true);
  template_effect(() => set_text(nr2, metrics_ratio_yearlytailratio2())), reset(sr2);
  var rr2 = sibling(sr2, 2), or2 = child(rr2);
  const ar2 = derived_safe_equal(() => metrics_ratio_timebetterthanbenchmark3() ?? ""), lr2 = derived_safe_equal(() => get(Mt2) ?? ""), cr2 = derived_safe_equal(() => get(At2).length ?? ""), hr2 = derived_safe_equal(() => metrics_ratio_year() ?? "");
  var ur2 = child(or2);
  template_effect(() => set_text(ur2, `${get(ar2)}
					${get(lr2)} / ${get(cr2)}
					${get(hr2)}`)), reset(or2);
  var dr2 = sibling(or2, 2), pr2 = child(dr2), fr2 = child(pr2), gr2 = child(fr2, true);
  template_effect(() => set_text(gr2, strategy())), reset(fr2);
  var _r2 = sibling(fr2, 2), mr2 = child(_r2, true);
  template_effect(() => set_text(mr2, benchmark())), reset(_r2);
  var vr2 = sibling(_r2, 2), br2 = child(vr2, true);
  template_effect(() => set_text(br2, metrics_ratio_worsethanbenchmark2())), reset(vr2), reset(pr2), reset(dr2), reset(rr2), reset(ir2);
  var yr2 = sibling(ir2, 2);
  bind_this(child(yr2), (d3) => set$1(Ve2, d3), () => get(Ve2)), reset(yr2), reset(er2);
  var wr2 = sibling(er2, 2), xr2 = child(wr2), Tr2 = child(xr2), Er2 = child(Tr2), Pr2 = child(Er2, true);
  template_effect(() => set_text(Pr2, metrics_ratio_volatility())), reset(Er2), btns(sibling(Er2, 2)), reset(Tr2);
  var Ir2 = sibling(Tr2, 2), Ar2 = child(Ir2), Rr2 = child(Ar2), kr2 = child(Rr2, true);
  template_effect(() => set_text(kr2, metrics_ratio_timebetterthanbenchmark3())), reset(Rr2);
  var Sr2 = sibling(Rr2, 2), Cr2 = child(Sr2);
  template_effect(() => set_text(Cr2, `${(100 * get(ut2)).toFixed(2) ?? ""}％`)), reset(Sr2), reset(Ar2), reset(Ir2), reset(xr2);
  var Mr2 = sibling(xr2, 2);
  bind_this(child(Mr2), (d3) => set$1(Ee2, d3), () => get(Ee2)), reset(Mr2), reset(wr2);
  var Vr2 = sibling(wr2, 2), Dr2 = child(Vr2), Or2 = child(Dr2);
  btns(sibling(child(Or2), 2)), reset(Or2), reset(Dr2);
  var Lr2 = sibling(Dr2, 2);
  return bind_this(child(Lr2), (d3) => set$1(Oe2, d3), () => get(Oe2)), reset(Lr2), reset(Vr2), reset(Ne2), append(d2, Ne2), pop({ get browser() {
    return Ot2();
  }, set browser(d3) {
    Ot2(d3), flush_sync();
  }, get report() {
    return zt2();
  }, set report(d3) {
    zt2(d3), flush_sync();
  }, get theme() {
    return Bt2();
  }, set theme(d3) {
    Bt2(d3), flush_sync();
  }, get lang() {
    return Zt2();
  }, set lang(d3) {
    Zt2(d3), flush_sync();
  } });
}
create_custom_element(Ratio, { browser: {}, report: {}, theme: {}, lang: {} }, [], [], true);
var Zf = template('<div><div class="flex flex-col justify-center items-center"><div class="text-medium"> </div> <div> </div></div></div>'), tg = template('<div class="flex flex-col justify-center items-center text-sm rounded-full pb-4 hover:cursor-pointer hover:text-base hover:-mt-6 hover:shadow-2xl hover:shadow-primary"><div class="mt-3 border-b border-base-content/20 pb-4 px-2 text-center w-full"> <br> </div> <div><div></div> <div></div></div> <div> <br>% <br></div></div>'), eg = template('<div class="flex flex-col justify-center items-center text-sm rounded-full pb-4 hover:cursor-pointer hover:text-base hover:-mt-6 hover:shadow-2xl hover:shadow-primary"><div class="mt-3 border-b border-base-content/20 pb-4 px-2 text-center w-full"> <br> </div> <div><div></div></div> <div> <br> </div></div>'), ig = template('<div class="grid grid-cols-6 mx-6 md:mx-12 gap-6 md:12 lg:gap-24"><div class="col-span-6 rounded-lg"><div class="pb-0"><div class="text-base-content/70 font-light text-3xl mb-6"> </div> <div><div><div class="carousel carousel-center max-w-full space-x-2 overflow-x-auto"></div></div></div></div> <div class="relative"><div class="text-primary h-64 z-0"></div> <div class="-mt-24 mb-12 mr-20 text-right"><div class="stat-title">再次創新高</div> <div class="stat-value"><span> </span> <span class="text-sm">天</span></div></div></div></div> <div class="col-span-6 md:col-span-6 rounded-lg"><div><div class="text-base-content/70 font-light text-3xl mb-6"> </div> <h4 class="text-base-content/70 text-xl font-light mb-3"> </h4> <!></div></div> <div class="text-center relative col-span-6 md:col-span-3 rounded-lg"><div><div class="text-base-content/70 font-light text-3xl"> </div> <div><div class="flex mt-6 justify-center gap-2"><button> </button> <button> </button></div> <div><div class="grid grid-cols-5 justify-start items-start mt-6"></div></div> <div class="absolute inset-x-0 bottom-0 flex justify-center my-3 text-sm gap-2" style="direction:rtl"><div class="badge rounded bg-gray-500 text-white"> </div> <div class="badge rounded bg-primary text-white"> </div></div></div></div></div> <div class="col-span-3 rounded-lg text-center"><div><div class="text-base-content/70 font-light text-3xl"> </div> <div><div class="flex mt-6 justify-center gap-2"><span> </span> <span> </span></div> <div><div class="flex justify-between items-start mt-6 text-sm"></div></div> <div class="absolute inset-x-0 bottom-0 flex justify-center my-3 text-sm" style="direction:rtl"><div class="badge rounded badge-primary text-white"> </div></div></div></div></div> <div class="col-span-6 rounded-lg"><div class="pb-0"><div class="text-base-content/70 font-light text-3xl mb-6"> </div></div> <div class="px-0 pt-0"></div> <div class="text-primary h-48 z-0"></div></div></div>');
function Risk(d2, g2) {
  push(g2, false);
  const _2 = mutable_state(), O2 = mutable_state(), $2 = mutable_state(), st2 = mutable_state(), ot2 = mutable_state(), lt2 = mutable_state(), ct2 = mutable_state(), i = (d3) => {
    const g3 = d3.replaceAll(".", "_");
    return Xd[g3] ? Xd[g3]() : g3;
  };
  let ut2 = prop(g2, "browser", 12), gt2 = prop(g2, "report", 12), mt2 = prop(g2, "theme", 12, "light"), bt2 = mutable_state(), yt2 = mutable_state(), wt2 = mutable_state(null), Pt2 = null, At2 = mutable_state(null), St2 = mutable_state(null), Mt2 = mutable_state(null);
  function changeTWView(d3, g3) {
    if (get(wt2)) if ("string" == typeof d3 && "string" == typeof g3) {
      const _3 = new Date(d3), O3 = new Date(g3);
      get(wt2).setTimeScale(_3, O3), set$1(At2, calc_days({ start: d3, end: g3 })), set$1(At2, ((_3 - O3) / 864e5).toFixed(0)), set$1(St2, _3), set$1(Mt2, O3);
    } else {
      const _3 = gt2().indexOfTimestamps(d3), O3 = gt2().indexOfTimestamps(g3), $3 = new Date(gt2().timestamps[_3]), st3 = new Date(gt2().timestamps[O3]);
      get(wt2).setTimeScale($3, st3), set$1(St2, $3), set$1(Mt2, st3);
    }
  }
  function twRender(d3) {
    get(wt2) || set$1(wt2, new TwChart(get(bt2), true)), get(wt2).setTheme(getThemeType(mt2()));
    const g3 = gt2().timestamps.length / 1, _3 = gt2().createTradingviewSeries("strategy", 0, -1, g3), O3 = gt2().createTradingviewSeries("benchmark", 0, -1, g3);
    get(wt2).resetAreaSeries(0), get(wt2).resetAreaSeries(1), get(wt2).series[0].setData(_3), get(wt2).series[1].setData(O3), get(wt2).chart.subscribeCrosshairMove((d4) => {
    }), get(wt2).chart.subscribeClick((d4) => {
    }), get(wt2).chart.timeScale().subscribeVisibleTimeRangeChange((d4) => {
    }), get(wt2);
  }
  let Vt2 = mutable_state("strategy");
  const calc_days = (d3) => ((new Date(gt2().timestamps[d3.end]) - new Date(gt2().timestamps[d3.start])) / 864e5).toFixed(0);
  onMount(() => {
    if (!ut2()) return;
    const d3 = get($2)[0];
    twRender(), changeTWView(gt2().timestamps[d3.start], gt2().timestamps[d3.end]), function drawdownTWRender() {
      Pt2 || (Pt2 = new TwChart(get(yt2), false)), Pt2.setTheme(getThemeType(mt2())), gt2().timestamps.length, Pt2.resetAreaSeries(0), Pt2.resetAreaSeries(1), Pt2.series[0].setData(get(_2)), Pt2.series[1].setData(get(O2)), Pt2.setTimeScale(new Date(gt2().timestamps[0]), new Date(gt2().timestamps[gt2().timestamps.length - 1]));
    }();
  }), legacy_pre_effect(() => deep_read_state(gt2()), () => {
    set$1(_2, gt2().createTradingViewDrawdown("strategy", gt2().timestamps.length));
  }), legacy_pre_effect(() => deep_read_state(gt2()), () => {
    set$1(O2, gt2().createTradingViewDrawdown("benchmark", gt2().timestamps.length));
  }), legacy_pre_effect(() => (get(wt2), deep_read_state(mt2())), () => {
    get(wt2) && get(wt2).setTheme(getThemeType(mt2()));
  }), legacy_pre_effect(() => (get($2), get(st2), deep_read_state(gt2())), () => {
    var d3;
    d3 = gt2().calculateDrawdown("strategy"), set$1($2, d3[0]), set$1(st2, d3[1]);
  }), legacy_pre_effect(() => (get(ot2), get(lt2), deep_read_state(gt2())), () => {
    var d3;
    d3 = gt2().calculateDrawdown("benchmark"), set$1(ot2, d3[0]), set$1(lt2, d3[1]);
  }), legacy_pre_effect(() => get($2), () => {
    set$1(ct2, get($2)[0]);
  }), legacy_pre_effect_reset(), init();
  var Ot2 = ig(), zt2 = child(Ot2), Bt2 = child(zt2), Zt2 = child(Bt2), ce2 = child(Zt2, true);
  template_effect(() => set_text(ce2, i("risk.drawdowPeriods"))), reset(Zt2);
  var ue2 = sibling(Zt2, 2), de2 = child(ue2), pe2 = child(de2);
  each$1(pe2, 5, () => get($2), index$1, (d3, g3) => {
    var _3 = Zf(), O3 = child(_3), $3 = child(O3), st3 = child($3, true);
    template_effect(() => set_text(st3, gt2().timestamps[get(g3).start].slice(0, 4))), reset($3);
    var ot3 = sibling($3, 2);
    const lt3 = derived_safe_equal(() => `text-sm ${signColorClass(-1) ?? ""}`);
    var ut3 = child(ot3);
    template_effect(() => set_text(ut3, `${(100 * get(g3).maxDrawdown).toFixed(1) ?? ""}%`)), reset(ot3), reset(O3), reset(_3), template_effect(() => {
      set_class(_3, "cursor-pointer carousel-item px-5 py-3 rounded-lg border transition-all duration-300 " + (get(ct2) === get(g3) ? "border-primary shadow-sm" : "border-base-content/20")), set_class(ot3, get(lt3));
    }), event("click", _3, () => {
      twRender(), changeTWView(gt2().timestamps[get(g3).start], gt2().timestamps[get(g3).end]), set$1(ct2, get(g3));
    }), append(d3, _3);
  }), reset(pe2), reset(de2), reset(ue2), reset(Bt2);
  var fe2 = sibling(Bt2, 2), ge2 = child(fe2);
  bind_this(ge2, (d3) => set$1(bt2, d3), () => get(bt2));
  var ve2 = sibling(ge2, 2), Ee2 = sibling(child(ve2), 2), Ie2 = child(Ee2), Ae2 = child(Ie2, true);
  template_effect(() => set_text(Ae2, Math.abs(get(At2)))), reset(Ie2), next(2), reset(Ee2), reset(ve2), reset(fe2), reset(zt2);
  var Re2 = sibling(zt2, 2), Ve2 = child(Re2), De2 = child(Ve2), Oe2 = child(De2, true);
  template_effect(() => set_text(Oe2, i("profitability.stockList"))), reset(De2);
  var Le2 = sibling(De2, 2);
  const Ne2 = derived_safe_equal(() => {
    var _a3;
    return ((_a3 = get(St2)) == null ? void 0 : _a3.toLocaleDateString()) ?? "";
  }), $e2 = derived_safe_equal(() => {
    var _a3;
    return ((_a3 = get(Mt2)) == null ? void 0 : _a3.toLocaleDateString()) ?? "";
  });
  var Fe2 = child(Le2);
  template_effect(() => set_text(Fe2, `${get(Ne2)}~${get($e2)}`)), reset(Le2), Stocks(sibling(Le2, 2), { get report() {
    return gt2();
  }, get theme() {
    return mt2();
  }, get browser() {
    return ut2();
  }, get tstart() {
    return get(St2);
  }, get tend() {
    return get(Mt2);
  } }), reset(Ve2), reset(Re2);
  var ze2 = sibling(Re2, 2), Be2 = child(ze2), Ue2 = child(Be2), We2 = child(Ue2, true);
  template_effect(() => set_text(We2, i("metrics.risk.worstDrawdownPeriod"))), reset(Ue2);
  var je2 = sibling(Ue2, 2), qe2 = child(je2), He2 = child(qe2), Ke2 = child(He2, true);
  template_effect(() => set_text(Ke2, i("metrics.risk.worst10Strategy"))), reset(He2);
  var Ge2 = sibling(He2, 2), Ye2 = child(Ge2, true);
  template_effect(() => set_text(Ye2, i("metrics.risk.worst10Benchmark"))), reset(Ge2), reset(qe2);
  var Qe2 = sibling(qe2, 2), Xe2 = child(Qe2);
  each$1(Xe2, 5, () => "strategy" === get(Vt2) ? get($2) : get(ot2), index$1, (d3, g3) => {
    var st3 = tg(), lt3 = child(st3), ut3 = child(lt3);
    template_effect(() => set_text(ut3, `${gt2().timestamps[get(g3).at].slice(0, 4) ?? ""} `));
    var mt3 = sibling(ut3, 2);
    template_effect(() => set_text(mt3, ` ${gt2().timestamps[get(g3).at].slice(5, 7) ?? ""} 月`)), reset(lt3);
    var bt3 = sibling(lt3, 2), yt3 = child(bt3);
    const wt3 = derived_safe_equal(() => `height:${(get(g3).maxDrawdown / get($2)[0].maxDrawdown * 160).toFixed(0)}px`);
    var Pt3 = sibling(yt3, 2);
    const At3 = derived_safe_equal(() => `height:${(("strategy" === get(Vt2) ? get(O2) : get(_2))[get(g3).at].value / 100 / Math.max(get($2)[0].maxDrawdown, get(ot2)[0].maxDrawdown) * 160).toFixed(0)}px`);
    reset(bt3);
    var St3 = sibling(bt3, 2), Mt3 = child(St3, true);
    template_effect(() => set_text(Mt3, (100 * get(g3).maxDrawdown).toFixed(1))), next(3), reset(St3), reset(st3), template_effect(() => {
      set_class(bt3, "flex justify-center " + ("benchmark" === get(Vt2) ? "flex-row-reverse" : "")), set_attribute(yt3, "style", get(wt3)), set_class(yt3, "w-3 rounded-b-full mx-1 " + ("strategy" === get(Vt2) ? "bg-primary" : "bg-gray-400")), set_attribute(Pt3, "style", get(At3)), set_class(Pt3, "w-3 rounded-b-full mx-1 " + ("strategy" === get(Vt2) ? "bg-gray-400" : "bg-primary")), set_class(St3, `w-20 pt-2 text-center text-primary ${0 === i ? "text-2xl font-bold" : ""} ${"strategy" === get(Vt2) ? "text-primary" : "text-gray-400"}`);
    }), event("click", st3, () => {
      twRender(), changeTWView(gt2().timestamps[get(g3).start], gt2().timestamps[get(g3).end]), set$1(ct2, get(g3));
    }), append(d3, st3);
  }), reset(Xe2), reset(Qe2);
  var Je2 = sibling(Qe2, 2), Ze2 = child(Je2), ti2 = child(Ze2, true);
  template_effect(() => set_text(ti2, i("benchmark"))), reset(Ze2);
  var ai2 = sibling(Ze2, 2), Vi2 = child(ai2, true);
  template_effect(() => set_text(Vi2, i("strategy"))), reset(ai2), reset(Je2), reset(je2), reset(Be2), reset(ze2);
  var Li2 = sibling(ze2, 2), zi2 = child(Li2), is2 = child(zi2), As2 = child(is2, true);
  template_effect(() => set_text(As2, i("metrics.risk.newHighTimeRank"))), reset(is2);
  var Vs2 = sibling(is2, 2), Ls2 = child(Vs2), zs2 = child(Ls2), Bs2 = child(zs2, true);
  template_effect(() => set_text(Bs2, i("metrics.risk.worst10Strategy"))), reset(zs2);
  var en2 = sibling(zs2, 2), sn2 = child(en2, true);
  template_effect(() => set_text(sn2, i("metrics.risk.worst10Benchmark"))), reset(en2), reset(Ls2);
  var nn2 = sibling(Ls2, 2), rn2 = child(nn2);
  each$1(rn2, 5, () => "strategy" === get(Vt2) ? get(st2) : get(lt2), index$1, (d3, g3) => {
    var _3 = eg(), O3 = child(_3), $3 = child(O3);
    template_effect(() => set_text($3, `${gt2().timestamps[get(g3).at].slice(0, 4) ?? ""} `));
    var ot3 = sibling($3, 2);
    template_effect(() => set_text(ot3, ` ${gt2().timestamps[get(g3).at].slice(5, 7) ?? ""} 月`)), reset(O3);
    var ut3 = sibling(O3, 2), mt3 = child(ut3);
    const bt3 = derived_safe_equal(() => `height:${(calc_days(get(g3)) / Math.min(calc_days(get(st2)[0]), calc_days(get(lt2)[0])) * 160).toFixed(0)}px`);
    reset(ut3);
    var yt3 = sibling(ut3, 2), wt3 = child(yt3);
    template_effect(() => set_text(wt3, `${calc_days(get(g3)) ?? ""} `));
    var Pt3 = sibling(wt3, 2);
    template_effect(() => set_text(Pt3, ` ${i("metrics.risk.days") ?? ""}`)), reset(yt3), reset(_3), template_effect(() => {
      set_attribute(mt3, "style", get(bt3)), set_class(mt3, "w-3 rounded-b-full mx-1 " + ("strategy" === get(Vt2) ? "bg-primary" : "bg-gray-400")), set_class(yt3, `w-14 pt-2 text-center ${0 === i ? "text-2xl font-bold" : ""} ${"strategy" === get(Vt2) ? "text-primary" : "text-gray-400"}`);
    }), event("click", _3, () => {
      twRender(), changeTWView(gt2().timestamps[get(g3).start], gt2().timestamps[get(g3).end]), set$1(ct2, get(g3));
    }), append(d3, _3);
  }), reset(rn2), reset(nn2);
  var on2 = sibling(nn2, 2), an2 = child(on2), ln2 = child(an2, true);
  template_effect(() => set_text(ln2, i("strategy"))), reset(an2), reset(on2), reset(Vs2), reset(zi2), reset(Li2);
  var pn2 = sibling(Li2, 2), _n2 = child(pn2), mn2 = child(_n2), vn2 = child(mn2, true);
  return template_effect(() => set_text(vn2, i("risk.drawdownPercentage"))), reset(mn2), reset(_n2), bind_this(sibling(_n2, 4), (d3) => set$1(yt2, d3), () => get(yt2)), reset(pn2), reset(Ot2), template_effect(() => {
    set_class(He2, "border border-base-content/10 text-sm hover:badge-primary hover:text-white px-2 py-1 rounded-xl " + ("strategy" === get(Vt2) ? "outline outline-primary" : "")), set_class(Ge2, "border border-base-content/10 text-sm hover:badge-primary hover:text-white px-2 py-1 rounded-xl " + ("benchmark" === get(Vt2) ? "outline outline-primary" : "")), set_class(zs2, "border border-base-content/10 text-sm hover:badge-primary hover:text-white px-2 py-1 cursor-pointer rounded-xl " + ("strategy" === get(Vt2) ? "outline outline-primary" : "")), set_class(en2, "border border-base-content/10 text-sm hover:badge-primary hover:text-white px-2 py-1 cursor-pointer rounded-xl " + ("benchmark" === get(Vt2) ? "outline outline-primary" : ""));
  }), event("click", He2, () => {
    set$1(Vt2, "strategy");
  }), event("click", Ge2, () => {
    set$1(Vt2, "benchmark");
  }), event("click", zs2, () => {
    set$1(Vt2, "strategy");
  }), event("click", en2, () => {
    set$1(Vt2, "benchmark");
  }), append(d2, Ot2), pop({ get browser() {
    return ut2();
  }, set browser(d3) {
    ut2(d3), flush_sync();
  }, get report() {
    return gt2();
  }, set report(d3) {
    gt2(d3), flush_sync();
  }, get theme() {
    return mt2();
  }, set theme(d3) {
    mt2(d3), flush_sync();
  } });
}
create_custom_element(Risk, { browser: {}, report: {}, theme: {} }, [], [], true);
var sg = template('<div class="text-base-content-200"><div class="grid grid-cols-6 mx-6 md:mx-12 gap-6 md:gap-12 lg:gap-24"><div class="col-span-6"><h3 class="text-base-content/70 font-light text-3xl mb-6"> </h3> <div class="card-content"><span> <span class="font-light"> </span> </span> <canvas class="mt-3 max-h-[400px]"></canvas> <div class="text-sm text-center pb-6 mt-3"> </div></div></div> <div class="col-span-6 md:col-span-3"><h3 class="text-base-content/70 font-light text-3xl mb-6"> </h3> <div class="card-content"><span> <span class="font-bold font-light"> </span></span> <br> <span> <span class="font-bold font-light"> </span> %</span> <br> <span> <span class="font-bold font-light"> </span></span> <input type="range" min="0" max="0.3" class="range range-secondary mt-6" step="0.05"> <div class="w-full flex justify-between text-xs px-2"><span class="font-bold text-sm">0％</span> <span class="font-bold text-sm">5％</span> <span class="font-bold text-sm">10％</span> <span class="font-bold text-sm">15％</span> <span class="font-bold text-sm">20％</span> <span class="font-bold text-sm">25％</span> <span class="font-bold text-sm">30％</span></div> <h3 class="text-2xl font-bold mt-12 mb-6 text-center text-base-content-200"> </h3> <div class="text-base-content-100 text-sm font-bold mt-3"> </div> <canvas class="mt-3"></canvas> <div class="text-base-content-100 text-sm text-center font-bold"> </div></div></div> <div class="col-span-6 md:col-span-3"><h3 class="text-base-content/70 font-light text-3xl mb-6"> </h3> <div class="card-content"><span> <span class="font-bold font-light"> </span></span> <br> <span> <span class="font-bold font-light"> </span>%</span> <br> <span> <span class="font-bold font-light"> </span></span> <input type="range" min="0" max="0.3" class="range range-primary mt-6" step="0.05"> <div class="w-full flex justify-between text-xs px-2"><span class="font-bold text-sm">0％</span> <span class="font-bold text-sm">5％</span> <span class="font-bold text-sm">10％</span> <span class="font-bold text-sm">15％</span> <span class="font-bold text-sm">20％</span> <span class="font-bold text-sm">25％</span> <span class="font-bold text-sm">30％</span></div> <h3 class="text-2xl font-bold mt-12 mb-6 text-center text-base-content-200"> </h3> <div class="text-base-content-100 text-sm font-bold mt-3"> </div> <canvas class="mt-3"></canvas> <div class="text-base-content-100 text-sm text-center font-bold"> </div></div></div> <div class="col-span-6"><h3 class="text-base-content/70 font-light text-3xl mb-6"> </h3> <div class="card-content"><div class="text-base-content-100 text-sm font-bold mt-3"> </div> <canvas class="mt-3"></canvas> <div class="text-base-content-100 text-sm text-center font-bold"> </div></div></div></div></div>');
function Winrate(d2, g2) {
  push(g2, false);
  const _2 = mutable_state(), O2 = mutable_state(), $2 = mutable_state(), st2 = mutable_state(), ot2 = mutable_state(), lt2 = mutable_state(), i = (d3) => {
    const g3 = d3.replaceAll(".", "_");
    return Xd[g3] ? Xd[g3]() : g3;
  };
  let ct2 = prop(g2, "lang", 12, "en");
  Chart.register(BubbleController, LinearScale, PointElement, Io, CategoryScale, BarController, BarElement, LineElement, LineController);
  let ut2 = prop(g2, "browser", 12), gt2 = prop(g2, "report", 12), mt2 = prop(g2, "theme", 12, "light"), bt2 = mutable_state(0), yt2 = mutable_state(0);
  const wt2 = gt2().trades.map((d3) => d3.return), Pt2 = wt2.reduce((d3, g3) => d3 + g3, 0) / wt2.length, At2 = wt2.reduce((d3, g3) => d3 + Math.pow(g3 - Pt2, 2), 0) / wt2.length, St2 = Math.sqrt(At2);
  function createBins(d3, g3) {
    const _3 = -3 * St2, O3 = (3 * St2 - _3) / g3, $3 = new Array(g3).fill(0), st3 = [];
    d3.forEach((d4) => {
      const st4 = Math.min(Math.floor((d4 - _3) / O3), g3 - 1);
      $3[st4]++;
    });
    for (let d4 = 0; d4 < g3; d4++) st3.push([_3 + d4 * O3, _3 + (d4 + 1) * O3]);
    return { bins: $3, ranges: st3 };
  }
  [...wt2].sort((d3, g3) => d3 - g3);
  let Mt2 = mutable_state(), Vt2 = null, Ot2 = mutable_state();
  const zt2 = function calculateVaR(d3, g3 = 0.95) {
    const _3 = d3;
    return 0 === _3.length ? null : (_3.sort((d4, g4) => d4 - g4), _3[Math.floor((1 - g3) * _3.length)]);
  }(gt2().trades.map((d3) => d3.return));
  function drawHistogram(d3) {
    const g3 = get(Mt2), _3 = d3.ranges.map((d4) => d4[0]), O3 = _3.map((d4) => d4 >= 0 ? "light" === mt2() ? "#725bf5" : "#7a64f5" : "rgba(241, 99, 102, 1)");
    null !== Vt2 && Vt2.destroy(), Vt2 = new Chart(g3, { type: "bar", data: { labels: _3, datasets: [{ data: d3.bins, backgroundColor: O3 }] }, options: { responsive: true, maintainAspectRatio: true, scales: { x: { type: "category", ticks: { callback: (d4, g4, O4) => (100 * _3[g4]).toFixed(1) + "%", color: "light" === mt2() ? "#000000aa" : "#FFFFFFaa" }, grid: { color: "#77777755", tickBorderDash: [2, 2] } }, y: { type: "linear", ticks: { callback: (d4, g4, _4) => d4 + " trades", color: "light" === mt2() ? "#000000aa" : "#FFFFFFaa" }, grid: { color: "#77777755", tickBorderDash: [2, 2] } } }, plugins: { legend: { display: false } } } });
  }
  const Bt2 = gt2().trades.filter((d3) => d3.return > 0), Zt2 = gt2().trades.filter((d3) => d3.return <= 0);
  function drawScatterPlot(d3, g3, _3, O3) {
    const $3 = Math.max(...gt2().trades.map((d4) => Math.abs(d4[g3]))), st3 = Math.max(...gt2().trades.map((d4) => Math.abs(d4[_3]))), ot3 = gt2().trades.map((d4) => Math.log(Math.abs(d4.return) + 1)), lt3 = Math.max(...ot3), ct3 = Math.min(...ot3);
    function normalize(d4, g4, _4, O4, $4) {
      return (d4 - g4) / (_4 - g4) * ($4 - O4) + O4;
    }
    function simulatedReturn(d4, _4) {
      const O4 = 0 !== get(bt2) ? get(bt2) : 1;
      return "mae" === g3 ? _4 < -O4 ? -O4 : d4 : "gmfe" === g3 && _4 > get(yt2) && 0 !== get(yt2) ? get(yt2) : d4;
    }
    const ut3 = { type: "bubble", data: { datasets: [{ label: "Winning", data: Bt2.map((d4) => ({ x: Math.abs(d4[g3]), y: Math.abs(simulatedReturn(d4[_3], d4[g3])), r: normalize(Math.log(Math.abs(d4.return) + 1), ct3, lt3, 3, 20), t: d4 })), backgroundColor: "rgba(99, 102, 241, 0.5)" }, { label: "Losing", data: Zt2.map((d4) => ({ x: Math.abs(d4[g3]), y: Math.abs(simulatedReturn(d4[_3], d4[g3])), r: normalize(Math.log(Math.abs(d4.return) + 1), ct3, lt3, 3, 20), t: d4 })), backgroundColor: "rgba(241, 99, 102, 0.5)" }, { label: "45-degree Line", data: [{ x: 0, y: 0 }, { x: 0.5, y: 0.5 }], type: "line", fill: false, borderColor: "rgba(125, 125, 125, 0.8)", pointRadius: 0, borderWidth: 1, tension: 0 }] }, options: { responsive: true, maintainAspectRatio: true, animation: false, scales: { x: { type: "linear", beginAtZero: true, max: Math.min(0.5, $3, st3), ticks: { color: "light" === mt2() ? "#000000aa" : "#FFFFFFaa", callback: (d4, g4, _4) => (100 * d4).toFixed(1) + "%" }, grid: { color: "#77777755", tickBorderDash: [2, 2] } }, y: { type: "linear", beginAtZero: true, max: Math.min(0.5, st3, $3), ticks: { color: "light" === mt2() ? "#000000aa" : "#FFFFFFaa", callback: (d4, g4, _4) => (100 * d4).toFixed(1) + "%" }, grid: { color: "#77777755", tickBorderDash: [2, 2] } } }, plugins: { legend: { display: false }, zoom: { pan: { enabled: true, mode: "xy" }, zoom: { wheel: { enabled: true }, pinch: { enabled: true }, mode: "xy" } }, tooltip: { callbacks: { title: (d4) => d4[0].raw.t.stockId + " " + d4[0].dataset.label, label(d4) {
      const O4 = d4.raw.x.toFixed(2), $4 = d4.raw.y.toFixed(2);
      return d4.raw.t.stock, `${g3}: ${O4}, ${_3}:${$4}`;
    } } } } } };
    return new Chart(d3, ut3);
  }
  let ce2 = mutable_state(), ue2 = mutable_state();
  const de2 = mutable_state({});
  let pe2 = mutable_state(false);
  onMount(() => {
    if (!ut2()) return;
    drawHistogram(createBins(wt2, 50)), mutate(de2, get(de2).maemfe = drawScatterPlot(get(Ot2), "mae", "gmfe")), mutate(de2, get(de2).mae = drawScatterPlot(get(ce2), "mae", "return")), mutate(de2, get(de2).mfe = drawScatterPlot(get(ue2), "gmfe", "return")), set$1(pe2, true);
  }), onDestroy(() => {
    var _a3, _b3, _c3;
    (_a3 = get(de2).maemfe) == null ? void 0 : _a3.destroy(), (_b3 = get(de2).mae) == null ? void 0 : _b3.destroy(), (_c3 = get(de2).mfe) == null ? void 0 : _c3.destroy(), Vt2 == null ? void 0 : Vt2.destroy();
  }), legacy_pre_effect(() => (deep_read_state(gt2()), get(bt2)), () => {
    set$1(_2, gt2().trades.filter((d3) => d3.mae < -get(bt2)).map((d3) => d3.return));
  }), legacy_pre_effect(() => (get(bt2), get(_2)), () => {
    set$1(O2, 0 === get(bt2) ? 0 : get(_2).reduce((d3, g3) => d3 + g3, 0) / get(_2).length + get(bt2) || 0);
  }), legacy_pre_effect(() => (get(bt2), get(_2), deep_read_state(gt2())), () => {
    set$1($2, 0 === get(bt2) ? 0 : get(_2).length / gt2().trades.length);
  }), legacy_pre_effect(() => (deep_read_state(gt2()), get(yt2)), () => {
    set$1(st2, gt2().trades.filter((d3) => d3.gmfe > get(yt2)).map((d3) => d3.return));
  }), legacy_pre_effect(() => (get(yt2), get(st2)), () => {
    set$1(ot2, 0 === get(yt2) ? 0 : get(st2).reduce((d3, g3) => d3 + g3, 0) / get(st2).length - get(yt2) || 0);
  }), legacy_pre_effect(() => (get(yt2), get(st2), deep_read_state(gt2())), () => {
    set$1(lt2, 0 === get(yt2) ? 0 : get(st2).length / gt2().trades.length);
  }), legacy_pre_effect(() => (deep_read_state(mt2()), get(pe2), get(de2), get(Ot2)), () => {
    if (mt2() && get(pe2)) {
      get(de2).maemfe && (get(de2).maemfe.destroy(), mutate(de2, get(de2).maemfe = drawScatterPlot(get(Ot2), "mae", "gmfe")));
      drawHistogram(createBins(wt2, 50));
    }
  }), legacy_pre_effect(() => (get(bt2), deep_read_state(mt2()), get(de2), get(ce2)), () => {
    (0 === get(bt2) || get(bt2) || mt2()) && get(de2).mae && (get(de2).mae.destroy(), mutate(de2, get(de2).mae = drawScatterPlot(get(ce2), "mae", "return")));
  }), legacy_pre_effect(() => (get(yt2), deep_read_state(mt2()), get(de2), get(ue2)), () => {
    (0 === get(yt2) || get(yt2) || mt2()) && get(de2).mfe && (get(de2).mfe.destroy(), mutate(de2, get(de2).mfe = drawScatterPlot(get(ue2), "gmfe", "return")));
  }), legacy_pre_effect_reset(), init();
  var fe2 = sg(), ge2 = child(fe2), ve2 = child(ge2), Ee2 = child(ve2), Ie2 = child(Ee2, true);
  template_effect(() => set_text(Ie2, i("metrics.winrate.returnDistribution"))), reset(Ee2);
  var Ae2 = sibling(Ee2, 2), Re2 = child(Ae2), Ve2 = child(Re2);
  template_effect(() => set_text(Ve2, `${i("metrics.winrate.distributionInfo1") ?? ""} `));
  var De2 = sibling(Ve2), Oe2 = child(De2, true);
  template_effect(() => set_text(Oe2, (100 * zt2).toFixed(1))), reset(De2);
  var Le2 = sibling(De2);
  template_effect(() => set_text(Le2, ` ${i("metrics.winrate.distributionInfo2") ?? ""}`)), reset(Re2);
  var Ne2 = sibling(Re2, 2);
  bind_this(Ne2, (d3) => set$1(Mt2, d3), () => get(Mt2));
  var $e2 = sibling(Ne2, 2), Fe2 = child($e2, true);
  template_effect(() => set_text(Fe2, i("metrics.winrate.return"))), reset($e2), reset(Ae2), reset(ve2);
  var ze2 = sibling(ve2, 2), Be2 = child(ze2), Ue2 = child(Be2, true);
  template_effect(() => set_text(Ue2, i("metrics.winrate.simulatedStopLoss"))), reset(Be2);
  var We2 = sibling(Be2, 2), je2 = child(We2), qe2 = child(je2);
  template_effect(() => set_text(qe2, `${i("metrics.winrate.stoploss") ?? ""} `));
  var He2 = sibling(qe2), Ke2 = child(He2, true);
  template_effect(() => set_text(Ke2, 0 !== get(bt2) ? 100 * get(bt2) + "%" : i("metrics.winrate.none"))), reset(He2), reset(je2);
  var Ge2 = sibling(je2, 4), Ye2 = child(Ge2);
  template_effect(() => set_text(Ye2, `${i("metrics.winrate.extraProfitLoss") ?? ""} `));
  var Qe2 = sibling(Ye2), Xe2 = child(Qe2, true);
  template_effect(() => set_text(Xe2, (get(O2) > 0 ? "+" : "") + (100 * get(O2)).toFixed(1))), reset(Qe2), next(), reset(Ge2);
  var Je2 = sibling(Ge2, 4), Ze2 = child(Je2);
  template_effect(() => set_text(Ze2, `${i("metrics.winrate.stoplossRatio") ?? ""} `));
  var ti2 = sibling(Ze2), ai2 = child(ti2);
  template_effect(() => set_text(ai2, `${(100 * get($2)).toFixed(1) ?? ""}%`)), reset(ti2), reset(Je2);
  var Vi2 = sibling(Je2, 2);
  remove_input_defaults(Vi2);
  var Li2 = sibling(Vi2, 4), zi2 = child(Li2, true);
  template_effect(() => set_text(zi2, i("metrics.winrate.maeReturn"))), reset(Li2);
  var is2 = sibling(Li2, 2), As2 = child(is2, true);
  template_effect(() => set_text(As2, i("metrics.winrate.return"))), reset(is2);
  var Vs2 = sibling(is2, 2);
  bind_this(Vs2, (d3) => set$1(ce2, d3), () => get(ce2));
  var Ls2 = sibling(Vs2, 2), zs2 = child(Ls2, true);
  template_effect(() => set_text(zs2, i("metrics.winrate.mae"))), reset(Ls2), reset(We2), reset(ze2);
  var Bs2 = sibling(ze2, 2), en2 = child(Bs2), sn2 = child(en2, true);
  template_effect(() => set_text(sn2, i("metrics.winrate.simulatedTakeProfit"))), reset(en2);
  var nn2 = sibling(en2, 2), rn2 = child(nn2), on2 = child(rn2, true);
  template_effect(() => set_text(on2, i("metrics.winrate.takeProfit")));
  var an2 = sibling(on2), ln2 = child(an2, true);
  template_effect(() => set_text(ln2, 0 !== get(yt2) ? 100 * get(yt2) + "%" : i("metrics.winrate.none"))), reset(an2), reset(rn2);
  var pn2 = sibling(rn2, 4), _n2 = child(pn2);
  template_effect(() => set_text(_n2, `${i("metrics.winrate.extraProfitLossTakingProfit") ?? ""} `));
  var mn2 = sibling(_n2), vn2 = child(mn2, true);
  template_effect(() => set_text(vn2, (get(ot2) > 0 ? "+" : "") + (100 * get(ot2)).toFixed(1))), reset(mn2), next(), reset(pn2);
  var In2 = sibling(pn2, 4), An2 = child(In2, true);
  template_effect(() => set_text(An2, i("metrics.winrate.takeProfitRatio")));
  var Vn2 = sibling(An2), On2 = child(Vn2);
  template_effect(() => set_text(On2, `${(100 * get(lt2)).toFixed(1) ?? ""}%`)), reset(Vn2), reset(In2);
  var Bn2 = sibling(In2, 2);
  remove_input_defaults(Bn2);
  var Hn2 = sibling(Bn2, 4), Yn2 = child(Hn2, true);
  template_effect(() => set_text(Yn2, i("metrics.winrate.mfeReturn"))), reset(Hn2);
  var Xn2 = sibling(Hn2, 2), tr2 = child(Xn2, true);
  template_effect(() => set_text(tr2, i("metrics.winrate.return"))), reset(Xn2);
  var er2 = sibling(Xn2, 2);
  bind_this(er2, (d3) => set$1(ue2, d3), () => get(ue2));
  var ir2 = sibling(er2, 2), sr2 = child(ir2, true);
  template_effect(() => set_text(sr2, i("metrics.winrate.mfe"))), reset(ir2), reset(nn2), reset(Bs2);
  var nr2 = sibling(Bs2, 2), rr2 = child(nr2), or2 = child(rr2, true);
  template_effect(() => set_text(or2, i("metrics.winrate.maemfe"))), reset(rr2);
  var ar2 = sibling(rr2, 2), lr2 = child(ar2), cr2 = child(lr2, true);
  template_effect(() => set_text(cr2, i("metrics.winrate.mfe"))), reset(lr2);
  var hr2 = sibling(lr2, 2);
  bind_this(hr2, (d3) => set$1(Ot2, d3), () => get(Ot2));
  var ur2 = sibling(hr2, 2), dr2 = child(ur2, true);
  return template_effect(() => set_text(dr2, i("metrics.winrate.mae"))), reset(ur2), reset(ar2), reset(nr2), reset(ge2), reset(fe2), bind_value(Vi2, () => get(bt2), (d3) => set$1(bt2, d3)), bind_value(Bn2, () => get(yt2), (d3) => set$1(yt2, d3)), append(d2, fe2), pop({ get lang() {
    return ct2();
  }, set lang(d3) {
    ct2(d3), flush_sync();
  }, get browser() {
    return ut2();
  }, set browser(d3) {
    ut2(d3), flush_sync();
  }, get report() {
    return gt2();
  }, set report(d3) {
    gt2(d3), flush_sync();
  }, get theme() {
    return mt2();
  }, set theme(d3) {
    mt2(d3), flush_sync();
  } });
}
create_custom_element(Winrate, { lang: {}, browser: {}, report: {}, theme: {} }, [], [], true);
const ng = writable(null), stringToByteArray$1 = function(d2) {
  const g2 = [];
  let _2 = 0;
  for (let O2 = 0; O2 < d2.length; O2++) {
    let $2 = d2.charCodeAt(O2);
    $2 < 128 ? g2[_2++] = $2 : $2 < 2048 ? (g2[_2++] = $2 >> 6 | 192, g2[_2++] = 63 & $2 | 128) : 55296 == (64512 & $2) && O2 + 1 < d2.length && 56320 == (64512 & d2.charCodeAt(O2 + 1)) ? ($2 = 65536 + ((1023 & $2) << 10) + (1023 & d2.charCodeAt(++O2)), g2[_2++] = $2 >> 18 | 240, g2[_2++] = $2 >> 12 & 63 | 128, g2[_2++] = $2 >> 6 & 63 | 128, g2[_2++] = 63 & $2 | 128) : (g2[_2++] = $2 >> 12 | 224, g2[_2++] = $2 >> 6 & 63 | 128, g2[_2++] = 63 & $2 | 128);
  }
  return g2;
}, rg = { byteToCharMap_: null, charToByteMap_: null, byteToCharMapWebSafe_: null, charToByteMapWebSafe_: null, ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", get ENCODED_VALS() {
  return this.ENCODED_VALS_BASE + "+/=";
}, get ENCODED_VALS_WEBSAFE() {
  return this.ENCODED_VALS_BASE + "-_.";
}, HAS_NATIVE_SUPPORT: "function" == typeof atob, encodeByteArray(d2, g2) {
  if (!Array.isArray(d2)) throw Error("encodeByteArray takes an array as a parameter");
  this.init_();
  const _2 = g2 ? this.byteToCharMapWebSafe_ : this.byteToCharMap_, O2 = [];
  for (let g3 = 0; g3 < d2.length; g3 += 3) {
    const $2 = d2[g3], st2 = g3 + 1 < d2.length, ot2 = st2 ? d2[g3 + 1] : 0, lt2 = g3 + 2 < d2.length, ct2 = lt2 ? d2[g3 + 2] : 0, ut2 = $2 >> 2, gt2 = (3 & $2) << 4 | ot2 >> 4;
    let mt2 = (15 & ot2) << 2 | ct2 >> 6, bt2 = 63 & ct2;
    lt2 || (bt2 = 64, st2 || (mt2 = 64)), O2.push(_2[ut2], _2[gt2], _2[mt2], _2[bt2]);
  }
  return O2.join("");
}, encodeString(d2, g2) {
  return this.HAS_NATIVE_SUPPORT && !g2 ? btoa(d2) : this.encodeByteArray(stringToByteArray$1(d2), g2);
}, decodeString(d2, g2) {
  return this.HAS_NATIVE_SUPPORT && !g2 ? atob(d2) : function(d3) {
    const g3 = [];
    let _2 = 0, O2 = 0;
    for (; _2 < d3.length; ) {
      const $2 = d3[_2++];
      if ($2 < 128) g3[O2++] = String.fromCharCode($2);
      else if ($2 > 191 && $2 < 224) {
        const st2 = d3[_2++];
        g3[O2++] = String.fromCharCode((31 & $2) << 6 | 63 & st2);
      } else if ($2 > 239 && $2 < 365) {
        const st2 = ((7 & $2) << 18 | (63 & d3[_2++]) << 12 | (63 & d3[_2++]) << 6 | 63 & d3[_2++]) - 65536;
        g3[O2++] = String.fromCharCode(55296 + (st2 >> 10)), g3[O2++] = String.fromCharCode(56320 + (1023 & st2));
      } else {
        const st2 = d3[_2++], ot2 = d3[_2++];
        g3[O2++] = String.fromCharCode((15 & $2) << 12 | (63 & st2) << 6 | 63 & ot2);
      }
    }
    return g3.join("");
  }(this.decodeStringToByteArray(d2, g2));
}, decodeStringToByteArray(d2, g2) {
  this.init_();
  const _2 = g2 ? this.charToByteMapWebSafe_ : this.charToByteMap_, O2 = [];
  for (let g3 = 0; g3 < d2.length; ) {
    const $2 = _2[d2.charAt(g3++)], st2 = g3 < d2.length ? _2[d2.charAt(g3)] : 0;
    ++g3;
    const ot2 = g3 < d2.length ? _2[d2.charAt(g3)] : 64;
    ++g3;
    const lt2 = g3 < d2.length ? _2[d2.charAt(g3)] : 64;
    if (++g3, null == $2 || null == st2 || null == ot2 || null == lt2) throw new DecodeBase64StringError();
    const ct2 = $2 << 2 | st2 >> 4;
    if (O2.push(ct2), 64 !== ot2) {
      const d3 = st2 << 4 & 240 | ot2 >> 2;
      if (O2.push(d3), 64 !== lt2) {
        const d4 = ot2 << 6 & 192 | lt2;
        O2.push(d4);
      }
    }
  }
  return O2;
}, init_() {
  if (!this.byteToCharMap_) {
    this.byteToCharMap_ = {}, this.charToByteMap_ = {}, this.byteToCharMapWebSafe_ = {}, this.charToByteMapWebSafe_ = {};
    for (let d2 = 0; d2 < this.ENCODED_VALS.length; d2++) this.byteToCharMap_[d2] = this.ENCODED_VALS.charAt(d2), this.charToByteMap_[this.byteToCharMap_[d2]] = d2, this.byteToCharMapWebSafe_[d2] = this.ENCODED_VALS_WEBSAFE.charAt(d2), this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[d2]] = d2, d2 >= this.ENCODED_VALS_BASE.length && (this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(d2)] = d2, this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(d2)] = d2);
  }
} };
class DecodeBase64StringError extends Error {
  constructor() {
    super(...arguments), this.name = "DecodeBase64StringError";
  }
}
const base64urlEncodeWithoutPadding = function(d2) {
  return function(d3) {
    const g2 = stringToByteArray$1(d3);
    return rg.encodeByteArray(g2, true);
  }(d2).replace(/\./g, "");
}, base64Decode = function(d2) {
  try {
    return rg.decodeString(d2, true);
  } catch (d3) {
    console.error("base64Decode failed: ", d3);
  }
  return null;
};
function getGlobal() {
  if ("undefined" != typeof self) return self;
  if ("undefined" != typeof window) return window;
  if ("undefined" != typeof global) return global;
  throw new Error("Unable to locate global object.");
}
const getDefaults = () => {
  try {
    return getGlobal().__FIREBASE_DEFAULTS__ || (() => {
      if ("undefined" == typeof process || void 0 === process.env) return;
      const d2 = process.env.__FIREBASE_DEFAULTS__;
      return d2 ? JSON.parse(d2) : void 0;
    })() || (() => {
      if ("undefined" == typeof document) return;
      let d2;
      try {
        d2 = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
      } catch (d3) {
        return;
      }
      const g2 = d2 && base64Decode(d2[1]);
      return g2 && JSON.parse(g2);
    })();
  } catch (d2) {
    return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${d2}`);
  }
}, getDefaultEmulatorHost = (d2) => {
  var g2, _2;
  return null === (_2 = null === (g2 = getDefaults()) || void 0 === g2 ? void 0 : g2.emulatorHosts) || void 0 === _2 ? void 0 : _2[d2];
}, getDefaultEmulatorHostnameAndPort = (d2) => {
  const g2 = getDefaultEmulatorHost(d2);
  if (!g2) return;
  const _2 = g2.lastIndexOf(":");
  if (_2 <= 0 || _2 + 1 === g2.length) throw new Error(`Invalid host ${g2} with no separate hostname and port!`);
  const O2 = parseInt(g2.substring(_2 + 1), 10);
  return "[" === g2[0] ? [g2.substring(1, _2 - 1), O2] : [g2.substring(0, _2), O2];
}, getDefaultAppConfig = () => {
  var d2;
  return null === (d2 = getDefaults()) || void 0 === d2 ? void 0 : d2.config;
}, getExperimentalSetting = (d2) => {
  var g2;
  return null === (g2 = getDefaults()) || void 0 === g2 ? void 0 : g2[`_${d2}`];
};
class Deferred {
  constructor() {
    this.reject = () => {
    }, this.resolve = () => {
    }, this.promise = new Promise((d2, g2) => {
      this.resolve = d2, this.reject = g2;
    });
  }
  wrapCallback(d2) {
    return (g2, _2) => {
      g2 ? this.reject(g2) : this.resolve(_2), "function" == typeof d2 && (this.promise.catch(() => {
      }), 1 === d2.length ? d2(g2) : d2(g2, _2));
    };
  }
}
function isCloudWorkstation(d2) {
  return d2.endsWith(".cloudworkstations.dev");
}
async function pingServer(d2) {
  return (await fetch(d2, { credentials: "include" })).ok;
}
function createMockUserToken(d2, g2) {
  if (d2.uid) throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');
  const _2 = g2 || "demo-project", O2 = d2.iat || 0, $2 = d2.sub || d2.user_id;
  if (!$2) throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
  const st2 = Object.assign({ iss: `https://securetoken.google.com/${_2}`, aud: _2, iat: O2, exp: O2 + 3600, auth_time: O2, sub: $2, user_id: $2, firebase: { sign_in_provider: "custom", identities: {} } }, d2);
  return [base64urlEncodeWithoutPadding(JSON.stringify({ alg: "none", type: "JWT" })), base64urlEncodeWithoutPadding(JSON.stringify(st2)), ""].join(".");
}
const og = {};
let ag = false;
function updateEmulatorBanner(d2, g2) {
  if ("undefined" == typeof window || "undefined" == typeof document || !isCloudWorkstation(window.location.host) || og[d2] === g2 || og[d2] || ag) return;
  function prefixedId(d3) {
    return `__firebase__banner__${d3}`;
  }
  og[d2] = g2;
  const _2 = "__firebase__banner", O2 = function getEmulatorSummary() {
    const d3 = { prod: [], emulator: [] };
    for (const g3 of Object.keys(og)) og[g3] ? d3.emulator.push(g3) : d3.prod.push(g3);
    return d3;
  }().prod.length > 0;
  function setupCloseBtn() {
    const d3 = document.createElement("span");
    return d3.style.cursor = "pointer", d3.style.marginLeft = "16px", d3.style.fontSize = "24px", d3.innerHTML = " &times;", d3.onclick = () => {
      ag = true, function tearDown() {
        const d4 = document.getElementById(_2);
        d4 && d4.remove();
      }();
    }, d3;
  }
  function setupDom() {
    const d3 = function getOrCreateEl(d4) {
      let g4 = document.getElementById(d4), _3 = false;
      return g4 || (g4 = document.createElement("div"), g4.setAttribute("id", d4), _3 = true), { created: _3, element: g4 };
    }(_2), g3 = prefixedId("text"), $2 = document.getElementById(g3) || document.createElement("span"), st2 = prefixedId("learnmore"), ot2 = document.getElementById(st2) || document.createElement("a"), lt2 = prefixedId("preprendIcon"), ct2 = document.getElementById(lt2) || document.createElementNS("http://www.w3.org/2000/svg", "svg");
    if (d3.created) {
      const g4 = d3.element;
      !function setupBannerStyles(d4) {
        d4.style.display = "flex", d4.style.background = "#7faaf0", d4.style.position = "fixed", d4.style.bottom = "5px", d4.style.left = "5px", d4.style.padding = ".5em", d4.style.borderRadius = "5px", d4.style.alignItems = "center";
      }(g4), function setupLinkStyles(d4, g5) {
        d4.setAttribute("id", g5), d4.innerText = "Learn more", d4.href = "https://firebase.google.com/docs/studio/preview-apps#preview-backend", d4.setAttribute("target", "__blank"), d4.style.paddingLeft = "5px", d4.style.textDecoration = "underline";
      }(ot2, st2);
      const _3 = setupCloseBtn();
      !function setupIconStyles(d4, g5) {
        d4.setAttribute("width", "24"), d4.setAttribute("id", g5), d4.setAttribute("height", "24"), d4.setAttribute("viewBox", "0 0 24 24"), d4.setAttribute("fill", "none"), d4.style.marginLeft = "-6px";
      }(ct2, lt2), g4.append(ct2, $2, ot2, _3), document.body.appendChild(g4);
    }
    O2 ? ($2.innerText = "Preview backend disconnected.", ct2.innerHTML = '<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>') : (ct2.innerHTML = '<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>', $2.innerText = "Preview backend running in this workspace."), $2.setAttribute("id", g3);
  }
  "loading" === document.readyState ? window.addEventListener("DOMContentLoaded", setupDom) : setupDom();
}
function getUA() {
  return "undefined" != typeof navigator && "string" == typeof navigator.userAgent ? navigator.userAgent : "";
}
function isSafari() {
  return !function isNode() {
    var d2;
    const g2 = null === (d2 = getDefaults()) || void 0 === d2 ? void 0 : d2.forceEnvironment;
    if ("node" === g2) return true;
    if ("browser" === g2) return false;
    try {
      return "[object process]" === Object.prototype.toString.call(global.process);
    } catch (d3) {
      return false;
    }
  }() && !!navigator.userAgent && navigator.userAgent.includes("Safari") && !navigator.userAgent.includes("Chrome");
}
function isIndexedDBAvailable() {
  try {
    return "object" == typeof indexedDB;
  } catch (d2) {
    return false;
  }
}
class FirebaseError extends Error {
  constructor(d2, g2, _2) {
    super(g2), this.code = d2, this.customData = _2, this.name = "FirebaseError", Object.setPrototypeOf(this, FirebaseError.prototype), Error.captureStackTrace && Error.captureStackTrace(this, ErrorFactory.prototype.create);
  }
}
class ErrorFactory {
  constructor(d2, g2, _2) {
    this.service = d2, this.serviceName = g2, this.errors = _2;
  }
  create(d2, ...g2) {
    const _2 = g2[0] || {}, O2 = `${this.service}/${d2}`, $2 = this.errors[d2], st2 = $2 ? function replaceTemplate(d3, g3) {
      return d3.replace(lg, (d4, _3) => {
        const O3 = g3[_3];
        return null != O3 ? String(O3) : `<${_3}?>`;
      });
    }($2, _2) : "Error", ot2 = `${this.serviceName}: ${st2} (${O2}).`;
    return new FirebaseError(O2, ot2, _2);
  }
}
const lg = /\{\$([^}]+)}/g;
function deepEqual(d2, g2) {
  if (d2 === g2) return true;
  const _2 = Object.keys(d2), O2 = Object.keys(g2);
  for (const $2 of _2) {
    if (!O2.includes($2)) return false;
    const _3 = d2[$2], st2 = g2[$2];
    if (isObject(_3) && isObject(st2)) {
      if (!deepEqual(_3, st2)) return false;
    } else if (_3 !== st2) return false;
  }
  for (const d3 of O2) if (!_2.includes(d3)) return false;
  return true;
}
function isObject(d2) {
  return null !== d2 && "object" == typeof d2;
}
function querystring(d2) {
  const g2 = [];
  for (const [_2, O2] of Object.entries(d2)) Array.isArray(O2) ? O2.forEach((d3) => {
    g2.push(encodeURIComponent(_2) + "=" + encodeURIComponent(d3));
  }) : g2.push(encodeURIComponent(_2) + "=" + encodeURIComponent(O2));
  return g2.length ? "&" + g2.join("&") : "";
}
class ObserverProxy {
  constructor(d2, g2) {
    this.observers = [], this.unsubscribes = [], this.observerCount = 0, this.task = Promise.resolve(), this.finalized = false, this.onNoObservers = g2, this.task.then(() => {
      d2(this);
    }).catch((d3) => {
      this.error(d3);
    });
  }
  next(d2) {
    this.forEachObserver((g2) => {
      g2.next(d2);
    });
  }
  error(d2) {
    this.forEachObserver((g2) => {
      g2.error(d2);
    }), this.close(d2);
  }
  complete() {
    this.forEachObserver((d2) => {
      d2.complete();
    }), this.close();
  }
  subscribe(d2, g2, _2) {
    let O2;
    if (void 0 === d2 && void 0 === g2 && void 0 === _2) throw new Error("Missing Observer.");
    O2 = function implementsAnyMethods(d3, g3) {
      if ("object" != typeof d3 || null === d3) return false;
      for (const _3 of g3) if (_3 in d3 && "function" == typeof d3[_3]) return true;
      return false;
    }(d2, ["next", "error", "complete"]) ? d2 : { next: d2, error: g2, complete: _2 }, void 0 === O2.next && (O2.next = noop), void 0 === O2.error && (O2.error = noop), void 0 === O2.complete && (O2.complete = noop);
    const $2 = this.unsubscribeOne.bind(this, this.observers.length);
    return this.finalized && this.task.then(() => {
      try {
        this.finalError ? O2.error(this.finalError) : O2.complete();
      } catch (d3) {
      }
    }), this.observers.push(O2), $2;
  }
  unsubscribeOne(d2) {
    void 0 !== this.observers && void 0 !== this.observers[d2] && (delete this.observers[d2], this.observerCount -= 1, 0 === this.observerCount && void 0 !== this.onNoObservers && this.onNoObservers(this));
  }
  forEachObserver(d2) {
    if (!this.finalized) for (let g2 = 0; g2 < this.observers.length; g2++) this.sendOne(g2, d2);
  }
  sendOne(d2, g2) {
    this.task.then(() => {
      if (void 0 !== this.observers && void 0 !== this.observers[d2]) try {
        g2(this.observers[d2]);
      } catch (d3) {
        "undefined" != typeof console && console.error && console.error(d3);
      }
    });
  }
  close(d2) {
    this.finalized || (this.finalized = true, void 0 !== d2 && (this.finalError = d2), this.task.then(() => {
      this.observers = void 0, this.onNoObservers = void 0;
    }));
  }
}
function noop() {
}
function getModularInstance(d2) {
  return d2 && d2._delegate ? d2._delegate : d2;
}
class Component {
  constructor(d2, g2, _2) {
    this.name = d2, this.instanceFactory = g2, this.type = _2, this.multipleInstances = false, this.serviceProps = {}, this.instantiationMode = "LAZY", this.onInstanceCreated = null;
  }
  setInstantiationMode(d2) {
    return this.instantiationMode = d2, this;
  }
  setMultipleInstances(d2) {
    return this.multipleInstances = d2, this;
  }
  setServiceProps(d2) {
    return this.serviceProps = d2, this;
  }
  setInstanceCreatedCallback(d2) {
    return this.onInstanceCreated = d2, this;
  }
}
const cg = "[DEFAULT]";
class Provider {
  constructor(d2, g2) {
    this.name = d2, this.container = g2, this.component = null, this.instances = /* @__PURE__ */ new Map(), this.instancesDeferred = /* @__PURE__ */ new Map(), this.instancesOptions = /* @__PURE__ */ new Map(), this.onInitCallbacks = /* @__PURE__ */ new Map();
  }
  get(d2) {
    const g2 = this.normalizeInstanceIdentifier(d2);
    if (!this.instancesDeferred.has(g2)) {
      const d3 = new Deferred();
      if (this.instancesDeferred.set(g2, d3), this.isInitialized(g2) || this.shouldAutoInitialize()) try {
        const _2 = this.getOrInitializeService({ instanceIdentifier: g2 });
        _2 && d3.resolve(_2);
      } catch (d4) {
      }
    }
    return this.instancesDeferred.get(g2).promise;
  }
  getImmediate(d2) {
    var g2;
    const _2 = this.normalizeInstanceIdentifier(null == d2 ? void 0 : d2.identifier), O2 = null !== (g2 = null == d2 ? void 0 : d2.optional) && void 0 !== g2 && g2;
    if (!this.isInitialized(_2) && !this.shouldAutoInitialize()) {
      if (O2) return null;
      throw Error(`Service ${this.name} is not available`);
    }
    try {
      return this.getOrInitializeService({ instanceIdentifier: _2 });
    } catch (d3) {
      if (O2) return null;
      throw d3;
    }
  }
  getComponent() {
    return this.component;
  }
  setComponent(d2) {
    if (d2.name !== this.name) throw Error(`Mismatching Component ${d2.name} for Provider ${this.name}.`);
    if (this.component) throw Error(`Component for ${this.name} has already been provided`);
    if (this.component = d2, this.shouldAutoInitialize()) {
      if (function isComponentEager(d3) {
        return "EAGER" === d3.instantiationMode;
      }(d2)) try {
        this.getOrInitializeService({ instanceIdentifier: cg });
      } catch (d3) {
      }
      for (const [d3, g2] of this.instancesDeferred.entries()) {
        const _2 = this.normalizeInstanceIdentifier(d3);
        try {
          const d4 = this.getOrInitializeService({ instanceIdentifier: _2 });
          g2.resolve(d4);
        } catch (d4) {
        }
      }
    }
  }
  clearInstance(d2 = cg) {
    this.instancesDeferred.delete(d2), this.instancesOptions.delete(d2), this.instances.delete(d2);
  }
  async delete() {
    const d2 = Array.from(this.instances.values());
    await Promise.all([...d2.filter((d3) => "INTERNAL" in d3).map((d3) => d3.INTERNAL.delete()), ...d2.filter((d3) => "_delete" in d3).map((d3) => d3._delete())]);
  }
  isComponentSet() {
    return null != this.component;
  }
  isInitialized(d2 = cg) {
    return this.instances.has(d2);
  }
  getOptions(d2 = cg) {
    return this.instancesOptions.get(d2) || {};
  }
  initialize(d2 = {}) {
    const { options: g2 = {} } = d2, _2 = this.normalizeInstanceIdentifier(d2.instanceIdentifier);
    if (this.isInitialized(_2)) throw Error(`${this.name}(${_2}) has already been initialized`);
    if (!this.isComponentSet()) throw Error(`Component ${this.name} has not been registered yet`);
    const O2 = this.getOrInitializeService({ instanceIdentifier: _2, options: g2 });
    for (const [d3, g3] of this.instancesDeferred.entries()) {
      _2 === this.normalizeInstanceIdentifier(d3) && g3.resolve(O2);
    }
    return O2;
  }
  onInit(d2, g2) {
    var _2;
    const O2 = this.normalizeInstanceIdentifier(g2), $2 = null !== (_2 = this.onInitCallbacks.get(O2)) && void 0 !== _2 ? _2 : /* @__PURE__ */ new Set();
    $2.add(d2), this.onInitCallbacks.set(O2, $2);
    const st2 = this.instances.get(O2);
    return st2 && d2(st2, O2), () => {
      $2.delete(d2);
    };
  }
  invokeOnInitCallbacks(d2, g2) {
    const _2 = this.onInitCallbacks.get(g2);
    if (_2) for (const O2 of _2) try {
      O2(d2, g2);
    } catch (d3) {
    }
  }
  getOrInitializeService({ instanceIdentifier: d2, options: g2 = {} }) {
    let _2 = this.instances.get(d2);
    if (!_2 && this.component && (_2 = this.component.instanceFactory(this.container, { instanceIdentifier: (O2 = d2, O2 === cg ? void 0 : O2), options: g2 }), this.instances.set(d2, _2), this.instancesOptions.set(d2, g2), this.invokeOnInitCallbacks(_2, d2), this.component.onInstanceCreated)) try {
      this.component.onInstanceCreated(this.container, d2, _2);
    } catch (d3) {
    }
    var O2;
    return _2 || null;
  }
  normalizeInstanceIdentifier(d2 = cg) {
    return this.component ? this.component.multipleInstances ? d2 : cg : d2;
  }
  shouldAutoInitialize() {
    return !!this.component && "EXPLICIT" !== this.component.instantiationMode;
  }
}
class ComponentContainer {
  constructor(d2) {
    this.name = d2, this.providers = /* @__PURE__ */ new Map();
  }
  addComponent(d2) {
    const g2 = this.getProvider(d2.name);
    if (g2.isComponentSet()) throw new Error(`Component ${d2.name} has already been registered with ${this.name}`);
    g2.setComponent(d2);
  }
  addOrOverwriteComponent(d2) {
    this.getProvider(d2.name).isComponentSet() && this.providers.delete(d2.name), this.addComponent(d2);
  }
  getProvider(d2) {
    if (this.providers.has(d2)) return this.providers.get(d2);
    const g2 = new Provider(d2, this);
    return this.providers.set(d2, g2), g2;
  }
  getProviders() {
    return Array.from(this.providers.values());
  }
}
var hg;
!function(d2) {
  d2[d2.DEBUG = 0] = "DEBUG", d2[d2.VERBOSE = 1] = "VERBOSE", d2[d2.INFO = 2] = "INFO", d2[d2.WARN = 3] = "WARN", d2[d2.ERROR = 4] = "ERROR", d2[d2.SILENT = 5] = "SILENT";
}(hg || (hg = {}));
const ug = { debug: hg.DEBUG, verbose: hg.VERBOSE, info: hg.INFO, warn: hg.WARN, error: hg.ERROR, silent: hg.SILENT }, dg = hg.INFO, pg = { [hg.DEBUG]: "log", [hg.VERBOSE]: "log", [hg.INFO]: "info", [hg.WARN]: "warn", [hg.ERROR]: "error" }, defaultLogHandler = (d2, g2, ..._2) => {
  if (g2 < d2.logLevel) return;
  const O2 = (/* @__PURE__ */ new Date()).toISOString(), $2 = pg[g2];
  if (!$2) throw new Error(`Attempted to log a message with an invalid logType (value: ${g2})`);
  console[$2](`[${O2}]  ${d2.name}:`, ..._2);
};
class Logger {
  constructor(d2) {
    this.name = d2, this._logLevel = dg, this._logHandler = defaultLogHandler, this._userLogHandler = null;
  }
  get logLevel() {
    return this._logLevel;
  }
  set logLevel(d2) {
    if (!(d2 in hg)) throw new TypeError(`Invalid value "${d2}" assigned to \`logLevel\``);
    this._logLevel = d2;
  }
  setLogLevel(d2) {
    this._logLevel = "string" == typeof d2 ? ug[d2] : d2;
  }
  get logHandler() {
    return this._logHandler;
  }
  set logHandler(d2) {
    if ("function" != typeof d2) throw new TypeError("Value assigned to `logHandler` must be a function");
    this._logHandler = d2;
  }
  get userLogHandler() {
    return this._userLogHandler;
  }
  set userLogHandler(d2) {
    this._userLogHandler = d2;
  }
  debug(...d2) {
    this._userLogHandler && this._userLogHandler(this, hg.DEBUG, ...d2), this._logHandler(this, hg.DEBUG, ...d2);
  }
  log(...d2) {
    this._userLogHandler && this._userLogHandler(this, hg.VERBOSE, ...d2), this._logHandler(this, hg.VERBOSE, ...d2);
  }
  info(...d2) {
    this._userLogHandler && this._userLogHandler(this, hg.INFO, ...d2), this._logHandler(this, hg.INFO, ...d2);
  }
  warn(...d2) {
    this._userLogHandler && this._userLogHandler(this, hg.WARN, ...d2), this._logHandler(this, hg.WARN, ...d2);
  }
  error(...d2) {
    this._userLogHandler && this._userLogHandler(this, hg.ERROR, ...d2), this._logHandler(this, hg.ERROR, ...d2);
  }
}
const instanceOfAny = (d2, g2) => g2.some((g3) => d2 instanceof g3);
let fg, gg;
const _g = /* @__PURE__ */ new WeakMap(), mg = /* @__PURE__ */ new WeakMap(), vg = /* @__PURE__ */ new WeakMap(), bg = /* @__PURE__ */ new WeakMap(), yg = /* @__PURE__ */ new WeakMap();
let wg = { get(d2, g2, _2) {
  if (d2 instanceof IDBTransaction) {
    if ("done" === g2) return mg.get(d2);
    if ("objectStoreNames" === g2) return d2.objectStoreNames || vg.get(d2);
    if ("store" === g2) return _2.objectStoreNames[1] ? void 0 : _2.objectStore(_2.objectStoreNames[0]);
  }
  return wrap(d2[g2]);
}, set: (d2, g2, _2) => (d2[g2] = _2, true), has: (d2, g2) => d2 instanceof IDBTransaction && ("done" === g2 || "store" === g2) || g2 in d2 };
function wrapFunction(d2) {
  return d2 !== IDBDatabase.prototype.transaction || "objectStoreNames" in IDBTransaction.prototype ? function getCursorAdvanceMethods() {
    return gg || (gg = [IDBCursor.prototype.advance, IDBCursor.prototype.continue, IDBCursor.prototype.continuePrimaryKey]);
  }().includes(d2) ? function(...g2) {
    return d2.apply(unwrap(this), g2), wrap(_g.get(this));
  } : function(...g2) {
    return wrap(d2.apply(unwrap(this), g2));
  } : function(g2, ..._2) {
    const O2 = d2.call(unwrap(this), g2, ..._2);
    return vg.set(O2, g2.sort ? g2.sort() : [g2]), wrap(O2);
  };
}
function transformCachableValue(d2) {
  return "function" == typeof d2 ? wrapFunction(d2) : (d2 instanceof IDBTransaction && function cacheDonePromiseForTransaction(d3) {
    if (mg.has(d3)) return;
    const g2 = new Promise((g3, _2) => {
      const unlisten = () => {
        d3.removeEventListener("complete", complete), d3.removeEventListener("error", error), d3.removeEventListener("abort", error);
      }, complete = () => {
        g3(), unlisten();
      }, error = () => {
        _2(d3.error || new DOMException("AbortError", "AbortError")), unlisten();
      };
      d3.addEventListener("complete", complete), d3.addEventListener("error", error), d3.addEventListener("abort", error);
    });
    mg.set(d3, g2);
  }(d2), instanceOfAny(d2, function getIdbProxyableTypes() {
    return fg || (fg = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction]);
  }()) ? new Proxy(d2, wg) : d2);
}
function wrap(d2) {
  if (d2 instanceof IDBRequest) return function promisifyRequest(d3) {
    const g3 = new Promise((g4, _2) => {
      const unlisten = () => {
        d3.removeEventListener("success", success), d3.removeEventListener("error", error);
      }, success = () => {
        g4(wrap(d3.result)), unlisten();
      }, error = () => {
        _2(d3.error), unlisten();
      };
      d3.addEventListener("success", success), d3.addEventListener("error", error);
    });
    return g3.then((g4) => {
      g4 instanceof IDBCursor && _g.set(g4, d3);
    }).catch(() => {
    }), yg.set(g3, d3), g3;
  }(d2);
  if (bg.has(d2)) return bg.get(d2);
  const g2 = transformCachableValue(d2);
  return g2 !== d2 && (bg.set(d2, g2), yg.set(g2, d2)), g2;
}
const unwrap = (d2) => yg.get(d2);
const xg = ["get", "getKey", "getAll", "getAllKeys", "count"], Tg = ["put", "add", "delete", "clear"], Eg = /* @__PURE__ */ new Map();
function getMethod(d2, g2) {
  if (!(d2 instanceof IDBDatabase) || g2 in d2 || "string" != typeof g2) return;
  if (Eg.get(g2)) return Eg.get(g2);
  const _2 = g2.replace(/FromIndex$/, ""), O2 = g2 !== _2, $2 = Tg.includes(_2);
  if (!(_2 in (O2 ? IDBIndex : IDBObjectStore).prototype) || !$2 && !xg.includes(_2)) return;
  const method = async function(d3, ...g3) {
    const st2 = this.transaction(d3, $2 ? "readwrite" : "readonly");
    let ot2 = st2.store;
    return O2 && (ot2 = ot2.index(g3.shift())), (await Promise.all([ot2[_2](...g3), $2 && st2.done]))[0];
  };
  return Eg.set(g2, method), method;
}
!function replaceTraps(d2) {
  wg = d2(wg);
}((d2) => ({ ...d2, get: (g2, _2, O2) => getMethod(g2, _2) || d2.get(g2, _2, O2), has: (g2, _2) => !!getMethod(g2, _2) || d2.has(g2, _2) }));
class PlatformLoggerServiceImpl {
  constructor(d2) {
    this.container = d2;
  }
  getPlatformInfoString() {
    return this.container.getProviders().map((d2) => {
      if (function isVersionServiceProvider(d3) {
        const g2 = d3.getComponent();
        return "VERSION" === (null == g2 ? void 0 : g2.type);
      }(d2)) {
        const g2 = d2.getImmediate();
        return `${g2.library}/${g2.version}`;
      }
      return null;
    }).filter((d2) => d2).join(" ");
  }
}
const Pg = "@firebase/app", Ig = "0.13.0", Ag = new Logger("@firebase/app"), Rg = "@firebase/app-compat", kg = "@firebase/analytics-compat", Sg = "@firebase/analytics", Cg = "@firebase/app-check-compat", Mg = "@firebase/app-check", Vg = "@firebase/auth", Dg = "@firebase/auth-compat", Og = "@firebase/database", Lg = "@firebase/data-connect", Ng = "@firebase/database-compat", $g = "@firebase/functions", Fg = "@firebase/functions-compat", zg = "@firebase/installations", Bg = "@firebase/installations-compat", Ug = "@firebase/messaging", Wg = "@firebase/messaging-compat", jg = "@firebase/performance", qg = "@firebase/performance-compat", Hg = "@firebase/remote-config", Kg = "@firebase/remote-config-compat", Gg = "@firebase/storage", Yg = "@firebase/storage-compat", Qg = "@firebase/firestore", Xg = "@firebase/ai", Jg = "@firebase/firestore-compat", Zg = "firebase", t_ = "[DEFAULT]", e_ = { [Pg]: "fire-core", [Rg]: "fire-core-compat", [Sg]: "fire-analytics", [kg]: "fire-analytics-compat", [Mg]: "fire-app-check", [Cg]: "fire-app-check-compat", [Vg]: "fire-auth", [Dg]: "fire-auth-compat", [Og]: "fire-rtdb", [Lg]: "fire-data-connect", [Ng]: "fire-rtdb-compat", [$g]: "fire-fn", [Fg]: "fire-fn-compat", [zg]: "fire-iid", [Bg]: "fire-iid-compat", [Ug]: "fire-fcm", [Wg]: "fire-fcm-compat", [jg]: "fire-perf", [qg]: "fire-perf-compat", [Hg]: "fire-rc", [Kg]: "fire-rc-compat", [Gg]: "fire-gcs", [Yg]: "fire-gcs-compat", [Qg]: "fire-fst", [Jg]: "fire-fst-compat", [Xg]: "fire-vertex", "fire-js": "fire-js", [Zg]: "fire-js-all" }, i_ = /* @__PURE__ */ new Map(), s_ = /* @__PURE__ */ new Map(), n_ = /* @__PURE__ */ new Map();
function _addComponent(d2, g2) {
  try {
    d2.container.addComponent(g2);
  } catch (_2) {
    Ag.debug(`Component ${g2.name} failed to register with FirebaseApp ${d2.name}`, _2);
  }
}
function _registerComponent(d2) {
  const g2 = d2.name;
  if (n_.has(g2)) return Ag.debug(`There were multiple attempts to register component ${g2}.`), false;
  n_.set(g2, d2);
  for (const g3 of i_.values()) _addComponent(g3, d2);
  for (const g3 of s_.values()) _addComponent(g3, d2);
  return true;
}
function _getProvider(d2, g2) {
  const _2 = d2.container.getProvider("heartbeat").getImmediate({ optional: true });
  return _2 && _2.triggerHeartbeat(), d2.container.getProvider(g2);
}
function _isFirebaseServerApp(d2) {
  return null != d2 && void 0 !== d2.settings;
}
const r_ = new ErrorFactory("app", "Firebase", { "no-app": "No Firebase App '{$appName}' has been created - call initializeApp() first", "bad-app-name": "Illegal App name: '{$appName}'", "duplicate-app": "Firebase App named '{$appName}' already exists with different options or config", "app-deleted": "Firebase App named '{$appName}' already deleted", "server-app-deleted": "Firebase Server App has been deleted", "no-options": "Need to provide options, when not being deployed to hosting via source.", "invalid-app-argument": "firebase.{$appName}() takes either no argument or a Firebase App instance.", "invalid-log-argument": "First argument to `onLog` must be null or a function.", "idb-open": "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.", "idb-get": "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.", "idb-set": "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.", "idb-delete": "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.", "finalization-registry-not-supported": "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.", "invalid-server-app-environment": "FirebaseServerApp is not for use in browser environments." });
class FirebaseAppImpl {
  constructor(d2, g2, _2) {
    this._isDeleted = false, this._options = Object.assign({}, d2), this._config = Object.assign({}, g2), this._name = g2.name, this._automaticDataCollectionEnabled = g2.automaticDataCollectionEnabled, this._container = _2, this.container.addComponent(new Component("app", () => this, "PUBLIC"));
  }
  get automaticDataCollectionEnabled() {
    return this.checkDestroyed(), this._automaticDataCollectionEnabled;
  }
  set automaticDataCollectionEnabled(d2) {
    this.checkDestroyed(), this._automaticDataCollectionEnabled = d2;
  }
  get name() {
    return this.checkDestroyed(), this._name;
  }
  get options() {
    return this.checkDestroyed(), this._options;
  }
  get config() {
    return this.checkDestroyed(), this._config;
  }
  get container() {
    return this._container;
  }
  get isDeleted() {
    return this._isDeleted;
  }
  set isDeleted(d2) {
    this._isDeleted = d2;
  }
  checkDestroyed() {
    if (this.isDeleted) throw r_.create("app-deleted", { appName: this._name });
  }
}
const o_ = "11.8.0";
function initializeApp(d2, g2 = {}) {
  let _2 = d2;
  if ("object" != typeof g2) {
    g2 = { name: g2 };
  }
  const O2 = Object.assign({ name: t_, automaticDataCollectionEnabled: true }, g2), $2 = O2.name;
  if ("string" != typeof $2 || !$2) throw r_.create("bad-app-name", { appName: String($2) });
  if (_2 || (_2 = getDefaultAppConfig()), !_2) throw r_.create("no-options");
  const st2 = i_.get($2);
  if (st2) {
    if (deepEqual(_2, st2.options) && deepEqual(O2, st2.config)) return st2;
    throw r_.create("duplicate-app", { appName: $2 });
  }
  const ot2 = new ComponentContainer($2);
  for (const d3 of n_.values()) ot2.addComponent(d3);
  const lt2 = new FirebaseAppImpl(_2, O2, ot2);
  return i_.set($2, lt2), lt2;
}
function getApp(d2 = t_) {
  const g2 = i_.get(d2);
  if (!g2 && d2 === t_ && getDefaultAppConfig()) return initializeApp();
  if (!g2) throw r_.create("no-app", { appName: d2 });
  return g2;
}
function registerVersion(d2, g2, _2) {
  var O2;
  let $2 = null !== (O2 = e_[d2]) && void 0 !== O2 ? O2 : d2;
  _2 && ($2 += `-${_2}`);
  const st2 = $2.match(/\s|\//), ot2 = g2.match(/\s|\//);
  if (st2 || ot2) {
    const d3 = [`Unable to register library "${$2}" with version "${g2}":`];
    return st2 && d3.push(`library name "${$2}" contains illegal characters (whitespace or "/")`), st2 && ot2 && d3.push("and"), ot2 && d3.push(`version name "${g2}" contains illegal characters (whitespace or "/")`), void Ag.warn(d3.join(" "));
  }
  _registerComponent(new Component(`${$2}-version`, () => ({ library: $2, version: g2 }), "VERSION"));
}
const a_ = "firebase-heartbeat-database", l_ = 1, c_ = "firebase-heartbeat-store";
let h_ = null;
function getDbPromise() {
  return h_ || (h_ = function openDB(d2, g2, { blocked: _2, upgrade: O2, blocking: $2, terminated: st2 } = {}) {
    const ot2 = indexedDB.open(d2, g2), lt2 = wrap(ot2);
    return O2 && ot2.addEventListener("upgradeneeded", (d3) => {
      O2(wrap(ot2.result), d3.oldVersion, d3.newVersion, wrap(ot2.transaction), d3);
    }), _2 && ot2.addEventListener("blocked", (d3) => _2(d3.oldVersion, d3.newVersion, d3)), lt2.then((d3) => {
      st2 && d3.addEventListener("close", () => st2()), $2 && d3.addEventListener("versionchange", (d4) => $2(d4.oldVersion, d4.newVersion, d4));
    }).catch(() => {
    }), lt2;
  }(a_, l_, { upgrade: (d2, g2) => {
    if (0 === g2) try {
      d2.createObjectStore(c_);
    } catch (d3) {
      console.warn(d3);
    }
  } }).catch((d2) => {
    throw r_.create("idb-open", { originalErrorMessage: d2.message });
  })), h_;
}
async function writeHeartbeatsToIndexedDB(d2, g2) {
  try {
    const _2 = (await getDbPromise()).transaction(c_, "readwrite"), O2 = _2.objectStore(c_);
    await O2.put(g2, computeKey$1(d2)), await _2.done;
  } catch (d3) {
    if (d3 instanceof FirebaseError) Ag.warn(d3.message);
    else {
      const g3 = r_.create("idb-set", { originalErrorMessage: null == d3 ? void 0 : d3.message });
      Ag.warn(g3.message);
    }
  }
}
function computeKey$1(d2) {
  return `${d2.name}!${d2.options.appId}`;
}
class HeartbeatServiceImpl {
  constructor(d2) {
    this.container = d2, this._heartbeatsCache = null;
    const g2 = this.container.getProvider("app").getImmediate();
    this._storage = new HeartbeatStorageImpl(g2), this._heartbeatsCachePromise = this._storage.read().then((d3) => (this._heartbeatsCache = d3, d3));
  }
  async triggerHeartbeat() {
    var d2, g2;
    try {
      const _2 = this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(), O2 = getUTCDateString();
      if (null == (null === (d2 = this._heartbeatsCache) || void 0 === d2 ? void 0 : d2.heartbeats) && (this._heartbeatsCache = await this._heartbeatsCachePromise, null == (null === (g2 = this._heartbeatsCache) || void 0 === g2 ? void 0 : g2.heartbeats))) return;
      if (this._heartbeatsCache.lastSentHeartbeatDate === O2 || this._heartbeatsCache.heartbeats.some((d3) => d3.date === O2)) return;
      if (this._heartbeatsCache.heartbeats.push({ date: O2, agent: _2 }), this._heartbeatsCache.heartbeats.length > 30) {
        const d3 = function getEarliestHeartbeatIdx(d4) {
          if (0 === d4.length) return -1;
          let g3 = 0, _3 = d4[0].date;
          for (let O3 = 1; O3 < d4.length; O3++) d4[O3].date < _3 && (_3 = d4[O3].date, g3 = O3);
          return g3;
        }(this._heartbeatsCache.heartbeats);
        this._heartbeatsCache.heartbeats.splice(d3, 1);
      }
      return this._storage.overwrite(this._heartbeatsCache);
    } catch (d3) {
      Ag.warn(d3);
    }
  }
  async getHeartbeatsHeader() {
    var d2;
    try {
      if (null === this._heartbeatsCache && await this._heartbeatsCachePromise, null == (null === (d2 = this._heartbeatsCache) || void 0 === d2 ? void 0 : d2.heartbeats) || 0 === this._heartbeatsCache.heartbeats.length) return "";
      const g2 = getUTCDateString(), { heartbeatsToSend: _2, unsentEntries: O2 } = function extractHeartbeatsForHeader(d3, g3 = 1024) {
        const _3 = [];
        let O3 = d3.slice();
        for (const $3 of d3) {
          const d4 = _3.find((d5) => d5.agent === $3.agent);
          if (d4) {
            if (d4.dates.push($3.date), countBytes(_3) > g3) {
              d4.dates.pop();
              break;
            }
          } else if (_3.push({ agent: $3.agent, dates: [$3.date] }), countBytes(_3) > g3) {
            _3.pop();
            break;
          }
          O3 = O3.slice(1);
        }
        return { heartbeatsToSend: _3, unsentEntries: O3 };
      }(this._heartbeatsCache.heartbeats), $2 = base64urlEncodeWithoutPadding(JSON.stringify({ version: 2, heartbeats: _2 }));
      return this._heartbeatsCache.lastSentHeartbeatDate = g2, O2.length > 0 ? (this._heartbeatsCache.heartbeats = O2, await this._storage.overwrite(this._heartbeatsCache)) : (this._heartbeatsCache.heartbeats = [], this._storage.overwrite(this._heartbeatsCache)), $2;
    } catch (d3) {
      return Ag.warn(d3), "";
    }
  }
}
function getUTCDateString() {
  return (/* @__PURE__ */ new Date()).toISOString().substring(0, 10);
}
class HeartbeatStorageImpl {
  constructor(d2) {
    this.app = d2, this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();
  }
  async runIndexedDBEnvironmentCheck() {
    return !!isIndexedDBAvailable() && function validateIndexedDBOpenable() {
      return new Promise((d2, g2) => {
        try {
          let _2 = true;
          const O2 = "validate-browser-context-for-indexeddb-analytics-module", $2 = self.indexedDB.open(O2);
          $2.onsuccess = () => {
            $2.result.close(), _2 || self.indexedDB.deleteDatabase(O2), d2(true);
          }, $2.onupgradeneeded = () => {
            _2 = false;
          }, $2.onerror = () => {
            var d3;
            g2((null === (d3 = $2.error) || void 0 === d3 ? void 0 : d3.message) || "");
          };
        } catch (d3) {
          g2(d3);
        }
      });
    }().then(() => true).catch(() => false);
  }
  async read() {
    if (await this._canUseIndexedDBPromise) {
      const d2 = await async function readHeartbeatsFromIndexedDB(d3) {
        try {
          const g2 = (await getDbPromise()).transaction(c_), _2 = await g2.objectStore(c_).get(computeKey$1(d3));
          return await g2.done, _2;
        } catch (d4) {
          if (d4 instanceof FirebaseError) Ag.warn(d4.message);
          else {
            const g2 = r_.create("idb-get", { originalErrorMessage: null == d4 ? void 0 : d4.message });
            Ag.warn(g2.message);
          }
        }
      }(this.app);
      return (null == d2 ? void 0 : d2.heartbeats) ? d2 : { heartbeats: [] };
    }
    return { heartbeats: [] };
  }
  async overwrite(d2) {
    var g2;
    if (await this._canUseIndexedDBPromise) {
      const _2 = await this.read();
      return writeHeartbeatsToIndexedDB(this.app, { lastSentHeartbeatDate: null !== (g2 = d2.lastSentHeartbeatDate) && void 0 !== g2 ? g2 : _2.lastSentHeartbeatDate, heartbeats: d2.heartbeats });
    }
  }
  async add(d2) {
    var g2;
    if (await this._canUseIndexedDBPromise) {
      const _2 = await this.read();
      return writeHeartbeatsToIndexedDB(this.app, { lastSentHeartbeatDate: null !== (g2 = d2.lastSentHeartbeatDate) && void 0 !== g2 ? g2 : _2.lastSentHeartbeatDate, heartbeats: [..._2.heartbeats, ...d2.heartbeats] });
    }
  }
}
function countBytes(d2) {
  return base64urlEncodeWithoutPadding(JSON.stringify({ version: 2, heartbeats: d2 })).length;
}
!function registerCoreComponents(d2) {
  _registerComponent(new Component("platform-logger", (d3) => new PlatformLoggerServiceImpl(d3), "PRIVATE")), _registerComponent(new Component("heartbeat", (d3) => new HeartbeatServiceImpl(d3), "PRIVATE")), registerVersion(Pg, Ig, d2), registerVersion(Pg, Ig, "esm2017"), registerVersion("fire-js", "");
}("");
var u_, d_, p_ = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
(function() {
  var d2;
  function m2() {
    this.blockSize = -1, this.blockSize = 64, this.g = Array(4), this.B = Array(this.blockSize), this.o = this.h = 0, this.s();
  }
  function n(d3, g3, _3) {
    _3 || (_3 = 0);
    var O3 = Array(16);
    if ("string" == typeof g3) for (var $3 = 0; 16 > $3; ++$3) O3[$3] = g3.charCodeAt(_3++) | g3.charCodeAt(_3++) << 8 | g3.charCodeAt(_3++) << 16 | g3.charCodeAt(_3++) << 24;
    else for ($3 = 0; 16 > $3; ++$3) O3[$3] = g3[_3++] | g3[_3++] << 8 | g3[_3++] << 16 | g3[_3++] << 24;
    g3 = d3.g[0], _3 = d3.g[1], $3 = d3.g[2];
    var st2 = d3.g[3], ot2 = g3 + (st2 ^ _3 & ($3 ^ st2)) + O3[0] + 3614090360 & 4294967295;
    ot2 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = (_3 = ($3 = (st2 = (g3 = _3 + (ot2 << 7 & 4294967295 | ot2 >>> 25)) + ((ot2 = st2 + ($3 ^ g3 & (_3 ^ $3)) + O3[1] + 3905402710 & 4294967295) << 12 & 4294967295 | ot2 >>> 20)) + ((ot2 = $3 + (_3 ^ st2 & (g3 ^ _3)) + O3[2] + 606105819 & 4294967295) << 17 & 4294967295 | ot2 >>> 15)) + ((ot2 = _3 + (g3 ^ $3 & (st2 ^ g3)) + O3[3] + 3250441966 & 4294967295) << 22 & 4294967295 | ot2 >>> 10)) + ((ot2 = g3 + (st2 ^ _3 & ($3 ^ st2)) + O3[4] + 4118548399 & 4294967295) << 7 & 4294967295 | ot2 >>> 25)) + ((ot2 = st2 + ($3 ^ g3 & (_3 ^ $3)) + O3[5] + 1200080426 & 4294967295) << 12 & 4294967295 | ot2 >>> 20)) + ((ot2 = $3 + (_3 ^ st2 & (g3 ^ _3)) + O3[6] + 2821735955 & 4294967295) << 17 & 4294967295 | ot2 >>> 15)) + ((ot2 = _3 + (g3 ^ $3 & (st2 ^ g3)) + O3[7] + 4249261313 & 4294967295) << 22 & 4294967295 | ot2 >>> 10)) + ((ot2 = g3 + (st2 ^ _3 & ($3 ^ st2)) + O3[8] + 1770035416 & 4294967295) << 7 & 4294967295 | ot2 >>> 25)) + ((ot2 = st2 + ($3 ^ g3 & (_3 ^ $3)) + O3[9] + 2336552879 & 4294967295) << 12 & 4294967295 | ot2 >>> 20)) + ((ot2 = $3 + (_3 ^ st2 & (g3 ^ _3)) + O3[10] + 4294925233 & 4294967295) << 17 & 4294967295 | ot2 >>> 15)) + ((ot2 = _3 + (g3 ^ $3 & (st2 ^ g3)) + O3[11] + 2304563134 & 4294967295) << 22 & 4294967295 | ot2 >>> 10)) + ((ot2 = g3 + (st2 ^ _3 & ($3 ^ st2)) + O3[12] + 1804603682 & 4294967295) << 7 & 4294967295 | ot2 >>> 25)) + ((ot2 = st2 + ($3 ^ g3 & (_3 ^ $3)) + O3[13] + 4254626195 & 4294967295) << 12 & 4294967295 | ot2 >>> 20)) + ((ot2 = $3 + (_3 ^ st2 & (g3 ^ _3)) + O3[14] + 2792965006 & 4294967295) << 17 & 4294967295 | ot2 >>> 15)) + ((ot2 = _3 + (g3 ^ $3 & (st2 ^ g3)) + O3[15] + 1236535329 & 4294967295) << 22 & 4294967295 | ot2 >>> 10)) + ((ot2 = g3 + ($3 ^ st2 & (_3 ^ $3)) + O3[1] + 4129170786 & 4294967295) << 5 & 4294967295 | ot2 >>> 27)) + ((ot2 = st2 + (_3 ^ $3 & (g3 ^ _3)) + O3[6] + 3225465664 & 4294967295) << 9 & 4294967295 | ot2 >>> 23)) + ((ot2 = $3 + (g3 ^ _3 & (st2 ^ g3)) + O3[11] + 643717713 & 4294967295) << 14 & 4294967295 | ot2 >>> 18)) + ((ot2 = _3 + (st2 ^ g3 & ($3 ^ st2)) + O3[0] + 3921069994 & 4294967295) << 20 & 4294967295 | ot2 >>> 12)) + ((ot2 = g3 + ($3 ^ st2 & (_3 ^ $3)) + O3[5] + 3593408605 & 4294967295) << 5 & 4294967295 | ot2 >>> 27)) + ((ot2 = st2 + (_3 ^ $3 & (g3 ^ _3)) + O3[10] + 38016083 & 4294967295) << 9 & 4294967295 | ot2 >>> 23)) + ((ot2 = $3 + (g3 ^ _3 & (st2 ^ g3)) + O3[15] + 3634488961 & 4294967295) << 14 & 4294967295 | ot2 >>> 18)) + ((ot2 = _3 + (st2 ^ g3 & ($3 ^ st2)) + O3[4] + 3889429448 & 4294967295) << 20 & 4294967295 | ot2 >>> 12)) + ((ot2 = g3 + ($3 ^ st2 & (_3 ^ $3)) + O3[9] + 568446438 & 4294967295) << 5 & 4294967295 | ot2 >>> 27)) + ((ot2 = st2 + (_3 ^ $3 & (g3 ^ _3)) + O3[14] + 3275163606 & 4294967295) << 9 & 4294967295 | ot2 >>> 23)) + ((ot2 = $3 + (g3 ^ _3 & (st2 ^ g3)) + O3[3] + 4107603335 & 4294967295) << 14 & 4294967295 | ot2 >>> 18)) + ((ot2 = _3 + (st2 ^ g3 & ($3 ^ st2)) + O3[8] + 1163531501 & 4294967295) << 20 & 4294967295 | ot2 >>> 12)) + ((ot2 = g3 + ($3 ^ st2 & (_3 ^ $3)) + O3[13] + 2850285829 & 4294967295) << 5 & 4294967295 | ot2 >>> 27)) + ((ot2 = st2 + (_3 ^ $3 & (g3 ^ _3)) + O3[2] + 4243563512 & 4294967295) << 9 & 4294967295 | ot2 >>> 23)) + ((ot2 = $3 + (g3 ^ _3 & (st2 ^ g3)) + O3[7] + 1735328473 & 4294967295) << 14 & 4294967295 | ot2 >>> 18)) + ((ot2 = _3 + (st2 ^ g3 & ($3 ^ st2)) + O3[12] + 2368359562 & 4294967295) << 20 & 4294967295 | ot2 >>> 12)) + ((ot2 = g3 + (_3 ^ $3 ^ st2) + O3[5] + 4294588738 & 4294967295) << 4 & 4294967295 | ot2 >>> 28)) + ((ot2 = st2 + (g3 ^ _3 ^ $3) + O3[8] + 2272392833 & 4294967295) << 11 & 4294967295 | ot2 >>> 21)) + ((ot2 = $3 + (st2 ^ g3 ^ _3) + O3[11] + 1839030562 & 4294967295) << 16 & 4294967295 | ot2 >>> 16)) + ((ot2 = _3 + ($3 ^ st2 ^ g3) + O3[14] + 4259657740 & 4294967295) << 23 & 4294967295 | ot2 >>> 9)) + ((ot2 = g3 + (_3 ^ $3 ^ st2) + O3[1] + 2763975236 & 4294967295) << 4 & 4294967295 | ot2 >>> 28)) + ((ot2 = st2 + (g3 ^ _3 ^ $3) + O3[4] + 1272893353 & 4294967295) << 11 & 4294967295 | ot2 >>> 21)) + ((ot2 = $3 + (st2 ^ g3 ^ _3) + O3[7] + 4139469664 & 4294967295) << 16 & 4294967295 | ot2 >>> 16)) + ((ot2 = _3 + ($3 ^ st2 ^ g3) + O3[10] + 3200236656 & 4294967295) << 23 & 4294967295 | ot2 >>> 9)) + ((ot2 = g3 + (_3 ^ $3 ^ st2) + O3[13] + 681279174 & 4294967295) << 4 & 4294967295 | ot2 >>> 28)) + ((ot2 = st2 + (g3 ^ _3 ^ $3) + O3[0] + 3936430074 & 4294967295) << 11 & 4294967295 | ot2 >>> 21)) + ((ot2 = $3 + (st2 ^ g3 ^ _3) + O3[3] + 3572445317 & 4294967295) << 16 & 4294967295 | ot2 >>> 16)) + ((ot2 = _3 + ($3 ^ st2 ^ g3) + O3[6] + 76029189 & 4294967295) << 23 & 4294967295 | ot2 >>> 9)) + ((ot2 = g3 + (_3 ^ $3 ^ st2) + O3[9] + 3654602809 & 4294967295) << 4 & 4294967295 | ot2 >>> 28)) + ((ot2 = st2 + (g3 ^ _3 ^ $3) + O3[12] + 3873151461 & 4294967295) << 11 & 4294967295 | ot2 >>> 21)) + ((ot2 = $3 + (st2 ^ g3 ^ _3) + O3[15] + 530742520 & 4294967295) << 16 & 4294967295 | ot2 >>> 16)) + ((ot2 = _3 + ($3 ^ st2 ^ g3) + O3[2] + 3299628645 & 4294967295) << 23 & 4294967295 | ot2 >>> 9)) + ((ot2 = g3 + ($3 ^ (_3 | ~st2)) + O3[0] + 4096336452 & 4294967295) << 6 & 4294967295 | ot2 >>> 26)) + ((ot2 = st2 + (_3 ^ (g3 | ~$3)) + O3[7] + 1126891415 & 4294967295) << 10 & 4294967295 | ot2 >>> 22)) + ((ot2 = $3 + (g3 ^ (st2 | ~_3)) + O3[14] + 2878612391 & 4294967295) << 15 & 4294967295 | ot2 >>> 17)) + ((ot2 = _3 + (st2 ^ ($3 | ~g3)) + O3[5] + 4237533241 & 4294967295) << 21 & 4294967295 | ot2 >>> 11)) + ((ot2 = g3 + ($3 ^ (_3 | ~st2)) + O3[12] + 1700485571 & 4294967295) << 6 & 4294967295 | ot2 >>> 26)) + ((ot2 = st2 + (_3 ^ (g3 | ~$3)) + O3[3] + 2399980690 & 4294967295) << 10 & 4294967295 | ot2 >>> 22)) + ((ot2 = $3 + (g3 ^ (st2 | ~_3)) + O3[10] + 4293915773 & 4294967295) << 15 & 4294967295 | ot2 >>> 17)) + ((ot2 = _3 + (st2 ^ ($3 | ~g3)) + O3[1] + 2240044497 & 4294967295) << 21 & 4294967295 | ot2 >>> 11)) + ((ot2 = g3 + ($3 ^ (_3 | ~st2)) + O3[8] + 1873313359 & 4294967295) << 6 & 4294967295 | ot2 >>> 26)) + ((ot2 = st2 + (_3 ^ (g3 | ~$3)) + O3[15] + 4264355552 & 4294967295) << 10 & 4294967295 | ot2 >>> 22)) + ((ot2 = $3 + (g3 ^ (st2 | ~_3)) + O3[6] + 2734768916 & 4294967295) << 15 & 4294967295 | ot2 >>> 17)) + ((ot2 = _3 + (st2 ^ ($3 | ~g3)) + O3[13] + 1309151649 & 4294967295) << 21 & 4294967295 | ot2 >>> 11)) + ((st2 = (g3 = _3 + ((ot2 = g3 + ($3 ^ (_3 | ~st2)) + O3[4] + 4149444226 & 4294967295) << 6 & 4294967295 | ot2 >>> 26)) + ((ot2 = st2 + (_3 ^ (g3 | ~$3)) + O3[11] + 3174756917 & 4294967295) << 10 & 4294967295 | ot2 >>> 22)) ^ (($3 = st2 + ((ot2 = $3 + (g3 ^ (st2 | ~_3)) + O3[2] + 718787259 & 4294967295) << 15 & 4294967295 | ot2 >>> 17)) | ~g3)) + O3[9] + 3951481745 & 4294967295, d3.g[0] = d3.g[0] + g3 & 4294967295, d3.g[1] = d3.g[1] + ($3 + (ot2 << 21 & 4294967295 | ot2 >>> 11)) & 4294967295, d3.g[2] = d3.g[2] + $3 & 4294967295, d3.g[3] = d3.g[3] + st2 & 4294967295;
  }
  function t(d3, g3) {
    this.h = g3;
    for (var _3 = [], O3 = true, $3 = d3.length - 1; 0 <= $3; $3--) {
      var st2 = 0 | d3[$3];
      O3 && st2 == g3 || (_3[$3] = st2, O3 = false);
    }
    this.g = _3;
  }
  !function k(d3, g3) {
    function c() {
    }
    c.prototype = g3.prototype, d3.D = g3.prototype, d3.prototype = new c(), d3.prototype.constructor = d3, d3.C = function(d4, _3, O3) {
      for (var $3 = Array(arguments.length - 2), st2 = 2; st2 < arguments.length; st2++) $3[st2 - 2] = arguments[st2];
      return g3.prototype[_3].apply(d4, $3);
    };
  }(m2, function l() {
    this.blockSize = -1;
  }), m2.prototype.s = function() {
    this.g[0] = 1732584193, this.g[1] = 4023233417, this.g[2] = 2562383102, this.g[3] = 271733878, this.o = this.h = 0;
  }, m2.prototype.u = function(d3, g3) {
    void 0 === g3 && (g3 = d3.length);
    for (var _3 = g3 - this.blockSize, O3 = this.B, $3 = this.h, st2 = 0; st2 < g3; ) {
      if (0 == $3) for (; st2 <= _3; ) n(this, d3, st2), st2 += this.blockSize;
      if ("string" == typeof d3) {
        for (; st2 < g3; ) if (O3[$3++] = d3.charCodeAt(st2++), $3 == this.blockSize) {
          n(this, O3), $3 = 0;
          break;
        }
      } else for (; st2 < g3; ) if (O3[$3++] = d3[st2++], $3 == this.blockSize) {
        n(this, O3), $3 = 0;
        break;
      }
    }
    this.h = $3, this.o += g3;
  }, m2.prototype.v = function() {
    var d3 = Array((56 > this.h ? this.blockSize : 2 * this.blockSize) - this.h);
    d3[0] = 128;
    for (var g3 = 1; g3 < d3.length - 8; ++g3) d3[g3] = 0;
    var _3 = 8 * this.o;
    for (g3 = d3.length - 8; g3 < d3.length; ++g3) d3[g3] = 255 & _3, _3 /= 256;
    for (this.u(d3), d3 = Array(16), g3 = _3 = 0; 4 > g3; ++g3) for (var O3 = 0; 32 > O3; O3 += 8) d3[_3++] = this.g[g3] >>> O3 & 255;
    return d3;
  };
  var g2 = {};
  function u(d3) {
    return -128 <= d3 && 128 > d3 ? function p2(d4, _3) {
      var O3 = g2;
      return Object.prototype.hasOwnProperty.call(O3, d4) ? O3[d4] : O3[d4] = _3(d4);
    }(d3, function(d4) {
      return new t([0 | d4], 0 > d4 ? -1 : 0);
    }) : new t([0 | d3], 0 > d3 ? -1 : 0);
  }
  function v2(d3) {
    if (isNaN(d3) || !isFinite(d3)) return _2;
    if (0 > d3) return x(v2(-d3));
    for (var g3 = [], O3 = 1, $3 = 0; d3 >= O3; $3++) g3[$3] = d3 / O3 | 0, O3 *= 4294967296;
    return new t(g3, 0);
  }
  var _2 = u(0), O2 = u(1), $2 = u(16777216);
  function C(d3) {
    if (0 != d3.h) return false;
    for (var g3 = 0; g3 < d3.g.length; g3++) if (0 != d3.g[g3]) return false;
    return true;
  }
  function B(d3) {
    return -1 == d3.h;
  }
  function x(d3) {
    for (var g3 = d3.g.length, _3 = [], $3 = 0; $3 < g3; $3++) _3[$3] = ~d3.g[$3];
    return new t(_3, ~d3.h).add(O2);
  }
  function F2(d3, g3) {
    return d3.add(x(g3));
  }
  function G(d3, g3) {
    for (; (65535 & d3[g3]) != d3[g3]; ) d3[g3 + 1] += d3[g3] >>> 16, d3[g3] &= 65535, g3++;
  }
  function H2(d3, g3) {
    this.g = d3, this.h = g3;
  }
  function D2(d3, g3) {
    if (C(g3)) throw Error("division by zero");
    if (C(d3)) return new H2(_2, _2);
    if (B(d3)) return g3 = D2(x(d3), g3), new H2(x(g3.g), x(g3.h));
    if (B(g3)) return g3 = D2(d3, x(g3)), new H2(x(g3.g), g3.h);
    if (30 < d3.g.length) {
      if (B(d3) || B(g3)) throw Error("slowDivide_ only works with positive integers.");
      for (var $3 = O2, st2 = g3; 0 >= st2.l(d3); ) $3 = I2($3), st2 = I2(st2);
      var ot2 = J2($3, 1), lt2 = J2(st2, 1);
      for (st2 = J2(st2, 2), $3 = J2($3, 2); !C(st2); ) {
        var ct2 = lt2.add(st2);
        0 >= ct2.l(d3) && (ot2 = ot2.add($3), lt2 = ct2), st2 = J2(st2, 1), $3 = J2($3, 1);
      }
      return g3 = F2(d3, ot2.j(g3)), new H2(ot2, g3);
    }
    for (ot2 = _2; 0 <= d3.l(g3); ) {
      for ($3 = Math.max(1, Math.floor(d3.m() / g3.m())), st2 = 48 >= (st2 = Math.ceil(Math.log($3) / Math.LN2)) ? 1 : Math.pow(2, st2 - 48), ct2 = (lt2 = v2($3)).j(g3); B(ct2) || 0 < ct2.l(d3); ) ct2 = (lt2 = v2($3 -= st2)).j(g3);
      C(lt2) && (lt2 = O2), ot2 = ot2.add(lt2), d3 = F2(d3, ct2);
    }
    return new H2(ot2, d3);
  }
  function I2(d3) {
    for (var g3 = d3.g.length + 1, _3 = [], O3 = 0; O3 < g3; O3++) _3[O3] = d3.i(O3) << 1 | d3.i(O3 - 1) >>> 31;
    return new t(_3, d3.h);
  }
  function J2(d3, g3) {
    var _3 = g3 >> 5;
    g3 %= 32;
    for (var O3 = d3.g.length - _3, $3 = [], st2 = 0; st2 < O3; st2++) $3[st2] = 0 < g3 ? d3.i(st2 + _3) >>> g3 | d3.i(st2 + _3 + 1) << 32 - g3 : d3.i(st2 + _3);
    return new t($3, d3.h);
  }
  (d2 = t.prototype).m = function() {
    if (B(this)) return -x(this).m();
    for (var d3 = 0, g3 = 1, _3 = 0; _3 < this.g.length; _3++) {
      var O3 = this.i(_3);
      d3 += (0 <= O3 ? O3 : 4294967296 + O3) * g3, g3 *= 4294967296;
    }
    return d3;
  }, d2.toString = function(d3) {
    if (2 > (d3 = d3 || 10) || 36 < d3) throw Error("radix out of range: " + d3);
    if (C(this)) return "0";
    if (B(this)) return "-" + x(this).toString(d3);
    for (var g3 = v2(Math.pow(d3, 6)), _3 = this, O3 = ""; ; ) {
      var $3 = D2(_3, g3).g, st2 = ((0 < (_3 = F2(_3, $3.j(g3))).g.length ? _3.g[0] : _3.h) >>> 0).toString(d3);
      if (C(_3 = $3)) return st2 + O3;
      for (; 6 > st2.length; ) st2 = "0" + st2;
      O3 = st2 + O3;
    }
  }, d2.i = function(d3) {
    return 0 > d3 ? 0 : d3 < this.g.length ? this.g[d3] : this.h;
  }, d2.l = function(d3) {
    return B(d3 = F2(this, d3)) ? -1 : C(d3) ? 0 : 1;
  }, d2.abs = function() {
    return B(this) ? x(this) : this;
  }, d2.add = function(d3) {
    for (var g3 = Math.max(this.g.length, d3.g.length), _3 = [], O3 = 0, $3 = 0; $3 <= g3; $3++) {
      var st2 = O3 + (65535 & this.i($3)) + (65535 & d3.i($3)), ot2 = (st2 >>> 16) + (this.i($3) >>> 16) + (d3.i($3) >>> 16);
      O3 = ot2 >>> 16, st2 &= 65535, ot2 &= 65535, _3[$3] = ot2 << 16 | st2;
    }
    return new t(_3, -2147483648 & _3[_3.length - 1] ? -1 : 0);
  }, d2.j = function(d3) {
    if (C(this) || C(d3)) return _2;
    if (B(this)) return B(d3) ? x(this).j(x(d3)) : x(x(this).j(d3));
    if (B(d3)) return x(this.j(x(d3)));
    if (0 > this.l($2) && 0 > d3.l($2)) return v2(this.m() * d3.m());
    for (var g3 = this.g.length + d3.g.length, O3 = [], st2 = 0; st2 < 2 * g3; st2++) O3[st2] = 0;
    for (st2 = 0; st2 < this.g.length; st2++) for (var ot2 = 0; ot2 < d3.g.length; ot2++) {
      var lt2 = this.i(st2) >>> 16, ct2 = 65535 & this.i(st2), ut2 = d3.i(ot2) >>> 16, gt2 = 65535 & d3.i(ot2);
      O3[2 * st2 + 2 * ot2] += ct2 * gt2, G(O3, 2 * st2 + 2 * ot2), O3[2 * st2 + 2 * ot2 + 1] += lt2 * gt2, G(O3, 2 * st2 + 2 * ot2 + 1), O3[2 * st2 + 2 * ot2 + 1] += ct2 * ut2, G(O3, 2 * st2 + 2 * ot2 + 1), O3[2 * st2 + 2 * ot2 + 2] += lt2 * ut2, G(O3, 2 * st2 + 2 * ot2 + 2);
    }
    for (st2 = 0; st2 < g3; st2++) O3[st2] = O3[2 * st2 + 1] << 16 | O3[2 * st2];
    for (st2 = g3; st2 < 2 * g3; st2++) O3[st2] = 0;
    return new t(O3, 0);
  }, d2.A = function(d3) {
    return D2(this, d3).h;
  }, d2.and = function(d3) {
    for (var g3 = Math.max(this.g.length, d3.g.length), _3 = [], O3 = 0; O3 < g3; O3++) _3[O3] = this.i(O3) & d3.i(O3);
    return new t(_3, this.h & d3.h);
  }, d2.or = function(d3) {
    for (var g3 = Math.max(this.g.length, d3.g.length), _3 = [], O3 = 0; O3 < g3; O3++) _3[O3] = this.i(O3) | d3.i(O3);
    return new t(_3, this.h | d3.h);
  }, d2.xor = function(d3) {
    for (var g3 = Math.max(this.g.length, d3.g.length), _3 = [], O3 = 0; O3 < g3; O3++) _3[O3] = this.i(O3) ^ d3.i(O3);
    return new t(_3, this.h ^ d3.h);
  }, m2.prototype.digest = m2.prototype.v, m2.prototype.reset = m2.prototype.s, m2.prototype.update = m2.prototype.u, d_ = m2, t.prototype.add = t.prototype.add, t.prototype.multiply = t.prototype.j, t.prototype.modulo = t.prototype.A, t.prototype.compare = t.prototype.l, t.prototype.toNumber = t.prototype.m, t.prototype.toString = t.prototype.toString, t.prototype.getBits = t.prototype.i, t.fromNumber = v2, t.fromString = function y(d3, g3) {
    if (0 == d3.length) throw Error("number format error: empty string");
    if (2 > (g3 = g3 || 10) || 36 < g3) throw Error("radix out of range: " + g3);
    if ("-" == d3.charAt(0)) return x(y(d3.substring(1), g3));
    if (0 <= d3.indexOf("-")) throw Error('number format error: interior "-" character');
    for (var O3 = v2(Math.pow(g3, 8)), $3 = _2, st2 = 0; st2 < d3.length; st2 += 8) {
      var ot2 = Math.min(8, d3.length - st2), lt2 = parseInt(d3.substring(st2, st2 + ot2), g3);
      8 > ot2 ? (ot2 = v2(Math.pow(g3, ot2)), $3 = $3.j(ot2).add(v2(lt2))) : $3 = ($3 = $3.j(O3)).add(v2(lt2));
    }
    return $3;
  }, u_ = t;
}).apply(void 0 !== p_ ? p_ : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
var f_, g_, __, m_, v_, b_, y_, w_, x_ = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
(function() {
  var d2, g2 = "function" == typeof Object.defineProperties ? Object.defineProperty : function(d3, g3, _3) {
    return d3 == Array.prototype || d3 == Object.prototype || (d3[g3] = _3.value), d3;
  };
  var _2 = function ba(d3) {
    d3 = ["object" == typeof globalThis && globalThis, d3, "object" == typeof window && window, "object" == typeof self && self, "object" == typeof x_ && x_];
    for (var g3 = 0; g3 < d3.length; ++g3) {
      var _3 = d3[g3];
      if (_3 && _3.Math == Math) return _3;
    }
    throw Error("Cannot find global object");
  }(this);
  !function da(d3, O3) {
    if (O3) t: {
      var $3 = _2;
      d3 = d3.split(".");
      for (var st3 = 0; st3 < d3.length - 1; st3++) {
        var ot3 = d3[st3];
        if (!(ot3 in $3)) break t;
        $3 = $3[ot3];
      }
      (O3 = O3(st3 = $3[d3 = d3[d3.length - 1]])) != st3 && null != O3 && g2($3, d3, { configurable: true, writable: true, value: O3 });
    }
  }("Array.prototype.values", function(d3) {
    return d3 || function() {
      return function ea(d4, g3) {
        d4 instanceof String && (d4 += "");
        var _3 = 0, O3 = false, $3 = { next: function() {
          if (!O3 && _3 < d4.length) {
            var $4 = _3++;
            return { value: g3($4, d4[$4]), done: false };
          }
          return O3 = true, { done: true, value: void 0 };
        } };
        return $3[Symbol.iterator] = function() {
          return $3;
        }, $3;
      }(this, function(d4, g3) {
        return g3;
      });
    };
  });
  var O2 = O2 || {}, $2 = this || self;
  function ha(d3) {
    var g3 = typeof d3;
    return "array" == (g3 = "object" != g3 ? g3 : d3 ? Array.isArray(d3) ? "array" : g3 : "null") || "object" == g3 && "number" == typeof d3.length;
  }
  function n(d3) {
    var g3 = typeof d3;
    return "object" == g3 && null != d3 || "function" == g3;
  }
  function ia(d3, g3, _3) {
    return d3.call.apply(d3.bind, arguments);
  }
  function ja(d3, g3, _3) {
    if (!d3) throw Error();
    if (2 < arguments.length) {
      var O3 = Array.prototype.slice.call(arguments, 2);
      return function() {
        var _4 = Array.prototype.slice.call(arguments);
        return Array.prototype.unshift.apply(_4, O3), d3.apply(g3, _4);
      };
    }
    return function() {
      return d3.apply(g3, arguments);
    };
  }
  function p2(d3, g3, _3) {
    return (p2 = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? ia : ja).apply(null, arguments);
  }
  function ka(d3, g3) {
    var _3 = Array.prototype.slice.call(arguments, 1);
    return function() {
      var g4 = _3.slice();
      return g4.push.apply(g4, arguments), d3.apply(this, g4);
    };
  }
  function r(d3, g3) {
    function c() {
    }
    c.prototype = g3.prototype, d3.aa = g3.prototype, d3.prototype = new c(), d3.prototype.constructor = d3, d3.Qb = function(d4, _3, O3) {
      for (var $3 = Array(arguments.length - 2), st3 = 2; st3 < arguments.length; st3++) $3[st3 - 2] = arguments[st3];
      return g3.prototype[_3].apply(d4, $3);
    };
  }
  function la(d3) {
    const g3 = d3.length;
    if (0 < g3) {
      const _3 = Array(g3);
      for (let O3 = 0; O3 < g3; O3++) _3[O3] = d3[O3];
      return _3;
    }
    return [];
  }
  function ma(d3, g3) {
    for (let g4 = 1; g4 < arguments.length; g4++) {
      const _3 = arguments[g4];
      if (ha(_3)) {
        const g5 = d3.length || 0, O3 = _3.length || 0;
        d3.length = g5 + O3;
        for (let $3 = 0; $3 < O3; $3++) d3[g5 + $3] = _3[$3];
      } else d3.push(_3);
    }
  }
  function t(d3) {
    return /^[\s\xa0]*$/.test(d3);
  }
  function u() {
    var d3 = $2.navigator;
    return d3 && (d3 = d3.userAgent) ? d3 : "";
  }
  function oa(d3) {
    return oa[" "](d3), d3;
  }
  oa[" "] = function() {
  };
  var st2 = !(-1 == u().indexOf("Gecko") || -1 != u().toLowerCase().indexOf("webkit") && -1 == u().indexOf("Edge") || -1 != u().indexOf("Trident") || -1 != u().indexOf("MSIE") || -1 != u().indexOf("Edge"));
  function qa(d3, g3, _3) {
    for (const O3 in d3) g3.call(_3, d3[O3], O3, d3);
  }
  function sa(d3) {
    const g3 = {};
    for (const _3 in d3) g3[_3] = d3[_3];
    return g3;
  }
  const ot2 = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
  function ua(d3, g3) {
    let _3, O3;
    for (let g4 = 1; g4 < arguments.length; g4++) {
      for (_3 in O3 = arguments[g4], O3) d3[_3] = O3[_3];
      for (let g5 = 0; g5 < ot2.length; g5++) _3 = ot2[g5], Object.prototype.hasOwnProperty.call(O3, _3) && (d3[_3] = O3[_3]);
    }
  }
  function va(d3) {
    var g3 = 1;
    d3 = d3.split(":");
    const _3 = [];
    for (; 0 < g3 && d3.length; ) _3.push(d3.shift()), g3--;
    return d3.length && _3.push(d3.join(":")), _3;
  }
  function wa(d3) {
    $2.setTimeout(() => {
      throw d3;
    }, 0);
  }
  function xa() {
    var d3 = gt2;
    let g3 = null;
    return d3.g && (g3 = d3.g, d3.g = d3.g.next, d3.g || (d3.h = null), g3.next = null), g3;
  }
  var lt2 = new class na {
    constructor(d3, g3) {
      this.i = d3, this.j = g3, this.h = 0, this.g = null;
    }
    get() {
      let d3;
      return 0 < this.h ? (this.h--, d3 = this.g, this.g = d3.next, d3.next = null) : d3 = this.i(), d3;
    }
  }(() => new Ca(), (d3) => d3.reset());
  class Ca {
    constructor() {
      this.next = this.g = this.h = null;
    }
    set(d3, g3) {
      this.h = d3, this.g = g3, this.next = null;
    }
    reset() {
      this.next = this.g = this.h = null;
    }
  }
  let ct2, ut2 = false, gt2 = new class Aa {
    constructor() {
      this.h = this.g = null;
    }
    add(d3, g3) {
      const _3 = lt2.get();
      _3.set(d3, g3), this.h ? this.h.next = _3 : this.g = _3, this.h = _3;
    }
  }(), Ea = () => {
    const d3 = $2.Promise.resolve(void 0);
    ct2 = () => {
      d3.then(Da);
    };
  };
  var Da = () => {
    for (var d3; d3 = xa(); ) {
      try {
        d3.h.call(d3.g);
      } catch (d4) {
        wa(d4);
      }
      var g3 = lt2;
      g3.j(d3), 100 > g3.h && (g3.h++, d3.next = g3.g, g3.g = d3);
    }
    ut2 = false;
  };
  function z() {
    this.s = this.s, this.C = this.C;
  }
  function A2(d3, g3) {
    this.type = d3, this.g = this.target = g3, this.defaultPrevented = false;
  }
  z.prototype.s = false, z.prototype.ma = function() {
    this.s || (this.s = true, this.N());
  }, z.prototype.N = function() {
    if (this.C) for (; this.C.length; ) this.C.shift()();
  }, A2.prototype.h = function() {
    this.defaultPrevented = true;
  };
  var mt2 = function() {
    if (!$2.addEventListener || !Object.defineProperty) return false;
    var d3 = false, g3 = Object.defineProperty({}, "passive", { get: function() {
      d3 = true;
    } });
    try {
      const c = () => {
      };
      $2.addEventListener("test", c, g3), $2.removeEventListener("test", c, g3);
    } catch (d4) {
    }
    return d3;
  }();
  function C(d3, g3) {
    if (A2.call(this, d3 ? d3.type : ""), this.relatedTarget = this.g = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = false, this.state = null, this.pointerId = 0, this.pointerType = "", this.i = null, d3) {
      var _3 = this.type = d3.type, O3 = d3.changedTouches && d3.changedTouches.length ? d3.changedTouches[0] : null;
      if (this.target = d3.target || d3.srcElement, this.g = g3, g3 = d3.relatedTarget) {
        if (st2) {
          t: {
            try {
              oa(g3.nodeName);
              var $3 = true;
              break t;
            } catch (d4) {
            }
            $3 = false;
          }
          $3 || (g3 = null);
        }
      } else "mouseover" == _3 ? g3 = d3.fromElement : "mouseout" == _3 && (g3 = d3.toElement);
      this.relatedTarget = g3, O3 ? (this.clientX = void 0 !== O3.clientX ? O3.clientX : O3.pageX, this.clientY = void 0 !== O3.clientY ? O3.clientY : O3.pageY, this.screenX = O3.screenX || 0, this.screenY = O3.screenY || 0) : (this.clientX = void 0 !== d3.clientX ? d3.clientX : d3.pageX, this.clientY = void 0 !== d3.clientY ? d3.clientY : d3.pageY, this.screenX = d3.screenX || 0, this.screenY = d3.screenY || 0), this.button = d3.button, this.key = d3.key || "", this.ctrlKey = d3.ctrlKey, this.altKey = d3.altKey, this.shiftKey = d3.shiftKey, this.metaKey = d3.metaKey, this.pointerId = d3.pointerId || 0, this.pointerType = "string" == typeof d3.pointerType ? d3.pointerType : bt2[d3.pointerType] || "", this.state = d3.state, this.i = d3, d3.defaultPrevented && C.aa.h.call(this);
    }
  }
  r(C, A2);
  var bt2 = { 2: "touch", 3: "pen", 4: "mouse" };
  C.prototype.h = function() {
    C.aa.h.call(this);
    var d3 = this.i;
    d3.preventDefault ? d3.preventDefault() : d3.returnValue = false;
  };
  var yt2 = "closure_listenable_" + (1e6 * Math.random() | 0), wt2 = 0;
  function Ia(d3, g3, _3, O3, $3) {
    this.listener = d3, this.proxy = null, this.src = g3, this.type = _3, this.capture = !!O3, this.ha = $3, this.key = ++wt2, this.da = this.fa = false;
  }
  function Ja(d3) {
    d3.da = true, d3.listener = null, d3.proxy = null, d3.src = null, d3.ha = null;
  }
  function Ka(d3) {
    this.src = d3, this.g = {}, this.h = 0;
  }
  function Ma(d3, g3) {
    var _3 = g3.type;
    if (_3 in d3.g) {
      var O3, $3 = d3.g[_3], st3 = Array.prototype.indexOf.call($3, g3, void 0);
      (O3 = 0 <= st3) && Array.prototype.splice.call($3, st3, 1), O3 && (Ja(g3), 0 == d3.g[_3].length && (delete d3.g[_3], d3.h--));
    }
  }
  function La(d3, g3, _3, O3) {
    for (var $3 = 0; $3 < d3.length; ++$3) {
      var st3 = d3[$3];
      if (!st3.da && st3.listener == g3 && st3.capture == !!_3 && st3.ha == O3) return $3;
    }
    return -1;
  }
  Ka.prototype.add = function(d3, g3, _3, O3, $3) {
    var st3 = d3.toString();
    (d3 = this.g[st3]) || (d3 = this.g[st3] = [], this.h++);
    var ot3 = La(d3, g3, O3, $3);
    return -1 < ot3 ? (g3 = d3[ot3], _3 || (g3.fa = false)) : ((g3 = new Ia(g3, this.src, st3, !!O3, $3)).fa = _3, d3.push(g3)), g3;
  };
  var Pt2 = "closure_lm_" + (1e6 * Math.random() | 0), At2 = {};
  function Qa(d3, g3, _3, O3, $3) {
    if (Array.isArray(g3)) {
      for (var st3 = 0; st3 < g3.length; st3++) Qa(d3, g3[st3], _3, O3, $3);
      return null;
    }
    return _3 = Sa(_3), d3 && d3[yt2] ? d3.K(g3, _3, n(O3) ? !!O3.capture : !!O3, $3) : function Ta(d4, g4, _4, O4, $4, st4) {
      if (!g4) throw Error("Invalid event type");
      var ot3 = n($4) ? !!$4.capture : !!$4, lt3 = Ua(d4);
      if (lt3 || (d4[Pt2] = lt3 = new Ka(d4)), _4 = lt3.add(g4, _4, O4, ot3, st4), _4.proxy) return _4;
      if (O4 = /* @__PURE__ */ function Va() {
        function a(g5) {
          return d5.call(a.src, a.listener, g5);
        }
        const d5 = Xa;
        return a;
      }(), _4.proxy = O4, O4.src = d4, O4.listener = _4, d4.addEventListener) mt2 || ($4 = ot3), void 0 === $4 && ($4 = false), d4.addEventListener(g4.toString(), O4, $4);
      else if (d4.attachEvent) d4.attachEvent(Wa(g4.toString()), O4);
      else {
        if (!d4.addListener || !d4.removeListener) throw Error("addEventListener and attachEvent are unavailable.");
        d4.addListener(O4);
      }
      return _4;
    }(d3, g3, _3, false, O3, $3);
  }
  function Ya(d3, g3, _3, O3, $3) {
    if (Array.isArray(g3)) for (var st3 = 0; st3 < g3.length; st3++) Ya(d3, g3[st3], _3, O3, $3);
    else O3 = n(O3) ? !!O3.capture : !!O3, _3 = Sa(_3), d3 && d3[yt2] ? (d3 = d3.i, (g3 = String(g3).toString()) in d3.g && (-1 < (_3 = La(st3 = d3.g[g3], _3, O3, $3)) && (Ja(st3[_3]), Array.prototype.splice.call(st3, _3, 1), 0 == st3.length && (delete d3.g[g3], d3.h--)))) : d3 && (d3 = Ua(d3)) && (g3 = d3.g[g3.toString()], d3 = -1, g3 && (d3 = La(g3, _3, O3, $3)), (_3 = -1 < d3 ? g3[d3] : null) && Za(_3));
  }
  function Za(d3) {
    if ("number" != typeof d3 && d3 && !d3.da) {
      var g3 = d3.src;
      if (g3 && g3[yt2]) Ma(g3.i, d3);
      else {
        var _3 = d3.type, O3 = d3.proxy;
        g3.removeEventListener ? g3.removeEventListener(_3, O3, d3.capture) : g3.detachEvent ? g3.detachEvent(Wa(_3), O3) : g3.addListener && g3.removeListener && g3.removeListener(O3), (_3 = Ua(g3)) ? (Ma(_3, d3), 0 == _3.h && (_3.src = null, g3[Pt2] = null)) : Ja(d3);
      }
    }
  }
  function Wa(d3) {
    return d3 in At2 ? At2[d3] : At2[d3] = "on" + d3;
  }
  function Xa(d3, g3) {
    if (d3.da) d3 = true;
    else {
      g3 = new C(g3, this);
      var _3 = d3.listener, O3 = d3.ha || d3.src;
      d3.fa && Za(d3), d3 = _3.call(O3, g3);
    }
    return d3;
  }
  function Ua(d3) {
    return (d3 = d3[Pt2]) instanceof Ka ? d3 : null;
  }
  var St2 = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);
  function Sa(d3) {
    return "function" == typeof d3 ? d3 : (d3[St2] || (d3[St2] = function(g3) {
      return d3.handleEvent(g3);
    }), d3[St2]);
  }
  function E() {
    z.call(this), this.i = new Ka(this), this.M = this, this.F = null;
  }
  function F2(d3, g3) {
    var _3, O3 = d3.F;
    if (O3) for (_3 = []; O3; O3 = O3.F) _3.push(O3);
    if (d3 = d3.M, O3 = g3.type || g3, "string" == typeof g3) g3 = new A2(g3, d3);
    else if (g3 instanceof A2) g3.target = g3.target || d3;
    else {
      var $3 = g3;
      ua(g3 = new A2(O3, d3), $3);
    }
    if ($3 = true, _3) for (var st3 = _3.length - 1; 0 <= st3; st3--) {
      var ot3 = g3.g = _3[st3];
      $3 = ab(ot3, O3, true, g3) && $3;
    }
    if ($3 = ab(ot3 = g3.g = d3, O3, true, g3) && $3, $3 = ab(ot3, O3, false, g3) && $3, _3) for (st3 = 0; st3 < _3.length; st3++) $3 = ab(ot3 = g3.g = _3[st3], O3, false, g3) && $3;
  }
  function ab(d3, g3, _3, O3) {
    if (!(g3 = d3.i.g[String(g3)])) return true;
    g3 = g3.concat();
    for (var $3 = true, st3 = 0; st3 < g3.length; ++st3) {
      var ot3 = g3[st3];
      if (ot3 && !ot3.da && ot3.capture == _3) {
        var lt3 = ot3.listener, ct3 = ot3.ha || ot3.src;
        ot3.fa && Ma(d3.i, ot3), $3 = false !== lt3.call(ct3, O3) && $3;
      }
    }
    return $3 && !O3.defaultPrevented;
  }
  function bb(d3, g3, _3) {
    if ("function" == typeof d3) _3 && (d3 = p2(d3, _3));
    else {
      if (!d3 || "function" != typeof d3.handleEvent) throw Error("Invalid listener argument");
      d3 = p2(d3.handleEvent, d3);
    }
    return 2147483647 < Number(g3) ? -1 : $2.setTimeout(d3, g3 || 0);
  }
  function cb(d3) {
    d3.g = bb(() => {
      d3.g = null, d3.i && (d3.i = false, cb(d3));
    }, d3.l);
    const g3 = d3.h;
    d3.h = null, d3.m.apply(null, g3);
  }
  r(E, z), E.prototype[yt2] = true, E.prototype.removeEventListener = function(d3, g3, _3, O3) {
    Ya(this, d3, g3, _3, O3);
  }, E.prototype.N = function() {
    if (E.aa.N.call(this), this.i) {
      var d3, g3 = this.i;
      for (d3 in g3.g) {
        for (var _3 = g3.g[d3], O3 = 0; O3 < _3.length; O3++) Ja(_3[O3]);
        delete g3.g[d3], g3.h--;
      }
    }
    this.F = null;
  }, E.prototype.K = function(d3, g3, _3, O3) {
    return this.i.add(String(d3), g3, false, _3, O3);
  }, E.prototype.L = function(d3, g3, _3, O3) {
    return this.i.add(String(d3), g3, true, _3, O3);
  };
  class eb extends z {
    constructor(d3, g3) {
      super(), this.m = d3, this.l = g3, this.h = null, this.i = false, this.g = null;
    }
    j(d3) {
      this.h = arguments, this.g ? this.i = true : cb(this);
    }
    N() {
      super.N(), this.g && ($2.clearTimeout(this.g), this.g = null, this.i = false, this.h = null);
    }
  }
  function G(d3) {
    z.call(this), this.h = d3, this.g = {};
  }
  r(G, z);
  var Mt2 = [];
  function gb(d3) {
    qa(d3.g, function(d4, g3) {
      this.g.hasOwnProperty(g3) && Za(d4);
    }, d3), d3.g = {};
  }
  G.prototype.N = function() {
    G.aa.N.call(this), gb(this);
  }, G.prototype.handleEvent = function() {
    throw Error("EventHandler.handleEvent not implemented");
  };
  var Vt2 = $2.JSON.stringify, Ot2 = $2.JSON.parse, zt2 = class {
    stringify(d3) {
      return $2.JSON.stringify(d3, void 0);
    }
    parse(d3) {
      return $2.JSON.parse(d3, void 0);
    }
  };
  function kb() {
  }
  function lb(d3) {
    return d3.h || (d3.h = d3.i());
  }
  function mb() {
  }
  kb.prototype.h = null;
  var Bt2 = { OPEN: "a", kb: "b", Ja: "c", wb: "d" };
  function nb() {
    A2.call(this, "d");
  }
  function ob() {
    A2.call(this, "c");
  }
  r(nb, A2), r(ob, A2);
  var Zt2 = {}, ce2 = null;
  function qb() {
    return ce2 = ce2 || new E();
  }
  function rb(d3) {
    A2.call(this, Zt2.La, d3);
  }
  function J2(d3) {
    const g3 = qb();
    F2(g3, new rb(g3));
  }
  function sb(d3, g3) {
    A2.call(this, Zt2.STAT_EVENT, d3), this.stat = g3;
  }
  function K2(d3) {
    const g3 = qb();
    F2(g3, new sb(g3, d3));
  }
  function tb(d3, g3) {
    A2.call(this, Zt2.Ma, d3), this.size = g3;
  }
  function ub(d3, g3) {
    if ("function" != typeof d3) throw Error("Fn must not be null and must be a function");
    return $2.setTimeout(function() {
      d3();
    }, g3);
  }
  function vb() {
    this.g = true;
  }
  function L(d3, g3, _3, O3) {
    d3.info(function() {
      return "XMLHTTP TEXT (" + g3 + "): " + function yb(d4, g4) {
        if (!d4.g) return g4;
        if (!g4) return null;
        try {
          var _4 = JSON.parse(g4);
          if (_4) {
            for (d4 = 0; d4 < _4.length; d4++) if (Array.isArray(_4[d4])) {
              var O4 = _4[d4];
              if (!(2 > O4.length)) {
                var $3 = O4[1];
                if (Array.isArray($3) && !(1 > $3.length)) {
                  var st3 = $3[0];
                  if ("noop" != st3 && "stop" != st3 && "close" != st3) for (var ot3 = 1; ot3 < $3.length; ot3++) $3[ot3] = "";
                }
              }
            }
          }
          return Vt2(_4);
        } catch (d5) {
          return g4;
        }
      }(d3, _3) + (O3 ? " " + O3 : "");
    });
  }
  Zt2.La = "serverreachability", r(rb, A2), Zt2.STAT_EVENT = "statevent", r(sb, A2), Zt2.Ma = "timingevent", r(tb, A2), vb.prototype.xa = function() {
    this.g = false;
  }, vb.prototype.info = function() {
  };
  var ue2, de2 = { NO_ERROR: 0, gb: 1, tb: 2, sb: 3, nb: 4, rb: 5, ub: 6, Ia: 7, TIMEOUT: 8, xb: 9 }, pe2 = { lb: "complete", Hb: "success", Ja: "error", Ia: "abort", zb: "ready", Ab: "readystatechange", TIMEOUT: "timeout", vb: "incrementaldata", yb: "progress", ob: "downloadprogress", Pb: "uploadprogress" };
  function Db() {
  }
  function M(d3, g3, _3, O3) {
    this.j = d3, this.i = g3, this.l = _3, this.R = O3 || 1, this.U = new G(this), this.I = 45e3, this.H = null, this.o = false, this.m = this.A = this.v = this.L = this.F = this.S = this.B = null, this.D = [], this.g = null, this.C = 0, this.s = this.u = null, this.X = -1, this.J = false, this.O = 0, this.M = null, this.W = this.K = this.T = this.P = false, this.h = new Eb();
  }
  function Eb() {
    this.i = null, this.g = "", this.h = false;
  }
  r(Db, kb), Db.prototype.g = function() {
    return new XMLHttpRequest();
  }, Db.prototype.i = function() {
    return {};
  }, ue2 = new Db();
  var fe2 = {}, ge2 = {};
  function Hb(d3, g3, _3) {
    d3.L = 1, d3.v = Ib(N(g3)), d3.m = _3, d3.P = true, Jb(d3, null);
  }
  function Jb(d3, g3) {
    d3.F = Date.now(), Kb(d3), d3.A = N(d3.v);
    var _3 = d3.A, O3 = d3.R;
    Array.isArray(O3) || (O3 = [String(O3)]), Lb(_3.i, "t", O3), d3.C = 0, _3 = d3.j.J, d3.h = new Eb(), d3.g = Mb(d3.j, _3 ? g3 : null, !d3.m), 0 < d3.O && (d3.M = new eb(p2(d3.Y, d3, d3.g), d3.O)), g3 = d3.U, _3 = d3.g, O3 = d3.ca;
    var $3 = "readystatechange";
    Array.isArray($3) || ($3 && (Mt2[0] = $3.toString()), $3 = Mt2);
    for (var st3 = 0; st3 < $3.length; st3++) {
      var ot3 = Qa(_3, $3[st3], O3 || g3.handleEvent, false, g3.h || g3);
      if (!ot3) break;
      g3.g[ot3.key] = ot3;
    }
    g3 = d3.H ? sa(d3.H) : {}, d3.m ? (d3.u || (d3.u = "POST"), g3["Content-Type"] = "application/x-www-form-urlencoded", d3.g.ea(d3.A, d3.u, d3.m, g3)) : (d3.u = "GET", d3.g.ea(d3.A, d3.u, null, g3)), J2(), function wb(d4, g4, _4, O4, $4, st4) {
      d4.info(function() {
        if (d4.g) if (st4) for (var ot4 = "", lt3 = st4.split("&"), ct3 = 0; ct3 < lt3.length; ct3++) {
          var ut3 = lt3[ct3].split("=");
          if (1 < ut3.length) {
            var gt3 = ut3[0];
            ut3 = ut3[1];
            var mt3 = gt3.split("_");
            ot4 = 2 <= mt3.length && "type" == mt3[1] ? ot4 + (gt3 + "=") + ut3 + "&" : ot4 + (gt3 + "=redacted&");
          }
        }
        else ot4 = null;
        else ot4 = st4;
        return "XMLHTTP REQ (" + O4 + ") [attempt " + $4 + "]: " + g4 + "\n" + _4 + "\n" + ot4;
      });
    }(d3.i, d3.u, d3.A, d3.l, d3.R, d3.m);
  }
  function Pb(d3) {
    return !!d3.g && ("GET" == d3.u && 2 != d3.L && d3.j.Ca);
  }
  function Sb(d3, g3) {
    var _3 = d3.C, O3 = g3.indexOf("\n", _3);
    return -1 == O3 ? ge2 : (_3 = Number(g3.substring(_3, O3)), isNaN(_3) ? fe2 : (O3 += 1) + _3 > g3.length ? ge2 : (g3 = g3.slice(O3, O3 + _3), d3.C = O3 + _3, g3));
  }
  function Kb(d3) {
    d3.S = Date.now() + d3.I, Wb(d3, d3.I);
  }
  function Wb(d3, g3) {
    if (null != d3.B) throw Error("WatchDog timer not null");
    d3.B = ub(p2(d3.ba, d3), g3);
  }
  function Ob(d3) {
    d3.B && ($2.clearTimeout(d3.B), d3.B = null);
  }
  function Qb(d3) {
    0 == d3.j.G || d3.J || Ub(d3.j, d3);
  }
  function Q(d3) {
    Ob(d3);
    var g3 = d3.M;
    g3 && "function" == typeof g3.ma && g3.ma(), d3.M = null, gb(d3.U), d3.g && (g3 = d3.g, d3.g = null, g3.abort(), g3.ma());
  }
  function Rb(d3, g3) {
    try {
      var _3 = d3.j;
      if (0 != _3.G && (_3.g == d3 || Xb(_3.h, d3))) {
        if (!d3.K && Xb(_3.h, d3) && 3 == _3.G) {
          try {
            var O3 = _3.Da.g.parse(g3);
          } catch (d4) {
            O3 = null;
          }
          if (Array.isArray(O3) && 3 == O3.length) {
            var $3 = O3;
            if (0 == $3[0]) {
              t: if (!_3.u) {
                if (_3.g) {
                  if (!(_3.g.F + 3e3 < d3.F)) break t;
                  Yb(_3), Zb(_3);
                }
                $b(_3), K2(18);
              }
            } else _3.za = $3[1], 0 < _3.za - _3.T && 37500 > $3[2] && _3.F && 0 == _3.v && !_3.C && (_3.C = ub(p2(_3.Za, _3), 6e3));
            if (1 >= ac(_3.h) && _3.ca) {
              try {
                _3.ca();
              } catch (d4) {
              }
              _3.ca = void 0;
            }
          } else R2(_3, 11);
        } else if ((d3.K || _3.g == d3) && Yb(_3), !t(g3)) for ($3 = _3.Da.g.parse(g3), g3 = 0; g3 < $3.length; g3++) {
          let ut3 = $3[g3];
          if (_3.T = ut3[0], ut3 = ut3[1], 2 == _3.G) if ("c" == ut3[0]) {
            _3.K = ut3[1], _3.ia = ut3[2];
            const g4 = ut3[3];
            null != g4 && (_3.la = g4, _3.j.info("VER=" + _3.la));
            const $4 = ut3[4];
            null != $4 && (_3.Aa = $4, _3.j.info("SVER=" + _3.Aa));
            const gt3 = ut3[5];
            null != gt3 && "number" == typeof gt3 && 0 < gt3 && (O3 = 1.5 * gt3, _3.L = O3, _3.j.info("backChannelRequestTimeoutMs_=" + O3)), O3 = _3;
            const mt3 = d3.g;
            if (mt3) {
              const d4 = mt3.g ? mt3.g.getResponseHeader("X-Client-Wire-Protocol") : null;
              if (d4) {
                var st3 = O3.h;
                st3.g || -1 == d4.indexOf("spdy") && -1 == d4.indexOf("quic") && -1 == d4.indexOf("h2") || (st3.j = st3.l, st3.g = /* @__PURE__ */ new Set(), st3.h && (bc(st3, st3.h), st3.h = null));
              }
              if (O3.D) {
                const d5 = mt3.g ? mt3.g.getResponseHeader("X-HTTP-Session-Id") : null;
                d5 && (O3.ya = d5, S(O3.I, O3.D, d5));
              }
            }
            _3.G = 3, _3.l && _3.l.ua(), _3.ba && (_3.R = Date.now() - d3.F, _3.j.info("Handshake RTT: " + _3.R + "ms"));
            var ot3 = d3;
            if ((O3 = _3).qa = cc(O3, O3.J ? O3.ia : null, O3.W), ot3.K) {
              dc(O3.h, ot3);
              var lt3 = ot3, ct3 = O3.L;
              ct3 && (lt3.I = ct3), lt3.B && (Ob(lt3), Kb(lt3)), O3.g = ot3;
            } else ec(O3);
            0 < _3.i.length && fc(_3);
          } else "stop" != ut3[0] && "close" != ut3[0] || R2(_3, 7);
          else 3 == _3.G && ("stop" == ut3[0] || "close" == ut3[0] ? "stop" == ut3[0] ? R2(_3, 7) : gc(_3) : "noop" != ut3[0] && _3.l && _3.l.ta(ut3), _3.v = 0);
        }
      }
      J2();
    } catch (d4) {
    }
  }
  M.prototype.ca = function(d3) {
    d3 = d3.target;
    const g3 = this.M;
    g3 && 3 == P2(d3) ? g3.j() : this.Y(d3);
  }, M.prototype.Y = function(d3) {
    try {
      if (d3 == this.g) t: {
        const bt3 = P2(this.g);
        var g3 = this.g.Ba();
        this.g.Z();
        if (!(3 > bt3) && (3 != bt3 || this.g && (this.h.h || this.g.oa() || Nb(this.g)))) {
          this.J || 4 != bt3 || 7 == g3 || J2(), Ob(this);
          var _3 = this.g.Z();
          this.X = _3;
          e: if (Pb(this)) {
            var O3 = Nb(this.g);
            d3 = "";
            var st3 = O3.length, ot3 = 4 == P2(this.g);
            if (!this.h.i) {
              if ("undefined" == typeof TextDecoder) {
                Q(this), Qb(this);
                var lt3 = "";
                break e;
              }
              this.h.i = new $2.TextDecoder();
            }
            for (g3 = 0; g3 < st3; g3++) this.h.h = true, d3 += this.h.i.decode(O3[g3], { stream: !(ot3 && g3 == st3 - 1) });
            O3.length = 0, this.h.g += d3, this.C = 0, lt3 = this.h.g;
          } else lt3 = this.g.oa();
          if (this.o = 200 == _3, function xb(d4, g4, _4, O4, $3, st4, ot4) {
            d4.info(function() {
              return "XMLHTTP RESP (" + O4 + ") [ attempt " + $3 + "]: " + g4 + "\n" + _4 + "\n" + st4 + " " + ot4;
            });
          }(this.i, this.u, this.A, this.l, this.R, bt3, _3), this.o) {
            if (this.T && !this.K) {
              e: {
                if (this.g) {
                  var ct3, ut3 = this.g;
                  if ((ct3 = ut3.g ? ut3.g.getResponseHeader("X-HTTP-Initial-Response") : null) && !t(ct3)) {
                    var gt3 = ct3;
                    break e;
                  }
                }
                gt3 = null;
              }
              if (!(_3 = gt3)) {
                this.o = false, this.s = 3, K2(12), Q(this), Qb(this);
                break t;
              }
              L(this.i, this.l, _3, "Initial handshake response via X-HTTP-Initial-Response"), this.K = true, Rb(this, _3);
            }
            if (this.P) {
              let d4;
              for (_3 = true; !this.J && this.C < lt3.length; ) {
                if (d4 = Sb(this, lt3), d4 == ge2) {
                  4 == bt3 && (this.s = 4, K2(14), _3 = false), L(this.i, this.l, null, "[Incomplete Response]");
                  break;
                }
                if (d4 == fe2) {
                  this.s = 4, K2(15), L(this.i, this.l, lt3, "[Invalid Chunk]"), _3 = false;
                  break;
                }
                L(this.i, this.l, d4, null), Rb(this, d4);
              }
              if (Pb(this) && 0 != this.C && (this.h.g = this.h.g.slice(this.C), this.C = 0), 4 != bt3 || 0 != lt3.length || this.h.h || (this.s = 1, K2(16), _3 = false), this.o = this.o && _3, _3) {
                if (0 < lt3.length && !this.W) {
                  this.W = true;
                  var mt3 = this.j;
                  mt3.g == this && mt3.ba && !mt3.M && (mt3.j.info("Great, no buffering proxy detected. Bytes received: " + lt3.length), Tb(mt3), mt3.M = true, K2(11));
                }
              } else L(this.i, this.l, lt3, "[Invalid Chunked Response]"), Q(this), Qb(this);
            } else L(this.i, this.l, lt3, null), Rb(this, lt3);
            4 == bt3 && Q(this), this.o && !this.J && (4 == bt3 ? Ub(this.j, this) : (this.o = false, Kb(this)));
          } else (function Vb(d4) {
            const g4 = {};
            d4 = (d4.g && 2 <= P2(d4) && d4.g.getAllResponseHeaders() || "").split("\r\n");
            for (let O4 = 0; O4 < d4.length; O4++) {
              if (t(d4[O4])) continue;
              var _4 = va(d4[O4]);
              const $3 = _4[0];
              if ("string" != typeof (_4 = _4[1])) continue;
              _4 = _4.trim();
              const st4 = g4[$3] || [];
              g4[$3] = st4, st4.push(_4);
            }
            !function ra(d5, g5) {
              for (const _5 in d5) g5.call(void 0, d5[_5], _5, d5);
            }(g4, function(d5) {
              return d5.join(", ");
            });
          })(this.g), 400 == _3 && 0 < lt3.indexOf("Unknown SID") ? (this.s = 3, K2(12)) : (this.s = 0, K2(13)), Q(this), Qb(this);
        }
      }
    } catch (d4) {
    }
  }, M.prototype.cancel = function() {
    this.J = true, Q(this);
  }, M.prototype.ba = function() {
    this.B = null;
    const d3 = Date.now();
    0 <= d3 - this.S ? (function zb(d4, g3) {
      d4.info(function() {
        return "TIMEOUT: " + g3;
      });
    }(this.i, this.A), 2 != this.L && (J2(), K2(17)), Q(this), this.s = 2, Qb(this)) : Wb(this, this.S - d3);
  };
  var ve2 = class {
    constructor(d3, g3) {
      this.g = d3, this.map = g3;
    }
  };
  function ic(d3) {
    this.l = d3 || 10, $2.PerformanceNavigationTiming ? d3 = 0 < (d3 = $2.performance.getEntriesByType("navigation")).length && ("hq" == d3[0].nextHopProtocol || "h2" == d3[0].nextHopProtocol) : d3 = !!($2.chrome && $2.chrome.loadTimes && $2.chrome.loadTimes() && $2.chrome.loadTimes().wasFetchedViaSpdy), this.j = d3 ? this.l : 1, this.g = null, 1 < this.j && (this.g = /* @__PURE__ */ new Set()), this.h = null, this.i = [];
  }
  function jc(d3) {
    return !!d3.h || !!d3.g && d3.g.size >= d3.j;
  }
  function ac(d3) {
    return d3.h ? 1 : d3.g ? d3.g.size : 0;
  }
  function Xb(d3, g3) {
    return d3.h ? d3.h == g3 : !!d3.g && d3.g.has(g3);
  }
  function bc(d3, g3) {
    d3.g ? d3.g.add(g3) : d3.h = g3;
  }
  function dc(d3, g3) {
    d3.h && d3.h == g3 ? d3.h = null : d3.g && d3.g.has(g3) && d3.g.delete(g3);
  }
  function kc(d3) {
    if (null != d3.h) return d3.i.concat(d3.h.D);
    if (null != d3.g && 0 !== d3.g.size) {
      let g3 = d3.i;
      for (const _3 of d3.g.values()) g3 = g3.concat(_3.D);
      return g3;
    }
    return la(d3.i);
  }
  function nc(d3, g3) {
    if (d3.forEach && "function" == typeof d3.forEach) d3.forEach(g3, void 0);
    else if (ha(d3) || "string" == typeof d3) Array.prototype.forEach.call(d3, g3, void 0);
    else for (var _3 = function mc(d4) {
      if (d4.na && "function" == typeof d4.na) return d4.na();
      if (!d4.V || "function" != typeof d4.V) {
        if ("undefined" != typeof Map && d4 instanceof Map) return Array.from(d4.keys());
        if (!("undefined" != typeof Set && d4 instanceof Set)) {
          if (ha(d4) || "string" == typeof d4) {
            var g4 = [];
            d4 = d4.length;
            for (var _4 = 0; _4 < d4; _4++) g4.push(_4);
            return g4;
          }
          g4 = [], _4 = 0;
          for (const O4 in d4) g4[_4++] = O4;
          return g4;
        }
      }
    }(d3), O3 = function lc(d4) {
      if (d4.V && "function" == typeof d4.V) return d4.V();
      if ("undefined" != typeof Map && d4 instanceof Map || "undefined" != typeof Set && d4 instanceof Set) return Array.from(d4.values());
      if ("string" == typeof d4) return d4.split("");
      if (ha(d4)) {
        for (var g4 = [], _4 = d4.length, O4 = 0; O4 < _4; O4++) g4.push(d4[O4]);
        return g4;
      }
      for (O4 in g4 = [], _4 = 0, d4) g4[_4++] = d4[O4];
      return g4;
    }(d3), $3 = O3.length, st3 = 0; st3 < $3; st3++) g3.call(void 0, O3[st3], _3 && _3[st3], d3);
  }
  ic.prototype.cancel = function() {
    if (this.i = kc(this), this.h) this.h.cancel(), this.h = null;
    else if (this.g && 0 !== this.g.size) {
      for (const d3 of this.g.values()) d3.cancel();
      this.g.clear();
    }
  };
  var Ee2 = RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");
  function T2(d3) {
    if (this.g = this.o = this.j = "", this.s = null, this.m = this.l = "", this.h = false, d3 instanceof T2) {
      this.h = d3.h, qc(this, d3.j), this.o = d3.o, this.g = d3.g, rc(this, d3.s), this.l = d3.l;
      var g3 = d3.i, _3 = new sc();
      _3.i = g3.i, g3.g && (_3.g = new Map(g3.g), _3.h = g3.h), tc(this, _3), this.m = d3.m;
    } else d3 && (g3 = String(d3).match(Ee2)) ? (this.h = false, qc(this, g3[1] || "", true), this.o = uc(g3[2] || ""), this.g = uc(g3[3] || "", true), rc(this, g3[4]), this.l = uc(g3[5] || "", true), tc(this, g3[6] || "", true), this.m = uc(g3[7] || "")) : (this.h = false, this.i = new sc(null, this.h));
  }
  function N(d3) {
    return new T2(d3);
  }
  function qc(d3, g3, _3) {
    d3.j = _3 ? uc(g3, true) : g3, d3.j && (d3.j = d3.j.replace(/:$/, ""));
  }
  function rc(d3, g3) {
    if (g3) {
      if (g3 = Number(g3), isNaN(g3) || 0 > g3) throw Error("Bad port number " + g3);
      d3.s = g3;
    } else d3.s = null;
  }
  function tc(d3, g3, _3) {
    g3 instanceof sc ? (d3.i = g3, function Ac(d4, g4) {
      g4 && !d4.j && (U(d4), d4.i = null, d4.g.forEach(function(d5, g5) {
        var _4 = g5.toLowerCase();
        g5 != _4 && (Dc(this, g5), Lb(this, _4, d5));
      }, d4)), d4.j = g4;
    }(d3.i, d3.h)) : (_3 || (g3 = vc(g3, Ve2)), d3.i = new sc(g3, d3.h));
  }
  function S(d3, g3, _3) {
    d3.i.set(g3, _3);
  }
  function Ib(d3) {
    return S(d3, "zx", Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ Date.now()).toString(36)), d3;
  }
  function uc(d3, g3) {
    return d3 ? g3 ? decodeURI(d3.replace(/%25/g, "%2525")) : decodeURIComponent(d3) : "";
  }
  function vc(d3, g3, _3) {
    return "string" == typeof d3 ? (d3 = encodeURI(d3).replace(g3, Cc), _3 && (d3 = d3.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), d3) : null;
  }
  function Cc(d3) {
    return "%" + ((d3 = d3.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & d3).toString(16);
  }
  T2.prototype.toString = function() {
    var d3 = [], g3 = this.j;
    g3 && d3.push(vc(g3, Ie2, true), ":");
    var _3 = this.g;
    return (_3 || "file" == g3) && (d3.push("//"), (g3 = this.o) && d3.push(vc(g3, Ie2, true), "@"), d3.push(encodeURIComponent(String(_3)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), null != (_3 = this.s) && d3.push(":", String(_3))), (_3 = this.l) && (this.g && "/" != _3.charAt(0) && d3.push("/"), d3.push(vc(_3, "/" == _3.charAt(0) ? Re2 : Ae2, true))), (_3 = this.i.toString()) && d3.push("?", _3), (_3 = this.m) && d3.push("#", vc(_3, De2)), d3.join("");
  };
  var Ie2 = /[#\/\?@]/g, Ae2 = /[#\?:]/g, Re2 = /[#\?]/g, Ve2 = /[#\?@]/g, De2 = /#/g;
  function sc(d3, g3) {
    this.h = this.g = null, this.i = d3 || null, this.j = !!g3;
  }
  function U(d3) {
    d3.g || (d3.g = /* @__PURE__ */ new Map(), d3.h = 0, d3.i && function pc(d4, g3) {
      if (d4) {
        d4 = d4.split("&");
        for (var _3 = 0; _3 < d4.length; _3++) {
          var O3 = d4[_3].indexOf("="), $3 = null;
          if (0 <= O3) {
            var st3 = d4[_3].substring(0, O3);
            $3 = d4[_3].substring(O3 + 1);
          } else st3 = d4[_3];
          g3(st3, $3 ? decodeURIComponent($3.replace(/\+/g, " ")) : "");
        }
      }
    }(d3.i, function(g3, _3) {
      d3.add(decodeURIComponent(g3.replace(/\+/g, " ")), _3);
    }));
  }
  function Dc(d3, g3) {
    U(d3), g3 = V2(d3, g3), d3.g.has(g3) && (d3.i = null, d3.h -= d3.g.get(g3).length, d3.g.delete(g3));
  }
  function Ec(d3, g3) {
    return U(d3), g3 = V2(d3, g3), d3.g.has(g3);
  }
  function Lb(d3, g3, _3) {
    Dc(d3, g3), 0 < _3.length && (d3.i = null, d3.g.set(V2(d3, g3), la(_3)), d3.h += _3.length);
  }
  function V2(d3, g3) {
    return g3 = String(g3), d3.j && (g3 = g3.toLowerCase()), g3;
  }
  function W2(d3, g3, _3, O3, $3) {
    try {
      $3 && ($3.onload = null, $3.onerror = null, $3.onabort = null, $3.ontimeout = null), O3(_3);
    } catch (d4) {
    }
  }
  function Hc() {
    this.g = new zt2();
  }
  function Ic(d3, g3, _3) {
    const O3 = _3 || "";
    try {
      nc(d3, function(d4, _4) {
        let $3 = d4;
        n(d4) && ($3 = Vt2(d4)), g3.push(O3 + _4 + "=" + encodeURIComponent($3));
      });
    } catch (d4) {
      throw g3.push(O3 + "type=" + encodeURIComponent("_badmap")), d4;
    }
  }
  function Jc(d3) {
    this.l = d3.Ub || null, this.j = d3.eb || false;
  }
  function Kc(d3, g3) {
    E.call(this), this.D = d3, this.o = g3, this.m = void 0, this.status = this.readyState = 0, this.responseType = this.responseText = this.response = this.statusText = "", this.onreadystatechange = null, this.u = new Headers(), this.h = null, this.B = "GET", this.A = "", this.g = false, this.v = this.j = this.l = null;
  }
  function Nc(d3) {
    d3.j.read().then(d3.Pa.bind(d3)).catch(d3.ga.bind(d3));
  }
  function Mc(d3) {
    d3.readyState = 4, d3.l = null, d3.j = null, d3.v = null, Lc(d3);
  }
  function Lc(d3) {
    d3.onreadystatechange && d3.onreadystatechange.call(d3);
  }
  function Oc(d3) {
    let g3 = "";
    return qa(d3, function(d4, _3) {
      g3 += _3, g3 += ":", g3 += d4, g3 += "\r\n";
    }), g3;
  }
  function Pc(d3, g3, _3) {
    t: {
      for (O3 in _3) {
        var O3 = false;
        break t;
      }
      O3 = true;
    }
    O3 || (_3 = Oc(_3), "string" == typeof d3 ? null != _3 && encodeURIComponent(String(_3)) : S(d3, g3, _3));
  }
  function X2(d3) {
    E.call(this), this.headers = /* @__PURE__ */ new Map(), this.o = d3 || null, this.h = false, this.v = this.g = null, this.D = "", this.m = 0, this.l = "", this.j = this.B = this.u = this.A = false, this.I = null, this.H = "", this.J = false;
  }
  (d2 = sc.prototype).add = function(d3, g3) {
    U(this), this.i = null, d3 = V2(this, d3);
    var _3 = this.g.get(d3);
    return _3 || this.g.set(d3, _3 = []), _3.push(g3), this.h += 1, this;
  }, d2.forEach = function(d3, g3) {
    U(this), this.g.forEach(function(_3, O3) {
      _3.forEach(function(_4) {
        d3.call(g3, _4, O3, this);
      }, this);
    }, this);
  }, d2.na = function() {
    U(this);
    const d3 = Array.from(this.g.values()), g3 = Array.from(this.g.keys()), _3 = [];
    for (let O3 = 0; O3 < g3.length; O3++) {
      const $3 = d3[O3];
      for (let d4 = 0; d4 < $3.length; d4++) _3.push(g3[O3]);
    }
    return _3;
  }, d2.V = function(d3) {
    U(this);
    let g3 = [];
    if ("string" == typeof d3) Ec(this, d3) && (g3 = g3.concat(this.g.get(V2(this, d3))));
    else {
      d3 = Array.from(this.g.values());
      for (let _3 = 0; _3 < d3.length; _3++) g3 = g3.concat(d3[_3]);
    }
    return g3;
  }, d2.set = function(d3, g3) {
    return U(this), this.i = null, Ec(this, d3 = V2(this, d3)) && (this.h -= this.g.get(d3).length), this.g.set(d3, [g3]), this.h += 1, this;
  }, d2.get = function(d3, g3) {
    return d3 && 0 < (d3 = this.V(d3)).length ? String(d3[0]) : g3;
  }, d2.toString = function() {
    if (this.i) return this.i;
    if (!this.g) return "";
    const d3 = [], g3 = Array.from(this.g.keys());
    for (var _3 = 0; _3 < g3.length; _3++) {
      var O3 = g3[_3];
      const st3 = encodeURIComponent(String(O3)), ot3 = this.V(O3);
      for (O3 = 0; O3 < ot3.length; O3++) {
        var $3 = st3;
        "" !== ot3[O3] && ($3 += "=" + encodeURIComponent(String(ot3[O3]))), d3.push($3);
      }
    }
    return this.i = d3.join("&");
  }, r(Jc, kb), Jc.prototype.g = function() {
    return new Kc(this.l, this.j);
  }, Jc.prototype.i = /* @__PURE__ */ function(d3) {
    return function() {
      return d3;
    };
  }({}), r(Kc, E), (d2 = Kc.prototype).open = function(d3, g3) {
    if (0 != this.readyState) throw this.abort(), Error("Error reopening a connection");
    this.B = d3, this.A = g3, this.readyState = 1, Lc(this);
  }, d2.send = function(d3) {
    if (1 != this.readyState) throw this.abort(), Error("need to call open() first. ");
    this.g = true;
    const g3 = { headers: this.u, method: this.B, credentials: this.m, cache: void 0 };
    d3 && (g3.body = d3), (this.D || $2).fetch(new Request(this.A, g3)).then(this.Sa.bind(this), this.ga.bind(this));
  }, d2.abort = function() {
    this.response = this.responseText = "", this.u = new Headers(), this.status = 0, this.j && this.j.cancel("Request was aborted.").catch(() => {
    }), 1 <= this.readyState && this.g && 4 != this.readyState && (this.g = false, Mc(this)), this.readyState = 0;
  }, d2.Sa = function(d3) {
    if (this.g && (this.l = d3, this.h || (this.status = this.l.status, this.statusText = this.l.statusText, this.h = d3.headers, this.readyState = 2, Lc(this)), this.g && (this.readyState = 3, Lc(this), this.g))) if ("arraybuffer" === this.responseType) d3.arrayBuffer().then(this.Qa.bind(this), this.ga.bind(this));
    else if (void 0 !== $2.ReadableStream && "body" in d3) {
      if (this.j = d3.body.getReader(), this.o) {
        if (this.responseType) throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');
        this.response = [];
      } else this.response = this.responseText = "", this.v = new TextDecoder();
      Nc(this);
    } else d3.text().then(this.Ra.bind(this), this.ga.bind(this));
  }, d2.Pa = function(d3) {
    if (this.g) {
      if (this.o && d3.value) this.response.push(d3.value);
      else if (!this.o) {
        var g3 = d3.value ? d3.value : new Uint8Array(0);
        (g3 = this.v.decode(g3, { stream: !d3.done })) && (this.response = this.responseText += g3);
      }
      d3.done ? Mc(this) : Lc(this), 3 == this.readyState && Nc(this);
    }
  }, d2.Ra = function(d3) {
    this.g && (this.response = this.responseText = d3, Mc(this));
  }, d2.Qa = function(d3) {
    this.g && (this.response = d3, Mc(this));
  }, d2.ga = function() {
    this.g && Mc(this);
  }, d2.setRequestHeader = function(d3, g3) {
    this.u.append(d3, g3);
  }, d2.getResponseHeader = function(d3) {
    return this.h && this.h.get(d3.toLowerCase()) || "";
  }, d2.getAllResponseHeaders = function() {
    if (!this.h) return "";
    const d3 = [], g3 = this.h.entries();
    for (var _3 = g3.next(); !_3.done; ) _3 = _3.value, d3.push(_3[0] + ": " + _3[1]), _3 = g3.next();
    return d3.join("\r\n");
  }, Object.defineProperty(Kc.prototype, "withCredentials", { get: function() {
    return "include" === this.m;
  }, set: function(d3) {
    this.m = d3 ? "include" : "same-origin";
  } }), r(X2, E);
  var Oe2 = /^https?$/i, Le2 = ["POST", "PUT"];
  function Sc(d3, g3) {
    d3.h = false, d3.g && (d3.j = true, d3.g.abort(), d3.j = false), d3.l = g3, d3.m = 5, Uc(d3), Vc(d3);
  }
  function Uc(d3) {
    d3.A || (d3.A = true, F2(d3, "complete"), F2(d3, "error"));
  }
  function Wc(d3) {
    if (d3.h && void 0 !== O2 && (!d3.v[1] || 4 != P2(d3) || 2 != d3.Z())) {
      if (d3.u && 4 == P2(d3)) bb(d3.Ea, 0, d3);
      else if (F2(d3, "readystatechange"), 4 == P2(d3)) {
        d3.h = false;
        try {
          const O3 = d3.Z();
          t: switch (O3) {
            case 200:
            case 201:
            case 202:
            case 204:
            case 206:
            case 304:
            case 1223:
              var g3 = true;
              break t;
            default:
              g3 = false;
          }
          var _3;
          if (!(_3 = g3)) {
            var st3;
            if (st3 = 0 === O3) {
              var ot3 = String(d3.D).match(Ee2)[1] || null;
              !ot3 && $2.self && $2.self.location && (ot3 = $2.self.location.protocol.slice(0, -1)), st3 = !Oe2.test(ot3 ? ot3.toLowerCase() : "");
            }
            _3 = st3;
          }
          if (_3) F2(d3, "complete"), F2(d3, "success");
          else {
            d3.m = 6;
            try {
              var lt3 = 2 < P2(d3) ? d3.g.statusText : "";
            } catch (d4) {
              lt3 = "";
            }
            d3.l = lt3 + " [" + d3.Z() + "]", Uc(d3);
          }
        } finally {
          Vc(d3);
        }
      }
    }
  }
  function Vc(d3, g3) {
    if (d3.g) {
      Tc(d3);
      const _3 = d3.g, O3 = d3.v[0] ? () => {
      } : null;
      d3.g = null, d3.v = null, g3 || F2(d3, "ready");
      try {
        _3.onreadystatechange = O3;
      } catch (d4) {
      }
    }
  }
  function Tc(d3) {
    d3.I && ($2.clearTimeout(d3.I), d3.I = null);
  }
  function P2(d3) {
    return d3.g ? d3.g.readyState : 0;
  }
  function Nb(d3) {
    try {
      if (!d3.g) return null;
      if ("response" in d3.g) return d3.g.response;
      switch (d3.H) {
        case "":
        case "text":
          return d3.g.responseText;
        case "arraybuffer":
          if ("mozResponseArrayBuffer" in d3.g) return d3.g.mozResponseArrayBuffer;
      }
      return null;
    } catch (d4) {
      return null;
    }
  }
  function Xc(d3, g3, _3) {
    return _3 && _3.internalChannelParams && _3.internalChannelParams[d3] || g3;
  }
  function Yc(d3) {
    this.Aa = 0, this.i = [], this.j = new vb(), this.ia = this.qa = this.I = this.W = this.g = this.ya = this.D = this.H = this.m = this.S = this.o = null, this.Ya = this.U = 0, this.Va = Xc("failFast", false, d3), this.F = this.C = this.u = this.s = this.l = null, this.X = true, this.za = this.T = -1, this.Y = this.v = this.B = 0, this.Ta = Xc("baseRetryDelayMs", 5e3, d3), this.cb = Xc("retryDelaySeedMs", 1e4, d3), this.Wa = Xc("forwardChannelMaxRetries", 2, d3), this.wa = Xc("forwardChannelRequestTimeoutMs", 2e4, d3), this.pa = d3 && d3.xmlHttpFactory || void 0, this.Xa = d3 && d3.Tb || void 0, this.Ca = d3 && d3.useFetchStreams || false, this.L = void 0, this.J = d3 && d3.supportsCrossDomainXhr || false, this.K = "", this.h = new ic(d3 && d3.concurrentRequestLimit), this.Da = new Hc(), this.P = d3 && d3.fastHandshake || false, this.O = d3 && d3.encodeInitMessageHeaders || false, this.P && this.O && (this.O = false), this.Ua = d3 && d3.Rb || false, d3 && d3.xa && this.j.xa(), d3 && d3.forceLongPolling && (this.X = false), this.ba = !this.P && this.X && d3 && d3.detectBufferingProxy || false, this.ja = void 0, d3 && d3.longPollingTimeout && 0 < d3.longPollingTimeout && (this.ja = d3.longPollingTimeout), this.ca = void 0, this.R = 0, this.M = false, this.ka = this.A = null;
  }
  function gc(d3) {
    if (Zc(d3), 3 == d3.G) {
      var g3 = d3.U++, _3 = N(d3.I);
      if (S(_3, "SID", d3.K), S(_3, "RID", g3), S(_3, "TYPE", "terminate"), $c(d3, _3), (g3 = new M(d3, d3.j, g3)).L = 2, g3.v = Ib(N(_3)), _3 = false, $2.navigator && $2.navigator.sendBeacon) try {
        _3 = $2.navigator.sendBeacon(g3.v.toString(), "");
      } catch (d4) {
      }
      !_3 && $2.Image && (new Image().src = g3.v, _3 = true), _3 || (g3.g = Mb(g3.j, null), g3.g.ea(g3.v)), g3.F = Date.now(), Kb(g3);
    }
    ad(d3);
  }
  function Zb(d3) {
    d3.g && (Tb(d3), d3.g.cancel(), d3.g = null);
  }
  function Zc(d3) {
    Zb(d3), d3.u && ($2.clearTimeout(d3.u), d3.u = null), Yb(d3), d3.h.cancel(), d3.s && ("number" == typeof d3.s && $2.clearTimeout(d3.s), d3.s = null);
  }
  function fc(d3) {
    if (!jc(d3.h) && !d3.s) {
      d3.s = true;
      var g3 = d3.Ga;
      ct2 || Ea(), ut2 || (ct2(), ut2 = true), gt2.add(g3, d3), d3.B = 0;
    }
  }
  function ed(d3, g3) {
    var _3;
    _3 = g3 ? g3.l : d3.U++;
    const O3 = N(d3.I);
    S(O3, "SID", d3.K), S(O3, "RID", _3), S(O3, "AID", d3.T), $c(d3, O3), d3.m && d3.o && Pc(O3, d3.m, d3.o), _3 = new M(d3, d3.j, _3, d3.B + 1), null === d3.m && (_3.H = d3.o), g3 && (d3.i = g3.D.concat(d3.i)), g3 = dd(d3, _3, 1e3), _3.I = Math.round(0.5 * d3.wa) + Math.round(0.5 * d3.wa * Math.random()), bc(d3.h, _3), Hb(_3, O3, g3);
  }
  function $c(d3, g3) {
    d3.H && qa(d3.H, function(d4, _3) {
      S(g3, _3, d4);
    }), d3.l && nc({}, function(d4, _3) {
      S(g3, _3, d4);
    });
  }
  function dd(d3, g3, _3) {
    _3 = Math.min(d3.i.length, _3);
    var O3 = d3.l ? p2(d3.l.Na, d3.l, d3) : null;
    t: {
      var $3 = d3.i;
      let g4 = -1;
      for (; ; ) {
        const d4 = ["count=" + _3];
        -1 == g4 ? 0 < _3 ? (g4 = $3[0].g, d4.push("ofs=" + g4)) : g4 = 0 : d4.push("ofs=" + g4);
        let st3 = true;
        for (let ot3 = 0; ot3 < _3; ot3++) {
          let _4 = $3[ot3].g;
          const lt3 = $3[ot3].map;
          if (_4 -= g4, 0 > _4) g4 = Math.max(0, $3[ot3].g - 100), st3 = false;
          else try {
            Ic(lt3, d4, "req" + _4 + "_");
          } catch (d5) {
            O3 && O3(lt3);
          }
        }
        if (st3) {
          O3 = d4.join("&");
          break t;
        }
      }
    }
    return d3 = d3.i.splice(0, _3), g3.D = d3, O3;
  }
  function ec(d3) {
    if (!d3.g && !d3.u) {
      d3.Y = 1;
      var g3 = d3.Fa;
      ct2 || Ea(), ut2 || (ct2(), ut2 = true), gt2.add(g3, d3), d3.v = 0;
    }
  }
  function $b(d3) {
    return !(d3.g || d3.u || 3 <= d3.v) && (d3.Y++, d3.u = ub(p2(d3.Fa, d3), cd(d3, d3.v)), d3.v++, true);
  }
  function Tb(d3) {
    null != d3.A && ($2.clearTimeout(d3.A), d3.A = null);
  }
  function fd(d3) {
    d3.g = new M(d3, d3.j, "rpc", d3.Y), null === d3.m && (d3.g.H = d3.o), d3.g.O = 0;
    var g3 = N(d3.qa);
    S(g3, "RID", "rpc"), S(g3, "SID", d3.K), S(g3, "AID", d3.T), S(g3, "CI", d3.F ? "0" : "1"), !d3.F && d3.ja && S(g3, "TO", d3.ja), S(g3, "TYPE", "xmlhttp"), $c(d3, g3), d3.m && d3.o && Pc(g3, d3.m, d3.o), d3.L && (d3.g.I = d3.L);
    var _3 = d3.g;
    d3 = d3.ia, _3.L = 1, _3.v = Ib(N(g3)), _3.m = null, _3.P = true, Jb(_3, d3);
  }
  function Yb(d3) {
    null != d3.C && ($2.clearTimeout(d3.C), d3.C = null);
  }
  function Ub(d3, g3) {
    var _3 = null;
    if (d3.g == g3) {
      Yb(d3), Tb(d3), d3.g = null;
      var O3 = 2;
    } else {
      if (!Xb(d3.h, g3)) return;
      _3 = g3.D, dc(d3.h, g3), O3 = 1;
    }
    if (0 != d3.G) {
      if (g3.o) if (1 == O3) {
        _3 = g3.m ? g3.m.length : 0, g3 = Date.now() - g3.F;
        var $3 = d3.B;
        F2(O3 = qb(), new tb(O3, _3)), fc(d3);
      } else ec(d3);
      else if (3 == ($3 = g3.s) || 0 == $3 && 0 < g3.X || !(1 == O3 && function bd(d4, g4) {
        return !(ac(d4.h) >= d4.h.j - (d4.s ? 1 : 0) || (d4.s ? (d4.i = g4.D.concat(d4.i), 0) : 1 == d4.G || 2 == d4.G || d4.B >= (d4.Va ? 0 : d4.Wa) || (d4.s = ub(p2(d4.Ga, d4, g4), cd(d4, d4.B)), d4.B++, 0)));
      }(d3, g3) || 2 == O3 && $b(d3))) switch (_3 && 0 < _3.length && (g3 = d3.h, g3.i = g3.i.concat(_3)), $3) {
        case 1:
          R2(d3, 5);
          break;
        case 4:
          R2(d3, 10);
          break;
        case 3:
          R2(d3, 6);
          break;
        default:
          R2(d3, 2);
      }
    }
  }
  function cd(d3, g3) {
    let _3 = d3.Ta + Math.floor(Math.random() * d3.cb);
    return d3.isActive() || (_3 *= 2), _3 * g3;
  }
  function R2(d3, g3) {
    if (d3.j.info("Error code " + g3), 2 == g3) {
      var _3 = p2(d3.fb, d3), O3 = d3.Xa;
      const g4 = !O3;
      O3 = new T2(O3 || "//www.google.com/images/cleardot.gif"), $2.location && "http" == $2.location.protocol || qc(O3, "https"), Ib(O3), g4 ? function Fc(d4, g5) {
        const _4 = new vb();
        if ($2.Image) {
          const O4 = new Image();
          O4.onload = ka(W2, _4, "TestLoadImage: loaded", true, g5, O4), O4.onerror = ka(W2, _4, "TestLoadImage: error", false, g5, O4), O4.onabort = ka(W2, _4, "TestLoadImage: abort", false, g5, O4), O4.ontimeout = ka(W2, _4, "TestLoadImage: timeout", false, g5, O4), $2.setTimeout(function() {
            O4.ontimeout && O4.ontimeout();
          }, 1e4), O4.src = d4;
        } else g5(false);
      }(O3.toString(), _3) : function Gc(d4, g5) {
        new vb();
        const _4 = new AbortController(), O4 = setTimeout(() => {
          _4.abort(), W2(0, 0, false, g5);
        }, 1e4);
        fetch(d4, { signal: _4.signal }).then((d5) => {
          clearTimeout(O4), d5.ok ? W2(0, 0, true, g5) : W2(0, 0, false, g5);
        }).catch(() => {
          clearTimeout(O4), W2(0, 0, false, g5);
        });
      }(O3.toString(), _3);
    } else K2(2);
    d3.G = 0, d3.l && d3.l.sa(g3), ad(d3), Zc(d3);
  }
  function ad(d3) {
    if (d3.G = 0, d3.ka = [], d3.l) {
      const g3 = kc(d3.h);
      0 == g3.length && 0 == d3.i.length || (ma(d3.ka, g3), ma(d3.ka, d3.i), d3.h.i.length = 0, la(d3.i), d3.i.length = 0), d3.l.ra();
    }
  }
  function cc(d3, g3, _3) {
    var O3 = _3 instanceof T2 ? N(_3) : new T2(_3);
    if ("" != O3.g) g3 && (O3.g = g3 + "." + O3.g), rc(O3, O3.s);
    else {
      var st3 = $2.location;
      O3 = st3.protocol, g3 = g3 ? g3 + "." + st3.hostname : st3.hostname, st3 = +st3.port;
      var ot3 = new T2(null);
      O3 && qc(ot3, O3), g3 && (ot3.g = g3), st3 && rc(ot3, st3), _3 && (ot3.l = _3), O3 = ot3;
    }
    return _3 = d3.D, g3 = d3.ya, _3 && g3 && S(O3, _3, g3), S(O3, "VER", d3.la), $c(d3, O3), O3;
  }
  function Mb(d3, g3, _3) {
    if (g3 && !d3.J) throw Error("Can't create secondary domain capable XhrIo object.");
    return (g3 = d3.Ca && !d3.pa ? new X2(new Jc({ eb: _3 })) : new X2(d3.pa)).Ha(d3.J), g3;
  }
  function gd() {
  }
  function hd() {
  }
  function Y2(d3, g3) {
    E.call(this), this.g = new Yc(g3), this.l = d3, this.h = g3 && g3.messageUrlParams || null, d3 = g3 && g3.messageHeaders || null, g3 && g3.clientProtocolHeaderRequired && (d3 ? d3["X-Client-Protocol"] = "webchannel" : d3 = { "X-Client-Protocol": "webchannel" }), this.g.o = d3, d3 = g3 && g3.initMessageHeaders || null, g3 && g3.messageContentType && (d3 ? d3["X-WebChannel-Content-Type"] = g3.messageContentType : d3 = { "X-WebChannel-Content-Type": g3.messageContentType }), g3 && g3.va && (d3 ? d3["X-WebChannel-Client-Profile"] = g3.va : d3 = { "X-WebChannel-Client-Profile": g3.va }), this.g.S = d3, (d3 = g3 && g3.Sb) && !t(d3) && (this.g.m = d3), this.v = g3 && g3.supportsCrossDomainXhr || false, this.u = g3 && g3.sendRawJson || false, (g3 = g3 && g3.httpSessionIdParam) && !t(g3) && (this.g.D = g3, null !== (d3 = this.h) && g3 in d3 && (g3 in (d3 = this.h) && delete d3[g3])), this.j = new Z2(this);
  }
  function id(d3) {
    nb.call(this), d3.__headers__ && (this.headers = d3.__headers__, this.statusCode = d3.__status__, delete d3.__headers__, delete d3.__status__);
    var g3 = d3.__sm__;
    if (g3) {
      t: {
        for (const _3 in g3) {
          d3 = _3;
          break t;
        }
        d3 = void 0;
      }
      (this.i = d3) && (d3 = this.i, g3 = null !== g3 && d3 in g3 ? g3[d3] : void 0), this.data = g3;
    } else this.data = d3;
  }
  function jd() {
    ob.call(this), this.status = 1;
  }
  function Z2(d3) {
    this.g = d3;
  }
  (d2 = X2.prototype).Ha = function(d3) {
    this.J = d3;
  }, d2.ea = function(d3, g3, _3, O3) {
    if (this.g) throw Error("[goog.net.XhrIo] Object is active with another request=" + this.D + "; newUri=" + d3);
    g3 = g3 ? g3.toUpperCase() : "GET", this.D = d3, this.l = "", this.m = 0, this.A = false, this.h = true, this.g = this.o ? this.o.g() : ue2.g(), this.v = this.o ? lb(this.o) : lb(ue2), this.g.onreadystatechange = p2(this.Ea, this);
    try {
      this.B = true, this.g.open(g3, String(d3), true), this.B = false;
    } catch (d4) {
      return void Sc(this, d4);
    }
    if (d3 = _3 || "", _3 = new Map(this.headers), O3) if (Object.getPrototypeOf(O3) === Object.prototype) for (var st3 in O3) _3.set(st3, O3[st3]);
    else {
      if ("function" != typeof O3.keys || "function" != typeof O3.get) throw Error("Unknown input type for opt_headers: " + String(O3));
      for (const d4 of O3.keys()) _3.set(d4, O3.get(d4));
    }
    O3 = Array.from(_3.keys()).find((d4) => "content-type" == d4.toLowerCase()), st3 = $2.FormData && d3 instanceof $2.FormData, !(0 <= Array.prototype.indexOf.call(Le2, g3, void 0)) || O3 || st3 || _3.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
    for (const [d4, g4] of _3) this.g.setRequestHeader(d4, g4);
    this.H && (this.g.responseType = this.H), "withCredentials" in this.g && this.g.withCredentials !== this.J && (this.g.withCredentials = this.J);
    try {
      Tc(this), this.u = true, this.g.send(d3), this.u = false;
    } catch (d4) {
      Sc(this, d4);
    }
  }, d2.abort = function(d3) {
    this.g && this.h && (this.h = false, this.j = true, this.g.abort(), this.j = false, this.m = d3 || 7, F2(this, "complete"), F2(this, "abort"), Vc(this));
  }, d2.N = function() {
    this.g && (this.h && (this.h = false, this.j = true, this.g.abort(), this.j = false), Vc(this, true)), X2.aa.N.call(this);
  }, d2.Ea = function() {
    this.s || (this.B || this.u || this.j ? Wc(this) : this.bb());
  }, d2.bb = function() {
    Wc(this);
  }, d2.isActive = function() {
    return !!this.g;
  }, d2.Z = function() {
    try {
      return 2 < P2(this) ? this.g.status : -1;
    } catch (d3) {
      return -1;
    }
  }, d2.oa = function() {
    try {
      return this.g ? this.g.responseText : "";
    } catch (d3) {
      return "";
    }
  }, d2.Oa = function(d3) {
    if (this.g) {
      var g3 = this.g.responseText;
      return d3 && 0 == g3.indexOf(d3) && (g3 = g3.substring(d3.length)), Ot2(g3);
    }
  }, d2.Ba = function() {
    return this.m;
  }, d2.Ka = function() {
    return "string" == typeof this.l ? this.l : String(this.l);
  }, (d2 = Yc.prototype).la = 8, d2.G = 1, d2.connect = function(d3, g3, _3, O3) {
    K2(0), this.W = d3, this.H = g3 || {}, _3 && void 0 !== O3 && (this.H.OSID = _3, this.H.OAID = O3), this.F = this.X, this.I = cc(this, null, this.W), fc(this);
  }, d2.Ga = function(d3) {
    if (this.s) if (this.s = null, 1 == this.G) {
      if (!d3) {
        this.U = Math.floor(1e5 * Math.random()), d3 = this.U++;
        const $3 = new M(this, this.j, d3);
        let st3 = this.o;
        if (this.S && (st3 ? (st3 = sa(st3), ua(st3, this.S)) : st3 = this.S), null !== this.m || this.O || ($3.H = st3, st3 = null), this.P) t: {
          for (var g3 = 0, _3 = 0; _3 < this.i.length; _3++) {
            var O3 = this.i[_3];
            if (void 0 === (O3 = "__data__" in O3.map && "string" == typeof (O3 = O3.map.__data__) ? O3.length : void 0)) break;
            if (4096 < (g3 += O3)) {
              g3 = _3;
              break t;
            }
            if (4096 === g3 || _3 === this.i.length - 1) {
              g3 = _3 + 1;
              break t;
            }
          }
          g3 = 1e3;
        }
        else g3 = 1e3;
        g3 = dd(this, $3, g3), S(_3 = N(this.I), "RID", d3), S(_3, "CVER", 22), this.D && S(_3, "X-HTTP-Session-Id", this.D), $c(this, _3), st3 && (this.O ? g3 = "headers=" + encodeURIComponent(String(Oc(st3))) + "&" + g3 : this.m && Pc(_3, this.m, st3)), bc(this.h, $3), this.Ua && S(_3, "TYPE", "init"), this.P ? (S(_3, "$req", g3), S(_3, "SID", "null"), $3.T = true, Hb($3, _3, null)) : Hb($3, _3, g3), this.G = 2;
      }
    } else 3 == this.G && (d3 ? ed(this, d3) : 0 == this.i.length || jc(this.h) || ed(this));
  }, d2.Fa = function() {
    if (this.u = null, fd(this), this.ba && !(this.M || null == this.g || 0 >= this.R)) {
      var d3 = 2 * this.R;
      this.j.info("BP detection timer enabled: " + d3), this.A = ub(p2(this.ab, this), d3);
    }
  }, d2.ab = function() {
    this.A && (this.A = null, this.j.info("BP detection timeout reached."), this.j.info("Buffering proxy detected and switch to long-polling!"), this.F = false, this.M = true, K2(10), Zb(this), fd(this));
  }, d2.Za = function() {
    null != this.C && (this.C = null, Zb(this), $b(this), K2(19));
  }, d2.fb = function(d3) {
    d3 ? (this.j.info("Successfully pinged google.com"), K2(2)) : (this.j.info("Failed to ping google.com"), K2(1));
  }, d2.isActive = function() {
    return !!this.l && this.l.isActive(this);
  }, (d2 = gd.prototype).ua = function() {
  }, d2.ta = function() {
  }, d2.sa = function() {
  }, d2.ra = function() {
  }, d2.isActive = function() {
    return true;
  }, d2.Na = function() {
  }, hd.prototype.g = function(d3, g3) {
    return new Y2(d3, g3);
  }, r(Y2, E), Y2.prototype.m = function() {
    this.g.l = this.j, this.v && (this.g.J = true), this.g.connect(this.l, this.h || void 0);
  }, Y2.prototype.close = function() {
    gc(this.g);
  }, Y2.prototype.o = function(d3) {
    var g3 = this.g;
    if ("string" == typeof d3) {
      var _3 = {};
      _3.__data__ = d3, d3 = _3;
    } else this.u && ((_3 = {}).__data__ = Vt2(d3), d3 = _3);
    g3.i.push(new ve2(g3.Ya++, d3)), 3 == g3.G && fc(g3);
  }, Y2.prototype.N = function() {
    this.g.l = null, delete this.j, gc(this.g), delete this.g, Y2.aa.N.call(this);
  }, r(id, nb), r(jd, ob), r(Z2, gd), Z2.prototype.ua = function() {
    F2(this.g, "a");
  }, Z2.prototype.ta = function(d3) {
    F2(this.g, new id(d3));
  }, Z2.prototype.sa = function(d3) {
    F2(this.g, new jd());
  }, Z2.prototype.ra = function() {
    F2(this.g, "b");
  }, hd.prototype.createWebChannel = hd.prototype.g, Y2.prototype.send = Y2.prototype.o, Y2.prototype.open = Y2.prototype.m, Y2.prototype.close = Y2.prototype.close, w_ = function() {
    return new hd();
  }, y_ = function() {
    return qb();
  }, b_ = Zt2, v_ = { mb: 0, pb: 1, qb: 2, Jb: 3, Ob: 4, Lb: 5, Mb: 6, Kb: 7, Ib: 8, Nb: 9, PROXY: 10, NOPROXY: 11, Gb: 12, Cb: 13, Db: 14, Bb: 15, Eb: 16, Fb: 17, ib: 18, hb: 19, jb: 20 }, de2.NO_ERROR = 0, de2.TIMEOUT = 8, de2.HTTP_ERROR = 6, m_ = de2, pe2.COMPLETE = "complete", __ = pe2, mb.EventType = Bt2, Bt2.OPEN = "a", Bt2.CLOSE = "b", Bt2.ERROR = "c", Bt2.MESSAGE = "d", E.prototype.listen = E.prototype.K, g_ = mb, X2.prototype.listenOnce = X2.prototype.L, X2.prototype.getLastError = X2.prototype.Ka, X2.prototype.getLastErrorCode = X2.prototype.Ba, X2.prototype.getStatus = X2.prototype.Z, X2.prototype.getResponseJson = X2.prototype.Oa, X2.prototype.getResponseText = X2.prototype.oa, X2.prototype.send = X2.prototype.ea, X2.prototype.setWithCredentials = X2.prototype.Ha, f_ = X2;
}).apply(void 0 !== x_ ? x_ : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
const T_ = "@firebase/firestore", E_ = "4.7.15";
class User {
  constructor(d2) {
    this.uid = d2;
  }
  isAuthenticated() {
    return null != this.uid;
  }
  toKey() {
    return this.isAuthenticated() ? "uid:" + this.uid : "anonymous-user";
  }
  isEqual(d2) {
    return d2.uid === this.uid;
  }
}
User.UNAUTHENTICATED = new User(null), User.GOOGLE_CREDENTIALS = new User("google-credentials-uid"), User.FIRST_PARTY = new User("first-party-uid"), User.MOCK_USER = new User("mock-user");
let P_ = "11.8.0";
const I_ = new Logger("@firebase/firestore");
function __PRIVATE_getLogLevel() {
  return I_.logLevel;
}
function __PRIVATE_logDebug(d2, ...g2) {
  if (I_.logLevel <= hg.DEBUG) {
    const _2 = g2.map(__PRIVATE_argToString);
    I_.debug(`Firestore (${P_}): ${d2}`, ..._2);
  }
}
function __PRIVATE_logError(d2, ...g2) {
  if (I_.logLevel <= hg.ERROR) {
    const _2 = g2.map(__PRIVATE_argToString);
    I_.error(`Firestore (${P_}): ${d2}`, ..._2);
  }
}
function __PRIVATE_logWarn(d2, ...g2) {
  if (I_.logLevel <= hg.WARN) {
    const _2 = g2.map(__PRIVATE_argToString);
    I_.warn(`Firestore (${P_}): ${d2}`, ..._2);
  }
}
function __PRIVATE_argToString(d2) {
  if ("string" == typeof d2) return d2;
  try {
    return function __PRIVATE_formatJSON(d3) {
      return JSON.stringify(d3);
    }(d2);
  } catch (g2) {
    return d2;
  }
}
function fail(d2, g2, _2) {
  let O2 = "Unexpected state";
  "string" == typeof g2 ? O2 = g2 : _2 = g2, __PRIVATE__fail(d2, O2, _2);
}
function __PRIVATE__fail(d2, g2, _2) {
  let O2 = `FIRESTORE (${P_}) INTERNAL ASSERTION FAILED: ${g2} (ID: ${d2.toString(16)})`;
  if (void 0 !== _2) try {
    O2 += " CONTEXT: " + JSON.stringify(_2);
  } catch (d3) {
    O2 += " CONTEXT: " + _2;
  }
  throw __PRIVATE_logError(O2), new Error(O2);
}
function __PRIVATE_hardAssert(d2, g2, _2, O2) {
  let $2 = "Unexpected state";
  "string" == typeof _2 ? $2 = _2 : O2 = _2, d2 || __PRIVATE__fail(g2, $2, O2);
}
function __PRIVATE_debugCast(d2, g2) {
  return d2;
}
const A_ = { OK: "ok", CANCELLED: "cancelled", UNKNOWN: "unknown", INVALID_ARGUMENT: "invalid-argument", DEADLINE_EXCEEDED: "deadline-exceeded", NOT_FOUND: "not-found", ALREADY_EXISTS: "already-exists", PERMISSION_DENIED: "permission-denied", UNAUTHENTICATED: "unauthenticated", RESOURCE_EXHAUSTED: "resource-exhausted", FAILED_PRECONDITION: "failed-precondition", ABORTED: "aborted", OUT_OF_RANGE: "out-of-range", UNIMPLEMENTED: "unimplemented", INTERNAL: "internal", UNAVAILABLE: "unavailable", DATA_LOSS: "data-loss" };
class FirestoreError extends FirebaseError {
  constructor(d2, g2) {
    super(d2, g2), this.code = d2, this.message = g2, this.toString = () => `${this.name}: [code=${this.code}]: ${this.message}`;
  }
}
class __PRIVATE_Deferred {
  constructor() {
    this.promise = new Promise((d2, g2) => {
      this.resolve = d2, this.reject = g2;
    });
  }
}
class __PRIVATE_OAuthToken {
  constructor(d2, g2) {
    this.user = g2, this.type = "OAuth", this.headers = /* @__PURE__ */ new Map(), this.headers.set("Authorization", `Bearer ${d2}`);
  }
}
class __PRIVATE_EmptyAuthCredentialsProvider {
  getToken() {
    return Promise.resolve(null);
  }
  invalidateToken() {
  }
  start(d2, g2) {
    d2.enqueueRetryable(() => g2(User.UNAUTHENTICATED));
  }
  shutdown() {
  }
}
class __PRIVATE_EmulatorAuthCredentialsProvider {
  constructor(d2) {
    this.token = d2, this.changeListener = null;
  }
  getToken() {
    return Promise.resolve(this.token);
  }
  invalidateToken() {
  }
  start(d2, g2) {
    this.changeListener = g2, d2.enqueueRetryable(() => g2(this.token.user));
  }
  shutdown() {
    this.changeListener = null;
  }
}
class __PRIVATE_FirebaseAuthCredentialsProvider {
  constructor(d2) {
    this.t = d2, this.currentUser = User.UNAUTHENTICATED, this.i = 0, this.forceRefresh = false, this.auth = null;
  }
  start(d2, g2) {
    __PRIVATE_hardAssert(void 0 === this.o, 42304);
    let _2 = this.i;
    const __PRIVATE_guardedChangeListener = (d3) => this.i !== _2 ? (_2 = this.i, g2(d3)) : Promise.resolve();
    let O2 = new __PRIVATE_Deferred();
    this.o = () => {
      this.i++, this.currentUser = this.u(), O2.resolve(), O2 = new __PRIVATE_Deferred(), d2.enqueueRetryable(() => __PRIVATE_guardedChangeListener(this.currentUser));
    };
    const __PRIVATE_awaitNextToken = () => {
      const g3 = O2;
      d2.enqueueRetryable(async () => {
        await g3.promise, await __PRIVATE_guardedChangeListener(this.currentUser);
      });
    }, __PRIVATE_registerAuth = (d3) => {
      __PRIVATE_logDebug("FirebaseAuthCredentialsProvider", "Auth detected"), this.auth = d3, this.o && (this.auth.addAuthTokenListener(this.o), __PRIVATE_awaitNextToken());
    };
    this.t.onInit((d3) => __PRIVATE_registerAuth(d3)), setTimeout(() => {
      if (!this.auth) {
        const d3 = this.t.getImmediate({ optional: true });
        d3 ? __PRIVATE_registerAuth(d3) : (__PRIVATE_logDebug("FirebaseAuthCredentialsProvider", "Auth not yet detected"), O2.resolve(), O2 = new __PRIVATE_Deferred());
      }
    }, 0), __PRIVATE_awaitNextToken();
  }
  getToken() {
    const d2 = this.i, g2 = this.forceRefresh;
    return this.forceRefresh = false, this.auth ? this.auth.getToken(g2).then((g3) => this.i !== d2 ? (__PRIVATE_logDebug("FirebaseAuthCredentialsProvider", "getToken aborted due to token change."), this.getToken()) : g3 ? (__PRIVATE_hardAssert("string" == typeof g3.accessToken, 31837, { l: g3 }), new __PRIVATE_OAuthToken(g3.accessToken, this.currentUser)) : null) : Promise.resolve(null);
  }
  invalidateToken() {
    this.forceRefresh = true;
  }
  shutdown() {
    this.auth && this.o && this.auth.removeAuthTokenListener(this.o), this.o = void 0;
  }
  u() {
    const d2 = this.auth && this.auth.getUid();
    return __PRIVATE_hardAssert(null === d2 || "string" == typeof d2, 2055, { h: d2 }), new User(d2);
  }
}
class __PRIVATE_FirstPartyToken {
  constructor(d2, g2, _2) {
    this.P = d2, this.T = g2, this.I = _2, this.type = "FirstParty", this.user = User.FIRST_PARTY, this.A = /* @__PURE__ */ new Map();
  }
  R() {
    return this.I ? this.I() : null;
  }
  get headers() {
    this.A.set("X-Goog-AuthUser", this.P);
    const d2 = this.R();
    return d2 && this.A.set("Authorization", d2), this.T && this.A.set("X-Goog-Iam-Authorization-Token", this.T), this.A;
  }
}
class __PRIVATE_FirstPartyAuthCredentialsProvider {
  constructor(d2, g2, _2) {
    this.P = d2, this.T = g2, this.I = _2;
  }
  getToken() {
    return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P, this.T, this.I));
  }
  start(d2, g2) {
    d2.enqueueRetryable(() => g2(User.FIRST_PARTY));
  }
  shutdown() {
  }
  invalidateToken() {
  }
}
class AppCheckToken {
  constructor(d2) {
    this.value = d2, this.type = "AppCheck", this.headers = /* @__PURE__ */ new Map(), d2 && d2.length > 0 && this.headers.set("x-firebase-appcheck", this.value);
  }
}
class __PRIVATE_FirebaseAppCheckTokenProvider {
  constructor(d2, g2) {
    this.V = g2, this.forceRefresh = false, this.appCheck = null, this.m = null, this.p = null, _isFirebaseServerApp(d2) && d2.settings.appCheckToken && (this.p = d2.settings.appCheckToken);
  }
  start(d2, g2) {
    __PRIVATE_hardAssert(void 0 === this.o, 3512);
    const onTokenChanged = (d3) => {
      null != d3.error && __PRIVATE_logDebug("FirebaseAppCheckTokenProvider", `Error getting App Check token; using placeholder token instead. Error: ${d3.error.message}`);
      const _2 = d3.token !== this.m;
      return this.m = d3.token, __PRIVATE_logDebug("FirebaseAppCheckTokenProvider", `Received ${_2 ? "new" : "existing"} token.`), _2 ? g2(d3.token) : Promise.resolve();
    };
    this.o = (g3) => {
      d2.enqueueRetryable(() => onTokenChanged(g3));
    };
    const __PRIVATE_registerAppCheck = (d3) => {
      __PRIVATE_logDebug("FirebaseAppCheckTokenProvider", "AppCheck detected"), this.appCheck = d3, this.o && this.appCheck.addTokenListener(this.o);
    };
    this.V.onInit((d3) => __PRIVATE_registerAppCheck(d3)), setTimeout(() => {
      if (!this.appCheck) {
        const d3 = this.V.getImmediate({ optional: true });
        d3 ? __PRIVATE_registerAppCheck(d3) : __PRIVATE_logDebug("FirebaseAppCheckTokenProvider", "AppCheck not yet detected");
      }
    }, 0);
  }
  getToken() {
    if (this.p) return Promise.resolve(new AppCheckToken(this.p));
    const d2 = this.forceRefresh;
    return this.forceRefresh = false, this.appCheck ? this.appCheck.getToken(d2).then((d3) => d3 ? (__PRIVATE_hardAssert("string" == typeof d3.token, 44558, { tokenResult: d3 }), this.m = d3.token, new AppCheckToken(d3.token)) : null) : Promise.resolve(null);
  }
  invalidateToken() {
    this.forceRefresh = true;
  }
  shutdown() {
    this.appCheck && this.o && this.appCheck.removeTokenListener(this.o), this.o = void 0;
  }
}
function __PRIVATE_randomBytes(d2) {
  const g2 = "undefined" != typeof self && (self.crypto || self.msCrypto), _2 = new Uint8Array(d2);
  if (g2 && "function" == typeof g2.getRandomValues) g2.getRandomValues(_2);
  else for (let g3 = 0; g3 < d2; g3++) _2[g3] = Math.floor(256 * Math.random());
  return _2;
}
function __PRIVATE_newTextEncoder() {
  return new TextEncoder();
}
class __PRIVATE_AutoId {
  static newId() {
    const d2 = 62 * Math.floor(256 / 62);
    let g2 = "";
    for (; g2.length < 20; ) {
      const _2 = __PRIVATE_randomBytes(40);
      for (let O2 = 0; O2 < _2.length; ++O2) g2.length < 20 && _2[O2] < d2 && (g2 += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(_2[O2] % 62));
    }
    return g2;
  }
}
function __PRIVATE_primitiveComparator(d2, g2) {
  return d2 < g2 ? -1 : d2 > g2 ? 1 : 0;
}
function __PRIVATE_compareUtf8Strings(d2, g2) {
  let _2 = 0;
  for (; _2 < d2.length && _2 < g2.length; ) {
    const O2 = d2.codePointAt(_2), $2 = g2.codePointAt(_2);
    if (O2 !== $2) {
      if (O2 < 128 && $2 < 128) return __PRIVATE_primitiveComparator(O2, $2);
      {
        const st2 = __PRIVATE_newTextEncoder(), ot2 = __PRIVATE_compareByteArrays$1(st2.encode(__PRIVATE_getUtf8SafeSubstring(d2, _2)), st2.encode(__PRIVATE_getUtf8SafeSubstring(g2, _2)));
        return 0 !== ot2 ? ot2 : __PRIVATE_primitiveComparator(O2, $2);
      }
    }
    _2 += O2 > 65535 ? 2 : 1;
  }
  return __PRIVATE_primitiveComparator(d2.length, g2.length);
}
function __PRIVATE_getUtf8SafeSubstring(d2, g2) {
  return d2.codePointAt(g2) > 65535 ? d2.substring(g2, g2 + 2) : d2.substring(g2, g2 + 1);
}
function __PRIVATE_compareByteArrays$1(d2, g2) {
  for (let _2 = 0; _2 < d2.length && _2 < g2.length; ++_2) if (d2[_2] !== g2[_2]) return __PRIVATE_primitiveComparator(d2[_2], g2[_2]);
  return __PRIVATE_primitiveComparator(d2.length, g2.length);
}
function __PRIVATE_arrayEquals(d2, g2, _2) {
  return d2.length === g2.length && d2.every((d3, O2) => _2(d3, g2[O2]));
}
const R_ = -62135596800, k_ = 1e6;
class Timestamp {
  static now() {
    return Timestamp.fromMillis(Date.now());
  }
  static fromDate(d2) {
    return Timestamp.fromMillis(d2.getTime());
  }
  static fromMillis(d2) {
    const g2 = Math.floor(d2 / 1e3), _2 = Math.floor((d2 - 1e3 * g2) * k_);
    return new Timestamp(g2, _2);
  }
  constructor(d2, g2) {
    if (this.seconds = d2, this.nanoseconds = g2, g2 < 0) throw new FirestoreError(A_.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + g2);
    if (g2 >= 1e9) throw new FirestoreError(A_.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + g2);
    if (d2 < R_) throw new FirestoreError(A_.INVALID_ARGUMENT, "Timestamp seconds out of range: " + d2);
    if (d2 >= 253402300800) throw new FirestoreError(A_.INVALID_ARGUMENT, "Timestamp seconds out of range: " + d2);
  }
  toDate() {
    return new Date(this.toMillis());
  }
  toMillis() {
    return 1e3 * this.seconds + this.nanoseconds / k_;
  }
  _compareTo(d2) {
    return this.seconds === d2.seconds ? __PRIVATE_primitiveComparator(this.nanoseconds, d2.nanoseconds) : __PRIVATE_primitiveComparator(this.seconds, d2.seconds);
  }
  isEqual(d2) {
    return d2.seconds === this.seconds && d2.nanoseconds === this.nanoseconds;
  }
  toString() {
    return "Timestamp(seconds=" + this.seconds + ", nanoseconds=" + this.nanoseconds + ")";
  }
  toJSON() {
    return { seconds: this.seconds, nanoseconds: this.nanoseconds };
  }
  valueOf() {
    const d2 = this.seconds - R_;
    return String(d2).padStart(12, "0") + "." + String(this.nanoseconds).padStart(9, "0");
  }
}
class SnapshotVersion {
  static fromTimestamp(d2) {
    return new SnapshotVersion(d2);
  }
  static min() {
    return new SnapshotVersion(new Timestamp(0, 0));
  }
  static max() {
    return new SnapshotVersion(new Timestamp(253402300799, 999999999));
  }
  constructor(d2) {
    this.timestamp = d2;
  }
  compareTo(d2) {
    return this.timestamp._compareTo(d2.timestamp);
  }
  isEqual(d2) {
    return this.timestamp.isEqual(d2.timestamp);
  }
  toMicroseconds() {
    return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;
  }
  toString() {
    return "SnapshotVersion(" + this.timestamp.toString() + ")";
  }
  toTimestamp() {
    return this.timestamp;
  }
}
const S_ = "__name__";
class BasePath {
  constructor(d2, g2, _2) {
    void 0 === g2 ? g2 = 0 : g2 > d2.length && fail(637, { offset: g2, range: d2.length }), void 0 === _2 ? _2 = d2.length - g2 : _2 > d2.length - g2 && fail(1746, { length: _2, range: d2.length - g2 }), this.segments = d2, this.offset = g2, this.len = _2;
  }
  get length() {
    return this.len;
  }
  isEqual(d2) {
    return 0 === BasePath.comparator(this, d2);
  }
  child(d2) {
    const g2 = this.segments.slice(this.offset, this.limit());
    return d2 instanceof BasePath ? d2.forEach((d3) => {
      g2.push(d3);
    }) : g2.push(d2), this.construct(g2);
  }
  limit() {
    return this.offset + this.length;
  }
  popFirst(d2) {
    return d2 = void 0 === d2 ? 1 : d2, this.construct(this.segments, this.offset + d2, this.length - d2);
  }
  popLast() {
    return this.construct(this.segments, this.offset, this.length - 1);
  }
  firstSegment() {
    return this.segments[this.offset];
  }
  lastSegment() {
    return this.get(this.length - 1);
  }
  get(d2) {
    return this.segments[this.offset + d2];
  }
  isEmpty() {
    return 0 === this.length;
  }
  isPrefixOf(d2) {
    if (d2.length < this.length) return false;
    for (let g2 = 0; g2 < this.length; g2++) if (this.get(g2) !== d2.get(g2)) return false;
    return true;
  }
  isImmediateParentOf(d2) {
    if (this.length + 1 !== d2.length) return false;
    for (let g2 = 0; g2 < this.length; g2++) if (this.get(g2) !== d2.get(g2)) return false;
    return true;
  }
  forEach(d2) {
    for (let g2 = this.offset, _2 = this.limit(); g2 < _2; g2++) d2(this.segments[g2]);
  }
  toArray() {
    return this.segments.slice(this.offset, this.limit());
  }
  static comparator(d2, g2) {
    const _2 = Math.min(d2.length, g2.length);
    for (let O2 = 0; O2 < _2; O2++) {
      const _3 = BasePath.compareSegments(d2.get(O2), g2.get(O2));
      if (0 !== _3) return _3;
    }
    return __PRIVATE_primitiveComparator(d2.length, g2.length);
  }
  static compareSegments(d2, g2) {
    const _2 = BasePath.isNumericId(d2), O2 = BasePath.isNumericId(g2);
    return _2 && !O2 ? -1 : !_2 && O2 ? 1 : _2 && O2 ? BasePath.extractNumericId(d2).compare(BasePath.extractNumericId(g2)) : __PRIVATE_compareUtf8Strings(d2, g2);
  }
  static isNumericId(d2) {
    return d2.startsWith("__id") && d2.endsWith("__");
  }
  static extractNumericId(d2) {
    return u_.fromString(d2.substring(4, d2.length - 2));
  }
}
class ResourcePath extends BasePath {
  construct(d2, g2, _2) {
    return new ResourcePath(d2, g2, _2);
  }
  canonicalString() {
    return this.toArray().join("/");
  }
  toString() {
    return this.canonicalString();
  }
  toUriEncodedString() {
    return this.toArray().map(encodeURIComponent).join("/");
  }
  static fromString(...d2) {
    const g2 = [];
    for (const _2 of d2) {
      if (_2.indexOf("//") >= 0) throw new FirestoreError(A_.INVALID_ARGUMENT, `Invalid segment (${_2}). Paths must not contain // in them.`);
      g2.push(..._2.split("/").filter((d3) => d3.length > 0));
    }
    return new ResourcePath(g2);
  }
  static emptyPath() {
    return new ResourcePath([]);
  }
}
const C_ = /^[_a-zA-Z][_a-zA-Z0-9]*$/;
class FieldPath$1 extends BasePath {
  construct(d2, g2, _2) {
    return new FieldPath$1(d2, g2, _2);
  }
  static isValidIdentifier(d2) {
    return C_.test(d2);
  }
  canonicalString() {
    return this.toArray().map((d2) => (d2 = d2.replace(/\\/g, "\\\\").replace(/`/g, "\\`"), FieldPath$1.isValidIdentifier(d2) || (d2 = "`" + d2 + "`"), d2)).join(".");
  }
  toString() {
    return this.canonicalString();
  }
  isKeyField() {
    return 1 === this.length && this.get(0) === S_;
  }
  static keyField() {
    return new FieldPath$1([S_]);
  }
  static fromServerFormat(d2) {
    const g2 = [];
    let _2 = "", O2 = 0;
    const __PRIVATE_addCurrentSegment = () => {
      if (0 === _2.length) throw new FirestoreError(A_.INVALID_ARGUMENT, `Invalid field path (${d2}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);
      g2.push(_2), _2 = "";
    };
    let $2 = false;
    for (; O2 < d2.length; ) {
      const g3 = d2[O2];
      if ("\\" === g3) {
        if (O2 + 1 === d2.length) throw new FirestoreError(A_.INVALID_ARGUMENT, "Path has trailing escape character: " + d2);
        const g4 = d2[O2 + 1];
        if ("\\" !== g4 && "." !== g4 && "`" !== g4) throw new FirestoreError(A_.INVALID_ARGUMENT, "Path has invalid escape sequence: " + d2);
        _2 += g4, O2 += 2;
      } else "`" === g3 ? ($2 = !$2, O2++) : "." !== g3 || $2 ? (_2 += g3, O2++) : (__PRIVATE_addCurrentSegment(), O2++);
    }
    if (__PRIVATE_addCurrentSegment(), $2) throw new FirestoreError(A_.INVALID_ARGUMENT, "Unterminated ` in path: " + d2);
    return new FieldPath$1(g2);
  }
  static emptyPath() {
    return new FieldPath$1([]);
  }
}
class DocumentKey {
  constructor(d2) {
    this.path = d2;
  }
  static fromPath(d2) {
    return new DocumentKey(ResourcePath.fromString(d2));
  }
  static fromName(d2) {
    return new DocumentKey(ResourcePath.fromString(d2).popFirst(5));
  }
  static empty() {
    return new DocumentKey(ResourcePath.emptyPath());
  }
  get collectionGroup() {
    return this.path.popLast().lastSegment();
  }
  hasCollectionId(d2) {
    return this.path.length >= 2 && this.path.get(this.path.length - 2) === d2;
  }
  getCollectionGroup() {
    return this.path.get(this.path.length - 2);
  }
  getCollectionPath() {
    return this.path.popLast();
  }
  isEqual(d2) {
    return null !== d2 && 0 === ResourcePath.comparator(this.path, d2.path);
  }
  toString() {
    return this.path.toString();
  }
  static comparator(d2, g2) {
    return ResourcePath.comparator(d2.path, g2.path);
  }
  static isDocumentKey(d2) {
    return d2.length % 2 == 0;
  }
  static fromSegments(d2) {
    return new DocumentKey(new ResourcePath(d2.slice()));
  }
}
function __PRIVATE_newIndexOffsetFromDocument(d2) {
  return new IndexOffset(d2.readTime, d2.key, -1);
}
class IndexOffset {
  constructor(d2, g2, _2) {
    this.readTime = d2, this.documentKey = g2, this.largestBatchId = _2;
  }
  static min() {
    return new IndexOffset(SnapshotVersion.min(), DocumentKey.empty(), -1);
  }
  static max() {
    return new IndexOffset(SnapshotVersion.max(), DocumentKey.empty(), -1);
  }
}
function __PRIVATE_indexOffsetComparator(d2, g2) {
  let _2 = d2.readTime.compareTo(g2.readTime);
  return 0 !== _2 ? _2 : (_2 = DocumentKey.comparator(d2.documentKey, g2.documentKey), 0 !== _2 ? _2 : __PRIVATE_primitiveComparator(d2.largestBatchId, g2.largestBatchId));
}
const M_ = "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
class PersistenceTransaction {
  constructor() {
    this.onCommittedListeners = [];
  }
  addOnCommittedListener(d2) {
    this.onCommittedListeners.push(d2);
  }
  raiseOnCommittedEvent() {
    this.onCommittedListeners.forEach((d2) => d2());
  }
}
async function __PRIVATE_ignoreIfPrimaryLeaseLoss(d2) {
  if (d2.code !== A_.FAILED_PRECONDITION || d2.message !== M_) throw d2;
  __PRIVATE_logDebug("LocalStore", "Unexpectedly lost primary lease");
}
class PersistencePromise {
  constructor(d2) {
    this.nextCallback = null, this.catchCallback = null, this.result = void 0, this.error = void 0, this.isDone = false, this.callbackAttached = false, d2((d3) => {
      this.isDone = true, this.result = d3, this.nextCallback && this.nextCallback(d3);
    }, (d3) => {
      this.isDone = true, this.error = d3, this.catchCallback && this.catchCallback(d3);
    });
  }
  catch(d2) {
    return this.next(void 0, d2);
  }
  next(d2, g2) {
    return this.callbackAttached && fail(59440), this.callbackAttached = true, this.isDone ? this.error ? this.wrapFailure(g2, this.error) : this.wrapSuccess(d2, this.result) : new PersistencePromise((_2, O2) => {
      this.nextCallback = (g3) => {
        this.wrapSuccess(d2, g3).next(_2, O2);
      }, this.catchCallback = (d3) => {
        this.wrapFailure(g2, d3).next(_2, O2);
      };
    });
  }
  toPromise() {
    return new Promise((d2, g2) => {
      this.next(d2, g2);
    });
  }
  wrapUserFunction(d2) {
    try {
      const g2 = d2();
      return g2 instanceof PersistencePromise ? g2 : PersistencePromise.resolve(g2);
    } catch (d3) {
      return PersistencePromise.reject(d3);
    }
  }
  wrapSuccess(d2, g2) {
    return d2 ? this.wrapUserFunction(() => d2(g2)) : PersistencePromise.resolve(g2);
  }
  wrapFailure(d2, g2) {
    return d2 ? this.wrapUserFunction(() => d2(g2)) : PersistencePromise.reject(g2);
  }
  static resolve(d2) {
    return new PersistencePromise((g2, _2) => {
      g2(d2);
    });
  }
  static reject(d2) {
    return new PersistencePromise((g2, _2) => {
      _2(d2);
    });
  }
  static waitFor(d2) {
    return new PersistencePromise((g2, _2) => {
      let O2 = 0, $2 = 0, st2 = false;
      d2.forEach((d3) => {
        ++O2, d3.next(() => {
          ++$2, st2 && $2 === O2 && g2();
        }, (d4) => _2(d4));
      }), st2 = true, $2 === O2 && g2();
    });
  }
  static or(d2) {
    let g2 = PersistencePromise.resolve(false);
    for (const _2 of d2) g2 = g2.next((d3) => d3 ? PersistencePromise.resolve(d3) : _2());
    return g2;
  }
  static forEach(d2, g2) {
    const _2 = [];
    return d2.forEach((d3, O2) => {
      _2.push(g2.call(this, d3, O2));
    }), this.waitFor(_2);
  }
  static mapArray(d2, g2) {
    return new PersistencePromise((_2, O2) => {
      const $2 = d2.length, st2 = new Array($2);
      let ot2 = 0;
      for (let lt2 = 0; lt2 < $2; lt2++) {
        const ct2 = lt2;
        g2(d2[ct2]).next((d3) => {
          st2[ct2] = d3, ++ot2, ot2 === $2 && _2(st2);
        }, (d3) => O2(d3));
      }
    });
  }
  static doWhile(d2, g2) {
    return new PersistencePromise((_2, O2) => {
      const process2 = () => {
        true === d2() ? g2().next(() => {
          process2();
        }, O2) : _2();
      };
      process2();
    });
  }
}
function __PRIVATE_isIndexedDbTransactionError(d2) {
  return "IndexedDbTransactionError" === d2.name;
}
class __PRIVATE_ListenSequence {
  constructor(d2, g2) {
    this.previousValue = d2, g2 && (g2.sequenceNumberHandler = (d3) => this.ue(d3), this.ce = (d3) => g2.writeSequenceNumber(d3));
  }
  ue(d2) {
    return this.previousValue = Math.max(d2, this.previousValue), this.previousValue;
  }
  next() {
    const d2 = ++this.previousValue;
    return this.ce && this.ce(d2), d2;
  }
}
__PRIVATE_ListenSequence.le = -1;
function __PRIVATE_isNullOrUndefined(d2) {
  return null == d2;
}
function __PRIVATE_isNegativeZero(d2) {
  return 0 === d2 && 1 / d2 == -1 / 0;
}
const V_ = "";
function __PRIVATE_encodeSegment(d2, g2) {
  let _2 = g2;
  const O2 = d2.length;
  for (let g3 = 0; g3 < O2; g3++) {
    const O3 = d2.charAt(g3);
    switch (O3) {
      case "\0":
        _2 += "";
        break;
      case V_:
        _2 += "";
        break;
      default:
        _2 += O3;
    }
  }
  return _2;
}
function __PRIVATE_encodeSeparator(d2) {
  return d2 + V_ + "";
}
function __PRIVATE_objectSize(d2) {
  let g2 = 0;
  for (const _2 in d2) Object.prototype.hasOwnProperty.call(d2, _2) && g2++;
  return g2;
}
function forEach(d2, g2) {
  for (const _2 in d2) Object.prototype.hasOwnProperty.call(d2, _2) && g2(_2, d2[_2]);
}
class SortedMap {
  constructor(d2, g2) {
    this.comparator = d2, this.root = g2 || LLRBNode.EMPTY;
  }
  insert(d2, g2) {
    return new SortedMap(this.comparator, this.root.insert(d2, g2, this.comparator).copy(null, null, LLRBNode.BLACK, null, null));
  }
  remove(d2) {
    return new SortedMap(this.comparator, this.root.remove(d2, this.comparator).copy(null, null, LLRBNode.BLACK, null, null));
  }
  get(d2) {
    let g2 = this.root;
    for (; !g2.isEmpty(); ) {
      const _2 = this.comparator(d2, g2.key);
      if (0 === _2) return g2.value;
      _2 < 0 ? g2 = g2.left : _2 > 0 && (g2 = g2.right);
    }
    return null;
  }
  indexOf(d2) {
    let g2 = 0, _2 = this.root;
    for (; !_2.isEmpty(); ) {
      const O2 = this.comparator(d2, _2.key);
      if (0 === O2) return g2 + _2.left.size;
      O2 < 0 ? _2 = _2.left : (g2 += _2.left.size + 1, _2 = _2.right);
    }
    return -1;
  }
  isEmpty() {
    return this.root.isEmpty();
  }
  get size() {
    return this.root.size;
  }
  minKey() {
    return this.root.minKey();
  }
  maxKey() {
    return this.root.maxKey();
  }
  inorderTraversal(d2) {
    return this.root.inorderTraversal(d2);
  }
  forEach(d2) {
    this.inorderTraversal((g2, _2) => (d2(g2, _2), false));
  }
  toString() {
    const d2 = [];
    return this.inorderTraversal((g2, _2) => (d2.push(`${g2}:${_2}`), false)), `{${d2.join(", ")}}`;
  }
  reverseTraversal(d2) {
    return this.root.reverseTraversal(d2);
  }
  getIterator() {
    return new SortedMapIterator(this.root, null, this.comparator, false);
  }
  getIteratorFrom(d2) {
    return new SortedMapIterator(this.root, d2, this.comparator, false);
  }
  getReverseIterator() {
    return new SortedMapIterator(this.root, null, this.comparator, true);
  }
  getReverseIteratorFrom(d2) {
    return new SortedMapIterator(this.root, d2, this.comparator, true);
  }
}
class SortedMapIterator {
  constructor(d2, g2, _2, O2) {
    this.isReverse = O2, this.nodeStack = [];
    let $2 = 1;
    for (; !d2.isEmpty(); ) if ($2 = g2 ? _2(d2.key, g2) : 1, g2 && O2 && ($2 *= -1), $2 < 0) d2 = this.isReverse ? d2.left : d2.right;
    else {
      if (0 === $2) {
        this.nodeStack.push(d2);
        break;
      }
      this.nodeStack.push(d2), d2 = this.isReverse ? d2.right : d2.left;
    }
  }
  getNext() {
    let d2 = this.nodeStack.pop();
    const g2 = { key: d2.key, value: d2.value };
    if (this.isReverse) for (d2 = d2.left; !d2.isEmpty(); ) this.nodeStack.push(d2), d2 = d2.right;
    else for (d2 = d2.right; !d2.isEmpty(); ) this.nodeStack.push(d2), d2 = d2.left;
    return g2;
  }
  hasNext() {
    return this.nodeStack.length > 0;
  }
  peek() {
    if (0 === this.nodeStack.length) return null;
    const d2 = this.nodeStack[this.nodeStack.length - 1];
    return { key: d2.key, value: d2.value };
  }
}
class LLRBNode {
  constructor(d2, g2, _2, O2, $2) {
    this.key = d2, this.value = g2, this.color = null != _2 ? _2 : LLRBNode.RED, this.left = null != O2 ? O2 : LLRBNode.EMPTY, this.right = null != $2 ? $2 : LLRBNode.EMPTY, this.size = this.left.size + 1 + this.right.size;
  }
  copy(d2, g2, _2, O2, $2) {
    return new LLRBNode(null != d2 ? d2 : this.key, null != g2 ? g2 : this.value, null != _2 ? _2 : this.color, null != O2 ? O2 : this.left, null != $2 ? $2 : this.right);
  }
  isEmpty() {
    return false;
  }
  inorderTraversal(d2) {
    return this.left.inorderTraversal(d2) || d2(this.key, this.value) || this.right.inorderTraversal(d2);
  }
  reverseTraversal(d2) {
    return this.right.reverseTraversal(d2) || d2(this.key, this.value) || this.left.reverseTraversal(d2);
  }
  min() {
    return this.left.isEmpty() ? this : this.left.min();
  }
  minKey() {
    return this.min().key;
  }
  maxKey() {
    return this.right.isEmpty() ? this.key : this.right.maxKey();
  }
  insert(d2, g2, _2) {
    let O2 = this;
    const $2 = _2(d2, O2.key);
    return O2 = $2 < 0 ? O2.copy(null, null, null, O2.left.insert(d2, g2, _2), null) : 0 === $2 ? O2.copy(null, g2, null, null, null) : O2.copy(null, null, null, null, O2.right.insert(d2, g2, _2)), O2.fixUp();
  }
  removeMin() {
    if (this.left.isEmpty()) return LLRBNode.EMPTY;
    let d2 = this;
    return d2.left.isRed() || d2.left.left.isRed() || (d2 = d2.moveRedLeft()), d2 = d2.copy(null, null, null, d2.left.removeMin(), null), d2.fixUp();
  }
  remove(d2, g2) {
    let _2, O2 = this;
    if (g2(d2, O2.key) < 0) O2.left.isEmpty() || O2.left.isRed() || O2.left.left.isRed() || (O2 = O2.moveRedLeft()), O2 = O2.copy(null, null, null, O2.left.remove(d2, g2), null);
    else {
      if (O2.left.isRed() && (O2 = O2.rotateRight()), O2.right.isEmpty() || O2.right.isRed() || O2.right.left.isRed() || (O2 = O2.moveRedRight()), 0 === g2(d2, O2.key)) {
        if (O2.right.isEmpty()) return LLRBNode.EMPTY;
        _2 = O2.right.min(), O2 = O2.copy(_2.key, _2.value, null, null, O2.right.removeMin());
      }
      O2 = O2.copy(null, null, null, null, O2.right.remove(d2, g2));
    }
    return O2.fixUp();
  }
  isRed() {
    return this.color;
  }
  fixUp() {
    let d2 = this;
    return d2.right.isRed() && !d2.left.isRed() && (d2 = d2.rotateLeft()), d2.left.isRed() && d2.left.left.isRed() && (d2 = d2.rotateRight()), d2.left.isRed() && d2.right.isRed() && (d2 = d2.colorFlip()), d2;
  }
  moveRedLeft() {
    let d2 = this.colorFlip();
    return d2.right.left.isRed() && (d2 = d2.copy(null, null, null, null, d2.right.rotateRight()), d2 = d2.rotateLeft(), d2 = d2.colorFlip()), d2;
  }
  moveRedRight() {
    let d2 = this.colorFlip();
    return d2.left.left.isRed() && (d2 = d2.rotateRight(), d2 = d2.colorFlip()), d2;
  }
  rotateLeft() {
    const d2 = this.copy(null, null, LLRBNode.RED, null, this.right.left);
    return this.right.copy(null, null, this.color, d2, null);
  }
  rotateRight() {
    const d2 = this.copy(null, null, LLRBNode.RED, this.left.right, null);
    return this.left.copy(null, null, this.color, null, d2);
  }
  colorFlip() {
    const d2 = this.left.copy(null, null, !this.left.color, null, null), g2 = this.right.copy(null, null, !this.right.color, null, null);
    return this.copy(null, null, !this.color, d2, g2);
  }
  checkMaxDepth() {
    const d2 = this.check();
    return Math.pow(2, d2) <= this.size + 1;
  }
  check() {
    if (this.isRed() && this.left.isRed()) throw fail(43730, { key: this.key, value: this.value });
    if (this.right.isRed()) throw fail(14113, { key: this.key, value: this.value });
    const d2 = this.left.check();
    if (d2 !== this.right.check()) throw fail(27949);
    return d2 + (this.isRed() ? 0 : 1);
  }
}
LLRBNode.EMPTY = null, LLRBNode.RED = true, LLRBNode.BLACK = false, LLRBNode.EMPTY = new class LLRBEmptyNode {
  constructor() {
    this.size = 0;
  }
  get key() {
    throw fail(57766);
  }
  get value() {
    throw fail(16141);
  }
  get color() {
    throw fail(16727);
  }
  get left() {
    throw fail(29726);
  }
  get right() {
    throw fail(36894);
  }
  copy(d2, g2, _2, O2, $2) {
    return this;
  }
  insert(d2, g2, _2) {
    return new LLRBNode(d2, g2);
  }
  remove(d2, g2) {
    return this;
  }
  isEmpty() {
    return true;
  }
  inorderTraversal(d2) {
    return false;
  }
  reverseTraversal(d2) {
    return false;
  }
  minKey() {
    return null;
  }
  maxKey() {
    return null;
  }
  isRed() {
    return false;
  }
  checkMaxDepth() {
    return true;
  }
  check() {
    return 0;
  }
}();
class SortedSet {
  constructor(d2) {
    this.comparator = d2, this.data = new SortedMap(this.comparator);
  }
  has(d2) {
    return null !== this.data.get(d2);
  }
  first() {
    return this.data.minKey();
  }
  last() {
    return this.data.maxKey();
  }
  get size() {
    return this.data.size;
  }
  indexOf(d2) {
    return this.data.indexOf(d2);
  }
  forEach(d2) {
    this.data.inorderTraversal((g2, _2) => (d2(g2), false));
  }
  forEachInRange(d2, g2) {
    const _2 = this.data.getIteratorFrom(d2[0]);
    for (; _2.hasNext(); ) {
      const O2 = _2.getNext();
      if (this.comparator(O2.key, d2[1]) >= 0) return;
      g2(O2.key);
    }
  }
  forEachWhile(d2, g2) {
    let _2;
    for (_2 = void 0 !== g2 ? this.data.getIteratorFrom(g2) : this.data.getIterator(); _2.hasNext(); ) if (!d2(_2.getNext().key)) return;
  }
  firstAfterOrEqual(d2) {
    const g2 = this.data.getIteratorFrom(d2);
    return g2.hasNext() ? g2.getNext().key : null;
  }
  getIterator() {
    return new SortedSetIterator(this.data.getIterator());
  }
  getIteratorFrom(d2) {
    return new SortedSetIterator(this.data.getIteratorFrom(d2));
  }
  add(d2) {
    return this.copy(this.data.remove(d2).insert(d2, true));
  }
  delete(d2) {
    return this.has(d2) ? this.copy(this.data.remove(d2)) : this;
  }
  isEmpty() {
    return this.data.isEmpty();
  }
  unionWith(d2) {
    let g2 = this;
    return g2.size < d2.size && (g2 = d2, d2 = this), d2.forEach((d3) => {
      g2 = g2.add(d3);
    }), g2;
  }
  isEqual(d2) {
    if (!(d2 instanceof SortedSet)) return false;
    if (this.size !== d2.size) return false;
    const g2 = this.data.getIterator(), _2 = d2.data.getIterator();
    for (; g2.hasNext(); ) {
      const d3 = g2.getNext().key, O2 = _2.getNext().key;
      if (0 !== this.comparator(d3, O2)) return false;
    }
    return true;
  }
  toArray() {
    const d2 = [];
    return this.forEach((g2) => {
      d2.push(g2);
    }), d2;
  }
  toString() {
    const d2 = [];
    return this.forEach((g2) => d2.push(g2)), "SortedSet(" + d2.toString() + ")";
  }
  copy(d2) {
    const g2 = new SortedSet(this.comparator);
    return g2.data = d2, g2;
  }
}
class SortedSetIterator {
  constructor(d2) {
    this.iter = d2;
  }
  getNext() {
    return this.iter.getNext().key;
  }
  hasNext() {
    return this.iter.hasNext();
  }
}
class FieldMask {
  constructor(d2) {
    this.fields = d2, d2.sort(FieldPath$1.comparator);
  }
  static empty() {
    return new FieldMask([]);
  }
  unionWith(d2) {
    let g2 = new SortedSet(FieldPath$1.comparator);
    for (const d3 of this.fields) g2 = g2.add(d3);
    for (const _2 of d2) g2 = g2.add(_2);
    return new FieldMask(g2.toArray());
  }
  covers(d2) {
    for (const g2 of this.fields) if (g2.isPrefixOf(d2)) return true;
    return false;
  }
  isEqual(d2) {
    return __PRIVATE_arrayEquals(this.fields, d2.fields, (d3, g2) => d3.isEqual(g2));
  }
}
class __PRIVATE_Base64DecodeError extends Error {
  constructor() {
    super(...arguments), this.name = "Base64DecodeError";
  }
}
class ByteString {
  constructor(d2) {
    this.binaryString = d2;
  }
  static fromBase64String(d2) {
    const g2 = function __PRIVATE_decodeBase64(d3) {
      try {
        return atob(d3);
      } catch (d4) {
        throw "undefined" != typeof DOMException && d4 instanceof DOMException ? new __PRIVATE_Base64DecodeError("Invalid base64 string: " + d4) : d4;
      }
    }(d2);
    return new ByteString(g2);
  }
  static fromUint8Array(d2) {
    const g2 = function __PRIVATE_binaryStringFromUint8Array(d3) {
      let g3 = "";
      for (let _2 = 0; _2 < d3.length; ++_2) g3 += String.fromCharCode(d3[_2]);
      return g3;
    }(d2);
    return new ByteString(g2);
  }
  [Symbol.iterator]() {
    let d2 = 0;
    return { next: () => d2 < this.binaryString.length ? { value: this.binaryString.charCodeAt(d2++), done: false } : { value: void 0, done: true } };
  }
  toBase64() {
    return function __PRIVATE_encodeBase64(d2) {
      return btoa(d2);
    }(this.binaryString);
  }
  toUint8Array() {
    return function __PRIVATE_uint8ArrayFromBinaryString(d2) {
      const g2 = new Uint8Array(d2.length);
      for (let _2 = 0; _2 < d2.length; _2++) g2[_2] = d2.charCodeAt(_2);
      return g2;
    }(this.binaryString);
  }
  approximateByteSize() {
    return 2 * this.binaryString.length;
  }
  compareTo(d2) {
    return __PRIVATE_primitiveComparator(this.binaryString, d2.binaryString);
  }
  isEqual(d2) {
    return this.binaryString === d2.binaryString;
  }
}
ByteString.EMPTY_BYTE_STRING = new ByteString("");
const D_ = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
function __PRIVATE_normalizeTimestamp(d2) {
  if (__PRIVATE_hardAssert(!!d2, 39018), "string" == typeof d2) {
    let g2 = 0;
    const _2 = D_.exec(d2);
    if (__PRIVATE_hardAssert(!!_2, 46558, { timestamp: d2 }), _2[1]) {
      let d3 = _2[1];
      d3 = (d3 + "000000000").substr(0, 9), g2 = Number(d3);
    }
    const O2 = new Date(d2);
    return { seconds: Math.floor(O2.getTime() / 1e3), nanos: g2 };
  }
  return { seconds: __PRIVATE_normalizeNumber(d2.seconds), nanos: __PRIVATE_normalizeNumber(d2.nanos) };
}
function __PRIVATE_normalizeNumber(d2) {
  return "number" == typeof d2 ? d2 : "string" == typeof d2 ? Number(d2) : 0;
}
function __PRIVATE_normalizeByteString(d2) {
  return "string" == typeof d2 ? ByteString.fromBase64String(d2) : ByteString.fromUint8Array(d2);
}
const O_ = "server_timestamp", L_ = "__type__", N_ = "__previous_value__", $_ = "__local_write_time__";
function __PRIVATE_isServerTimestamp(d2) {
  var g2, _2;
  return (null === (_2 = ((null === (g2 = null == d2 ? void 0 : d2.mapValue) || void 0 === g2 ? void 0 : g2.fields) || {})[L_]) || void 0 === _2 ? void 0 : _2.stringValue) === O_;
}
function __PRIVATE_getPreviousValue(d2) {
  const g2 = d2.mapValue.fields[N_];
  return __PRIVATE_isServerTimestamp(g2) ? __PRIVATE_getPreviousValue(g2) : g2;
}
function __PRIVATE_getLocalWriteTime(d2) {
  const g2 = __PRIVATE_normalizeTimestamp(d2.mapValue.fields[$_].timestampValue);
  return new Timestamp(g2.seconds, g2.nanos);
}
class DatabaseInfo {
  constructor(d2, g2, _2, O2, $2, st2, ot2, lt2, ct2, ut2) {
    this.databaseId = d2, this.appId = g2, this.persistenceKey = _2, this.host = O2, this.ssl = $2, this.forceLongPolling = st2, this.autoDetectLongPolling = ot2, this.longPollingOptions = lt2, this.useFetchStreams = ct2, this.isUsingEmulator = ut2;
  }
}
const F_ = "(default)";
class DatabaseId {
  constructor(d2, g2) {
    this.projectId = d2, this.database = g2 || F_;
  }
  static empty() {
    return new DatabaseId("", "");
  }
  get isDefaultDatabase() {
    return this.database === F_;
  }
  isEqual(d2) {
    return d2 instanceof DatabaseId && d2.projectId === this.projectId && d2.database === this.database;
  }
}
const z_ = "__type__", B_ = "__max__", U_ = { mapValue: { fields: { __type__: { stringValue: B_ } } } }, W_ = "__vector__", j_ = "value";
function __PRIVATE_typeOrder(d2) {
  return "nullValue" in d2 ? 0 : "booleanValue" in d2 ? 1 : "integerValue" in d2 || "doubleValue" in d2 ? 2 : "timestampValue" in d2 ? 3 : "stringValue" in d2 ? 5 : "bytesValue" in d2 ? 6 : "referenceValue" in d2 ? 7 : "geoPointValue" in d2 ? 8 : "arrayValue" in d2 ? 9 : "mapValue" in d2 ? __PRIVATE_isServerTimestamp(d2) ? 4 : function __PRIVATE_isMaxValue(d3) {
    return (((d3.mapValue || {}).fields || {}).__type__ || {}).stringValue === B_;
  }(d2) ? 9007199254740991 : function __PRIVATE_isVectorValue(d3) {
    var g2, _2;
    return (null === (_2 = ((null === (g2 = null == d3 ? void 0 : d3.mapValue) || void 0 === g2 ? void 0 : g2.fields) || {})[z_]) || void 0 === _2 ? void 0 : _2.stringValue) === W_;
  }(d2) ? 10 : 11 : fail(28295, { value: d2 });
}
function __PRIVATE_valueEquals(d2, g2) {
  if (d2 === g2) return true;
  const _2 = __PRIVATE_typeOrder(d2);
  if (_2 !== __PRIVATE_typeOrder(g2)) return false;
  switch (_2) {
    case 0:
    case 9007199254740991:
      return true;
    case 1:
      return d2.booleanValue === g2.booleanValue;
    case 4:
      return __PRIVATE_getLocalWriteTime(d2).isEqual(__PRIVATE_getLocalWriteTime(g2));
    case 3:
      return function __PRIVATE_timestampEquals(d3, g3) {
        if ("string" == typeof d3.timestampValue && "string" == typeof g3.timestampValue && d3.timestampValue.length === g3.timestampValue.length) return d3.timestampValue === g3.timestampValue;
        const _3 = __PRIVATE_normalizeTimestamp(d3.timestampValue), O2 = __PRIVATE_normalizeTimestamp(g3.timestampValue);
        return _3.seconds === O2.seconds && _3.nanos === O2.nanos;
      }(d2, g2);
    case 5:
      return d2.stringValue === g2.stringValue;
    case 6:
      return function __PRIVATE_blobEquals(d3, g3) {
        return __PRIVATE_normalizeByteString(d3.bytesValue).isEqual(__PRIVATE_normalizeByteString(g3.bytesValue));
      }(d2, g2);
    case 7:
      return d2.referenceValue === g2.referenceValue;
    case 8:
      return function __PRIVATE_geoPointEquals(d3, g3) {
        return __PRIVATE_normalizeNumber(d3.geoPointValue.latitude) === __PRIVATE_normalizeNumber(g3.geoPointValue.latitude) && __PRIVATE_normalizeNumber(d3.geoPointValue.longitude) === __PRIVATE_normalizeNumber(g3.geoPointValue.longitude);
      }(d2, g2);
    case 2:
      return function __PRIVATE_numberEquals(d3, g3) {
        if ("integerValue" in d3 && "integerValue" in g3) return __PRIVATE_normalizeNumber(d3.integerValue) === __PRIVATE_normalizeNumber(g3.integerValue);
        if ("doubleValue" in d3 && "doubleValue" in g3) {
          const _3 = __PRIVATE_normalizeNumber(d3.doubleValue), O2 = __PRIVATE_normalizeNumber(g3.doubleValue);
          return _3 === O2 ? __PRIVATE_isNegativeZero(_3) === __PRIVATE_isNegativeZero(O2) : isNaN(_3) && isNaN(O2);
        }
        return false;
      }(d2, g2);
    case 9:
      return __PRIVATE_arrayEquals(d2.arrayValue.values || [], g2.arrayValue.values || [], __PRIVATE_valueEquals);
    case 10:
    case 11:
      return function __PRIVATE_objectEquals(d3, g3) {
        const _3 = d3.mapValue.fields || {}, O2 = g3.mapValue.fields || {};
        if (__PRIVATE_objectSize(_3) !== __PRIVATE_objectSize(O2)) return false;
        for (const d4 in _3) if (_3.hasOwnProperty(d4) && (void 0 === O2[d4] || !__PRIVATE_valueEquals(_3[d4], O2[d4]))) return false;
        return true;
      }(d2, g2);
    default:
      return fail(52216, { left: d2 });
  }
}
function __PRIVATE_arrayValueContains(d2, g2) {
  return void 0 !== (d2.values || []).find((d3) => __PRIVATE_valueEquals(d3, g2));
}
function __PRIVATE_valueCompare(d2, g2) {
  if (d2 === g2) return 0;
  const _2 = __PRIVATE_typeOrder(d2), O2 = __PRIVATE_typeOrder(g2);
  if (_2 !== O2) return __PRIVATE_primitiveComparator(_2, O2);
  switch (_2) {
    case 0:
    case 9007199254740991:
      return 0;
    case 1:
      return __PRIVATE_primitiveComparator(d2.booleanValue, g2.booleanValue);
    case 2:
      return function __PRIVATE_compareNumbers(d3, g3) {
        const _3 = __PRIVATE_normalizeNumber(d3.integerValue || d3.doubleValue), O3 = __PRIVATE_normalizeNumber(g3.integerValue || g3.doubleValue);
        return _3 < O3 ? -1 : _3 > O3 ? 1 : _3 === O3 ? 0 : isNaN(_3) ? isNaN(O3) ? 0 : -1 : 1;
      }(d2, g2);
    case 3:
      return __PRIVATE_compareTimestamps(d2.timestampValue, g2.timestampValue);
    case 4:
      return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(d2), __PRIVATE_getLocalWriteTime(g2));
    case 5:
      return __PRIVATE_compareUtf8Strings(d2.stringValue, g2.stringValue);
    case 6:
      return function __PRIVATE_compareBlobs(d3, g3) {
        const _3 = __PRIVATE_normalizeByteString(d3), O3 = __PRIVATE_normalizeByteString(g3);
        return _3.compareTo(O3);
      }(d2.bytesValue, g2.bytesValue);
    case 7:
      return function __PRIVATE_compareReferences(d3, g3) {
        const _3 = d3.split("/"), O3 = g3.split("/");
        for (let d4 = 0; d4 < _3.length && d4 < O3.length; d4++) {
          const g4 = __PRIVATE_primitiveComparator(_3[d4], O3[d4]);
          if (0 !== g4) return g4;
        }
        return __PRIVATE_primitiveComparator(_3.length, O3.length);
      }(d2.referenceValue, g2.referenceValue);
    case 8:
      return function __PRIVATE_compareGeoPoints(d3, g3) {
        const _3 = __PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(d3.latitude), __PRIVATE_normalizeNumber(g3.latitude));
        return 0 !== _3 ? _3 : __PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(d3.longitude), __PRIVATE_normalizeNumber(g3.longitude));
      }(d2.geoPointValue, g2.geoPointValue);
    case 9:
      return __PRIVATE_compareArrays(d2.arrayValue, g2.arrayValue);
    case 10:
      return function __PRIVATE_compareVectors(d3, g3) {
        var _3, O3, $2, st2;
        const ot2 = d3.fields || {}, lt2 = g3.fields || {}, ct2 = null === (_3 = ot2[j_]) || void 0 === _3 ? void 0 : _3.arrayValue, ut2 = null === (O3 = lt2[j_]) || void 0 === O3 ? void 0 : O3.arrayValue, gt2 = __PRIVATE_primitiveComparator((null === ($2 = null == ct2 ? void 0 : ct2.values) || void 0 === $2 ? void 0 : $2.length) || 0, (null === (st2 = null == ut2 ? void 0 : ut2.values) || void 0 === st2 ? void 0 : st2.length) || 0);
        return 0 !== gt2 ? gt2 : __PRIVATE_compareArrays(ct2, ut2);
      }(d2.mapValue, g2.mapValue);
    case 11:
      return function __PRIVATE_compareMaps(d3, g3) {
        if (d3 === U_.mapValue && g3 === U_.mapValue) return 0;
        if (d3 === U_.mapValue) return 1;
        if (g3 === U_.mapValue) return -1;
        const _3 = d3.fields || {}, O3 = Object.keys(_3), $2 = g3.fields || {}, st2 = Object.keys($2);
        O3.sort(), st2.sort();
        for (let d4 = 0; d4 < O3.length && d4 < st2.length; ++d4) {
          const g4 = __PRIVATE_compareUtf8Strings(O3[d4], st2[d4]);
          if (0 !== g4) return g4;
          const ot2 = __PRIVATE_valueCompare(_3[O3[d4]], $2[st2[d4]]);
          if (0 !== ot2) return ot2;
        }
        return __PRIVATE_primitiveComparator(O3.length, st2.length);
      }(d2.mapValue, g2.mapValue);
    default:
      throw fail(23264, { Pe: _2 });
  }
}
function __PRIVATE_compareTimestamps(d2, g2) {
  if ("string" == typeof d2 && "string" == typeof g2 && d2.length === g2.length) return __PRIVATE_primitiveComparator(d2, g2);
  const _2 = __PRIVATE_normalizeTimestamp(d2), O2 = __PRIVATE_normalizeTimestamp(g2), $2 = __PRIVATE_primitiveComparator(_2.seconds, O2.seconds);
  return 0 !== $2 ? $2 : __PRIVATE_primitiveComparator(_2.nanos, O2.nanos);
}
function __PRIVATE_compareArrays(d2, g2) {
  const _2 = d2.values || [], O2 = g2.values || [];
  for (let d3 = 0; d3 < _2.length && d3 < O2.length; ++d3) {
    const g3 = __PRIVATE_valueCompare(_2[d3], O2[d3]);
    if (g3) return g3;
  }
  return __PRIVATE_primitiveComparator(_2.length, O2.length);
}
function canonicalId(d2) {
  return __PRIVATE_canonifyValue(d2);
}
function __PRIVATE_canonifyValue(d2) {
  return "nullValue" in d2 ? "null" : "booleanValue" in d2 ? "" + d2.booleanValue : "integerValue" in d2 ? "" + d2.integerValue : "doubleValue" in d2 ? "" + d2.doubleValue : "timestampValue" in d2 ? function __PRIVATE_canonifyTimestamp(d3) {
    const g2 = __PRIVATE_normalizeTimestamp(d3);
    return `time(${g2.seconds},${g2.nanos})`;
  }(d2.timestampValue) : "stringValue" in d2 ? d2.stringValue : "bytesValue" in d2 ? function __PRIVATE_canonifyByteString(d3) {
    return __PRIVATE_normalizeByteString(d3).toBase64();
  }(d2.bytesValue) : "referenceValue" in d2 ? function __PRIVATE_canonifyReference(d3) {
    return DocumentKey.fromName(d3).toString();
  }(d2.referenceValue) : "geoPointValue" in d2 ? function __PRIVATE_canonifyGeoPoint(d3) {
    return `geo(${d3.latitude},${d3.longitude})`;
  }(d2.geoPointValue) : "arrayValue" in d2 ? function __PRIVATE_canonifyArray(d3) {
    let g2 = "[", _2 = true;
    for (const O2 of d3.values || []) _2 ? _2 = false : g2 += ",", g2 += __PRIVATE_canonifyValue(O2);
    return g2 + "]";
  }(d2.arrayValue) : "mapValue" in d2 ? function __PRIVATE_canonifyMap(d3) {
    const g2 = Object.keys(d3.fields || {}).sort();
    let _2 = "{", O2 = true;
    for (const $2 of g2) O2 ? O2 = false : _2 += ",", _2 += `${$2}:${__PRIVATE_canonifyValue(d3.fields[$2])}`;
    return _2 + "}";
  }(d2.mapValue) : fail(61005, { value: d2 });
}
function __PRIVATE_estimateByteSize(d2) {
  switch (__PRIVATE_typeOrder(d2)) {
    case 0:
    case 1:
      return 4;
    case 2:
      return 8;
    case 3:
    case 8:
      return 16;
    case 4:
      const g2 = __PRIVATE_getPreviousValue(d2);
      return g2 ? 16 + __PRIVATE_estimateByteSize(g2) : 16;
    case 5:
      return 2 * d2.stringValue.length;
    case 6:
      return __PRIVATE_normalizeByteString(d2.bytesValue).approximateByteSize();
    case 7:
      return d2.referenceValue.length;
    case 9:
      return function __PRIVATE_estimateArrayByteSize(d3) {
        return (d3.values || []).reduce((d4, g3) => d4 + __PRIVATE_estimateByteSize(g3), 0);
      }(d2.arrayValue);
    case 10:
    case 11:
      return function __PRIVATE_estimateMapByteSize(d3) {
        let g3 = 0;
        return forEach(d3.fields, (d4, _2) => {
          g3 += d4.length + __PRIVATE_estimateByteSize(_2);
        }), g3;
      }(d2.mapValue);
    default:
      throw fail(13486, { value: d2 });
  }
}
function isInteger(d2) {
  return !!d2 && "integerValue" in d2;
}
function isArray(d2) {
  return !!d2 && "arrayValue" in d2;
}
function __PRIVATE_isNullValue(d2) {
  return !!d2 && "nullValue" in d2;
}
function __PRIVATE_isNanValue(d2) {
  return !!d2 && "doubleValue" in d2 && isNaN(Number(d2.doubleValue));
}
function __PRIVATE_isMapValue(d2) {
  return !!d2 && "mapValue" in d2;
}
function __PRIVATE_deepClone(d2) {
  if (d2.geoPointValue) return { geoPointValue: Object.assign({}, d2.geoPointValue) };
  if (d2.timestampValue && "object" == typeof d2.timestampValue) return { timestampValue: Object.assign({}, d2.timestampValue) };
  if (d2.mapValue) {
    const g2 = { mapValue: { fields: {} } };
    return forEach(d2.mapValue.fields, (d3, _2) => g2.mapValue.fields[d3] = __PRIVATE_deepClone(_2)), g2;
  }
  if (d2.arrayValue) {
    const g2 = { arrayValue: { values: [] } };
    for (let _2 = 0; _2 < (d2.arrayValue.values || []).length; ++_2) g2.arrayValue.values[_2] = __PRIVATE_deepClone(d2.arrayValue.values[_2]);
    return g2;
  }
  return Object.assign({}, d2);
}
class ObjectValue {
  constructor(d2) {
    this.value = d2;
  }
  static empty() {
    return new ObjectValue({ mapValue: {} });
  }
  field(d2) {
    if (d2.isEmpty()) return this.value;
    {
      let g2 = this.value;
      for (let _2 = 0; _2 < d2.length - 1; ++_2) if (g2 = (g2.mapValue.fields || {})[d2.get(_2)], !__PRIVATE_isMapValue(g2)) return null;
      return g2 = (g2.mapValue.fields || {})[d2.lastSegment()], g2 || null;
    }
  }
  set(d2, g2) {
    this.getFieldsMap(d2.popLast())[d2.lastSegment()] = __PRIVATE_deepClone(g2);
  }
  setAll(d2) {
    let g2 = FieldPath$1.emptyPath(), _2 = {}, O2 = [];
    d2.forEach((d3, $3) => {
      if (!g2.isImmediateParentOf($3)) {
        const d4 = this.getFieldsMap(g2);
        this.applyChanges(d4, _2, O2), _2 = {}, O2 = [], g2 = $3.popLast();
      }
      d3 ? _2[$3.lastSegment()] = __PRIVATE_deepClone(d3) : O2.push($3.lastSegment());
    });
    const $2 = this.getFieldsMap(g2);
    this.applyChanges($2, _2, O2);
  }
  delete(d2) {
    const g2 = this.field(d2.popLast());
    __PRIVATE_isMapValue(g2) && g2.mapValue.fields && delete g2.mapValue.fields[d2.lastSegment()];
  }
  isEqual(d2) {
    return __PRIVATE_valueEquals(this.value, d2.value);
  }
  getFieldsMap(d2) {
    let g2 = this.value;
    g2.mapValue.fields || (g2.mapValue = { fields: {} });
    for (let _2 = 0; _2 < d2.length; ++_2) {
      let O2 = g2.mapValue.fields[d2.get(_2)];
      __PRIVATE_isMapValue(O2) && O2.mapValue.fields || (O2 = { mapValue: { fields: {} } }, g2.mapValue.fields[d2.get(_2)] = O2), g2 = O2;
    }
    return g2.mapValue.fields;
  }
  applyChanges(d2, g2, _2) {
    forEach(g2, (g3, _3) => d2[g3] = _3);
    for (const g3 of _2) delete d2[g3];
  }
  clone() {
    return new ObjectValue(__PRIVATE_deepClone(this.value));
  }
}
class MutableDocument {
  constructor(d2, g2, _2, O2, $2, st2, ot2) {
    this.key = d2, this.documentType = g2, this.version = _2, this.readTime = O2, this.createTime = $2, this.data = st2, this.documentState = ot2;
  }
  static newInvalidDocument(d2) {
    return new MutableDocument(d2, 0, SnapshotVersion.min(), SnapshotVersion.min(), SnapshotVersion.min(), ObjectValue.empty(), 0);
  }
  static newFoundDocument(d2, g2, _2, O2) {
    return new MutableDocument(d2, 1, g2, SnapshotVersion.min(), _2, O2, 0);
  }
  static newNoDocument(d2, g2) {
    return new MutableDocument(d2, 2, g2, SnapshotVersion.min(), SnapshotVersion.min(), ObjectValue.empty(), 0);
  }
  static newUnknownDocument(d2, g2) {
    return new MutableDocument(d2, 3, g2, SnapshotVersion.min(), SnapshotVersion.min(), ObjectValue.empty(), 2);
  }
  convertToFoundDocument(d2, g2) {
    return !this.createTime.isEqual(SnapshotVersion.min()) || 2 !== this.documentType && 0 !== this.documentType || (this.createTime = d2), this.version = d2, this.documentType = 1, this.data = g2, this.documentState = 0, this;
  }
  convertToNoDocument(d2) {
    return this.version = d2, this.documentType = 2, this.data = ObjectValue.empty(), this.documentState = 0, this;
  }
  convertToUnknownDocument(d2) {
    return this.version = d2, this.documentType = 3, this.data = ObjectValue.empty(), this.documentState = 2, this;
  }
  setHasCommittedMutations() {
    return this.documentState = 2, this;
  }
  setHasLocalMutations() {
    return this.documentState = 1, this.version = SnapshotVersion.min(), this;
  }
  setReadTime(d2) {
    return this.readTime = d2, this;
  }
  get hasLocalMutations() {
    return 1 === this.documentState;
  }
  get hasCommittedMutations() {
    return 2 === this.documentState;
  }
  get hasPendingWrites() {
    return this.hasLocalMutations || this.hasCommittedMutations;
  }
  isValidDocument() {
    return 0 !== this.documentType;
  }
  isFoundDocument() {
    return 1 === this.documentType;
  }
  isNoDocument() {
    return 2 === this.documentType;
  }
  isUnknownDocument() {
    return 3 === this.documentType;
  }
  isEqual(d2) {
    return d2 instanceof MutableDocument && this.key.isEqual(d2.key) && this.version.isEqual(d2.version) && this.documentType === d2.documentType && this.documentState === d2.documentState && this.data.isEqual(d2.data);
  }
  mutableCopy() {
    return new MutableDocument(this.key, this.documentType, this.version, this.readTime, this.createTime, this.data.clone(), this.documentState);
  }
  toString() {
    return `Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`;
  }
}
class Bound {
  constructor(d2, g2) {
    this.position = d2, this.inclusive = g2;
  }
}
function __PRIVATE_boundCompareToDocument(d2, g2, _2) {
  let O2 = 0;
  for (let $2 = 0; $2 < d2.position.length; $2++) {
    const st2 = g2[$2], ot2 = d2.position[$2];
    if (O2 = st2.field.isKeyField() ? DocumentKey.comparator(DocumentKey.fromName(ot2.referenceValue), _2.key) : __PRIVATE_valueCompare(ot2, _2.data.field(st2.field)), "desc" === st2.dir && (O2 *= -1), 0 !== O2) break;
  }
  return O2;
}
function __PRIVATE_boundEquals(d2, g2) {
  if (null === d2) return null === g2;
  if (null === g2) return false;
  if (d2.inclusive !== g2.inclusive || d2.position.length !== g2.position.length) return false;
  for (let _2 = 0; _2 < d2.position.length; _2++) if (!__PRIVATE_valueEquals(d2.position[_2], g2.position[_2])) return false;
  return true;
}
class OrderBy {
  constructor(d2, g2 = "asc") {
    this.field = d2, this.dir = g2;
  }
}
function __PRIVATE_orderByEquals(d2, g2) {
  return d2.dir === g2.dir && d2.field.isEqual(g2.field);
}
class Filter {
}
class FieldFilter extends Filter {
  constructor(d2, g2, _2) {
    super(), this.field = d2, this.op = g2, this.value = _2;
  }
  static create(d2, g2, _2) {
    return d2.isKeyField() ? "in" === g2 || "not-in" === g2 ? this.createKeyFieldInFilter(d2, g2, _2) : new __PRIVATE_KeyFieldFilter(d2, g2, _2) : "array-contains" === g2 ? new __PRIVATE_ArrayContainsFilter(d2, _2) : "in" === g2 ? new __PRIVATE_InFilter(d2, _2) : "not-in" === g2 ? new __PRIVATE_NotInFilter(d2, _2) : "array-contains-any" === g2 ? new __PRIVATE_ArrayContainsAnyFilter(d2, _2) : new FieldFilter(d2, g2, _2);
  }
  static createKeyFieldInFilter(d2, g2, _2) {
    return "in" === g2 ? new __PRIVATE_KeyFieldInFilter(d2, _2) : new __PRIVATE_KeyFieldNotInFilter(d2, _2);
  }
  matches(d2) {
    const g2 = d2.data.field(this.field);
    return "!=" === this.op ? null !== g2 && void 0 === g2.nullValue && this.matchesComparison(__PRIVATE_valueCompare(g2, this.value)) : null !== g2 && __PRIVATE_typeOrder(this.value) === __PRIVATE_typeOrder(g2) && this.matchesComparison(__PRIVATE_valueCompare(g2, this.value));
  }
  matchesComparison(d2) {
    switch (this.op) {
      case "<":
        return d2 < 0;
      case "<=":
        return d2 <= 0;
      case "==":
        return 0 === d2;
      case "!=":
        return 0 !== d2;
      case ">":
        return d2 > 0;
      case ">=":
        return d2 >= 0;
      default:
        return fail(47266, { operator: this.op });
    }
  }
  isInequality() {
    return ["<", "<=", ">", ">=", "!=", "not-in"].indexOf(this.op) >= 0;
  }
  getFlattenedFilters() {
    return [this];
  }
  getFilters() {
    return [this];
  }
}
class CompositeFilter extends Filter {
  constructor(d2, g2) {
    super(), this.filters = d2, this.op = g2, this.Te = null;
  }
  static create(d2, g2) {
    return new CompositeFilter(d2, g2);
  }
  matches(d2) {
    return __PRIVATE_compositeFilterIsConjunction(this) ? void 0 === this.filters.find((g2) => !g2.matches(d2)) : void 0 !== this.filters.find((g2) => g2.matches(d2));
  }
  getFlattenedFilters() {
    return null !== this.Te || (this.Te = this.filters.reduce((d2, g2) => d2.concat(g2.getFlattenedFilters()), [])), this.Te;
  }
  getFilters() {
    return Object.assign([], this.filters);
  }
}
function __PRIVATE_compositeFilterIsConjunction(d2) {
  return "and" === d2.op;
}
function __PRIVATE_compositeFilterIsFlatConjunction(d2) {
  return function __PRIVATE_compositeFilterIsFlat(d3) {
    for (const g2 of d3.filters) if (g2 instanceof CompositeFilter) return false;
    return true;
  }(d2) && __PRIVATE_compositeFilterIsConjunction(d2);
}
function __PRIVATE_canonifyFilter(d2) {
  if (d2 instanceof FieldFilter) return d2.field.canonicalString() + d2.op.toString() + canonicalId(d2.value);
  if (__PRIVATE_compositeFilterIsFlatConjunction(d2)) return d2.filters.map((d3) => __PRIVATE_canonifyFilter(d3)).join(",");
  {
    const g2 = d2.filters.map((d3) => __PRIVATE_canonifyFilter(d3)).join(",");
    return `${d2.op}(${g2})`;
  }
}
function __PRIVATE_filterEquals(d2, g2) {
  return d2 instanceof FieldFilter ? function __PRIVATE_fieldFilterEquals(d3, g3) {
    return g3 instanceof FieldFilter && d3.op === g3.op && d3.field.isEqual(g3.field) && __PRIVATE_valueEquals(d3.value, g3.value);
  }(d2, g2) : d2 instanceof CompositeFilter ? function __PRIVATE_compositeFilterEquals(d3, g3) {
    return g3 instanceof CompositeFilter && d3.op === g3.op && d3.filters.length === g3.filters.length && d3.filters.reduce((d4, _2, O2) => d4 && __PRIVATE_filterEquals(_2, g3.filters[O2]), true);
  }(d2, g2) : void fail(19439);
}
function __PRIVATE_stringifyFilter(d2) {
  return d2 instanceof FieldFilter ? function __PRIVATE_stringifyFieldFilter(d3) {
    return `${d3.field.canonicalString()} ${d3.op} ${canonicalId(d3.value)}`;
  }(d2) : d2 instanceof CompositeFilter ? function __PRIVATE_stringifyCompositeFilter(d3) {
    return d3.op.toString() + " {" + d3.getFilters().map(__PRIVATE_stringifyFilter).join(" ,") + "}";
  }(d2) : "Filter";
}
class __PRIVATE_KeyFieldFilter extends FieldFilter {
  constructor(d2, g2, _2) {
    super(d2, g2, _2), this.key = DocumentKey.fromName(_2.referenceValue);
  }
  matches(d2) {
    const g2 = DocumentKey.comparator(d2.key, this.key);
    return this.matchesComparison(g2);
  }
}
class __PRIVATE_KeyFieldInFilter extends FieldFilter {
  constructor(d2, g2) {
    super(d2, "in", g2), this.keys = __PRIVATE_extractDocumentKeysFromArrayValue("in", g2);
  }
  matches(d2) {
    return this.keys.some((g2) => g2.isEqual(d2.key));
  }
}
class __PRIVATE_KeyFieldNotInFilter extends FieldFilter {
  constructor(d2, g2) {
    super(d2, "not-in", g2), this.keys = __PRIVATE_extractDocumentKeysFromArrayValue("not-in", g2);
  }
  matches(d2) {
    return !this.keys.some((g2) => g2.isEqual(d2.key));
  }
}
function __PRIVATE_extractDocumentKeysFromArrayValue(d2, g2) {
  var _2;
  return ((null === (_2 = g2.arrayValue) || void 0 === _2 ? void 0 : _2.values) || []).map((d3) => DocumentKey.fromName(d3.referenceValue));
}
class __PRIVATE_ArrayContainsFilter extends FieldFilter {
  constructor(d2, g2) {
    super(d2, "array-contains", g2);
  }
  matches(d2) {
    const g2 = d2.data.field(this.field);
    return isArray(g2) && __PRIVATE_arrayValueContains(g2.arrayValue, this.value);
  }
}
class __PRIVATE_InFilter extends FieldFilter {
  constructor(d2, g2) {
    super(d2, "in", g2);
  }
  matches(d2) {
    const g2 = d2.data.field(this.field);
    return null !== g2 && __PRIVATE_arrayValueContains(this.value.arrayValue, g2);
  }
}
class __PRIVATE_NotInFilter extends FieldFilter {
  constructor(d2, g2) {
    super(d2, "not-in", g2);
  }
  matches(d2) {
    if (__PRIVATE_arrayValueContains(this.value.arrayValue, { nullValue: "NULL_VALUE" })) return false;
    const g2 = d2.data.field(this.field);
    return null !== g2 && void 0 === g2.nullValue && !__PRIVATE_arrayValueContains(this.value.arrayValue, g2);
  }
}
class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter {
  constructor(d2, g2) {
    super(d2, "array-contains-any", g2);
  }
  matches(d2) {
    const g2 = d2.data.field(this.field);
    return !(!isArray(g2) || !g2.arrayValue.values) && g2.arrayValue.values.some((d3) => __PRIVATE_arrayValueContains(this.value.arrayValue, d3));
  }
}
class __PRIVATE_TargetImpl {
  constructor(d2, g2 = null, _2 = [], O2 = [], $2 = null, st2 = null, ot2 = null) {
    this.path = d2, this.collectionGroup = g2, this.orderBy = _2, this.filters = O2, this.limit = $2, this.startAt = st2, this.endAt = ot2, this.Ie = null;
  }
}
function __PRIVATE_newTarget(d2, g2 = null, _2 = [], O2 = [], $2 = null, st2 = null, ot2 = null) {
  return new __PRIVATE_TargetImpl(d2, g2, _2, O2, $2, st2, ot2);
}
function __PRIVATE_canonifyTarget(d2) {
  const g2 = __PRIVATE_debugCast(d2);
  if (null === g2.Ie) {
    let d3 = g2.path.canonicalString();
    null !== g2.collectionGroup && (d3 += "|cg:" + g2.collectionGroup), d3 += "|f:", d3 += g2.filters.map((d4) => __PRIVATE_canonifyFilter(d4)).join(","), d3 += "|ob:", d3 += g2.orderBy.map((d4) => function __PRIVATE_canonifyOrderBy(d5) {
      return d5.field.canonicalString() + d5.dir;
    }(d4)).join(","), __PRIVATE_isNullOrUndefined(g2.limit) || (d3 += "|l:", d3 += g2.limit), g2.startAt && (d3 += "|lb:", d3 += g2.startAt.inclusive ? "b:" : "a:", d3 += g2.startAt.position.map((d4) => canonicalId(d4)).join(",")), g2.endAt && (d3 += "|ub:", d3 += g2.endAt.inclusive ? "a:" : "b:", d3 += g2.endAt.position.map((d4) => canonicalId(d4)).join(",")), g2.Ie = d3;
  }
  return g2.Ie;
}
function __PRIVATE_targetEquals(d2, g2) {
  if (d2.limit !== g2.limit) return false;
  if (d2.orderBy.length !== g2.orderBy.length) return false;
  for (let _2 = 0; _2 < d2.orderBy.length; _2++) if (!__PRIVATE_orderByEquals(d2.orderBy[_2], g2.orderBy[_2])) return false;
  if (d2.filters.length !== g2.filters.length) return false;
  for (let _2 = 0; _2 < d2.filters.length; _2++) if (!__PRIVATE_filterEquals(d2.filters[_2], g2.filters[_2])) return false;
  return d2.collectionGroup === g2.collectionGroup && !!d2.path.isEqual(g2.path) && !!__PRIVATE_boundEquals(d2.startAt, g2.startAt) && __PRIVATE_boundEquals(d2.endAt, g2.endAt);
}
function __PRIVATE_targetIsDocumentTarget(d2) {
  return DocumentKey.isDocumentKey(d2.path) && null === d2.collectionGroup && 0 === d2.filters.length;
}
class __PRIVATE_QueryImpl {
  constructor(d2, g2 = null, _2 = [], O2 = [], $2 = null, st2 = "F", ot2 = null, lt2 = null) {
    this.path = d2, this.collectionGroup = g2, this.explicitOrderBy = _2, this.filters = O2, this.limit = $2, this.limitType = st2, this.startAt = ot2, this.endAt = lt2, this.Ee = null, this.de = null, this.Ae = null, this.startAt, this.endAt;
  }
}
function __PRIVATE_newQueryForPath(d2) {
  return new __PRIVATE_QueryImpl(d2);
}
function __PRIVATE_queryMatchesAllDocuments(d2) {
  return 0 === d2.filters.length && null === d2.limit && null == d2.startAt && null == d2.endAt && (0 === d2.explicitOrderBy.length || 1 === d2.explicitOrderBy.length && d2.explicitOrderBy[0].field.isKeyField());
}
function __PRIVATE_queryNormalizedOrderBy(d2) {
  const g2 = __PRIVATE_debugCast(d2);
  if (null === g2.Ee) {
    g2.Ee = [];
    const d3 = /* @__PURE__ */ new Set();
    for (const _3 of g2.explicitOrderBy) g2.Ee.push(_3), d3.add(_3.field.canonicalString());
    const _2 = g2.explicitOrderBy.length > 0 ? g2.explicitOrderBy[g2.explicitOrderBy.length - 1].dir : "asc", O2 = function __PRIVATE_getInequalityFilterFields(d4) {
      let g3 = new SortedSet(FieldPath$1.comparator);
      return d4.filters.forEach((d5) => {
        d5.getFlattenedFilters().forEach((d6) => {
          d6.isInequality() && (g3 = g3.add(d6.field));
        });
      }), g3;
    }(g2);
    O2.forEach((O3) => {
      d3.has(O3.canonicalString()) || O3.isKeyField() || g2.Ee.push(new OrderBy(O3, _2));
    }), d3.has(FieldPath$1.keyField().canonicalString()) || g2.Ee.push(new OrderBy(FieldPath$1.keyField(), _2));
  }
  return g2.Ee;
}
function __PRIVATE_queryToTarget(d2) {
  const g2 = __PRIVATE_debugCast(d2);
  return g2.de || (g2.de = function __PRIVATE__queryToTarget(d3, g3) {
    if ("F" === d3.limitType) return __PRIVATE_newTarget(d3.path, d3.collectionGroup, g3, d3.filters, d3.limit, d3.startAt, d3.endAt);
    {
      g3 = g3.map((d4) => {
        const g4 = "desc" === d4.dir ? "asc" : "desc";
        return new OrderBy(d4.field, g4);
      });
      const _2 = d3.endAt ? new Bound(d3.endAt.position, d3.endAt.inclusive) : null, O2 = d3.startAt ? new Bound(d3.startAt.position, d3.startAt.inclusive) : null;
      return __PRIVATE_newTarget(d3.path, d3.collectionGroup, g3, d3.filters, d3.limit, _2, O2);
    }
  }(g2, __PRIVATE_queryNormalizedOrderBy(d2))), g2.de;
}
function __PRIVATE_queryWithLimit(d2, g2, _2) {
  return new __PRIVATE_QueryImpl(d2.path, d2.collectionGroup, d2.explicitOrderBy.slice(), d2.filters.slice(), g2, _2, d2.startAt, d2.endAt);
}
function __PRIVATE_queryEquals(d2, g2) {
  return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(d2), __PRIVATE_queryToTarget(g2)) && d2.limitType === g2.limitType;
}
function __PRIVATE_canonifyQuery(d2) {
  return `${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(d2))}|lt:${d2.limitType}`;
}
function __PRIVATE_stringifyQuery(d2) {
  return `Query(target=${function __PRIVATE_stringifyTarget(d3) {
    let g2 = d3.path.canonicalString();
    return null !== d3.collectionGroup && (g2 += " collectionGroup=" + d3.collectionGroup), d3.filters.length > 0 && (g2 += `, filters: [${d3.filters.map((d4) => __PRIVATE_stringifyFilter(d4)).join(", ")}]`), __PRIVATE_isNullOrUndefined(d3.limit) || (g2 += ", limit: " + d3.limit), d3.orderBy.length > 0 && (g2 += `, orderBy: [${d3.orderBy.map((d4) => function __PRIVATE_stringifyOrderBy(d5) {
      return `${d5.field.canonicalString()} (${d5.dir})`;
    }(d4)).join(", ")}]`), d3.startAt && (g2 += ", startAt: ", g2 += d3.startAt.inclusive ? "b:" : "a:", g2 += d3.startAt.position.map((d4) => canonicalId(d4)).join(",")), d3.endAt && (g2 += ", endAt: ", g2 += d3.endAt.inclusive ? "a:" : "b:", g2 += d3.endAt.position.map((d4) => canonicalId(d4)).join(",")), `Target(${g2})`;
  }(__PRIVATE_queryToTarget(d2))}; limitType=${d2.limitType})`;
}
function __PRIVATE_queryMatches(d2, g2) {
  return g2.isFoundDocument() && function __PRIVATE_queryMatchesPathAndCollectionGroup(d3, g3) {
    const _2 = g3.key.path;
    return null !== d3.collectionGroup ? g3.key.hasCollectionId(d3.collectionGroup) && d3.path.isPrefixOf(_2) : DocumentKey.isDocumentKey(d3.path) ? d3.path.isEqual(_2) : d3.path.isImmediateParentOf(_2);
  }(d2, g2) && function __PRIVATE_queryMatchesOrderBy(d3, g3) {
    for (const _2 of __PRIVATE_queryNormalizedOrderBy(d3)) if (!_2.field.isKeyField() && null === g3.data.field(_2.field)) return false;
    return true;
  }(d2, g2) && function __PRIVATE_queryMatchesFilters(d3, g3) {
    for (const _2 of d3.filters) if (!_2.matches(g3)) return false;
    return true;
  }(d2, g2) && function __PRIVATE_queryMatchesBounds(d3, g3) {
    return !(d3.startAt && !function __PRIVATE_boundSortsBeforeDocument(d4, g4, _2) {
      const O2 = __PRIVATE_boundCompareToDocument(d4, g4, _2);
      return d4.inclusive ? O2 <= 0 : O2 < 0;
    }(d3.startAt, __PRIVATE_queryNormalizedOrderBy(d3), g3)) && !(d3.endAt && !function __PRIVATE_boundSortsAfterDocument(d4, g4, _2) {
      const O2 = __PRIVATE_boundCompareToDocument(d4, g4, _2);
      return d4.inclusive ? O2 >= 0 : O2 > 0;
    }(d3.endAt, __PRIVATE_queryNormalizedOrderBy(d3), g3));
  }(d2, g2);
}
function __PRIVATE_newQueryComparator(d2) {
  return (g2, _2) => {
    let O2 = false;
    for (const $2 of __PRIVATE_queryNormalizedOrderBy(d2)) {
      const d3 = __PRIVATE_compareDocs($2, g2, _2);
      if (0 !== d3) return d3;
      O2 = O2 || $2.field.isKeyField();
    }
    return 0;
  };
}
function __PRIVATE_compareDocs(d2, g2, _2) {
  const O2 = d2.field.isKeyField() ? DocumentKey.comparator(g2.key, _2.key) : function __PRIVATE_compareDocumentsByField(d3, g3, _3) {
    const O3 = g3.data.field(d3), $2 = _3.data.field(d3);
    return null !== O3 && null !== $2 ? __PRIVATE_valueCompare(O3, $2) : fail(42886);
  }(d2.field, g2, _2);
  switch (d2.dir) {
    case "asc":
      return O2;
    case "desc":
      return -1 * O2;
    default:
      return fail(19790, { direction: d2.dir });
  }
}
class ObjectMap {
  constructor(d2, g2) {
    this.mapKeyFn = d2, this.equalsFn = g2, this.inner = {}, this.innerSize = 0;
  }
  get(d2) {
    const g2 = this.mapKeyFn(d2), _2 = this.inner[g2];
    if (void 0 !== _2) {
      for (const [g3, O2] of _2) if (this.equalsFn(g3, d2)) return O2;
    }
  }
  has(d2) {
    return void 0 !== this.get(d2);
  }
  set(d2, g2) {
    const _2 = this.mapKeyFn(d2), O2 = this.inner[_2];
    if (void 0 === O2) return this.inner[_2] = [[d2, g2]], void this.innerSize++;
    for (let _3 = 0; _3 < O2.length; _3++) if (this.equalsFn(O2[_3][0], d2)) return void (O2[_3] = [d2, g2]);
    O2.push([d2, g2]), this.innerSize++;
  }
  delete(d2) {
    const g2 = this.mapKeyFn(d2), _2 = this.inner[g2];
    if (void 0 === _2) return false;
    for (let O2 = 0; O2 < _2.length; O2++) if (this.equalsFn(_2[O2][0], d2)) return 1 === _2.length ? delete this.inner[g2] : _2.splice(O2, 1), this.innerSize--, true;
    return false;
  }
  forEach(d2) {
    forEach(this.inner, (g2, _2) => {
      for (const [g3, O2] of _2) d2(g3, O2);
    });
  }
  isEmpty() {
    return function isEmpty(d2) {
      for (const g2 in d2) if (Object.prototype.hasOwnProperty.call(d2, g2)) return false;
      return true;
    }(this.inner);
  }
  size() {
    return this.innerSize;
  }
}
const q_ = new SortedMap(DocumentKey.comparator);
function __PRIVATE_mutableDocumentMap() {
  return q_;
}
const H_ = new SortedMap(DocumentKey.comparator);
function documentMap(...d2) {
  let g2 = H_;
  for (const _2 of d2) g2 = g2.insert(_2.key, _2);
  return g2;
}
function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(d2) {
  let g2 = H_;
  return d2.forEach((d3, _2) => g2 = g2.insert(d3, _2.overlayedDocument)), g2;
}
function __PRIVATE_newOverlayMap() {
  return __PRIVATE_newDocumentKeyMap();
}
function __PRIVATE_newMutationMap() {
  return __PRIVATE_newDocumentKeyMap();
}
function __PRIVATE_newDocumentKeyMap() {
  return new ObjectMap((d2) => d2.toString(), (d2, g2) => d2.isEqual(g2));
}
const K_ = new SortedSet(DocumentKey.comparator);
function __PRIVATE_documentKeySet(...d2) {
  let g2 = K_;
  for (const _2 of d2) g2 = g2.add(_2);
  return g2;
}
const G_ = new SortedSet(__PRIVATE_primitiveComparator);
class TransformOperation {
  constructor() {
    this._ = void 0;
  }
}
function __PRIVATE_applyTransformOperationToLocalView(d2, g2, _2) {
  return d2 instanceof __PRIVATE_ServerTimestampTransform ? function serverTimestamp$1(d3, g3) {
    const _3 = { fields: { [L_]: { stringValue: O_ }, [$_]: { timestampValue: { seconds: d3.seconds, nanos: d3.nanoseconds } } } };
    return g3 && __PRIVATE_isServerTimestamp(g3) && (g3 = __PRIVATE_getPreviousValue(g3)), g3 && (_3.fields[N_] = g3), { mapValue: _3 };
  }(_2, g2) : d2 instanceof __PRIVATE_ArrayUnionTransformOperation ? __PRIVATE_applyArrayUnionTransformOperation(d2, g2) : d2 instanceof __PRIVATE_ArrayRemoveTransformOperation ? __PRIVATE_applyArrayRemoveTransformOperation(d2, g2) : function __PRIVATE_applyNumericIncrementTransformOperationToLocalView(d3, g3) {
    const _3 = function __PRIVATE_computeTransformOperationBaseValue(d4, g4) {
      return d4 instanceof __PRIVATE_NumericIncrementTransformOperation ? function __PRIVATE_isNumber(d5) {
        return isInteger(d5) || function __PRIVATE_isDouble(d6) {
          return !!d6 && "doubleValue" in d6;
        }(d5);
      }(g4) ? g4 : { integerValue: 0 } : null;
    }(d3, g3), O2 = asNumber(_3) + asNumber(d3.Re);
    return isInteger(_3) && isInteger(d3.Re) ? function __PRIVATE_toInteger(d4) {
      return { integerValue: "" + d4 };
    }(O2) : function __PRIVATE_toDouble(d4, g4) {
      if (d4.useProto3Json) {
        if (isNaN(g4)) return { doubleValue: "NaN" };
        if (g4 === 1 / 0) return { doubleValue: "Infinity" };
        if (g4 === -1 / 0) return { doubleValue: "-Infinity" };
      }
      return { doubleValue: __PRIVATE_isNegativeZero(g4) ? "-0" : g4 };
    }(d3.serializer, O2);
  }(d2, g2);
}
function __PRIVATE_applyTransformOperationToRemoteDocument(d2, g2, _2) {
  return d2 instanceof __PRIVATE_ArrayUnionTransformOperation ? __PRIVATE_applyArrayUnionTransformOperation(d2, g2) : d2 instanceof __PRIVATE_ArrayRemoveTransformOperation ? __PRIVATE_applyArrayRemoveTransformOperation(d2, g2) : _2;
}
class __PRIVATE_ServerTimestampTransform extends TransformOperation {
}
class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation {
  constructor(d2) {
    super(), this.elements = d2;
  }
}
function __PRIVATE_applyArrayUnionTransformOperation(d2, g2) {
  const _2 = __PRIVATE_coercedFieldValuesArray(g2);
  for (const g3 of d2.elements) _2.some((d3) => __PRIVATE_valueEquals(d3, g3)) || _2.push(g3);
  return { arrayValue: { values: _2 } };
}
class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation {
  constructor(d2) {
    super(), this.elements = d2;
  }
}
function __PRIVATE_applyArrayRemoveTransformOperation(d2, g2) {
  let _2 = __PRIVATE_coercedFieldValuesArray(g2);
  for (const g3 of d2.elements) _2 = _2.filter((d3) => !__PRIVATE_valueEquals(d3, g3));
  return { arrayValue: { values: _2 } };
}
class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation {
  constructor(d2, g2) {
    super(), this.serializer = d2, this.Re = g2;
  }
}
function asNumber(d2) {
  return __PRIVATE_normalizeNumber(d2.integerValue || d2.doubleValue);
}
function __PRIVATE_coercedFieldValuesArray(d2) {
  return isArray(d2) && d2.arrayValue.values ? d2.arrayValue.values.slice() : [];
}
class Precondition {
  constructor(d2, g2) {
    this.updateTime = d2, this.exists = g2;
  }
  static none() {
    return new Precondition();
  }
  static exists(d2) {
    return new Precondition(void 0, d2);
  }
  static updateTime(d2) {
    return new Precondition(d2);
  }
  get isNone() {
    return void 0 === this.updateTime && void 0 === this.exists;
  }
  isEqual(d2) {
    return this.exists === d2.exists && (this.updateTime ? !!d2.updateTime && this.updateTime.isEqual(d2.updateTime) : !d2.updateTime);
  }
}
function __PRIVATE_preconditionIsValidForDocument(d2, g2) {
  return void 0 !== d2.updateTime ? g2.isFoundDocument() && g2.version.isEqual(d2.updateTime) : void 0 === d2.exists || d2.exists === g2.isFoundDocument();
}
class Mutation {
}
function __PRIVATE_calculateOverlayMutation(d2, g2) {
  if (!d2.hasLocalMutations || g2 && 0 === g2.fields.length) return null;
  if (null === g2) return d2.isNoDocument() ? new __PRIVATE_DeleteMutation(d2.key, Precondition.none()) : new __PRIVATE_SetMutation(d2.key, d2.data, Precondition.none());
  {
    const _2 = d2.data, O2 = ObjectValue.empty();
    let $2 = new SortedSet(FieldPath$1.comparator);
    for (let d3 of g2.fields) if (!$2.has(d3)) {
      let g3 = _2.field(d3);
      null === g3 && d3.length > 1 && (d3 = d3.popLast(), g3 = _2.field(d3)), null === g3 ? O2.delete(d3) : O2.set(d3, g3), $2 = $2.add(d3);
    }
    return new __PRIVATE_PatchMutation(d2.key, O2, new FieldMask($2.toArray()), Precondition.none());
  }
}
function __PRIVATE_mutationApplyToRemoteDocument(d2, g2, _2) {
  d2 instanceof __PRIVATE_SetMutation ? function __PRIVATE_setMutationApplyToRemoteDocument(d3, g3, _3) {
    const O2 = d3.value.clone(), $2 = __PRIVATE_serverTransformResults(d3.fieldTransforms, g3, _3.transformResults);
    O2.setAll($2), g3.convertToFoundDocument(_3.version, O2).setHasCommittedMutations();
  }(d2, g2, _2) : d2 instanceof __PRIVATE_PatchMutation ? function __PRIVATE_patchMutationApplyToRemoteDocument(d3, g3, _3) {
    if (!__PRIVATE_preconditionIsValidForDocument(d3.precondition, g3)) return void g3.convertToUnknownDocument(_3.version);
    const O2 = __PRIVATE_serverTransformResults(d3.fieldTransforms, g3, _3.transformResults), $2 = g3.data;
    $2.setAll(__PRIVATE_getPatch(d3)), $2.setAll(O2), g3.convertToFoundDocument(_3.version, $2).setHasCommittedMutations();
  }(d2, g2, _2) : function __PRIVATE_deleteMutationApplyToRemoteDocument(d3, g3, _3) {
    g3.convertToNoDocument(_3.version).setHasCommittedMutations();
  }(0, g2, _2);
}
function __PRIVATE_mutationApplyToLocalView(d2, g2, _2, O2) {
  return d2 instanceof __PRIVATE_SetMutation ? function __PRIVATE_setMutationApplyToLocalView(d3, g3, _3, O3) {
    if (!__PRIVATE_preconditionIsValidForDocument(d3.precondition, g3)) return _3;
    const $2 = d3.value.clone(), st2 = __PRIVATE_localTransformResults(d3.fieldTransforms, O3, g3);
    return $2.setAll(st2), g3.convertToFoundDocument(g3.version, $2).setHasLocalMutations(), null;
  }(d2, g2, _2, O2) : d2 instanceof __PRIVATE_PatchMutation ? function __PRIVATE_patchMutationApplyToLocalView(d3, g3, _3, O3) {
    if (!__PRIVATE_preconditionIsValidForDocument(d3.precondition, g3)) return _3;
    const $2 = __PRIVATE_localTransformResults(d3.fieldTransforms, O3, g3), st2 = g3.data;
    return st2.setAll(__PRIVATE_getPatch(d3)), st2.setAll($2), g3.convertToFoundDocument(g3.version, st2).setHasLocalMutations(), null === _3 ? null : _3.unionWith(d3.fieldMask.fields).unionWith(d3.fieldTransforms.map((d4) => d4.field));
  }(d2, g2, _2, O2) : function __PRIVATE_deleteMutationApplyToLocalView(d3, g3, _3) {
    return __PRIVATE_preconditionIsValidForDocument(d3.precondition, g3) ? (g3.convertToNoDocument(g3.version).setHasLocalMutations(), null) : _3;
  }(d2, g2, _2);
}
function __PRIVATE_mutationEquals(d2, g2) {
  return d2.type === g2.type && !!d2.key.isEqual(g2.key) && !!d2.precondition.isEqual(g2.precondition) && !!function __PRIVATE_fieldTransformsAreEqual(d3, g3) {
    return void 0 === d3 && void 0 === g3 || !(!d3 || !g3) && __PRIVATE_arrayEquals(d3, g3, (d4, g4) => function __PRIVATE_fieldTransformEquals(d5, g5) {
      return d5.field.isEqual(g5.field) && function __PRIVATE_transformOperationEquals(d6, g6) {
        return d6 instanceof __PRIVATE_ArrayUnionTransformOperation && g6 instanceof __PRIVATE_ArrayUnionTransformOperation || d6 instanceof __PRIVATE_ArrayRemoveTransformOperation && g6 instanceof __PRIVATE_ArrayRemoveTransformOperation ? __PRIVATE_arrayEquals(d6.elements, g6.elements, __PRIVATE_valueEquals) : d6 instanceof __PRIVATE_NumericIncrementTransformOperation && g6 instanceof __PRIVATE_NumericIncrementTransformOperation ? __PRIVATE_valueEquals(d6.Re, g6.Re) : d6 instanceof __PRIVATE_ServerTimestampTransform && g6 instanceof __PRIVATE_ServerTimestampTransform;
      }(d5.transform, g5.transform);
    }(d4, g4));
  }(d2.fieldTransforms, g2.fieldTransforms) && (0 === d2.type ? d2.value.isEqual(g2.value) : 1 !== d2.type || d2.data.isEqual(g2.data) && d2.fieldMask.isEqual(g2.fieldMask));
}
class __PRIVATE_SetMutation extends Mutation {
  constructor(d2, g2, _2, O2 = []) {
    super(), this.key = d2, this.value = g2, this.precondition = _2, this.fieldTransforms = O2, this.type = 0;
  }
  getFieldMask() {
    return null;
  }
}
class __PRIVATE_PatchMutation extends Mutation {
  constructor(d2, g2, _2, O2, $2 = []) {
    super(), this.key = d2, this.data = g2, this.fieldMask = _2, this.precondition = O2, this.fieldTransforms = $2, this.type = 1;
  }
  getFieldMask() {
    return this.fieldMask;
  }
}
function __PRIVATE_getPatch(d2) {
  const g2 = /* @__PURE__ */ new Map();
  return d2.fieldMask.fields.forEach((_2) => {
    if (!_2.isEmpty()) {
      const O2 = d2.data.field(_2);
      g2.set(_2, O2);
    }
  }), g2;
}
function __PRIVATE_serverTransformResults(d2, g2, _2) {
  const O2 = /* @__PURE__ */ new Map();
  __PRIVATE_hardAssert(d2.length === _2.length, 32656, { Ve: _2.length, me: d2.length });
  for (let $2 = 0; $2 < _2.length; $2++) {
    const st2 = d2[$2], ot2 = st2.transform, lt2 = g2.data.field(st2.field);
    O2.set(st2.field, __PRIVATE_applyTransformOperationToRemoteDocument(ot2, lt2, _2[$2]));
  }
  return O2;
}
function __PRIVATE_localTransformResults(d2, g2, _2) {
  const O2 = /* @__PURE__ */ new Map();
  for (const $2 of d2) {
    const d3 = $2.transform, st2 = _2.data.field($2.field);
    O2.set($2.field, __PRIVATE_applyTransformOperationToLocalView(d3, st2, g2));
  }
  return O2;
}
class __PRIVATE_DeleteMutation extends Mutation {
  constructor(d2, g2) {
    super(), this.key = d2, this.precondition = g2, this.type = 2, this.fieldTransforms = [];
  }
  getFieldMask() {
    return null;
  }
}
class MutationBatch {
  constructor(d2, g2, _2, O2) {
    this.batchId = d2, this.localWriteTime = g2, this.baseMutations = _2, this.mutations = O2;
  }
  applyToRemoteDocument(d2, g2) {
    const _2 = g2.mutationResults;
    for (let g3 = 0; g3 < this.mutations.length; g3++) {
      const O2 = this.mutations[g3];
      O2.key.isEqual(d2.key) && __PRIVATE_mutationApplyToRemoteDocument(O2, d2, _2[g3]);
    }
  }
  applyToLocalView(d2, g2) {
    for (const _2 of this.baseMutations) _2.key.isEqual(d2.key) && (g2 = __PRIVATE_mutationApplyToLocalView(_2, d2, g2, this.localWriteTime));
    for (const _2 of this.mutations) _2.key.isEqual(d2.key) && (g2 = __PRIVATE_mutationApplyToLocalView(_2, d2, g2, this.localWriteTime));
    return g2;
  }
  applyToLocalDocumentSet(d2, g2) {
    const _2 = __PRIVATE_newMutationMap();
    return this.mutations.forEach((O2) => {
      const $2 = d2.get(O2.key), st2 = $2.overlayedDocument;
      let ot2 = this.applyToLocalView(st2, $2.mutatedFields);
      ot2 = g2.has(O2.key) ? null : ot2;
      const lt2 = __PRIVATE_calculateOverlayMutation(st2, ot2);
      null !== lt2 && _2.set(O2.key, lt2), st2.isValidDocument() || st2.convertToNoDocument(SnapshotVersion.min());
    }), _2;
  }
  keys() {
    return this.mutations.reduce((d2, g2) => d2.add(g2.key), __PRIVATE_documentKeySet());
  }
  isEqual(d2) {
    return this.batchId === d2.batchId && __PRIVATE_arrayEquals(this.mutations, d2.mutations, (d3, g2) => __PRIVATE_mutationEquals(d3, g2)) && __PRIVATE_arrayEquals(this.baseMutations, d2.baseMutations, (d3, g2) => __PRIVATE_mutationEquals(d3, g2));
  }
}
class Overlay {
  constructor(d2, g2) {
    this.largestBatchId = d2, this.mutation = g2;
  }
  getKey() {
    return this.mutation.key;
  }
  isEqual(d2) {
    return null !== d2 && this.mutation === d2.mutation;
  }
  toString() {
    return `Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`;
  }
}
class ExistenceFilter {
  constructor(d2, g2) {
    this.count = d2, this.unchangedNames = g2;
  }
}
var Y_, Q_;
function __PRIVATE_mapCodeFromRpcCode(d2) {
  if (void 0 === d2) return __PRIVATE_logError("GRPC error has no .code"), A_.UNKNOWN;
  switch (d2) {
    case Y_.OK:
      return A_.OK;
    case Y_.CANCELLED:
      return A_.CANCELLED;
    case Y_.UNKNOWN:
      return A_.UNKNOWN;
    case Y_.DEADLINE_EXCEEDED:
      return A_.DEADLINE_EXCEEDED;
    case Y_.RESOURCE_EXHAUSTED:
      return A_.RESOURCE_EXHAUSTED;
    case Y_.INTERNAL:
      return A_.INTERNAL;
    case Y_.UNAVAILABLE:
      return A_.UNAVAILABLE;
    case Y_.UNAUTHENTICATED:
      return A_.UNAUTHENTICATED;
    case Y_.INVALID_ARGUMENT:
      return A_.INVALID_ARGUMENT;
    case Y_.NOT_FOUND:
      return A_.NOT_FOUND;
    case Y_.ALREADY_EXISTS:
      return A_.ALREADY_EXISTS;
    case Y_.PERMISSION_DENIED:
      return A_.PERMISSION_DENIED;
    case Y_.FAILED_PRECONDITION:
      return A_.FAILED_PRECONDITION;
    case Y_.ABORTED:
      return A_.ABORTED;
    case Y_.OUT_OF_RANGE:
      return A_.OUT_OF_RANGE;
    case Y_.UNIMPLEMENTED:
      return A_.UNIMPLEMENTED;
    case Y_.DATA_LOSS:
      return A_.DATA_LOSS;
    default:
      return fail(39323, { code: d2 });
  }
}
(Q_ = Y_ || (Y_ = {}))[Q_.OK = 0] = "OK", Q_[Q_.CANCELLED = 1] = "CANCELLED", Q_[Q_.UNKNOWN = 2] = "UNKNOWN", Q_[Q_.INVALID_ARGUMENT = 3] = "INVALID_ARGUMENT", Q_[Q_.DEADLINE_EXCEEDED = 4] = "DEADLINE_EXCEEDED", Q_[Q_.NOT_FOUND = 5] = "NOT_FOUND", Q_[Q_.ALREADY_EXISTS = 6] = "ALREADY_EXISTS", Q_[Q_.PERMISSION_DENIED = 7] = "PERMISSION_DENIED", Q_[Q_.UNAUTHENTICATED = 16] = "UNAUTHENTICATED", Q_[Q_.RESOURCE_EXHAUSTED = 8] = "RESOURCE_EXHAUSTED", Q_[Q_.FAILED_PRECONDITION = 9] = "FAILED_PRECONDITION", Q_[Q_.ABORTED = 10] = "ABORTED", Q_[Q_.OUT_OF_RANGE = 11] = "OUT_OF_RANGE", Q_[Q_.UNIMPLEMENTED = 12] = "UNIMPLEMENTED", Q_[Q_.INTERNAL = 13] = "INTERNAL", Q_[Q_.UNAVAILABLE = 14] = "UNAVAILABLE", Q_[Q_.DATA_LOSS = 15] = "DATA_LOSS";
const X_ = new u_([4294967295, 4294967295], 0);
function __PRIVATE_getMd5HashValue(d2) {
  const g2 = __PRIVATE_newTextEncoder().encode(d2), _2 = new d_();
  return _2.update(g2), new Uint8Array(_2.digest());
}
function __PRIVATE_get64BitUints(d2) {
  const g2 = new DataView(d2.buffer), _2 = g2.getUint32(0, true), O2 = g2.getUint32(4, true), $2 = g2.getUint32(8, true), st2 = g2.getUint32(12, true);
  return [new u_([_2, O2], 0), new u_([$2, st2], 0)];
}
class BloomFilter {
  constructor(d2, g2, _2) {
    if (this.bitmap = d2, this.padding = g2, this.hashCount = _2, g2 < 0 || g2 >= 8) throw new __PRIVATE_BloomFilterError(`Invalid padding: ${g2}`);
    if (_2 < 0) throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${_2}`);
    if (d2.length > 0 && 0 === this.hashCount) throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${_2}`);
    if (0 === d2.length && 0 !== g2) throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${g2}`);
    this.pe = 8 * d2.length - g2, this.ye = u_.fromNumber(this.pe);
  }
  we(d2, g2, _2) {
    let O2 = d2.add(g2.multiply(u_.fromNumber(_2)));
    return 1 === O2.compare(X_) && (O2 = new u_([O2.getBits(0), O2.getBits(1)], 0)), O2.modulo(this.ye).toNumber();
  }
  Se(d2) {
    return !!(this.bitmap[Math.floor(d2 / 8)] & 1 << d2 % 8);
  }
  mightContain(d2) {
    if (0 === this.pe) return false;
    const g2 = __PRIVATE_getMd5HashValue(d2), [_2, O2] = __PRIVATE_get64BitUints(g2);
    for (let d3 = 0; d3 < this.hashCount; d3++) {
      const g3 = this.we(_2, O2, d3);
      if (!this.Se(g3)) return false;
    }
    return true;
  }
  static create(d2, g2, _2) {
    const O2 = d2 % 8 == 0 ? 0 : 8 - d2 % 8, $2 = new Uint8Array(Math.ceil(d2 / 8)), st2 = new BloomFilter($2, O2, g2);
    return _2.forEach((d3) => st2.insert(d3)), st2;
  }
  insert(d2) {
    if (0 === this.pe) return;
    const g2 = __PRIVATE_getMd5HashValue(d2), [_2, O2] = __PRIVATE_get64BitUints(g2);
    for (let d3 = 0; d3 < this.hashCount; d3++) {
      const g3 = this.we(_2, O2, d3);
      this.be(g3);
    }
  }
  be(d2) {
    const g2 = Math.floor(d2 / 8), _2 = d2 % 8;
    this.bitmap[g2] |= 1 << _2;
  }
}
class __PRIVATE_BloomFilterError extends Error {
  constructor() {
    super(...arguments), this.name = "BloomFilterError";
  }
}
class RemoteEvent {
  constructor(d2, g2, _2, O2, $2) {
    this.snapshotVersion = d2, this.targetChanges = g2, this.targetMismatches = _2, this.documentUpdates = O2, this.resolvedLimboDocuments = $2;
  }
  static createSynthesizedRemoteEventForCurrentChange(d2, g2, _2) {
    const O2 = /* @__PURE__ */ new Map();
    return O2.set(d2, TargetChange.createSynthesizedTargetChangeForCurrentChange(d2, g2, _2)), new RemoteEvent(SnapshotVersion.min(), O2, new SortedMap(__PRIVATE_primitiveComparator), __PRIVATE_mutableDocumentMap(), __PRIVATE_documentKeySet());
  }
}
class TargetChange {
  constructor(d2, g2, _2, O2, $2) {
    this.resumeToken = d2, this.current = g2, this.addedDocuments = _2, this.modifiedDocuments = O2, this.removedDocuments = $2;
  }
  static createSynthesizedTargetChangeForCurrentChange(d2, g2, _2) {
    return new TargetChange(_2, g2, __PRIVATE_documentKeySet(), __PRIVATE_documentKeySet(), __PRIVATE_documentKeySet());
  }
}
class __PRIVATE_DocumentWatchChange {
  constructor(d2, g2, _2, O2) {
    this.De = d2, this.removedTargetIds = g2, this.key = _2, this.ve = O2;
  }
}
class __PRIVATE_ExistenceFilterChange {
  constructor(d2, g2) {
    this.targetId = d2, this.Ce = g2;
  }
}
class __PRIVATE_WatchTargetChange {
  constructor(d2, g2, _2 = ByteString.EMPTY_BYTE_STRING, O2 = null) {
    this.state = d2, this.targetIds = g2, this.resumeToken = _2, this.cause = O2;
  }
}
class __PRIVATE_TargetState {
  constructor() {
    this.Fe = 0, this.Me = __PRIVATE_snapshotChangesMap(), this.xe = ByteString.EMPTY_BYTE_STRING, this.Oe = false, this.Ne = true;
  }
  get current() {
    return this.Oe;
  }
  get resumeToken() {
    return this.xe;
  }
  get Be() {
    return 0 !== this.Fe;
  }
  get Le() {
    return this.Ne;
  }
  ke(d2) {
    d2.approximateByteSize() > 0 && (this.Ne = true, this.xe = d2);
  }
  qe() {
    let d2 = __PRIVATE_documentKeySet(), g2 = __PRIVATE_documentKeySet(), _2 = __PRIVATE_documentKeySet();
    return this.Me.forEach((O2, $2) => {
      switch ($2) {
        case 0:
          d2 = d2.add(O2);
          break;
        case 2:
          g2 = g2.add(O2);
          break;
        case 1:
          _2 = _2.add(O2);
          break;
        default:
          fail(38017, { changeType: $2 });
      }
    }), new TargetChange(this.xe, this.Oe, d2, g2, _2);
  }
  Qe() {
    this.Ne = false, this.Me = __PRIVATE_snapshotChangesMap();
  }
  $e(d2, g2) {
    this.Ne = true, this.Me = this.Me.insert(d2, g2);
  }
  Ue(d2) {
    this.Ne = true, this.Me = this.Me.remove(d2);
  }
  Ke() {
    this.Fe += 1;
  }
  We() {
    this.Fe -= 1, __PRIVATE_hardAssert(this.Fe >= 0, 3241, { Fe: this.Fe });
  }
  Ge() {
    this.Ne = true, this.Oe = true;
  }
}
class __PRIVATE_WatchChangeAggregator {
  constructor(d2) {
    this.ze = d2, this.je = /* @__PURE__ */ new Map(), this.He = __PRIVATE_mutableDocumentMap(), this.Je = __PRIVATE_documentTargetMap(), this.Ye = __PRIVATE_documentTargetMap(), this.Ze = new SortedMap(__PRIVATE_primitiveComparator);
  }
  Xe(d2) {
    for (const g2 of d2.De) d2.ve && d2.ve.isFoundDocument() ? this.et(g2, d2.ve) : this.tt(g2, d2.key, d2.ve);
    for (const g2 of d2.removedTargetIds) this.tt(g2, d2.key, d2.ve);
  }
  nt(d2) {
    this.forEachTarget(d2, (g2) => {
      const _2 = this.rt(g2);
      switch (d2.state) {
        case 0:
          this.it(g2) && _2.ke(d2.resumeToken);
          break;
        case 1:
          _2.We(), _2.Be || _2.Qe(), _2.ke(d2.resumeToken);
          break;
        case 2:
          _2.We(), _2.Be || this.removeTarget(g2);
          break;
        case 3:
          this.it(g2) && (_2.Ge(), _2.ke(d2.resumeToken));
          break;
        case 4:
          this.it(g2) && (this.st(g2), _2.ke(d2.resumeToken));
          break;
        default:
          fail(56790, { state: d2.state });
      }
    });
  }
  forEachTarget(d2, g2) {
    d2.targetIds.length > 0 ? d2.targetIds.forEach(g2) : this.je.forEach((d3, _2) => {
      this.it(_2) && g2(_2);
    });
  }
  ot(d2) {
    const g2 = d2.targetId, _2 = d2.Ce.count, O2 = this._t(g2);
    if (O2) {
      const $2 = O2.target;
      if (__PRIVATE_targetIsDocumentTarget($2)) if (0 === _2) {
        const d3 = new DocumentKey($2.path);
        this.tt(g2, d3, MutableDocument.newNoDocument(d3, SnapshotVersion.min()));
      } else __PRIVATE_hardAssert(1 === _2, 20013, { expectedCount: _2 });
      else {
        const O3 = this.ut(g2);
        if (O3 !== _2) {
          const _3 = this.ct(d2), $3 = _3 ? this.lt(_3, d2, O3) : 1;
          if (0 !== $3) {
            this.st(g2);
            const d3 = 2 === $3 ? "TargetPurposeExistenceFilterMismatchBloom" : "TargetPurposeExistenceFilterMismatch";
            this.Ze = this.Ze.insert(g2, d3);
          }
        }
      }
    }
  }
  ct(d2) {
    const g2 = d2.Ce.unchangedNames;
    if (!g2 || !g2.bits) return null;
    const { bits: { bitmap: _2 = "", padding: O2 = 0 }, hashCount: $2 = 0 } = g2;
    let st2, ot2;
    try {
      st2 = __PRIVATE_normalizeByteString(_2).toUint8Array();
    } catch (d3) {
      if (d3 instanceof __PRIVATE_Base64DecodeError) return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed (" + d3.message + "); ignoring the bloom filter and falling back to full re-query."), null;
      throw d3;
    }
    try {
      ot2 = new BloomFilter(st2, O2, $2);
    } catch (d3) {
      return __PRIVATE_logWarn(d3 instanceof __PRIVATE_BloomFilterError ? "BloomFilter error: " : "Applying bloom filter failed: ", d3), null;
    }
    return 0 === ot2.pe ? null : ot2;
  }
  lt(d2, g2, _2) {
    return g2.Ce.count === _2 - this.Tt(d2, g2.targetId) ? 0 : 2;
  }
  Tt(d2, g2) {
    const _2 = this.ze.getRemoteKeysForTarget(g2);
    let O2 = 0;
    return _2.forEach((_3) => {
      const $2 = this.ze.Pt(), st2 = `projects/${$2.projectId}/databases/${$2.database}/documents/${_3.path.canonicalString()}`;
      d2.mightContain(st2) || (this.tt(g2, _3, null), O2++);
    }), O2;
  }
  It(d2) {
    const g2 = /* @__PURE__ */ new Map();
    this.je.forEach((_3, O3) => {
      const $2 = this._t(O3);
      if ($2) {
        if (_3.current && __PRIVATE_targetIsDocumentTarget($2.target)) {
          const g3 = new DocumentKey($2.target.path);
          this.Et(g3).has(O3) || this.dt(O3, g3) || this.tt(O3, g3, MutableDocument.newNoDocument(g3, d2));
        }
        _3.Le && (g2.set(O3, _3.qe()), _3.Qe());
      }
    });
    let _2 = __PRIVATE_documentKeySet();
    this.Ye.forEach((d3, g3) => {
      let O3 = true;
      g3.forEachWhile((d4) => {
        const g4 = this._t(d4);
        return !g4 || "TargetPurposeLimboResolution" === g4.purpose || (O3 = false, false);
      }), O3 && (_2 = _2.add(d3));
    }), this.He.forEach((g3, _3) => _3.setReadTime(d2));
    const O2 = new RemoteEvent(d2, g2, this.Ze, this.He, _2);
    return this.He = __PRIVATE_mutableDocumentMap(), this.Je = __PRIVATE_documentTargetMap(), this.Ye = __PRIVATE_documentTargetMap(), this.Ze = new SortedMap(__PRIVATE_primitiveComparator), O2;
  }
  et(d2, g2) {
    if (!this.it(d2)) return;
    const _2 = this.dt(d2, g2.key) ? 2 : 0;
    this.rt(d2).$e(g2.key, _2), this.He = this.He.insert(g2.key, g2), this.Je = this.Je.insert(g2.key, this.Et(g2.key).add(d2)), this.Ye = this.Ye.insert(g2.key, this.At(g2.key).add(d2));
  }
  tt(d2, g2, _2) {
    if (!this.it(d2)) return;
    const O2 = this.rt(d2);
    this.dt(d2, g2) ? O2.$e(g2, 1) : O2.Ue(g2), this.Ye = this.Ye.insert(g2, this.At(g2).delete(d2)), this.Ye = this.Ye.insert(g2, this.At(g2).add(d2)), _2 && (this.He = this.He.insert(g2, _2));
  }
  removeTarget(d2) {
    this.je.delete(d2);
  }
  ut(d2) {
    const g2 = this.rt(d2).qe();
    return this.ze.getRemoteKeysForTarget(d2).size + g2.addedDocuments.size - g2.removedDocuments.size;
  }
  Ke(d2) {
    this.rt(d2).Ke();
  }
  rt(d2) {
    let g2 = this.je.get(d2);
    return g2 || (g2 = new __PRIVATE_TargetState(), this.je.set(d2, g2)), g2;
  }
  At(d2) {
    let g2 = this.Ye.get(d2);
    return g2 || (g2 = new SortedSet(__PRIVATE_primitiveComparator), this.Ye = this.Ye.insert(d2, g2)), g2;
  }
  Et(d2) {
    let g2 = this.Je.get(d2);
    return g2 || (g2 = new SortedSet(__PRIVATE_primitiveComparator), this.Je = this.Je.insert(d2, g2)), g2;
  }
  it(d2) {
    const g2 = null !== this._t(d2);
    return g2 || __PRIVATE_logDebug("WatchChangeAggregator", "Detected inactive target", d2), g2;
  }
  _t(d2) {
    const g2 = this.je.get(d2);
    return g2 && g2.Be ? null : this.ze.Rt(d2);
  }
  st(d2) {
    this.je.set(d2, new __PRIVATE_TargetState()), this.ze.getRemoteKeysForTarget(d2).forEach((g2) => {
      this.tt(d2, g2, null);
    });
  }
  dt(d2, g2) {
    return this.ze.getRemoteKeysForTarget(d2).has(g2);
  }
}
function __PRIVATE_documentTargetMap() {
  return new SortedMap(DocumentKey.comparator);
}
function __PRIVATE_snapshotChangesMap() {
  return new SortedMap(DocumentKey.comparator);
}
const J_ = { asc: "ASCENDING", desc: "DESCENDING" }, Z_ = { "<": "LESS_THAN", "<=": "LESS_THAN_OR_EQUAL", ">": "GREATER_THAN", ">=": "GREATER_THAN_OR_EQUAL", "==": "EQUAL", "!=": "NOT_EQUAL", "array-contains": "ARRAY_CONTAINS", in: "IN", "not-in": "NOT_IN", "array-contains-any": "ARRAY_CONTAINS_ANY" }, tm = { and: "AND", or: "OR" };
class JsonProtoSerializer {
  constructor(d2, g2) {
    this.databaseId = d2, this.useProto3Json = g2;
  }
}
function __PRIVATE_toInt32Proto(d2, g2) {
  return d2.useProto3Json || __PRIVATE_isNullOrUndefined(g2) ? g2 : { value: g2 };
}
function __PRIVATE_fromVersion(d2) {
  return __PRIVATE_hardAssert(!!d2, 49232), SnapshotVersion.fromTimestamp(function fromTimestamp(d3) {
    const g2 = __PRIVATE_normalizeTimestamp(d3);
    return new Timestamp(g2.seconds, g2.nanos);
  }(d2));
}
function __PRIVATE_toResourcePath(d2, g2) {
  const _2 = function __PRIVATE_fullyQualifiedPrefixPath(d3) {
    return new ResourcePath(["projects", d3.projectId, "databases", d3.database]);
  }(d2).child("documents");
  return void 0 === g2 ? _2 : _2.child(g2);
}
function __PRIVATE_fromResourceName(d2) {
  const g2 = ResourcePath.fromString(d2);
  return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(g2), 10190, { key: g2.toString() }), g2;
}
function fromName(d2, g2) {
  const _2 = __PRIVATE_fromResourceName(g2);
  if (_2.get(1) !== d2.databaseId.projectId) throw new FirestoreError(A_.INVALID_ARGUMENT, "Tried to deserialize key from different project: " + _2.get(1) + " vs " + d2.databaseId.projectId);
  if (_2.get(3) !== d2.databaseId.database) throw new FirestoreError(A_.INVALID_ARGUMENT, "Tried to deserialize key from different database: " + _2.get(3) + " vs " + d2.databaseId.database);
  return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(_2));
}
function __PRIVATE_toQueryPath(d2, g2) {
  return function __PRIVATE_toResourceName(d3, g3) {
    return __PRIVATE_toResourcePath(d3, g3).canonicalString();
  }(d2.databaseId, g2);
}
function __PRIVATE_getEncodedDatabaseId(d2) {
  return new ResourcePath(["projects", d2.databaseId.projectId, "databases", d2.databaseId.database]).canonicalString();
}
function __PRIVATE_extractLocalPathFromResourceName(d2) {
  return __PRIVATE_hardAssert(d2.length > 4 && "documents" === d2.get(4), 29091, { key: d2.toString() }), d2.popFirst(5);
}
function __PRIVATE_toDocumentsTarget(d2, g2) {
  return { documents: [__PRIVATE_toQueryPath(d2, g2.path)] };
}
function __PRIVATE_toQueryTarget(d2, g2) {
  const _2 = { structuredQuery: {} }, O2 = g2.path;
  let $2;
  null !== g2.collectionGroup ? ($2 = O2, _2.structuredQuery.from = [{ collectionId: g2.collectionGroup, allDescendants: true }]) : ($2 = O2.popLast(), _2.structuredQuery.from = [{ collectionId: O2.lastSegment() }]), _2.parent = __PRIVATE_toQueryPath(d2, $2);
  const st2 = function __PRIVATE_toFilters(d3) {
    if (0 !== d3.length) return __PRIVATE_toFilter(CompositeFilter.create(d3, "and"));
  }(g2.filters);
  st2 && (_2.structuredQuery.where = st2);
  const ot2 = function __PRIVATE_toOrder(d3) {
    if (0 !== d3.length) return d3.map((d4) => function __PRIVATE_toPropertyOrder(d5) {
      return { field: __PRIVATE_toFieldPathReference(d5.field), direction: __PRIVATE_toDirection(d5.dir) };
    }(d4));
  }(g2.orderBy);
  ot2 && (_2.structuredQuery.orderBy = ot2);
  const lt2 = __PRIVATE_toInt32Proto(d2, g2.limit);
  return null !== lt2 && (_2.structuredQuery.limit = lt2), g2.startAt && (_2.structuredQuery.startAt = function __PRIVATE_toStartAtCursor(d3) {
    return { before: d3.inclusive, values: d3.position };
  }(g2.startAt)), g2.endAt && (_2.structuredQuery.endAt = function __PRIVATE_toEndAtCursor(d3) {
    return { before: !d3.inclusive, values: d3.position };
  }(g2.endAt)), { gt: _2, parent: $2 };
}
function __PRIVATE_convertQueryTargetToQuery(d2) {
  let g2 = function __PRIVATE_fromQueryPath(d3) {
    const g3 = __PRIVATE_fromResourceName(d3);
    return 4 === g3.length ? ResourcePath.emptyPath() : __PRIVATE_extractLocalPathFromResourceName(g3);
  }(d2.parent);
  const _2 = d2.structuredQuery, O2 = _2.from ? _2.from.length : 0;
  let $2 = null;
  if (O2 > 0) {
    __PRIVATE_hardAssert(1 === O2, 65062);
    const d3 = _2.from[0];
    d3.allDescendants ? $2 = d3.collectionId : g2 = g2.child(d3.collectionId);
  }
  let st2 = [];
  _2.where && (st2 = function __PRIVATE_fromFilters(d3) {
    const g3 = __PRIVATE_fromFilter(d3);
    return g3 instanceof CompositeFilter && __PRIVATE_compositeFilterIsFlatConjunction(g3) ? g3.getFilters() : [g3];
  }(_2.where));
  let ot2 = [];
  _2.orderBy && (ot2 = function __PRIVATE_fromOrder(d3) {
    return d3.map((d4) => function __PRIVATE_fromPropertyOrder(d5) {
      return new OrderBy(__PRIVATE_fromFieldPathReference(d5.field), function __PRIVATE_fromDirection(d6) {
        switch (d6) {
          case "ASCENDING":
            return "asc";
          case "DESCENDING":
            return "desc";
          default:
            return;
        }
      }(d5.direction));
    }(d4));
  }(_2.orderBy));
  let lt2 = null;
  _2.limit && (lt2 = function __PRIVATE_fromInt32Proto(d3) {
    let g3;
    return g3 = "object" == typeof d3 ? d3.value : d3, __PRIVATE_isNullOrUndefined(g3) ? null : g3;
  }(_2.limit));
  let ct2 = null;
  _2.startAt && (ct2 = function __PRIVATE_fromStartAtCursor(d3) {
    const g3 = !!d3.before, _3 = d3.values || [];
    return new Bound(_3, g3);
  }(_2.startAt));
  let ut2 = null;
  return _2.endAt && (ut2 = function __PRIVATE_fromEndAtCursor(d3) {
    const g3 = !d3.before, _3 = d3.values || [];
    return new Bound(_3, g3);
  }(_2.endAt)), function __PRIVATE_newQuery(d3, g3, _3, O3, $3, st3, ot3, lt3) {
    return new __PRIVATE_QueryImpl(d3, g3, _3, O3, $3, st3, ot3, lt3);
  }(g2, $2, ot2, st2, lt2, "F", ct2, ut2);
}
function __PRIVATE_fromFilter(d2) {
  return void 0 !== d2.unaryFilter ? function __PRIVATE_fromUnaryFilter(d3) {
    switch (d3.unaryFilter.op) {
      case "IS_NAN":
        const g2 = __PRIVATE_fromFieldPathReference(d3.unaryFilter.field);
        return FieldFilter.create(g2, "==", { doubleValue: NaN });
      case "IS_NULL":
        const _2 = __PRIVATE_fromFieldPathReference(d3.unaryFilter.field);
        return FieldFilter.create(_2, "==", { nullValue: "NULL_VALUE" });
      case "IS_NOT_NAN":
        const O2 = __PRIVATE_fromFieldPathReference(d3.unaryFilter.field);
        return FieldFilter.create(O2, "!=", { doubleValue: NaN });
      case "IS_NOT_NULL":
        const $2 = __PRIVATE_fromFieldPathReference(d3.unaryFilter.field);
        return FieldFilter.create($2, "!=", { nullValue: "NULL_VALUE" });
      case "OPERATOR_UNSPECIFIED":
        return fail(61313);
      default:
        return fail(60726);
    }
  }(d2) : void 0 !== d2.fieldFilter ? function __PRIVATE_fromFieldFilter(d3) {
    return FieldFilter.create(__PRIVATE_fromFieldPathReference(d3.fieldFilter.field), function __PRIVATE_fromOperatorName(d4) {
      switch (d4) {
        case "EQUAL":
          return "==";
        case "NOT_EQUAL":
          return "!=";
        case "GREATER_THAN":
          return ">";
        case "GREATER_THAN_OR_EQUAL":
          return ">=";
        case "LESS_THAN":
          return "<";
        case "LESS_THAN_OR_EQUAL":
          return "<=";
        case "ARRAY_CONTAINS":
          return "array-contains";
        case "IN":
          return "in";
        case "NOT_IN":
          return "not-in";
        case "ARRAY_CONTAINS_ANY":
          return "array-contains-any";
        case "OPERATOR_UNSPECIFIED":
          return fail(58110);
        default:
          return fail(50506);
      }
    }(d3.fieldFilter.op), d3.fieldFilter.value);
  }(d2) : void 0 !== d2.compositeFilter ? function __PRIVATE_fromCompositeFilter(d3) {
    return CompositeFilter.create(d3.compositeFilter.filters.map((d4) => __PRIVATE_fromFilter(d4)), function __PRIVATE_fromCompositeOperatorName(d4) {
      switch (d4) {
        case "AND":
          return "and";
        case "OR":
          return "or";
        default:
          return fail(1026);
      }
    }(d3.compositeFilter.op));
  }(d2) : fail(30097, { filter: d2 });
}
function __PRIVATE_toDirection(d2) {
  return J_[d2];
}
function __PRIVATE_toOperatorName(d2) {
  return Z_[d2];
}
function __PRIVATE_toCompositeOperatorName(d2) {
  return tm[d2];
}
function __PRIVATE_toFieldPathReference(d2) {
  return { fieldPath: d2.canonicalString() };
}
function __PRIVATE_fromFieldPathReference(d2) {
  return FieldPath$1.fromServerFormat(d2.fieldPath);
}
function __PRIVATE_toFilter(d2) {
  return d2 instanceof FieldFilter ? function __PRIVATE_toUnaryOrFieldFilter(d3) {
    if ("==" === d3.op) {
      if (__PRIVATE_isNanValue(d3.value)) return { unaryFilter: { field: __PRIVATE_toFieldPathReference(d3.field), op: "IS_NAN" } };
      if (__PRIVATE_isNullValue(d3.value)) return { unaryFilter: { field: __PRIVATE_toFieldPathReference(d3.field), op: "IS_NULL" } };
    } else if ("!=" === d3.op) {
      if (__PRIVATE_isNanValue(d3.value)) return { unaryFilter: { field: __PRIVATE_toFieldPathReference(d3.field), op: "IS_NOT_NAN" } };
      if (__PRIVATE_isNullValue(d3.value)) return { unaryFilter: { field: __PRIVATE_toFieldPathReference(d3.field), op: "IS_NOT_NULL" } };
    }
    return { fieldFilter: { field: __PRIVATE_toFieldPathReference(d3.field), op: __PRIVATE_toOperatorName(d3.op), value: d3.value } };
  }(d2) : d2 instanceof CompositeFilter ? function __PRIVATE_toCompositeFilter(d3) {
    const g2 = d3.getFilters().map((d4) => __PRIVATE_toFilter(d4));
    return 1 === g2.length ? g2[0] : { compositeFilter: { op: __PRIVATE_toCompositeOperatorName(d3.op), filters: g2 } };
  }(d2) : fail(54877, { filter: d2 });
}
function __PRIVATE_isValidResourceName(d2) {
  return d2.length >= 4 && "projects" === d2.get(0) && "databases" === d2.get(2);
}
class TargetData {
  constructor(d2, g2, _2, O2, $2 = SnapshotVersion.min(), st2 = SnapshotVersion.min(), ot2 = ByteString.EMPTY_BYTE_STRING, lt2 = null) {
    this.target = d2, this.targetId = g2, this.purpose = _2, this.sequenceNumber = O2, this.snapshotVersion = $2, this.lastLimboFreeSnapshotVersion = st2, this.resumeToken = ot2, this.expectedCount = lt2;
  }
  withSequenceNumber(d2) {
    return new TargetData(this.target, this.targetId, this.purpose, d2, this.snapshotVersion, this.lastLimboFreeSnapshotVersion, this.resumeToken, this.expectedCount);
  }
  withResumeToken(d2, g2) {
    return new TargetData(this.target, this.targetId, this.purpose, this.sequenceNumber, g2, this.lastLimboFreeSnapshotVersion, d2, null);
  }
  withExpectedCount(d2) {
    return new TargetData(this.target, this.targetId, this.purpose, this.sequenceNumber, this.snapshotVersion, this.lastLimboFreeSnapshotVersion, this.resumeToken, d2);
  }
  withLastLimboFreeSnapshotVersion(d2) {
    return new TargetData(this.target, this.targetId, this.purpose, this.sequenceNumber, this.snapshotVersion, d2, this.resumeToken, this.expectedCount);
  }
}
class __PRIVATE_LocalSerializer {
  constructor(d2) {
    this.wt = d2;
  }
}
function __PRIVATE_fromBundledQuery(d2) {
  const g2 = __PRIVATE_convertQueryTargetToQuery({ parent: d2.parent, structuredQuery: d2.structuredQuery });
  return "LAST" === d2.limitType ? __PRIVATE_queryWithLimit(g2, g2.limit, "L") : g2;
}
class __PRIVATE_MemoryIndexManager {
  constructor() {
    this.Cn = new __PRIVATE_MemoryCollectionParentIndex();
  }
  addToCollectionParentIndex(d2, g2) {
    return this.Cn.add(g2), PersistencePromise.resolve();
  }
  getCollectionParents(d2, g2) {
    return PersistencePromise.resolve(this.Cn.getEntries(g2));
  }
  addFieldIndex(d2, g2) {
    return PersistencePromise.resolve();
  }
  deleteFieldIndex(d2, g2) {
    return PersistencePromise.resolve();
  }
  deleteAllFieldIndexes(d2) {
    return PersistencePromise.resolve();
  }
  createTargetIndexes(d2, g2) {
    return PersistencePromise.resolve();
  }
  getDocumentsMatchingTarget(d2, g2) {
    return PersistencePromise.resolve(null);
  }
  getIndexType(d2, g2) {
    return PersistencePromise.resolve(0);
  }
  getFieldIndexes(d2, g2) {
    return PersistencePromise.resolve([]);
  }
  getNextCollectionGroupToUpdate(d2) {
    return PersistencePromise.resolve(null);
  }
  getMinOffset(d2, g2) {
    return PersistencePromise.resolve(IndexOffset.min());
  }
  getMinOffsetFromCollectionGroup(d2, g2) {
    return PersistencePromise.resolve(IndexOffset.min());
  }
  updateCollectionGroup(d2, g2, _2) {
    return PersistencePromise.resolve();
  }
  updateIndexEntries(d2, g2) {
    return PersistencePromise.resolve();
  }
}
class __PRIVATE_MemoryCollectionParentIndex {
  constructor() {
    this.index = {};
  }
  add(d2) {
    const g2 = d2.lastSegment(), _2 = d2.popLast(), O2 = this.index[g2] || new SortedSet(ResourcePath.comparator), $2 = !O2.has(_2);
    return this.index[g2] = O2.add(_2), $2;
  }
  has(d2) {
    const g2 = d2.lastSegment(), _2 = d2.popLast(), O2 = this.index[g2];
    return O2 && O2.has(_2);
  }
  getEntries(d2) {
    return (this.index[d2] || new SortedSet(ResourcePath.comparator)).toArray();
  }
}
const em = { didRun: false, sequenceNumbersCollected: 0, targetsRemoved: 0, documentsRemoved: 0 }, im = 41943040;
class LruParams {
  static withCacheSize(d2) {
    return new LruParams(d2, LruParams.DEFAULT_COLLECTION_PERCENTILE, LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);
  }
  constructor(d2, g2, _2) {
    this.cacheSizeCollectionThreshold = d2, this.percentileToCollect = g2, this.maximumSequenceNumbersToCollect = _2;
  }
}
LruParams.DEFAULT_COLLECTION_PERCENTILE = 10, LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT = 1e3, LruParams.DEFAULT = new LruParams(im, LruParams.DEFAULT_COLLECTION_PERCENTILE, LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT), LruParams.DISABLED = new LruParams(-1, 0, 0);
class __PRIVATE_TargetIdGenerator {
  constructor(d2) {
    this.ur = d2;
  }
  next() {
    return this.ur += 2, this.ur;
  }
  static cr() {
    return new __PRIVATE_TargetIdGenerator(0);
  }
  static lr() {
    return new __PRIVATE_TargetIdGenerator(-1);
  }
}
const sm = "LruGarbageCollector";
function __PRIVATE_bufferEntryComparator([d2, g2], [_2, O2]) {
  const $2 = __PRIVATE_primitiveComparator(d2, _2);
  return 0 === $2 ? __PRIVATE_primitiveComparator(g2, O2) : $2;
}
class __PRIVATE_RollingSequenceNumberBuffer {
  constructor(d2) {
    this.Er = d2, this.buffer = new SortedSet(__PRIVATE_bufferEntryComparator), this.dr = 0;
  }
  Ar() {
    return ++this.dr;
  }
  Rr(d2) {
    const g2 = [d2, this.Ar()];
    if (this.buffer.size < this.Er) this.buffer = this.buffer.add(g2);
    else {
      const d3 = this.buffer.last();
      __PRIVATE_bufferEntryComparator(g2, d3) < 0 && (this.buffer = this.buffer.delete(d3).add(g2));
    }
  }
  get maxValue() {
    return this.buffer.last()[0];
  }
}
class __PRIVATE_LruScheduler {
  constructor(d2, g2, _2) {
    this.garbageCollector = d2, this.asyncQueue = g2, this.localStore = _2, this.Vr = null;
  }
  start() {
    -1 !== this.garbageCollector.params.cacheSizeCollectionThreshold && this.mr(6e4);
  }
  stop() {
    this.Vr && (this.Vr.cancel(), this.Vr = null);
  }
  get started() {
    return null !== this.Vr;
  }
  mr(d2) {
    __PRIVATE_logDebug(sm, `Garbage collection scheduled in ${d2}ms`), this.Vr = this.asyncQueue.enqueueAfterDelay("lru_garbage_collection", d2, async () => {
      this.Vr = null;
      try {
        await this.localStore.collectGarbage(this.garbageCollector);
      } catch (d3) {
        __PRIVATE_isIndexedDbTransactionError(d3) ? __PRIVATE_logDebug(sm, "Ignoring IndexedDB error during garbage collection: ", d3) : await __PRIVATE_ignoreIfPrimaryLeaseLoss(d3);
      }
      await this.mr(3e5);
    });
  }
}
class __PRIVATE_LruGarbageCollectorImpl {
  constructor(d2, g2) {
    this.gr = d2, this.params = g2;
  }
  calculateTargetCount(d2, g2) {
    return this.gr.pr(d2).next((d3) => Math.floor(g2 / 100 * d3));
  }
  nthSequenceNumber(d2, g2) {
    if (0 === g2) return PersistencePromise.resolve(__PRIVATE_ListenSequence.le);
    const _2 = new __PRIVATE_RollingSequenceNumberBuffer(g2);
    return this.gr.forEachTarget(d2, (d3) => _2.Rr(d3.sequenceNumber)).next(() => this.gr.yr(d2, (d3) => _2.Rr(d3))).next(() => _2.maxValue);
  }
  removeTargets(d2, g2, _2) {
    return this.gr.removeTargets(d2, g2, _2);
  }
  removeOrphanedDocuments(d2, g2) {
    return this.gr.removeOrphanedDocuments(d2, g2);
  }
  collect(d2, g2) {
    return -1 === this.params.cacheSizeCollectionThreshold ? (__PRIVATE_logDebug("LruGarbageCollector", "Garbage collection skipped; disabled"), PersistencePromise.resolve(em)) : this.getCacheSize(d2).next((_2) => _2 < this.params.cacheSizeCollectionThreshold ? (__PRIVATE_logDebug("LruGarbageCollector", `Garbage collection skipped; Cache size ${_2} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`), em) : this.wr(d2, g2));
  }
  getCacheSize(d2) {
    return this.gr.getCacheSize(d2);
  }
  wr(d2, g2) {
    let _2, O2, $2, st2, ot2, lt2, ct2;
    const ut2 = Date.now();
    return this.calculateTargetCount(d2, this.params.percentileToCollect).next((g3) => (g3 > this.params.maximumSequenceNumbersToCollect ? (__PRIVATE_logDebug("LruGarbageCollector", `Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g3}`), O2 = this.params.maximumSequenceNumbersToCollect) : O2 = g3, st2 = Date.now(), this.nthSequenceNumber(d2, O2))).next((O3) => (_2 = O3, ot2 = Date.now(), this.removeTargets(d2, _2, g2))).next((g3) => ($2 = g3, lt2 = Date.now(), this.removeOrphanedDocuments(d2, _2))).next((d3) => (ct2 = Date.now(), __PRIVATE_getLogLevel() <= hg.DEBUG && __PRIVATE_logDebug("LruGarbageCollector", `LRU Garbage Collection
	Counted targets in ${st2 - ut2}ms
	Determined least recently used ${O2} in ` + (ot2 - st2) + `ms
	Removed ${$2} targets in ` + (lt2 - ot2) + `ms
	Removed ${d3} documents in ` + (ct2 - lt2) + `ms
Total Duration: ${ct2 - ut2}ms`), PersistencePromise.resolve({ didRun: true, sequenceNumbersCollected: O2, targetsRemoved: $2, documentsRemoved: d3 })));
  }
}
class RemoteDocumentChangeBuffer {
  constructor() {
    this.changes = new ObjectMap((d2) => d2.toString(), (d2, g2) => d2.isEqual(g2)), this.changesApplied = false;
  }
  addEntry(d2) {
    this.assertNotApplied(), this.changes.set(d2.key, d2);
  }
  removeEntry(d2, g2) {
    this.assertNotApplied(), this.changes.set(d2, MutableDocument.newInvalidDocument(d2).setReadTime(g2));
  }
  getEntry(d2, g2) {
    this.assertNotApplied();
    const _2 = this.changes.get(g2);
    return void 0 !== _2 ? PersistencePromise.resolve(_2) : this.getFromCache(d2, g2);
  }
  getEntries(d2, g2) {
    return this.getAllFromCache(d2, g2);
  }
  apply(d2) {
    return this.assertNotApplied(), this.changesApplied = true, this.applyChanges(d2);
  }
  assertNotApplied() {
  }
}
class OverlayedDocument {
  constructor(d2, g2) {
    this.overlayedDocument = d2, this.mutatedFields = g2;
  }
}
class LocalDocumentsView {
  constructor(d2, g2, _2, O2) {
    this.remoteDocumentCache = d2, this.mutationQueue = g2, this.documentOverlayCache = _2, this.indexManager = O2;
  }
  getDocument(d2, g2) {
    let _2 = null;
    return this.documentOverlayCache.getOverlay(d2, g2).next((O2) => (_2 = O2, this.remoteDocumentCache.getEntry(d2, g2))).next((d3) => (null !== _2 && __PRIVATE_mutationApplyToLocalView(_2.mutation, d3, FieldMask.empty(), Timestamp.now()), d3));
  }
  getDocuments(d2, g2) {
    return this.remoteDocumentCache.getEntries(d2, g2).next((g3) => this.getLocalViewOfDocuments(d2, g3, __PRIVATE_documentKeySet()).next(() => g3));
  }
  getLocalViewOfDocuments(d2, g2, _2 = __PRIVATE_documentKeySet()) {
    const O2 = __PRIVATE_newOverlayMap();
    return this.populateOverlays(d2, O2, g2).next(() => this.computeViews(d2, g2, O2, _2).next((d3) => {
      let g3 = documentMap();
      return d3.forEach((d4, _3) => {
        g3 = g3.insert(d4, _3.overlayedDocument);
      }), g3;
    }));
  }
  getOverlayedDocuments(d2, g2) {
    const _2 = __PRIVATE_newOverlayMap();
    return this.populateOverlays(d2, _2, g2).next(() => this.computeViews(d2, g2, _2, __PRIVATE_documentKeySet()));
  }
  populateOverlays(d2, g2, _2) {
    const O2 = [];
    return _2.forEach((d3) => {
      g2.has(d3) || O2.push(d3);
    }), this.documentOverlayCache.getOverlays(d2, O2).next((d3) => {
      d3.forEach((d4, _3) => {
        g2.set(d4, _3);
      });
    });
  }
  computeViews(d2, g2, _2, O2) {
    let $2 = __PRIVATE_mutableDocumentMap();
    const st2 = __PRIVATE_newDocumentKeyMap(), ot2 = function __PRIVATE_newOverlayedDocumentMap() {
      return __PRIVATE_newDocumentKeyMap();
    }();
    return g2.forEach((d3, g3) => {
      const ot3 = _2.get(g3.key);
      O2.has(g3.key) && (void 0 === ot3 || ot3.mutation instanceof __PRIVATE_PatchMutation) ? $2 = $2.insert(g3.key, g3) : void 0 !== ot3 ? (st2.set(g3.key, ot3.mutation.getFieldMask()), __PRIVATE_mutationApplyToLocalView(ot3.mutation, g3, ot3.mutation.getFieldMask(), Timestamp.now())) : st2.set(g3.key, FieldMask.empty());
    }), this.recalculateAndSaveOverlays(d2, $2).next((d3) => (d3.forEach((d4, g3) => st2.set(d4, g3)), g2.forEach((d4, g3) => {
      var _3;
      return ot2.set(d4, new OverlayedDocument(g3, null !== (_3 = st2.get(d4)) && void 0 !== _3 ? _3 : null));
    }), ot2));
  }
  recalculateAndSaveOverlays(d2, g2) {
    const _2 = __PRIVATE_newDocumentKeyMap();
    let O2 = new SortedMap((d3, g3) => d3 - g3), $2 = __PRIVATE_documentKeySet();
    return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(d2, g2).next((d3) => {
      for (const $3 of d3) $3.keys().forEach((d4) => {
        const st2 = g2.get(d4);
        if (null === st2) return;
        let ot2 = _2.get(d4) || FieldMask.empty();
        ot2 = $3.applyToLocalView(st2, ot2), _2.set(d4, ot2);
        const lt2 = (O2.get($3.batchId) || __PRIVATE_documentKeySet()).add(d4);
        O2 = O2.insert($3.batchId, lt2);
      });
    }).next(() => {
      const st2 = [], ot2 = O2.getReverseIterator();
      for (; ot2.hasNext(); ) {
        const O3 = ot2.getNext(), lt2 = O3.key, ct2 = O3.value, ut2 = __PRIVATE_newMutationMap();
        ct2.forEach((d3) => {
          if (!$2.has(d3)) {
            const O4 = __PRIVATE_calculateOverlayMutation(g2.get(d3), _2.get(d3));
            null !== O4 && ut2.set(d3, O4), $2 = $2.add(d3);
          }
        }), st2.push(this.documentOverlayCache.saveOverlays(d2, lt2, ut2));
      }
      return PersistencePromise.waitFor(st2);
    }).next(() => _2);
  }
  recalculateAndSaveOverlaysForDocumentKeys(d2, g2) {
    return this.remoteDocumentCache.getEntries(d2, g2).next((g3) => this.recalculateAndSaveOverlays(d2, g3));
  }
  getDocumentsMatchingQuery(d2, g2, _2, O2) {
    return function __PRIVATE_isDocumentQuery$1(d3) {
      return DocumentKey.isDocumentKey(d3.path) && null === d3.collectionGroup && 0 === d3.filters.length;
    }(g2) ? this.getDocumentsMatchingDocumentQuery(d2, g2.path) : function __PRIVATE_isCollectionGroupQuery(d3) {
      return null !== d3.collectionGroup;
    }(g2) ? this.getDocumentsMatchingCollectionGroupQuery(d2, g2, _2, O2) : this.getDocumentsMatchingCollectionQuery(d2, g2, _2, O2);
  }
  getNextDocuments(d2, g2, _2, O2) {
    return this.remoteDocumentCache.getAllFromCollectionGroup(d2, g2, _2, O2).next(($2) => {
      const st2 = O2 - $2.size > 0 ? this.documentOverlayCache.getOverlaysForCollectionGroup(d2, g2, _2.largestBatchId, O2 - $2.size) : PersistencePromise.resolve(__PRIVATE_newOverlayMap());
      let ot2 = -1, lt2 = $2;
      return st2.next((g3) => PersistencePromise.forEach(g3, (g4, _3) => (ot2 < _3.largestBatchId && (ot2 = _3.largestBatchId), $2.get(g4) ? PersistencePromise.resolve() : this.remoteDocumentCache.getEntry(d2, g4).next((d3) => {
        lt2 = lt2.insert(g4, d3);
      }))).next(() => this.populateOverlays(d2, g3, $2)).next(() => this.computeViews(d2, lt2, g3, __PRIVATE_documentKeySet())).next((d3) => ({ batchId: ot2, changes: __PRIVATE_convertOverlayedDocumentMapToDocumentMap(d3) })));
    });
  }
  getDocumentsMatchingDocumentQuery(d2, g2) {
    return this.getDocument(d2, new DocumentKey(g2)).next((d3) => {
      let g3 = documentMap();
      return d3.isFoundDocument() && (g3 = g3.insert(d3.key, d3)), g3;
    });
  }
  getDocumentsMatchingCollectionGroupQuery(d2, g2, _2, O2) {
    const $2 = g2.collectionGroup;
    let st2 = documentMap();
    return this.indexManager.getCollectionParents(d2, $2).next((ot2) => PersistencePromise.forEach(ot2, (ot3) => {
      const lt2 = function __PRIVATE_asCollectionQueryAtPath(d3, g3) {
        return new __PRIVATE_QueryImpl(g3, null, d3.explicitOrderBy.slice(), d3.filters.slice(), d3.limit, d3.limitType, d3.startAt, d3.endAt);
      }(g2, ot3.child($2));
      return this.getDocumentsMatchingCollectionQuery(d2, lt2, _2, O2).next((d3) => {
        d3.forEach((d4, g3) => {
          st2 = st2.insert(d4, g3);
        });
      });
    }).next(() => st2));
  }
  getDocumentsMatchingCollectionQuery(d2, g2, _2, O2) {
    let $2;
    return this.documentOverlayCache.getOverlaysForCollection(d2, g2.path, _2.largestBatchId).next((st2) => ($2 = st2, this.remoteDocumentCache.getDocumentsMatchingQuery(d2, g2, _2, $2, O2))).next((d3) => {
      $2.forEach((g3, _4) => {
        const O3 = _4.getKey();
        null === d3.get(O3) && (d3 = d3.insert(O3, MutableDocument.newInvalidDocument(O3)));
      });
      let _3 = documentMap();
      return d3.forEach((d4, O3) => {
        const st2 = $2.get(d4);
        void 0 !== st2 && __PRIVATE_mutationApplyToLocalView(st2.mutation, O3, FieldMask.empty(), Timestamp.now()), __PRIVATE_queryMatches(g2, O3) && (_3 = _3.insert(d4, O3));
      }), _3;
    });
  }
}
class __PRIVATE_MemoryBundleCache {
  constructor(d2) {
    this.serializer = d2, this.kr = /* @__PURE__ */ new Map(), this.qr = /* @__PURE__ */ new Map();
  }
  getBundleMetadata(d2, g2) {
    return PersistencePromise.resolve(this.kr.get(g2));
  }
  saveBundleMetadata(d2, g2) {
    return this.kr.set(g2.id, function __PRIVATE_fromBundleMetadata(d3) {
      return { id: d3.id, version: d3.version, createTime: __PRIVATE_fromVersion(d3.createTime) };
    }(g2)), PersistencePromise.resolve();
  }
  getNamedQuery(d2, g2) {
    return PersistencePromise.resolve(this.qr.get(g2));
  }
  saveNamedQuery(d2, g2) {
    return this.qr.set(g2.name, function __PRIVATE_fromProtoNamedQuery(d3) {
      return { name: d3.name, query: __PRIVATE_fromBundledQuery(d3.bundledQuery), readTime: __PRIVATE_fromVersion(d3.readTime) };
    }(g2)), PersistencePromise.resolve();
  }
}
class __PRIVATE_MemoryDocumentOverlayCache {
  constructor() {
    this.overlays = new SortedMap(DocumentKey.comparator), this.Qr = /* @__PURE__ */ new Map();
  }
  getOverlay(d2, g2) {
    return PersistencePromise.resolve(this.overlays.get(g2));
  }
  getOverlays(d2, g2) {
    const _2 = __PRIVATE_newOverlayMap();
    return PersistencePromise.forEach(g2, (g3) => this.getOverlay(d2, g3).next((d3) => {
      null !== d3 && _2.set(g3, d3);
    })).next(() => _2);
  }
  saveOverlays(d2, g2, _2) {
    return _2.forEach((_3, O2) => {
      this.bt(d2, g2, O2);
    }), PersistencePromise.resolve();
  }
  removeOverlaysForBatchId(d2, g2, _2) {
    const O2 = this.Qr.get(_2);
    return void 0 !== O2 && (O2.forEach((d3) => this.overlays = this.overlays.remove(d3)), this.Qr.delete(_2)), PersistencePromise.resolve();
  }
  getOverlaysForCollection(d2, g2, _2) {
    const O2 = __PRIVATE_newOverlayMap(), $2 = g2.length + 1, st2 = new DocumentKey(g2.child("")), ot2 = this.overlays.getIteratorFrom(st2);
    for (; ot2.hasNext(); ) {
      const d3 = ot2.getNext().value, st3 = d3.getKey();
      if (!g2.isPrefixOf(st3.path)) break;
      st3.path.length === $2 && d3.largestBatchId > _2 && O2.set(d3.getKey(), d3);
    }
    return PersistencePromise.resolve(O2);
  }
  getOverlaysForCollectionGroup(d2, g2, _2, O2) {
    let $2 = new SortedMap((d3, g3) => d3 - g3);
    const st2 = this.overlays.getIterator();
    for (; st2.hasNext(); ) {
      const d3 = st2.getNext().value;
      if (d3.getKey().getCollectionGroup() === g2 && d3.largestBatchId > _2) {
        let g3 = $2.get(d3.largestBatchId);
        null === g3 && (g3 = __PRIVATE_newOverlayMap(), $2 = $2.insert(d3.largestBatchId, g3)), g3.set(d3.getKey(), d3);
      }
    }
    const ot2 = __PRIVATE_newOverlayMap(), lt2 = $2.getIterator();
    for (; lt2.hasNext() && (lt2.getNext().value.forEach((d3, g3) => ot2.set(d3, g3)), !(ot2.size() >= O2)); ) ;
    return PersistencePromise.resolve(ot2);
  }
  bt(d2, g2, _2) {
    const O2 = this.overlays.get(_2.key);
    if (null !== O2) {
      const d3 = this.Qr.get(O2.largestBatchId).delete(_2.key);
      this.Qr.set(O2.largestBatchId, d3);
    }
    this.overlays = this.overlays.insert(_2.key, new Overlay(g2, _2));
    let $2 = this.Qr.get(g2);
    void 0 === $2 && ($2 = __PRIVATE_documentKeySet(), this.Qr.set(g2, $2)), this.Qr.set(g2, $2.add(_2.key));
  }
}
class __PRIVATE_MemoryGlobalsCache {
  constructor() {
    this.sessionToken = ByteString.EMPTY_BYTE_STRING;
  }
  getSessionToken(d2) {
    return PersistencePromise.resolve(this.sessionToken);
  }
  setSessionToken(d2, g2) {
    return this.sessionToken = g2, PersistencePromise.resolve();
  }
}
class __PRIVATE_ReferenceSet {
  constructor() {
    this.$r = new SortedSet(__PRIVATE_DocReference.Ur), this.Kr = new SortedSet(__PRIVATE_DocReference.Wr);
  }
  isEmpty() {
    return this.$r.isEmpty();
  }
  addReference(d2, g2) {
    const _2 = new __PRIVATE_DocReference(d2, g2);
    this.$r = this.$r.add(_2), this.Kr = this.Kr.add(_2);
  }
  Gr(d2, g2) {
    d2.forEach((d3) => this.addReference(d3, g2));
  }
  removeReference(d2, g2) {
    this.zr(new __PRIVATE_DocReference(d2, g2));
  }
  jr(d2, g2) {
    d2.forEach((d3) => this.removeReference(d3, g2));
  }
  Hr(d2) {
    const g2 = new DocumentKey(new ResourcePath([])), _2 = new __PRIVATE_DocReference(g2, d2), O2 = new __PRIVATE_DocReference(g2, d2 + 1), $2 = [];
    return this.Kr.forEachInRange([_2, O2], (d3) => {
      this.zr(d3), $2.push(d3.key);
    }), $2;
  }
  Jr() {
    this.$r.forEach((d2) => this.zr(d2));
  }
  zr(d2) {
    this.$r = this.$r.delete(d2), this.Kr = this.Kr.delete(d2);
  }
  Yr(d2) {
    const g2 = new DocumentKey(new ResourcePath([])), _2 = new __PRIVATE_DocReference(g2, d2), O2 = new __PRIVATE_DocReference(g2, d2 + 1);
    let $2 = __PRIVATE_documentKeySet();
    return this.Kr.forEachInRange([_2, O2], (d3) => {
      $2 = $2.add(d3.key);
    }), $2;
  }
  containsKey(d2) {
    const g2 = new __PRIVATE_DocReference(d2, 0), _2 = this.$r.firstAfterOrEqual(g2);
    return null !== _2 && d2.isEqual(_2.key);
  }
}
class __PRIVATE_DocReference {
  constructor(d2, g2) {
    this.key = d2, this.Zr = g2;
  }
  static Ur(d2, g2) {
    return DocumentKey.comparator(d2.key, g2.key) || __PRIVATE_primitiveComparator(d2.Zr, g2.Zr);
  }
  static Wr(d2, g2) {
    return __PRIVATE_primitiveComparator(d2.Zr, g2.Zr) || DocumentKey.comparator(d2.key, g2.key);
  }
}
class __PRIVATE_MemoryMutationQueue {
  constructor(d2, g2) {
    this.indexManager = d2, this.referenceDelegate = g2, this.mutationQueue = [], this.nr = 1, this.Xr = new SortedSet(__PRIVATE_DocReference.Ur);
  }
  checkEmpty(d2) {
    return PersistencePromise.resolve(0 === this.mutationQueue.length);
  }
  addMutationBatch(d2, g2, _2, O2) {
    const $2 = this.nr;
    this.nr++, this.mutationQueue.length > 0 && this.mutationQueue[this.mutationQueue.length - 1];
    const st2 = new MutationBatch($2, g2, _2, O2);
    this.mutationQueue.push(st2);
    for (const g3 of O2) this.Xr = this.Xr.add(new __PRIVATE_DocReference(g3.key, $2)), this.indexManager.addToCollectionParentIndex(d2, g3.key.path.popLast());
    return PersistencePromise.resolve(st2);
  }
  lookupMutationBatch(d2, g2) {
    return PersistencePromise.resolve(this.ei(g2));
  }
  getNextMutationBatchAfterBatchId(d2, g2) {
    const _2 = g2 + 1, O2 = this.ti(_2), $2 = O2 < 0 ? 0 : O2;
    return PersistencePromise.resolve(this.mutationQueue.length > $2 ? this.mutationQueue[$2] : null);
  }
  getHighestUnacknowledgedBatchId() {
    return PersistencePromise.resolve(0 === this.mutationQueue.length ? -1 : this.nr - 1);
  }
  getAllMutationBatches(d2) {
    return PersistencePromise.resolve(this.mutationQueue.slice());
  }
  getAllMutationBatchesAffectingDocumentKey(d2, g2) {
    const _2 = new __PRIVATE_DocReference(g2, 0), O2 = new __PRIVATE_DocReference(g2, Number.POSITIVE_INFINITY), $2 = [];
    return this.Xr.forEachInRange([_2, O2], (d3) => {
      const g3 = this.ei(d3.Zr);
      $2.push(g3);
    }), PersistencePromise.resolve($2);
  }
  getAllMutationBatchesAffectingDocumentKeys(d2, g2) {
    let _2 = new SortedSet(__PRIVATE_primitiveComparator);
    return g2.forEach((d3) => {
      const g3 = new __PRIVATE_DocReference(d3, 0), O2 = new __PRIVATE_DocReference(d3, Number.POSITIVE_INFINITY);
      this.Xr.forEachInRange([g3, O2], (d4) => {
        _2 = _2.add(d4.Zr);
      });
    }), PersistencePromise.resolve(this.ni(_2));
  }
  getAllMutationBatchesAffectingQuery(d2, g2) {
    const _2 = g2.path, O2 = _2.length + 1;
    let $2 = _2;
    DocumentKey.isDocumentKey($2) || ($2 = $2.child(""));
    const st2 = new __PRIVATE_DocReference(new DocumentKey($2), 0);
    let ot2 = new SortedSet(__PRIVATE_primitiveComparator);
    return this.Xr.forEachWhile((d3) => {
      const g3 = d3.key.path;
      return !!_2.isPrefixOf(g3) && (g3.length === O2 && (ot2 = ot2.add(d3.Zr)), true);
    }, st2), PersistencePromise.resolve(this.ni(ot2));
  }
  ni(d2) {
    const g2 = [];
    return d2.forEach((d3) => {
      const _2 = this.ei(d3);
      null !== _2 && g2.push(_2);
    }), g2;
  }
  removeMutationBatch(d2, g2) {
    __PRIVATE_hardAssert(0 === this.ri(g2.batchId, "removed"), 55003), this.mutationQueue.shift();
    let _2 = this.Xr;
    return PersistencePromise.forEach(g2.mutations, (O2) => {
      const $2 = new __PRIVATE_DocReference(O2.key, g2.batchId);
      return _2 = _2.delete($2), this.referenceDelegate.markPotentiallyOrphaned(d2, O2.key);
    }).next(() => {
      this.Xr = _2;
    });
  }
  sr(d2) {
  }
  containsKey(d2, g2) {
    const _2 = new __PRIVATE_DocReference(g2, 0), O2 = this.Xr.firstAfterOrEqual(_2);
    return PersistencePromise.resolve(g2.isEqual(O2 && O2.key));
  }
  performConsistencyCheck(d2) {
    return this.mutationQueue.length, PersistencePromise.resolve();
  }
  ri(d2, g2) {
    return this.ti(d2);
  }
  ti(d2) {
    return 0 === this.mutationQueue.length ? 0 : d2 - this.mutationQueue[0].batchId;
  }
  ei(d2) {
    const g2 = this.ti(d2);
    return g2 < 0 || g2 >= this.mutationQueue.length ? null : this.mutationQueue[g2];
  }
}
class __PRIVATE_MemoryRemoteDocumentCacheImpl {
  constructor(d2) {
    this.ii = d2, this.docs = function __PRIVATE_documentEntryMap() {
      return new SortedMap(DocumentKey.comparator);
    }(), this.size = 0;
  }
  setIndexManager(d2) {
    this.indexManager = d2;
  }
  addEntry(d2, g2) {
    const _2 = g2.key, O2 = this.docs.get(_2), $2 = O2 ? O2.size : 0, st2 = this.ii(g2);
    return this.docs = this.docs.insert(_2, { document: g2.mutableCopy(), size: st2 }), this.size += st2 - $2, this.indexManager.addToCollectionParentIndex(d2, _2.path.popLast());
  }
  removeEntry(d2) {
    const g2 = this.docs.get(d2);
    g2 && (this.docs = this.docs.remove(d2), this.size -= g2.size);
  }
  getEntry(d2, g2) {
    const _2 = this.docs.get(g2);
    return PersistencePromise.resolve(_2 ? _2.document.mutableCopy() : MutableDocument.newInvalidDocument(g2));
  }
  getEntries(d2, g2) {
    let _2 = __PRIVATE_mutableDocumentMap();
    return g2.forEach((d3) => {
      const g3 = this.docs.get(d3);
      _2 = _2.insert(d3, g3 ? g3.document.mutableCopy() : MutableDocument.newInvalidDocument(d3));
    }), PersistencePromise.resolve(_2);
  }
  getDocumentsMatchingQuery(d2, g2, _2, O2) {
    let $2 = __PRIVATE_mutableDocumentMap();
    const st2 = g2.path, ot2 = new DocumentKey(st2.child("__id-9223372036854775808__")), lt2 = this.docs.getIteratorFrom(ot2);
    for (; lt2.hasNext(); ) {
      const { key: d3, value: { document: ot3 } } = lt2.getNext();
      if (!st2.isPrefixOf(d3.path)) break;
      d3.path.length > st2.length + 1 || __PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(ot3), _2) <= 0 || (O2.has(ot3.key) || __PRIVATE_queryMatches(g2, ot3)) && ($2 = $2.insert(ot3.key, ot3.mutableCopy()));
    }
    return PersistencePromise.resolve($2);
  }
  getAllFromCollectionGroup(d2, g2, _2, O2) {
    fail(9500);
  }
  si(d2, g2) {
    return PersistencePromise.forEach(this.docs, (d3) => g2(d3));
  }
  newChangeBuffer(d2) {
    return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this);
  }
  getSize(d2) {
    return PersistencePromise.resolve(this.size);
  }
}
class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer {
  constructor(d2) {
    super(), this.Br = d2;
  }
  applyChanges(d2) {
    const g2 = [];
    return this.changes.forEach((_2, O2) => {
      O2.isValidDocument() ? g2.push(this.Br.addEntry(d2, O2)) : this.Br.removeEntry(_2);
    }), PersistencePromise.waitFor(g2);
  }
  getFromCache(d2, g2) {
    return this.Br.getEntry(d2, g2);
  }
  getAllFromCache(d2, g2) {
    return this.Br.getEntries(d2, g2);
  }
}
class __PRIVATE_MemoryTargetCache {
  constructor(d2) {
    this.persistence = d2, this.oi = new ObjectMap((d3) => __PRIVATE_canonifyTarget(d3), __PRIVATE_targetEquals), this.lastRemoteSnapshotVersion = SnapshotVersion.min(), this.highestTargetId = 0, this._i = 0, this.ai = new __PRIVATE_ReferenceSet(), this.targetCount = 0, this.ui = __PRIVATE_TargetIdGenerator.cr();
  }
  forEachTarget(d2, g2) {
    return this.oi.forEach((d3, _2) => g2(_2)), PersistencePromise.resolve();
  }
  getLastRemoteSnapshotVersion(d2) {
    return PersistencePromise.resolve(this.lastRemoteSnapshotVersion);
  }
  getHighestSequenceNumber(d2) {
    return PersistencePromise.resolve(this._i);
  }
  allocateTargetId(d2) {
    return this.highestTargetId = this.ui.next(), PersistencePromise.resolve(this.highestTargetId);
  }
  setTargetsMetadata(d2, g2, _2) {
    return _2 && (this.lastRemoteSnapshotVersion = _2), g2 > this._i && (this._i = g2), PersistencePromise.resolve();
  }
  Tr(d2) {
    this.oi.set(d2.target, d2);
    const g2 = d2.targetId;
    g2 > this.highestTargetId && (this.ui = new __PRIVATE_TargetIdGenerator(g2), this.highestTargetId = g2), d2.sequenceNumber > this._i && (this._i = d2.sequenceNumber);
  }
  addTargetData(d2, g2) {
    return this.Tr(g2), this.targetCount += 1, PersistencePromise.resolve();
  }
  updateTargetData(d2, g2) {
    return this.Tr(g2), PersistencePromise.resolve();
  }
  removeTargetData(d2, g2) {
    return this.oi.delete(g2.target), this.ai.Hr(g2.targetId), this.targetCount -= 1, PersistencePromise.resolve();
  }
  removeTargets(d2, g2, _2) {
    let O2 = 0;
    const $2 = [];
    return this.oi.forEach((st2, ot2) => {
      ot2.sequenceNumber <= g2 && null === _2.get(ot2.targetId) && (this.oi.delete(st2), $2.push(this.removeMatchingKeysForTargetId(d2, ot2.targetId)), O2++);
    }), PersistencePromise.waitFor($2).next(() => O2);
  }
  getTargetCount(d2) {
    return PersistencePromise.resolve(this.targetCount);
  }
  getTargetData(d2, g2) {
    const _2 = this.oi.get(g2) || null;
    return PersistencePromise.resolve(_2);
  }
  addMatchingKeys(d2, g2, _2) {
    return this.ai.Gr(g2, _2), PersistencePromise.resolve();
  }
  removeMatchingKeys(d2, g2, _2) {
    this.ai.jr(g2, _2);
    const O2 = this.persistence.referenceDelegate, $2 = [];
    return O2 && g2.forEach((g3) => {
      $2.push(O2.markPotentiallyOrphaned(d2, g3));
    }), PersistencePromise.waitFor($2);
  }
  removeMatchingKeysForTargetId(d2, g2) {
    return this.ai.Hr(g2), PersistencePromise.resolve();
  }
  getMatchingKeysForTargetId(d2, g2) {
    const _2 = this.ai.Yr(g2);
    return PersistencePromise.resolve(_2);
  }
  containsKey(d2, g2) {
    return PersistencePromise.resolve(this.ai.containsKey(g2));
  }
}
class __PRIVATE_MemoryPersistence {
  constructor(d2, g2) {
    this.ci = {}, this.overlays = {}, this.li = new __PRIVATE_ListenSequence(0), this.hi = false, this.hi = true, this.Pi = new __PRIVATE_MemoryGlobalsCache(), this.referenceDelegate = d2(this), this.Ti = new __PRIVATE_MemoryTargetCache(this), this.indexManager = new __PRIVATE_MemoryIndexManager(), this.remoteDocumentCache = function __PRIVATE_newMemoryRemoteDocumentCache(d3) {
      return new __PRIVATE_MemoryRemoteDocumentCacheImpl(d3);
    }((d3) => this.referenceDelegate.Ii(d3)), this.serializer = new __PRIVATE_LocalSerializer(g2), this.Ei = new __PRIVATE_MemoryBundleCache(this.serializer);
  }
  start() {
    return Promise.resolve();
  }
  shutdown() {
    return this.hi = false, Promise.resolve();
  }
  get started() {
    return this.hi;
  }
  setDatabaseDeletedListener() {
  }
  setNetworkEnabled() {
  }
  getIndexManager(d2) {
    return this.indexManager;
  }
  getDocumentOverlayCache(d2) {
    let g2 = this.overlays[d2.toKey()];
    return g2 || (g2 = new __PRIVATE_MemoryDocumentOverlayCache(), this.overlays[d2.toKey()] = g2), g2;
  }
  getMutationQueue(d2, g2) {
    let _2 = this.ci[d2.toKey()];
    return _2 || (_2 = new __PRIVATE_MemoryMutationQueue(g2, this.referenceDelegate), this.ci[d2.toKey()] = _2), _2;
  }
  getGlobalsCache() {
    return this.Pi;
  }
  getTargetCache() {
    return this.Ti;
  }
  getRemoteDocumentCache() {
    return this.remoteDocumentCache;
  }
  getBundleCache() {
    return this.Ei;
  }
  runTransaction(d2, g2, _2) {
    __PRIVATE_logDebug("MemoryPersistence", "Starting transaction:", d2);
    const O2 = new __PRIVATE_MemoryTransaction(this.li.next());
    return this.referenceDelegate.di(), _2(O2).next((d3) => this.referenceDelegate.Ai(O2).next(() => d3)).toPromise().then((d3) => (O2.raiseOnCommittedEvent(), d3));
  }
  Ri(d2, g2) {
    return PersistencePromise.or(Object.values(this.ci).map((_2) => () => _2.containsKey(d2, g2)));
  }
}
class __PRIVATE_MemoryTransaction extends PersistenceTransaction {
  constructor(d2) {
    super(), this.currentSequenceNumber = d2;
  }
}
class __PRIVATE_MemoryEagerDelegate {
  constructor(d2) {
    this.persistence = d2, this.Vi = new __PRIVATE_ReferenceSet(), this.mi = null;
  }
  static fi(d2) {
    return new __PRIVATE_MemoryEagerDelegate(d2);
  }
  get gi() {
    if (this.mi) return this.mi;
    throw fail(60996);
  }
  addReference(d2, g2, _2) {
    return this.Vi.addReference(_2, g2), this.gi.delete(_2.toString()), PersistencePromise.resolve();
  }
  removeReference(d2, g2, _2) {
    return this.Vi.removeReference(_2, g2), this.gi.add(_2.toString()), PersistencePromise.resolve();
  }
  markPotentiallyOrphaned(d2, g2) {
    return this.gi.add(g2.toString()), PersistencePromise.resolve();
  }
  removeTarget(d2, g2) {
    this.Vi.Hr(g2.targetId).forEach((d3) => this.gi.add(d3.toString()));
    const _2 = this.persistence.getTargetCache();
    return _2.getMatchingKeysForTargetId(d2, g2.targetId).next((d3) => {
      d3.forEach((d4) => this.gi.add(d4.toString()));
    }).next(() => _2.removeTargetData(d2, g2));
  }
  di() {
    this.mi = /* @__PURE__ */ new Set();
  }
  Ai(d2) {
    const g2 = this.persistence.getRemoteDocumentCache().newChangeBuffer();
    return PersistencePromise.forEach(this.gi, (_2) => {
      const O2 = DocumentKey.fromPath(_2);
      return this.pi(d2, O2).next((d3) => {
        d3 || g2.removeEntry(O2, SnapshotVersion.min());
      });
    }).next(() => (this.mi = null, g2.apply(d2)));
  }
  updateLimboDocument(d2, g2) {
    return this.pi(d2, g2).next((d3) => {
      d3 ? this.gi.delete(g2.toString()) : this.gi.add(g2.toString());
    });
  }
  Ii(d2) {
    return 0;
  }
  pi(d2, g2) {
    return PersistencePromise.or([() => PersistencePromise.resolve(this.Vi.containsKey(g2)), () => this.persistence.getTargetCache().containsKey(d2, g2), () => this.persistence.Ri(d2, g2)]);
  }
}
class __PRIVATE_MemoryLruDelegate {
  constructor(d2, g2) {
    this.persistence = d2, this.yi = new ObjectMap((d3) => function __PRIVATE_encodeResourcePath(d4) {
      let g3 = "";
      for (let _2 = 0; _2 < d4.length; _2++) g3.length > 0 && (g3 = __PRIVATE_encodeSeparator(g3)), g3 = __PRIVATE_encodeSegment(d4.get(_2), g3);
      return __PRIVATE_encodeSeparator(g3);
    }(d3.path), (d3, g3) => d3.isEqual(g3)), this.garbageCollector = function __PRIVATE_newLruGarbageCollector(d3, g3) {
      return new __PRIVATE_LruGarbageCollectorImpl(d3, g3);
    }(this, g2);
  }
  static fi(d2, g2) {
    return new __PRIVATE_MemoryLruDelegate(d2, g2);
  }
  di() {
  }
  Ai(d2) {
    return PersistencePromise.resolve();
  }
  forEachTarget(d2, g2) {
    return this.persistence.getTargetCache().forEachTarget(d2, g2);
  }
  pr(d2) {
    const g2 = this.Sr(d2);
    return this.persistence.getTargetCache().getTargetCount(d2).next((d3) => g2.next((g3) => d3 + g3));
  }
  Sr(d2) {
    let g2 = 0;
    return this.yr(d2, (d3) => {
      g2++;
    }).next(() => g2);
  }
  yr(d2, g2) {
    return PersistencePromise.forEach(this.yi, (_2, O2) => this.Dr(d2, _2, O2).next((d3) => d3 ? PersistencePromise.resolve() : g2(O2)));
  }
  removeTargets(d2, g2, _2) {
    return this.persistence.getTargetCache().removeTargets(d2, g2, _2);
  }
  removeOrphanedDocuments(d2, g2) {
    let _2 = 0;
    const O2 = this.persistence.getRemoteDocumentCache(), $2 = O2.newChangeBuffer();
    return O2.si(d2, (O3) => this.Dr(d2, O3, g2).next((d3) => {
      d3 || (_2++, $2.removeEntry(O3, SnapshotVersion.min()));
    })).next(() => $2.apply(d2)).next(() => _2);
  }
  markPotentiallyOrphaned(d2, g2) {
    return this.yi.set(g2, d2.currentSequenceNumber), PersistencePromise.resolve();
  }
  removeTarget(d2, g2) {
    const _2 = g2.withSequenceNumber(d2.currentSequenceNumber);
    return this.persistence.getTargetCache().updateTargetData(d2, _2);
  }
  addReference(d2, g2, _2) {
    return this.yi.set(_2, d2.currentSequenceNumber), PersistencePromise.resolve();
  }
  removeReference(d2, g2, _2) {
    return this.yi.set(_2, d2.currentSequenceNumber), PersistencePromise.resolve();
  }
  updateLimboDocument(d2, g2) {
    return this.yi.set(g2, d2.currentSequenceNumber), PersistencePromise.resolve();
  }
  Ii(d2) {
    let g2 = d2.key.toString().length;
    return d2.isFoundDocument() && (g2 += __PRIVATE_estimateByteSize(d2.data.value)), g2;
  }
  Dr(d2, g2, _2) {
    return PersistencePromise.or([() => this.persistence.Ri(d2, g2), () => this.persistence.getTargetCache().containsKey(d2, g2), () => {
      const d3 = this.yi.get(g2);
      return PersistencePromise.resolve(void 0 !== d3 && d3 > _2);
    }]);
  }
  getCacheSize(d2) {
    return this.persistence.getRemoteDocumentCache().getSize(d2);
  }
}
class __PRIVATE_LocalViewChanges {
  constructor(d2, g2, _2, O2) {
    this.targetId = d2, this.fromCache = g2, this.ds = _2, this.As = O2;
  }
  static Rs(d2, g2) {
    let _2 = __PRIVATE_documentKeySet(), O2 = __PRIVATE_documentKeySet();
    for (const d3 of g2.docChanges) switch (d3.type) {
      case 0:
        _2 = _2.add(d3.doc.key);
        break;
      case 1:
        O2 = O2.add(d3.doc.key);
    }
    return new __PRIVATE_LocalViewChanges(d2, g2.fromCache, _2, O2);
  }
}
class QueryContext {
  constructor() {
    this._documentReadCount = 0;
  }
  get documentReadCount() {
    return this._documentReadCount;
  }
  incrementDocumentReadCount(d2) {
    this._documentReadCount += d2;
  }
}
class __PRIVATE_QueryEngine {
  constructor() {
    this.Vs = false, this.fs = false, this.gs = 100, this.ps = function __PRIVATE_getDefaultRelativeIndexReadCostPerDocument() {
      return isSafari() ? 8 : function __PRIVATE_getAndroidVersion(d2) {
        const g2 = d2.match(/Android ([\d.]+)/i), _2 = g2 ? g2[1].split(".").slice(0, 2).join(".") : "-1";
        return Number(_2);
      }(getUA()) > 0 ? 6 : 4;
    }();
  }
  initialize(d2, g2) {
    this.ys = d2, this.indexManager = g2, this.Vs = true;
  }
  getDocumentsMatchingQuery(d2, g2, _2, O2) {
    const $2 = { result: null };
    return this.ws(d2, g2).next((d3) => {
      $2.result = d3;
    }).next(() => {
      if (!$2.result) return this.Ss(d2, g2, O2, _2).next((d3) => {
        $2.result = d3;
      });
    }).next(() => {
      if ($2.result) return;
      const _3 = new QueryContext();
      return this.bs(d2, g2, _3).next((O3) => {
        if ($2.result = O3, this.fs) return this.Ds(d2, g2, _3, O3.size);
      });
    }).next(() => $2.result);
  }
  Ds(d2, g2, _2, O2) {
    return _2.documentReadCount < this.gs ? (__PRIVATE_getLogLevel() <= hg.DEBUG && __PRIVATE_logDebug("QueryEngine", "SDK will not create cache indexes for query:", __PRIVATE_stringifyQuery(g2), "since it only creates cache indexes for collection contains", "more than or equal to", this.gs, "documents"), PersistencePromise.resolve()) : (__PRIVATE_getLogLevel() <= hg.DEBUG && __PRIVATE_logDebug("QueryEngine", "Query:", __PRIVATE_stringifyQuery(g2), "scans", _2.documentReadCount, "local documents and returns", O2, "documents as results."), _2.documentReadCount > this.ps * O2 ? (__PRIVATE_getLogLevel() <= hg.DEBUG && __PRIVATE_logDebug("QueryEngine", "The SDK decides to create cache indexes for query:", __PRIVATE_stringifyQuery(g2), "as using cache indexes may help improve performance."), this.indexManager.createTargetIndexes(d2, __PRIVATE_queryToTarget(g2))) : PersistencePromise.resolve());
  }
  ws(d2, g2) {
    if (__PRIVATE_queryMatchesAllDocuments(g2)) return PersistencePromise.resolve(null);
    let _2 = __PRIVATE_queryToTarget(g2);
    return this.indexManager.getIndexType(d2, _2).next((O2) => 0 === O2 ? null : (null !== g2.limit && 1 === O2 && (g2 = __PRIVATE_queryWithLimit(g2, null, "F"), _2 = __PRIVATE_queryToTarget(g2)), this.indexManager.getDocumentsMatchingTarget(d2, _2).next((O3) => {
      const $2 = __PRIVATE_documentKeySet(...O3);
      return this.ys.getDocuments(d2, $2).next((O4) => this.indexManager.getMinOffset(d2, _2).next((_3) => {
        const st2 = this.vs(g2, O4);
        return this.Cs(g2, st2, $2, _3.readTime) ? this.ws(d2, __PRIVATE_queryWithLimit(g2, null, "F")) : this.Fs(d2, st2, g2, _3);
      }));
    })));
  }
  Ss(d2, g2, _2, O2) {
    return __PRIVATE_queryMatchesAllDocuments(g2) || O2.isEqual(SnapshotVersion.min()) ? PersistencePromise.resolve(null) : this.ys.getDocuments(d2, _2).next(($2) => {
      const st2 = this.vs(g2, $2);
      return this.Cs(g2, st2, _2, O2) ? PersistencePromise.resolve(null) : (__PRIVATE_getLogLevel() <= hg.DEBUG && __PRIVATE_logDebug("QueryEngine", "Re-using previous result from %s to execute query: %s", O2.toString(), __PRIVATE_stringifyQuery(g2)), this.Fs(d2, st2, g2, function __PRIVATE_newIndexOffsetSuccessorFromReadTime(d3, g3) {
        const _3 = d3.toTimestamp().seconds, O3 = d3.toTimestamp().nanoseconds + 1, $3 = SnapshotVersion.fromTimestamp(1e9 === O3 ? new Timestamp(_3 + 1, 0) : new Timestamp(_3, O3));
        return new IndexOffset($3, DocumentKey.empty(), g3);
      }(O2, -1)).next((d3) => d3));
    });
  }
  vs(d2, g2) {
    let _2 = new SortedSet(__PRIVATE_newQueryComparator(d2));
    return g2.forEach((g3, O2) => {
      __PRIVATE_queryMatches(d2, O2) && (_2 = _2.add(O2));
    }), _2;
  }
  Cs(d2, g2, _2, O2) {
    if (null === d2.limit) return false;
    if (_2.size !== g2.size) return true;
    const $2 = "F" === d2.limitType ? g2.last() : g2.first();
    return !!$2 && ($2.hasPendingWrites || $2.version.compareTo(O2) > 0);
  }
  bs(d2, g2, _2) {
    return __PRIVATE_getLogLevel() <= hg.DEBUG && __PRIVATE_logDebug("QueryEngine", "Using full collection scan to execute query:", __PRIVATE_stringifyQuery(g2)), this.ys.getDocumentsMatchingQuery(d2, g2, IndexOffset.min(), _2);
  }
  Fs(d2, g2, _2, O2) {
    return this.ys.getDocumentsMatchingQuery(d2, _2, O2).next((d3) => (g2.forEach((g3) => {
      d3 = d3.insert(g3.key, g3);
    }), d3));
  }
}
const nm = "LocalStore", rm = 3e8;
class __PRIVATE_LocalStoreImpl {
  constructor(d2, g2, _2, O2) {
    this.persistence = d2, this.Ms = g2, this.serializer = O2, this.xs = new SortedMap(__PRIVATE_primitiveComparator), this.Os = new ObjectMap((d3) => __PRIVATE_canonifyTarget(d3), __PRIVATE_targetEquals), this.Ns = /* @__PURE__ */ new Map(), this.Bs = d2.getRemoteDocumentCache(), this.Ti = d2.getTargetCache(), this.Ei = d2.getBundleCache(), this.Ls(_2);
  }
  Ls(d2) {
    this.documentOverlayCache = this.persistence.getDocumentOverlayCache(d2), this.indexManager = this.persistence.getIndexManager(d2), this.mutationQueue = this.persistence.getMutationQueue(d2, this.indexManager), this.localDocuments = new LocalDocumentsView(this.Bs, this.mutationQueue, this.documentOverlayCache, this.indexManager), this.Bs.setIndexManager(this.indexManager), this.Ms.initialize(this.localDocuments, this.indexManager);
  }
  collectGarbage(d2) {
    return this.persistence.runTransaction("Collect garbage", "readwrite-primary", (g2) => d2.collect(g2, this.xs));
  }
}
async function __PRIVATE_localStoreHandleUserChange(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2);
  return await _2.persistence.runTransaction("Handle user change", "readonly", (d3) => {
    let O2;
    return _2.mutationQueue.getAllMutationBatches(d3).next(($2) => (O2 = $2, _2.Ls(g2), _2.mutationQueue.getAllMutationBatches(d3))).next((g3) => {
      const $2 = [], st2 = [];
      let ot2 = __PRIVATE_documentKeySet();
      for (const d4 of O2) {
        $2.push(d4.batchId);
        for (const g4 of d4.mutations) ot2 = ot2.add(g4.key);
      }
      for (const d4 of g3) {
        st2.push(d4.batchId);
        for (const g4 of d4.mutations) ot2 = ot2.add(g4.key);
      }
      return _2.localDocuments.getDocuments(d3, ot2).next((d4) => ({ ks: d4, removedBatchIds: $2, addedBatchIds: st2 }));
    });
  });
}
function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(d2) {
  const g2 = __PRIVATE_debugCast(d2);
  return g2.persistence.runTransaction("Get last remote snapshot version", "readonly", (d3) => g2.Ti.getLastRemoteSnapshotVersion(d3));
}
function __PRIVATE_localStoreApplyRemoteEventToLocalCache(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2), O2 = g2.snapshotVersion;
  let $2 = _2.xs;
  return _2.persistence.runTransaction("Apply remote event", "readwrite-primary", (d3) => {
    const st2 = _2.Bs.newChangeBuffer({ trackRemovals: true });
    $2 = _2.xs;
    const ot2 = [];
    g2.targetChanges.forEach((st3, lt3) => {
      const ct3 = $2.get(lt3);
      if (!ct3) return;
      ot2.push(_2.Ti.removeMatchingKeys(d3, st3.removedDocuments, lt3).next(() => _2.Ti.addMatchingKeys(d3, st3.addedDocuments, lt3)));
      let ut2 = ct3.withSequenceNumber(d3.currentSequenceNumber);
      null !== g2.targetMismatches.get(lt3) ? ut2 = ut2.withResumeToken(ByteString.EMPTY_BYTE_STRING, SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()) : st3.resumeToken.approximateByteSize() > 0 && (ut2 = ut2.withResumeToken(st3.resumeToken, O2)), $2 = $2.insert(lt3, ut2), function __PRIVATE_shouldPersistTargetData(d4, g3, _3) {
        if (0 === d4.resumeToken.approximateByteSize()) return true;
        if (g3.snapshotVersion.toMicroseconds() - d4.snapshotVersion.toMicroseconds() >= rm) return true;
        return _3.addedDocuments.size + _3.modifiedDocuments.size + _3.removedDocuments.size > 0;
      }(ct3, ut2, st3) && ot2.push(_2.Ti.updateTargetData(d3, ut2));
    });
    let lt2 = __PRIVATE_mutableDocumentMap(), ct2 = __PRIVATE_documentKeySet();
    if (g2.documentUpdates.forEach((O3) => {
      g2.resolvedLimboDocuments.has(O3) && ot2.push(_2.persistence.referenceDelegate.updateLimboDocument(d3, O3));
    }), ot2.push(function __PRIVATE_populateDocumentChangeBuffer(d4, g3, _3) {
      let O3 = __PRIVATE_documentKeySet(), $3 = __PRIVATE_documentKeySet();
      return _3.forEach((d5) => O3 = O3.add(d5)), g3.getEntries(d4, O3).next((d5) => {
        let O4 = __PRIVATE_mutableDocumentMap();
        return _3.forEach((_4, st3) => {
          const ot3 = d5.get(_4);
          st3.isFoundDocument() !== ot3.isFoundDocument() && ($3 = $3.add(_4)), st3.isNoDocument() && st3.version.isEqual(SnapshotVersion.min()) ? (g3.removeEntry(_4, st3.readTime), O4 = O4.insert(_4, st3)) : !ot3.isValidDocument() || st3.version.compareTo(ot3.version) > 0 || 0 === st3.version.compareTo(ot3.version) && ot3.hasPendingWrites ? (g3.addEntry(st3), O4 = O4.insert(_4, st3)) : __PRIVATE_logDebug(nm, "Ignoring outdated watch update for ", _4, ". Current version:", ot3.version, " Watch version:", st3.version);
        }), { qs: O4, Qs: $3 };
      });
    }(d3, st2, g2.documentUpdates).next((d4) => {
      lt2 = d4.qs, ct2 = d4.Qs;
    })), !O2.isEqual(SnapshotVersion.min())) {
      const g3 = _2.Ti.getLastRemoteSnapshotVersion(d3).next((g4) => _2.Ti.setTargetsMetadata(d3, d3.currentSequenceNumber, O2));
      ot2.push(g3);
    }
    return PersistencePromise.waitFor(ot2).next(() => st2.apply(d3)).next(() => _2.localDocuments.getLocalViewOfDocuments(d3, lt2, ct2)).next(() => lt2);
  }).then((d3) => (_2.xs = $2, d3));
}
async function __PRIVATE_localStoreReleaseTarget(d2, g2, _2) {
  const O2 = __PRIVATE_debugCast(d2), $2 = O2.xs.get(g2), st2 = _2 ? "readwrite" : "readwrite-primary";
  try {
    _2 || await O2.persistence.runTransaction("Release target", st2, (d3) => O2.persistence.referenceDelegate.removeTarget(d3, $2));
  } catch (d3) {
    if (!__PRIVATE_isIndexedDbTransactionError(d3)) throw d3;
    __PRIVATE_logDebug(nm, `Failed to update sequence numbers for target ${g2}: ${d3}`);
  }
  O2.xs = O2.xs.remove(g2), O2.Os.delete($2.target);
}
function __PRIVATE_localStoreExecuteQuery(d2, g2, _2) {
  const O2 = __PRIVATE_debugCast(d2);
  let $2 = SnapshotVersion.min(), st2 = __PRIVATE_documentKeySet();
  return O2.persistence.runTransaction("Execute query", "readwrite", (d3) => function __PRIVATE_localStoreGetTargetData(d4, g3, _3) {
    const O3 = __PRIVATE_debugCast(d4), $3 = O3.Os.get(_3);
    return void 0 !== $3 ? PersistencePromise.resolve(O3.xs.get($3)) : O3.Ti.getTargetData(g3, _3);
  }(O2, d3, __PRIVATE_queryToTarget(g2)).next((g3) => {
    if (g3) return $2 = g3.lastLimboFreeSnapshotVersion, O2.Ti.getMatchingKeysForTargetId(d3, g3.targetId).next((d4) => {
      st2 = d4;
    });
  }).next(() => O2.Ms.getDocumentsMatchingQuery(d3, g2, _2 ? $2 : SnapshotVersion.min(), _2 ? st2 : __PRIVATE_documentKeySet())).next((d4) => (function __PRIVATE_setMaxReadTime(d5, g3, _3) {
    let O3 = d5.Ns.get(g3) || SnapshotVersion.min();
    _3.forEach((d6, g4) => {
      g4.readTime.compareTo(O3) > 0 && (O3 = g4.readTime);
    }), d5.Ns.set(g3, O3);
  }(O2, function __PRIVATE_queryCollectionGroup(d5) {
    return d5.collectionGroup || (d5.path.length % 2 == 1 ? d5.path.lastSegment() : d5.path.get(d5.path.length - 2));
  }(g2), d4), { documents: d4, $s: st2 })));
}
class __PRIVATE_LocalClientState {
  constructor() {
    this.activeTargetIds = /* @__PURE__ */ function __PRIVATE_targetIdSet() {
      return G_;
    }();
  }
  js(d2) {
    this.activeTargetIds = this.activeTargetIds.add(d2);
  }
  Hs(d2) {
    this.activeTargetIds = this.activeTargetIds.delete(d2);
  }
  zs() {
    const d2 = { activeTargetIds: this.activeTargetIds.toArray(), updateTimeMs: Date.now() };
    return JSON.stringify(d2);
  }
}
class __PRIVATE_MemorySharedClientState {
  constructor() {
    this.xo = new __PRIVATE_LocalClientState(), this.Oo = {}, this.onlineStateHandler = null, this.sequenceNumberHandler = null;
  }
  addPendingMutation(d2) {
  }
  updateMutationState(d2, g2, _2) {
  }
  addLocalQueryTarget(d2, g2 = true) {
    return g2 && this.xo.js(d2), this.Oo[d2] || "not-current";
  }
  updateQueryState(d2, g2, _2) {
    this.Oo[d2] = g2;
  }
  removeLocalQueryTarget(d2) {
    this.xo.Hs(d2);
  }
  isLocalQueryTarget(d2) {
    return this.xo.activeTargetIds.has(d2);
  }
  clearQueryState(d2) {
    delete this.Oo[d2];
  }
  getAllActiveQueryTargets() {
    return this.xo.activeTargetIds;
  }
  isActiveQueryTarget(d2) {
    return this.xo.activeTargetIds.has(d2);
  }
  start() {
    return this.xo = new __PRIVATE_LocalClientState(), Promise.resolve();
  }
  handleUserChange(d2, g2, _2) {
  }
  setOnlineState(d2) {
  }
  shutdown() {
  }
  writeSequenceNumber(d2) {
  }
  notifyBundleLoaded(d2) {
  }
}
class __PRIVATE_NoopConnectivityMonitor {
  No(d2) {
  }
  shutdown() {
  }
}
const om = "ConnectivityMonitor";
class __PRIVATE_BrowserConnectivityMonitor {
  constructor() {
    this.Bo = () => this.Lo(), this.ko = () => this.qo(), this.Qo = [], this.$o();
  }
  No(d2) {
    this.Qo.push(d2);
  }
  shutdown() {
    window.removeEventListener("online", this.Bo), window.removeEventListener("offline", this.ko);
  }
  $o() {
    window.addEventListener("online", this.Bo), window.addEventListener("offline", this.ko);
  }
  Lo() {
    __PRIVATE_logDebug(om, "Network connectivity changed: AVAILABLE");
    for (const d2 of this.Qo) d2(0);
  }
  qo() {
    __PRIVATE_logDebug(om, "Network connectivity changed: UNAVAILABLE");
    for (const d2 of this.Qo) d2(1);
  }
  static C() {
    return "undefined" != typeof window && void 0 !== window.addEventListener && void 0 !== window.removeEventListener;
  }
}
let am = null;
function __PRIVATE_generateUniqueDebugId() {
  return null === am ? am = function __PRIVATE_generateInitialUniqueDebugId() {
    return 268435456 + Math.round(2147483648 * Math.random());
  }() : am++, "0x" + am.toString(16);
}
const lm = "RestConnection", cm = { BatchGetDocuments: "batchGet", Commit: "commit", RunQuery: "runQuery", RunAggregationQuery: "runAggregationQuery" };
class __PRIVATE_RestConnection {
  get Uo() {
    return false;
  }
  constructor(d2) {
    this.databaseInfo = d2, this.databaseId = d2.databaseId;
    const g2 = d2.ssl ? "https" : "http", _2 = encodeURIComponent(this.databaseId.projectId), O2 = encodeURIComponent(this.databaseId.database);
    this.Ko = g2 + "://" + d2.host, this.Wo = `projects/${_2}/databases/${O2}`, this.Go = this.databaseId.database === F_ ? `project_id=${_2}` : `project_id=${_2}&database_id=${O2}`;
  }
  zo(d2, g2, _2, O2, $2) {
    const st2 = __PRIVATE_generateUniqueDebugId(), ot2 = this.jo(d2, g2.toUriEncodedString());
    __PRIVATE_logDebug(lm, `Sending RPC '${d2}' ${st2}:`, ot2, _2);
    const lt2 = { "google-cloud-resource-prefix": this.Wo, "x-goog-request-params": this.Go };
    this.Ho(lt2, O2, $2);
    const { host: ct2 } = new URL(ot2), ut2 = isCloudWorkstation(ct2);
    return this.Jo(d2, ot2, lt2, _2, ut2).then((g3) => (__PRIVATE_logDebug(lm, `Received RPC '${d2}' ${st2}: `, g3), g3), (g3) => {
      throw __PRIVATE_logWarn(lm, `RPC '${d2}' ${st2} failed with error: `, g3, "url: ", ot2, "request:", _2), g3;
    });
  }
  Yo(d2, g2, _2, O2, $2, st2) {
    return this.zo(d2, g2, _2, O2, $2);
  }
  Ho(d2, g2, _2) {
    d2["X-Goog-Api-Client"] = function __PRIVATE_getGoogApiClientValue() {
      return "gl-js/ fire/" + P_;
    }(), d2["Content-Type"] = "text/plain", this.databaseInfo.appId && (d2["X-Firebase-GMPID"] = this.databaseInfo.appId), g2 && g2.headers.forEach((g3, _3) => d2[_3] = g3), _2 && _2.headers.forEach((g3, _3) => d2[_3] = g3);
  }
  jo(d2, g2) {
    const _2 = cm[d2];
    return `${this.Ko}/v1/${g2}:${_2}`;
  }
  terminate() {
  }
}
class __PRIVATE_StreamBridge {
  constructor(d2) {
    this.Zo = d2.Zo, this.Xo = d2.Xo;
  }
  e_(d2) {
    this.t_ = d2;
  }
  n_(d2) {
    this.r_ = d2;
  }
  i_(d2) {
    this.s_ = d2;
  }
  onMessage(d2) {
    this.o_ = d2;
  }
  close() {
    this.Xo();
  }
  send(d2) {
    this.Zo(d2);
  }
  __() {
    this.t_();
  }
  a_() {
    this.r_();
  }
  u_(d2) {
    this.s_(d2);
  }
  c_(d2) {
    this.o_(d2);
  }
}
const hm = "WebChannelConnection";
class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection {
  constructor(d2) {
    super(d2), this.forceLongPolling = d2.forceLongPolling, this.autoDetectLongPolling = d2.autoDetectLongPolling, this.useFetchStreams = d2.useFetchStreams, this.longPollingOptions = d2.longPollingOptions;
  }
  Jo(d2, g2, _2, O2, $2) {
    const st2 = __PRIVATE_generateUniqueDebugId();
    return new Promise(($3, ot2) => {
      const lt2 = new f_();
      lt2.setWithCredentials(true), lt2.listenOnce(__.COMPLETE, () => {
        try {
          switch (lt2.getLastErrorCode()) {
            case m_.NO_ERROR:
              const g3 = lt2.getResponseJson();
              __PRIVATE_logDebug(hm, `XHR for RPC '${d2}' ${st2} received:`, JSON.stringify(g3)), $3(g3);
              break;
            case m_.TIMEOUT:
              __PRIVATE_logDebug(hm, `RPC '${d2}' ${st2} timed out`), ot2(new FirestoreError(A_.DEADLINE_EXCEEDED, "Request time out"));
              break;
            case m_.HTTP_ERROR:
              const _3 = lt2.getStatus();
              if (__PRIVATE_logDebug(hm, `RPC '${d2}' ${st2} failed with status:`, _3, "response text:", lt2.getResponseText()), _3 > 0) {
                let d3 = lt2.getResponseJson();
                Array.isArray(d3) && (d3 = d3[0]);
                const g4 = null == d3 ? void 0 : d3.error;
                if (g4 && g4.status && g4.message) {
                  const d4 = function __PRIVATE_mapCodeFromHttpResponseErrorStatus(d5) {
                    const g5 = d5.toLowerCase().replace(/_/g, "-");
                    return Object.values(A_).indexOf(g5) >= 0 ? g5 : A_.UNKNOWN;
                  }(g4.status);
                  ot2(new FirestoreError(d4, g4.message));
                } else ot2(new FirestoreError(A_.UNKNOWN, "Server responded with status " + lt2.getStatus()));
              } else ot2(new FirestoreError(A_.UNAVAILABLE, "Connection failed."));
              break;
            default:
              fail(9055, { l_: d2, streamId: st2, h_: lt2.getLastErrorCode(), P_: lt2.getLastError() });
          }
        } finally {
          __PRIVATE_logDebug(hm, `RPC '${d2}' ${st2} completed.`);
        }
      });
      const ct2 = JSON.stringify(O2);
      __PRIVATE_logDebug(hm, `RPC '${d2}' ${st2} sending request:`, O2), lt2.send(g2, "POST", ct2, _2, 15);
    });
  }
  T_(d2, g2, _2) {
    const O2 = __PRIVATE_generateUniqueDebugId(), $2 = [this.Ko, "/", "google.firestore.v1.Firestore", "/", d2, "/channel"], st2 = w_(), ot2 = y_(), lt2 = { httpSessionIdParam: "gsessionid", initMessageHeaders: {}, messageUrlParams: { database: `projects/${this.databaseId.projectId}/databases/${this.databaseId.database}` }, sendRawJson: true, supportsCrossDomainXhr: true, internalChannelParams: { forwardChannelRequestTimeoutMs: 6e5 }, forceLongPolling: this.forceLongPolling, detectBufferingProxy: this.autoDetectLongPolling }, ct2 = this.longPollingOptions.timeoutSeconds;
    void 0 !== ct2 && (lt2.longPollingTimeout = Math.round(1e3 * ct2)), this.useFetchStreams && (lt2.useFetchStreams = true), this.Ho(lt2.initMessageHeaders, g2, _2), lt2.encodeInitMessageHeaders = true;
    const ut2 = $2.join("");
    __PRIVATE_logDebug(hm, `Creating RPC '${d2}' stream ${O2}: ${ut2}`, lt2);
    const gt2 = st2.createWebChannel(ut2, lt2);
    let mt2 = false, bt2 = false;
    const yt2 = new __PRIVATE_StreamBridge({ Zo: (g3) => {
      bt2 ? __PRIVATE_logDebug(hm, `Not sending because RPC '${d2}' stream ${O2} is closed:`, g3) : (mt2 || (__PRIVATE_logDebug(hm, `Opening RPC '${d2}' stream ${O2} transport.`), gt2.open(), mt2 = true), __PRIVATE_logDebug(hm, `RPC '${d2}' stream ${O2} sending:`, g3), gt2.send(g3));
    }, Xo: () => gt2.close() }), __PRIVATE_unguardedEventListen = (d3, g3, _3) => {
      d3.listen(g3, (d4) => {
        try {
          _3(d4);
        } catch (d5) {
          setTimeout(() => {
            throw d5;
          }, 0);
        }
      });
    };
    return __PRIVATE_unguardedEventListen(gt2, g_.EventType.OPEN, () => {
      bt2 || (__PRIVATE_logDebug(hm, `RPC '${d2}' stream ${O2} transport opened.`), yt2.__());
    }), __PRIVATE_unguardedEventListen(gt2, g_.EventType.CLOSE, () => {
      bt2 || (bt2 = true, __PRIVATE_logDebug(hm, `RPC '${d2}' stream ${O2} transport closed`), yt2.u_());
    }), __PRIVATE_unguardedEventListen(gt2, g_.EventType.ERROR, (g3) => {
      bt2 || (bt2 = true, __PRIVATE_logWarn(hm, `RPC '${d2}' stream ${O2} transport errored. Name:`, g3.name, "Message:", g3.message), yt2.u_(new FirestoreError(A_.UNAVAILABLE, "The operation could not be completed")));
    }), __PRIVATE_unguardedEventListen(gt2, g_.EventType.MESSAGE, (g3) => {
      var _3;
      if (!bt2) {
        const $3 = g3.data[0];
        __PRIVATE_hardAssert(!!$3, 16349);
        const st3 = $3, ot3 = (null == st3 ? void 0 : st3.error) || (null === (_3 = st3[0]) || void 0 === _3 ? void 0 : _3.error);
        if (ot3) {
          __PRIVATE_logDebug(hm, `RPC '${d2}' stream ${O2} received error:`, ot3);
          const g4 = ot3.status;
          let _4 = function __PRIVATE_mapCodeFromRpcStatus(d3) {
            const g5 = Y_[d3];
            if (void 0 !== g5) return __PRIVATE_mapCodeFromRpcCode(g5);
          }(g4), $4 = ot3.message;
          void 0 === _4 && (_4 = A_.INTERNAL, $4 = "Unknown error status: " + g4 + " with message " + ot3.message), bt2 = true, yt2.u_(new FirestoreError(_4, $4)), gt2.close();
        } else __PRIVATE_logDebug(hm, `RPC '${d2}' stream ${O2} received:`, $3), yt2.c_($3);
      }
    }), __PRIVATE_unguardedEventListen(ot2, b_.STAT_EVENT, (g3) => {
      g3.stat === v_.PROXY ? __PRIVATE_logDebug(hm, `RPC '${d2}' stream ${O2} detected buffering proxy`) : g3.stat === v_.NOPROXY && __PRIVATE_logDebug(hm, `RPC '${d2}' stream ${O2} detected no buffering proxy`);
    }), setTimeout(() => {
      yt2.a_();
    }, 0), yt2;
  }
}
function getDocument() {
  return "undefined" != typeof document ? document : null;
}
function __PRIVATE_newSerializer(d2) {
  return new JsonProtoSerializer(d2, true);
}
class __PRIVATE_ExponentialBackoff {
  constructor(d2, g2, _2 = 1e3, O2 = 1.5, $2 = 6e4) {
    this.xi = d2, this.timerId = g2, this.I_ = _2, this.E_ = O2, this.d_ = $2, this.A_ = 0, this.R_ = null, this.V_ = Date.now(), this.reset();
  }
  reset() {
    this.A_ = 0;
  }
  m_() {
    this.A_ = this.d_;
  }
  f_(d2) {
    this.cancel();
    const g2 = Math.floor(this.A_ + this.g_()), _2 = Math.max(0, Date.now() - this.V_), O2 = Math.max(0, g2 - _2);
    O2 > 0 && __PRIVATE_logDebug("ExponentialBackoff", `Backing off for ${O2} ms (base delay: ${this.A_} ms, delay with jitter: ${g2} ms, last attempt: ${_2} ms ago)`), this.R_ = this.xi.enqueueAfterDelay(this.timerId, O2, () => (this.V_ = Date.now(), d2())), this.A_ *= this.E_, this.A_ < this.I_ && (this.A_ = this.I_), this.A_ > this.d_ && (this.A_ = this.d_);
  }
  p_() {
    null !== this.R_ && (this.R_.skipDelay(), this.R_ = null);
  }
  cancel() {
    null !== this.R_ && (this.R_.cancel(), this.R_ = null);
  }
  g_() {
    return (Math.random() - 0.5) * this.A_;
  }
}
const um = "PersistentStream";
class __PRIVATE_PersistentStream {
  constructor(d2, g2, _2, O2, $2, st2, ot2, lt2) {
    this.xi = d2, this.y_ = _2, this.w_ = O2, this.connection = $2, this.authCredentialsProvider = st2, this.appCheckCredentialsProvider = ot2, this.listener = lt2, this.state = 0, this.S_ = 0, this.b_ = null, this.D_ = null, this.stream = null, this.v_ = 0, this.C_ = new __PRIVATE_ExponentialBackoff(d2, g2);
  }
  F_() {
    return 1 === this.state || 5 === this.state || this.M_();
  }
  M_() {
    return 2 === this.state || 3 === this.state;
  }
  start() {
    this.v_ = 0, 4 !== this.state ? this.auth() : this.x_();
  }
  async stop() {
    this.F_() && await this.close(0);
  }
  O_() {
    this.state = 0, this.C_.reset();
  }
  N_() {
    this.M_() && null === this.b_ && (this.b_ = this.xi.enqueueAfterDelay(this.y_, 6e4, () => this.B_()));
  }
  L_(d2) {
    this.k_(), this.stream.send(d2);
  }
  async B_() {
    if (this.M_()) return this.close(0);
  }
  k_() {
    this.b_ && (this.b_.cancel(), this.b_ = null);
  }
  q_() {
    this.D_ && (this.D_.cancel(), this.D_ = null);
  }
  async close(d2, g2) {
    this.k_(), this.q_(), this.C_.cancel(), this.S_++, 4 !== d2 ? this.C_.reset() : g2 && g2.code === A_.RESOURCE_EXHAUSTED ? (__PRIVATE_logError(g2.toString()), __PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."), this.C_.m_()) : g2 && g2.code === A_.UNAUTHENTICATED && 3 !== this.state && (this.authCredentialsProvider.invalidateToken(), this.appCheckCredentialsProvider.invalidateToken()), null !== this.stream && (this.Q_(), this.stream.close(), this.stream = null), this.state = d2, await this.listener.i_(g2);
  }
  Q_() {
  }
  auth() {
    this.state = 1;
    const d2 = this.U_(this.S_), g2 = this.S_;
    Promise.all([this.authCredentialsProvider.getToken(), this.appCheckCredentialsProvider.getToken()]).then(([d3, _2]) => {
      this.S_ === g2 && this.K_(d3, _2);
    }, (g3) => {
      d2(() => {
        const d3 = new FirestoreError(A_.UNKNOWN, "Fetching auth token failed: " + g3.message);
        return this.W_(d3);
      });
    });
  }
  K_(d2, g2) {
    const _2 = this.U_(this.S_);
    this.stream = this.G_(d2, g2), this.stream.e_(() => {
      _2(() => this.listener.e_());
    }), this.stream.n_(() => {
      _2(() => (this.state = 2, this.D_ = this.xi.enqueueAfterDelay(this.w_, 1e4, () => (this.M_() && (this.state = 3), Promise.resolve())), this.listener.n_()));
    }), this.stream.i_((d3) => {
      _2(() => this.W_(d3));
    }), this.stream.onMessage((d3) => {
      _2(() => 1 == ++this.v_ ? this.z_(d3) : this.onNext(d3));
    });
  }
  x_() {
    this.state = 5, this.C_.f_(async () => {
      this.state = 0, this.start();
    });
  }
  W_(d2) {
    return __PRIVATE_logDebug(um, `close with error: ${d2}`), this.stream = null, this.close(4, d2);
  }
  U_(d2) {
    return (g2) => {
      this.xi.enqueueAndForget(() => this.S_ === d2 ? g2() : (__PRIVATE_logDebug(um, "stream callback skipped by getCloseGuardedDispatcher."), Promise.resolve()));
    };
  }
}
class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream {
  constructor(d2, g2, _2, O2, $2, st2) {
    super(d2, "listen_stream_connection_backoff", "listen_stream_idle", "health_check_timeout", g2, _2, O2, st2), this.serializer = $2;
  }
  G_(d2, g2) {
    return this.connection.T_("Listen", d2, g2);
  }
  z_(d2) {
    return this.onNext(d2);
  }
  onNext(d2) {
    this.C_.reset();
    const g2 = function __PRIVATE_fromWatchChange(d3, g3) {
      let _3;
      if ("targetChange" in g3) {
        g3.targetChange;
        const O2 = function __PRIVATE_fromWatchTargetChangeState(d4) {
          return "NO_CHANGE" === d4 ? 0 : "ADD" === d4 ? 1 : "REMOVE" === d4 ? 2 : "CURRENT" === d4 ? 3 : "RESET" === d4 ? 4 : fail(39313, { state: d4 });
        }(g3.targetChange.targetChangeType || "NO_CHANGE"), $2 = g3.targetChange.targetIds || [], st2 = function __PRIVATE_fromBytes(d4, g4) {
          return d4.useProto3Json ? (__PRIVATE_hardAssert(void 0 === g4 || "string" == typeof g4, 58123), ByteString.fromBase64String(g4 || "")) : (__PRIVATE_hardAssert(void 0 === g4 || g4 instanceof Buffer || g4 instanceof Uint8Array, 16193), ByteString.fromUint8Array(g4 || new Uint8Array()));
        }(d3, g3.targetChange.resumeToken), ot2 = g3.targetChange.cause, lt2 = ot2 && function __PRIVATE_fromRpcStatus(d4) {
          const g4 = void 0 === d4.code ? A_.UNKNOWN : __PRIVATE_mapCodeFromRpcCode(d4.code);
          return new FirestoreError(g4, d4.message || "");
        }(ot2);
        _3 = new __PRIVATE_WatchTargetChange(O2, $2, st2, lt2 || null);
      } else if ("documentChange" in g3) {
        g3.documentChange;
        const O2 = g3.documentChange;
        O2.document, O2.document.name, O2.document.updateTime;
        const $2 = fromName(d3, O2.document.name), st2 = __PRIVATE_fromVersion(O2.document.updateTime), ot2 = O2.document.createTime ? __PRIVATE_fromVersion(O2.document.createTime) : SnapshotVersion.min(), lt2 = new ObjectValue({ mapValue: { fields: O2.document.fields } }), ct2 = MutableDocument.newFoundDocument($2, st2, ot2, lt2), ut2 = O2.targetIds || [], gt2 = O2.removedTargetIds || [];
        _3 = new __PRIVATE_DocumentWatchChange(ut2, gt2, ct2.key, ct2);
      } else if ("documentDelete" in g3) {
        g3.documentDelete;
        const O2 = g3.documentDelete;
        O2.document;
        const $2 = fromName(d3, O2.document), st2 = O2.readTime ? __PRIVATE_fromVersion(O2.readTime) : SnapshotVersion.min(), ot2 = MutableDocument.newNoDocument($2, st2), lt2 = O2.removedTargetIds || [];
        _3 = new __PRIVATE_DocumentWatchChange([], lt2, ot2.key, ot2);
      } else if ("documentRemove" in g3) {
        g3.documentRemove;
        const O2 = g3.documentRemove;
        O2.document;
        const $2 = fromName(d3, O2.document), st2 = O2.removedTargetIds || [];
        _3 = new __PRIVATE_DocumentWatchChange([], st2, $2, null);
      } else {
        if (!("filter" in g3)) return fail(11601, { Vt: g3 });
        {
          g3.filter;
          const d4 = g3.filter;
          d4.targetId;
          const { count: O2 = 0, unchangedNames: $2 } = d4, st2 = new ExistenceFilter(O2, $2), ot2 = d4.targetId;
          _3 = new __PRIVATE_ExistenceFilterChange(ot2, st2);
        }
      }
      return _3;
    }(this.serializer, d2), _2 = function __PRIVATE_versionFromListenResponse(d3) {
      if (!("targetChange" in d3)) return SnapshotVersion.min();
      const g3 = d3.targetChange;
      return g3.targetIds && g3.targetIds.length ? SnapshotVersion.min() : g3.readTime ? __PRIVATE_fromVersion(g3.readTime) : SnapshotVersion.min();
    }(d2);
    return this.listener.j_(g2, _2);
  }
  H_(d2) {
    const g2 = {};
    g2.database = __PRIVATE_getEncodedDatabaseId(this.serializer), g2.addTarget = function __PRIVATE_toTarget(d3, g3) {
      let _3;
      const O2 = g3.target;
      if (_3 = __PRIVATE_targetIsDocumentTarget(O2) ? { documents: __PRIVATE_toDocumentsTarget(d3, O2) } : { query: __PRIVATE_toQueryTarget(d3, O2).gt }, _3.targetId = g3.targetId, g3.resumeToken.approximateByteSize() > 0) {
        _3.resumeToken = function __PRIVATE_toBytes(d4, g4) {
          return d4.useProto3Json ? g4.toBase64() : g4.toUint8Array();
        }(d3, g3.resumeToken);
        const O3 = __PRIVATE_toInt32Proto(d3, g3.expectedCount);
        null !== O3 && (_3.expectedCount = O3);
      } else if (g3.snapshotVersion.compareTo(SnapshotVersion.min()) > 0) {
        _3.readTime = function toTimestamp(d4, g4) {
          return d4.useProto3Json ? `${new Date(1e3 * g4.seconds).toISOString().replace(/\.\d*/, "").replace("Z", "")}.${("000000000" + g4.nanoseconds).slice(-9)}Z` : { seconds: "" + g4.seconds, nanos: g4.nanoseconds };
        }(d3, g3.snapshotVersion.toTimestamp());
        const O3 = __PRIVATE_toInt32Proto(d3, g3.expectedCount);
        null !== O3 && (_3.expectedCount = O3);
      }
      return _3;
    }(this.serializer, d2);
    const _2 = function __PRIVATE_toListenRequestLabels(d3, g3) {
      const _3 = function __PRIVATE_toLabel(d4) {
        switch (d4) {
          case "TargetPurposeListen":
            return null;
          case "TargetPurposeExistenceFilterMismatch":
            return "existence-filter-mismatch";
          case "TargetPurposeExistenceFilterMismatchBloom":
            return "existence-filter-mismatch-bloom";
          case "TargetPurposeLimboResolution":
            return "limbo-document";
          default:
            return fail(28987, { purpose: d4 });
        }
      }(g3.purpose);
      return null == _3 ? null : { "goog-listen-tags": _3 };
    }(this.serializer, d2);
    _2 && (g2.labels = _2), this.L_(g2);
  }
  J_(d2) {
    const g2 = {};
    g2.database = __PRIVATE_getEncodedDatabaseId(this.serializer), g2.removeTarget = d2, this.L_(g2);
  }
}
class Datastore {
}
class __PRIVATE_DatastoreImpl extends Datastore {
  constructor(d2, g2, _2, O2) {
    super(), this.authCredentials = d2, this.appCheckCredentials = g2, this.connection = _2, this.serializer = O2, this.na = false;
  }
  ra() {
    if (this.na) throw new FirestoreError(A_.FAILED_PRECONDITION, "The client has already been terminated.");
  }
  zo(d2, g2, _2, O2) {
    return this.ra(), Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()]).then(([$2, st2]) => this.connection.zo(d2, __PRIVATE_toResourcePath(g2, _2), O2, $2, st2)).catch((d3) => {
      throw "FirebaseError" === d3.name ? (d3.code === A_.UNAUTHENTICATED && (this.authCredentials.invalidateToken(), this.appCheckCredentials.invalidateToken()), d3) : new FirestoreError(A_.UNKNOWN, d3.toString());
    });
  }
  Yo(d2, g2, _2, O2, $2) {
    return this.ra(), Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()]).then(([st2, ot2]) => this.connection.Yo(d2, __PRIVATE_toResourcePath(g2, _2), O2, st2, ot2, $2)).catch((d3) => {
      throw "FirebaseError" === d3.name ? (d3.code === A_.UNAUTHENTICATED && (this.authCredentials.invalidateToken(), this.appCheckCredentials.invalidateToken()), d3) : new FirestoreError(A_.UNKNOWN, d3.toString());
    });
  }
  terminate() {
    this.na = true, this.connection.terminate();
  }
}
class __PRIVATE_OnlineStateTracker {
  constructor(d2, g2) {
    this.asyncQueue = d2, this.onlineStateHandler = g2, this.state = "Unknown", this.ia = 0, this.sa = null, this.oa = true;
  }
  _a() {
    0 === this.ia && (this.aa("Unknown"), this.sa = this.asyncQueue.enqueueAfterDelay("online_state_timeout", 1e4, () => (this.sa = null, this.ua("Backend didn't respond within 10 seconds."), this.aa("Offline"), Promise.resolve())));
  }
  ca(d2) {
    "Online" === this.state ? this.aa("Unknown") : (this.ia++, this.ia >= 1 && (this.la(), this.ua(`Connection failed 1 times. Most recent error: ${d2.toString()}`), this.aa("Offline")));
  }
  set(d2) {
    this.la(), this.ia = 0, "Online" === d2 && (this.oa = false), this.aa(d2);
  }
  aa(d2) {
    d2 !== this.state && (this.state = d2, this.onlineStateHandler(d2));
  }
  ua(d2) {
    const g2 = `Could not reach Cloud Firestore backend. ${d2}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;
    this.oa ? (__PRIVATE_logError(g2), this.oa = false) : __PRIVATE_logDebug("OnlineStateTracker", g2);
  }
  la() {
    null !== this.sa && (this.sa.cancel(), this.sa = null);
  }
}
const dm = "RemoteStore";
class __PRIVATE_RemoteStoreImpl {
  constructor(d2, g2, _2, O2, $2) {
    this.localStore = d2, this.datastore = g2, this.asyncQueue = _2, this.remoteSyncer = {}, this.ha = [], this.Pa = /* @__PURE__ */ new Map(), this.Ta = /* @__PURE__ */ new Set(), this.Ia = [], this.Ea = $2, this.Ea.No((d3) => {
      _2.enqueueAndForget(async () => {
        __PRIVATE_canUseNetwork(this) && (__PRIVATE_logDebug(dm, "Restarting streams for network reachability change."), await async function __PRIVATE_restartNetwork(d4) {
          const g3 = __PRIVATE_debugCast(d4);
          g3.Ta.add(4), await __PRIVATE_disableNetworkInternal(g3), g3.da.set("Unknown"), g3.Ta.delete(4), await __PRIVATE_enableNetworkInternal(g3);
        }(this));
      });
    }), this.da = new __PRIVATE_OnlineStateTracker(_2, O2);
  }
}
async function __PRIVATE_enableNetworkInternal(d2) {
  if (__PRIVATE_canUseNetwork(d2)) for (const g2 of d2.Ia) await g2(true);
}
async function __PRIVATE_disableNetworkInternal(d2) {
  for (const g2 of d2.Ia) await g2(false);
}
function __PRIVATE_remoteStoreListen(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2);
  _2.Pa.has(g2.targetId) || (_2.Pa.set(g2.targetId, g2), __PRIVATE_shouldStartWatchStream(_2) ? __PRIVATE_startWatchStream(_2) : __PRIVATE_ensureWatchStream(_2).M_() && __PRIVATE_sendWatchRequest(_2, g2));
}
function __PRIVATE_remoteStoreUnlisten(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2), O2 = __PRIVATE_ensureWatchStream(_2);
  _2.Pa.delete(g2), O2.M_() && __PRIVATE_sendUnwatchRequest(_2, g2), 0 === _2.Pa.size && (O2.M_() ? O2.N_() : __PRIVATE_canUseNetwork(_2) && _2.da.set("Unknown"));
}
function __PRIVATE_sendWatchRequest(d2, g2) {
  if (d2.Aa.Ke(g2.targetId), g2.resumeToken.approximateByteSize() > 0 || g2.snapshotVersion.compareTo(SnapshotVersion.min()) > 0) {
    const _2 = d2.remoteSyncer.getRemoteKeysForTarget(g2.targetId).size;
    g2 = g2.withExpectedCount(_2);
  }
  __PRIVATE_ensureWatchStream(d2).H_(g2);
}
function __PRIVATE_sendUnwatchRequest(d2, g2) {
  d2.Aa.Ke(g2), __PRIVATE_ensureWatchStream(d2).J_(g2);
}
function __PRIVATE_startWatchStream(d2) {
  d2.Aa = new __PRIVATE_WatchChangeAggregator({ getRemoteKeysForTarget: (g2) => d2.remoteSyncer.getRemoteKeysForTarget(g2), Rt: (g2) => d2.Pa.get(g2) || null, Pt: () => d2.datastore.serializer.databaseId }), __PRIVATE_ensureWatchStream(d2).start(), d2.da._a();
}
function __PRIVATE_shouldStartWatchStream(d2) {
  return __PRIVATE_canUseNetwork(d2) && !__PRIVATE_ensureWatchStream(d2).F_() && d2.Pa.size > 0;
}
function __PRIVATE_canUseNetwork(d2) {
  return 0 === __PRIVATE_debugCast(d2).Ta.size;
}
function __PRIVATE_cleanUpWatchStreamState(d2) {
  d2.Aa = void 0;
}
async function __PRIVATE_onWatchStreamConnected(d2) {
  d2.da.set("Online");
}
async function __PRIVATE_onWatchStreamOpen(d2) {
  d2.Pa.forEach((g2, _2) => {
    __PRIVATE_sendWatchRequest(d2, g2);
  });
}
async function __PRIVATE_onWatchStreamClose(d2, g2) {
  __PRIVATE_cleanUpWatchStreamState(d2), __PRIVATE_shouldStartWatchStream(d2) ? (d2.da.ca(g2), __PRIVATE_startWatchStream(d2)) : d2.da.set("Unknown");
}
async function __PRIVATE_onWatchStreamChange(d2, g2, _2) {
  if (d2.da.set("Online"), g2 instanceof __PRIVATE_WatchTargetChange && 2 === g2.state && g2.cause) try {
    await async function __PRIVATE_handleTargetError(d3, g3) {
      const _3 = g3.cause;
      for (const O2 of g3.targetIds) d3.Pa.has(O2) && (await d3.remoteSyncer.rejectListen(O2, _3), d3.Pa.delete(O2), d3.Aa.removeTarget(O2));
    }(d2, g2);
  } catch (_3) {
    __PRIVATE_logDebug(dm, "Failed to remove targets %s: %s ", g2.targetIds.join(","), _3), await __PRIVATE_disableNetworkUntilRecovery(d2, _3);
  }
  else if (g2 instanceof __PRIVATE_DocumentWatchChange ? d2.Aa.Xe(g2) : g2 instanceof __PRIVATE_ExistenceFilterChange ? d2.Aa.ot(g2) : d2.Aa.nt(g2), !_2.isEqual(SnapshotVersion.min())) try {
    const g3 = await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(d2.localStore);
    _2.compareTo(g3) >= 0 && await function __PRIVATE_raiseWatchSnapshot(d3, g4) {
      const _3 = d3.Aa.It(g4);
      return _3.targetChanges.forEach((_4, O2) => {
        if (_4.resumeToken.approximateByteSize() > 0) {
          const $2 = d3.Pa.get(O2);
          $2 && d3.Pa.set(O2, $2.withResumeToken(_4.resumeToken, g4));
        }
      }), _3.targetMismatches.forEach((g5, _4) => {
        const O2 = d3.Pa.get(g5);
        if (!O2) return;
        d3.Pa.set(g5, O2.withResumeToken(ByteString.EMPTY_BYTE_STRING, O2.snapshotVersion)), __PRIVATE_sendUnwatchRequest(d3, g5);
        const $2 = new TargetData(O2.target, g5, _4, O2.sequenceNumber);
        __PRIVATE_sendWatchRequest(d3, $2);
      }), d3.remoteSyncer.applyRemoteEvent(_3);
    }(d2, _2);
  } catch (g3) {
    __PRIVATE_logDebug(dm, "Failed to raise snapshot:", g3), await __PRIVATE_disableNetworkUntilRecovery(d2, g3);
  }
}
async function __PRIVATE_disableNetworkUntilRecovery(d2, g2, _2) {
  if (!__PRIVATE_isIndexedDbTransactionError(g2)) throw g2;
  d2.Ta.add(1), await __PRIVATE_disableNetworkInternal(d2), d2.da.set("Offline"), _2 || (_2 = () => __PRIVATE_localStoreGetLastRemoteSnapshotVersion(d2.localStore)), d2.asyncQueue.enqueueRetryable(async () => {
    __PRIVATE_logDebug(dm, "Retrying IndexedDB access"), await _2(), d2.Ta.delete(1), await __PRIVATE_enableNetworkInternal(d2);
  });
}
async function __PRIVATE_remoteStoreHandleCredentialChange(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2);
  _2.asyncQueue.verifyOperationInProgress(), __PRIVATE_logDebug(dm, "RemoteStore received new credentials");
  const O2 = __PRIVATE_canUseNetwork(_2);
  _2.Ta.add(3), await __PRIVATE_disableNetworkInternal(_2), O2 && _2.da.set("Unknown"), await _2.remoteSyncer.handleCredentialChange(g2), _2.Ta.delete(3), await __PRIVATE_enableNetworkInternal(_2);
}
function __PRIVATE_ensureWatchStream(d2) {
  return d2.Ra || (d2.Ra = function __PRIVATE_newPersistentWatchStream(d3, g2, _2) {
    const O2 = __PRIVATE_debugCast(d3);
    return O2.ra(), new __PRIVATE_PersistentListenStream(g2, O2.connection, O2.authCredentials, O2.appCheckCredentials, O2.serializer, _2);
  }(d2.datastore, d2.asyncQueue, { e_: __PRIVATE_onWatchStreamConnected.bind(null, d2), n_: __PRIVATE_onWatchStreamOpen.bind(null, d2), i_: __PRIVATE_onWatchStreamClose.bind(null, d2), j_: __PRIVATE_onWatchStreamChange.bind(null, d2) }), d2.Ia.push(async (g2) => {
    g2 ? (d2.Ra.O_(), __PRIVATE_shouldStartWatchStream(d2) ? __PRIVATE_startWatchStream(d2) : d2.da.set("Unknown")) : (await d2.Ra.stop(), __PRIVATE_cleanUpWatchStreamState(d2));
  })), d2.Ra;
}
class DelayedOperation {
  constructor(d2, g2, _2, O2, $2) {
    this.asyncQueue = d2, this.timerId = g2, this.targetTimeMs = _2, this.op = O2, this.removalCallback = $2, this.deferred = new __PRIVATE_Deferred(), this.then = this.deferred.promise.then.bind(this.deferred.promise), this.deferred.promise.catch((d3) => {
    });
  }
  get promise() {
    return this.deferred.promise;
  }
  static createAndSchedule(d2, g2, _2, O2, $2) {
    const st2 = Date.now() + _2, ot2 = new DelayedOperation(d2, g2, st2, O2, $2);
    return ot2.start(_2), ot2;
  }
  start(d2) {
    this.timerHandle = setTimeout(() => this.handleDelayElapsed(), d2);
  }
  skipDelay() {
    return this.handleDelayElapsed();
  }
  cancel(d2) {
    null !== this.timerHandle && (this.clearTimeout(), this.deferred.reject(new FirestoreError(A_.CANCELLED, "Operation cancelled" + (d2 ? ": " + d2 : ""))));
  }
  handleDelayElapsed() {
    this.asyncQueue.enqueueAndForget(() => null !== this.timerHandle ? (this.clearTimeout(), this.op().then((d2) => this.deferred.resolve(d2))) : Promise.resolve());
  }
  clearTimeout() {
    null !== this.timerHandle && (this.removalCallback(this), clearTimeout(this.timerHandle), this.timerHandle = null);
  }
}
function __PRIVATE_wrapInUserErrorIfRecoverable(d2, g2) {
  if (__PRIVATE_logError("AsyncQueue", `${g2}: ${d2}`), __PRIVATE_isIndexedDbTransactionError(d2)) return new FirestoreError(A_.UNAVAILABLE, `${g2}: ${d2}`);
  throw d2;
}
class DocumentSet {
  static emptySet(d2) {
    return new DocumentSet(d2.comparator);
  }
  constructor(d2) {
    this.comparator = d2 ? (g2, _2) => d2(g2, _2) || DocumentKey.comparator(g2.key, _2.key) : (d3, g2) => DocumentKey.comparator(d3.key, g2.key), this.keyedMap = documentMap(), this.sortedSet = new SortedMap(this.comparator);
  }
  has(d2) {
    return null != this.keyedMap.get(d2);
  }
  get(d2) {
    return this.keyedMap.get(d2);
  }
  first() {
    return this.sortedSet.minKey();
  }
  last() {
    return this.sortedSet.maxKey();
  }
  isEmpty() {
    return this.sortedSet.isEmpty();
  }
  indexOf(d2) {
    const g2 = this.keyedMap.get(d2);
    return g2 ? this.sortedSet.indexOf(g2) : -1;
  }
  get size() {
    return this.sortedSet.size;
  }
  forEach(d2) {
    this.sortedSet.inorderTraversal((g2, _2) => (d2(g2), false));
  }
  add(d2) {
    const g2 = this.delete(d2.key);
    return g2.copy(g2.keyedMap.insert(d2.key, d2), g2.sortedSet.insert(d2, null));
  }
  delete(d2) {
    const g2 = this.get(d2);
    return g2 ? this.copy(this.keyedMap.remove(d2), this.sortedSet.remove(g2)) : this;
  }
  isEqual(d2) {
    if (!(d2 instanceof DocumentSet)) return false;
    if (this.size !== d2.size) return false;
    const g2 = this.sortedSet.getIterator(), _2 = d2.sortedSet.getIterator();
    for (; g2.hasNext(); ) {
      const d3 = g2.getNext().key, O2 = _2.getNext().key;
      if (!d3.isEqual(O2)) return false;
    }
    return true;
  }
  toString() {
    const d2 = [];
    return this.forEach((g2) => {
      d2.push(g2.toString());
    }), 0 === d2.length ? "DocumentSet ()" : "DocumentSet (\n  " + d2.join("  \n") + "\n)";
  }
  copy(d2, g2) {
    const _2 = new DocumentSet();
    return _2.comparator = this.comparator, _2.keyedMap = d2, _2.sortedSet = g2, _2;
  }
}
class __PRIVATE_DocumentChangeSet {
  constructor() {
    this.ma = new SortedMap(DocumentKey.comparator);
  }
  track(d2) {
    const g2 = d2.doc.key, _2 = this.ma.get(g2);
    _2 ? 0 !== d2.type && 3 === _2.type ? this.ma = this.ma.insert(g2, d2) : 3 === d2.type && 1 !== _2.type ? this.ma = this.ma.insert(g2, { type: _2.type, doc: d2.doc }) : 2 === d2.type && 2 === _2.type ? this.ma = this.ma.insert(g2, { type: 2, doc: d2.doc }) : 2 === d2.type && 0 === _2.type ? this.ma = this.ma.insert(g2, { type: 0, doc: d2.doc }) : 1 === d2.type && 0 === _2.type ? this.ma = this.ma.remove(g2) : 1 === d2.type && 2 === _2.type ? this.ma = this.ma.insert(g2, { type: 1, doc: _2.doc }) : 0 === d2.type && 1 === _2.type ? this.ma = this.ma.insert(g2, { type: 2, doc: d2.doc }) : fail(63341, { Vt: d2, fa: _2 }) : this.ma = this.ma.insert(g2, d2);
  }
  ga() {
    const d2 = [];
    return this.ma.inorderTraversal((g2, _2) => {
      d2.push(_2);
    }), d2;
  }
}
class ViewSnapshot {
  constructor(d2, g2, _2, O2, $2, st2, ot2, lt2, ct2) {
    this.query = d2, this.docs = g2, this.oldDocs = _2, this.docChanges = O2, this.mutatedKeys = $2, this.fromCache = st2, this.syncStateChanged = ot2, this.excludesMetadataChanges = lt2, this.hasCachedResults = ct2;
  }
  static fromInitialDocuments(d2, g2, _2, O2, $2) {
    const st2 = [];
    return g2.forEach((d3) => {
      st2.push({ type: 0, doc: d3 });
    }), new ViewSnapshot(d2, g2, DocumentSet.emptySet(g2), st2, _2, O2, true, false, $2);
  }
  get hasPendingWrites() {
    return !this.mutatedKeys.isEmpty();
  }
  isEqual(d2) {
    if (!(this.fromCache === d2.fromCache && this.hasCachedResults === d2.hasCachedResults && this.syncStateChanged === d2.syncStateChanged && this.mutatedKeys.isEqual(d2.mutatedKeys) && __PRIVATE_queryEquals(this.query, d2.query) && this.docs.isEqual(d2.docs) && this.oldDocs.isEqual(d2.oldDocs))) return false;
    const g2 = this.docChanges, _2 = d2.docChanges;
    if (g2.length !== _2.length) return false;
    for (let d3 = 0; d3 < g2.length; d3++) if (g2[d3].type !== _2[d3].type || !g2[d3].doc.isEqual(_2[d3].doc)) return false;
    return true;
  }
}
class __PRIVATE_QueryListenersInfo {
  constructor() {
    this.pa = void 0, this.ya = [];
  }
  wa() {
    return this.ya.some((d2) => d2.Sa());
  }
}
class __PRIVATE_EventManagerImpl {
  constructor() {
    this.queries = __PRIVATE_newQueriesObjectMap(), this.onlineState = "Unknown", this.ba = /* @__PURE__ */ new Set();
  }
  terminate() {
    !function __PRIVATE_errorAllTargets(d2, g2) {
      const _2 = __PRIVATE_debugCast(d2), O2 = _2.queries;
      _2.queries = __PRIVATE_newQueriesObjectMap(), O2.forEach((d3, _3) => {
        for (const d4 of _3.ya) d4.onError(g2);
      });
    }(this, new FirestoreError(A_.ABORTED, "Firestore shutting down"));
  }
}
function __PRIVATE_newQueriesObjectMap() {
  return new ObjectMap((d2) => __PRIVATE_canonifyQuery(d2), __PRIVATE_queryEquals);
}
async function __PRIVATE_eventManagerListen(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2);
  let O2 = 3;
  const $2 = g2.query;
  let st2 = _2.queries.get($2);
  st2 ? !st2.wa() && g2.Sa() && (O2 = 2) : (st2 = new __PRIVATE_QueryListenersInfo(), O2 = g2.Sa() ? 0 : 1);
  try {
    switch (O2) {
      case 0:
        st2.pa = await _2.onListen($2, true);
        break;
      case 1:
        st2.pa = await _2.onListen($2, false);
        break;
      case 2:
        await _2.onFirstRemoteStoreListen($2);
    }
  } catch (d3) {
    const _3 = __PRIVATE_wrapInUserErrorIfRecoverable(d3, `Initialization of query '${__PRIVATE_stringifyQuery(g2.query)}' failed`);
    return void g2.onError(_3);
  }
  _2.queries.set($2, st2), st2.ya.push(g2), g2.Da(_2.onlineState), st2.pa && g2.va(st2.pa) && __PRIVATE_raiseSnapshotsInSyncEvent(_2);
}
async function __PRIVATE_eventManagerUnlisten(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2), O2 = g2.query;
  let $2 = 3;
  const st2 = _2.queries.get(O2);
  if (st2) {
    const d3 = st2.ya.indexOf(g2);
    d3 >= 0 && (st2.ya.splice(d3, 1), 0 === st2.ya.length ? $2 = g2.Sa() ? 0 : 1 : !st2.wa() && g2.Sa() && ($2 = 2));
  }
  switch ($2) {
    case 0:
      return _2.queries.delete(O2), _2.onUnlisten(O2, true);
    case 1:
      return _2.queries.delete(O2), _2.onUnlisten(O2, false);
    case 2:
      return _2.onLastRemoteStoreUnlisten(O2);
    default:
      return;
  }
}
function __PRIVATE_eventManagerOnWatchChange(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2);
  let O2 = false;
  for (const d3 of g2) {
    const g3 = d3.query, $2 = _2.queries.get(g3);
    if ($2) {
      for (const g4 of $2.ya) g4.va(d3) && (O2 = true);
      $2.pa = d3;
    }
  }
  O2 && __PRIVATE_raiseSnapshotsInSyncEvent(_2);
}
function __PRIVATE_eventManagerOnWatchError(d2, g2, _2) {
  const O2 = __PRIVATE_debugCast(d2), $2 = O2.queries.get(g2);
  if ($2) for (const d3 of $2.ya) d3.onError(_2);
  O2.queries.delete(g2);
}
function __PRIVATE_raiseSnapshotsInSyncEvent(d2) {
  d2.ba.forEach((d3) => {
    d3.next();
  });
}
var pm, fm;
(fm = pm || (pm = {})).Ca = "default", fm.Cache = "cache";
class __PRIVATE_QueryListener {
  constructor(d2, g2, _2) {
    this.query = d2, this.Fa = g2, this.Ma = false, this.xa = null, this.onlineState = "Unknown", this.options = _2 || {};
  }
  va(d2) {
    if (!this.options.includeMetadataChanges) {
      const g3 = [];
      for (const _2 of d2.docChanges) 3 !== _2.type && g3.push(_2);
      d2 = new ViewSnapshot(d2.query, d2.docs, d2.oldDocs, g3, d2.mutatedKeys, d2.fromCache, d2.syncStateChanged, true, d2.hasCachedResults);
    }
    let g2 = false;
    return this.Ma ? this.Oa(d2) && (this.Fa.next(d2), g2 = true) : this.Na(d2, this.onlineState) && (this.Ba(d2), g2 = true), this.xa = d2, g2;
  }
  onError(d2) {
    this.Fa.error(d2);
  }
  Da(d2) {
    this.onlineState = d2;
    let g2 = false;
    return this.xa && !this.Ma && this.Na(this.xa, d2) && (this.Ba(this.xa), g2 = true), g2;
  }
  Na(d2, g2) {
    if (!d2.fromCache) return true;
    if (!this.Sa()) return true;
    const _2 = "Offline" !== g2;
    return (!this.options.La || !_2) && (!d2.docs.isEmpty() || d2.hasCachedResults || "Offline" === g2);
  }
  Oa(d2) {
    if (d2.docChanges.length > 0) return true;
    const g2 = this.xa && this.xa.hasPendingWrites !== d2.hasPendingWrites;
    return !(!d2.syncStateChanged && !g2) && true === this.options.includeMetadataChanges;
  }
  Ba(d2) {
    d2 = ViewSnapshot.fromInitialDocuments(d2.query, d2.docs, d2.mutatedKeys, d2.fromCache, d2.hasCachedResults), this.Ma = true, this.Fa.next(d2);
  }
  Sa() {
    return this.options.source !== pm.Cache;
  }
}
class __PRIVATE_AddedLimboDocument {
  constructor(d2) {
    this.key = d2;
  }
}
class __PRIVATE_RemovedLimboDocument {
  constructor(d2) {
    this.key = d2;
  }
}
class __PRIVATE_View {
  constructor(d2, g2) {
    this.query = d2, this.Ga = g2, this.za = null, this.hasCachedResults = false, this.current = false, this.ja = __PRIVATE_documentKeySet(), this.mutatedKeys = __PRIVATE_documentKeySet(), this.Ha = __PRIVATE_newQueryComparator(d2), this.Ja = new DocumentSet(this.Ha);
  }
  get Ya() {
    return this.Ga;
  }
  Za(d2, g2) {
    const _2 = g2 ? g2.Xa : new __PRIVATE_DocumentChangeSet(), O2 = g2 ? g2.Ja : this.Ja;
    let $2 = g2 ? g2.mutatedKeys : this.mutatedKeys, st2 = O2, ot2 = false;
    const lt2 = "F" === this.query.limitType && O2.size === this.query.limit ? O2.last() : null, ct2 = "L" === this.query.limitType && O2.size === this.query.limit ? O2.first() : null;
    if (d2.inorderTraversal((d3, g3) => {
      const ut2 = O2.get(d3), gt2 = __PRIVATE_queryMatches(this.query, g3) ? g3 : null, mt2 = !!ut2 && this.mutatedKeys.has(ut2.key), bt2 = !!gt2 && (gt2.hasLocalMutations || this.mutatedKeys.has(gt2.key) && gt2.hasCommittedMutations);
      let yt2 = false;
      ut2 && gt2 ? ut2.data.isEqual(gt2.data) ? mt2 !== bt2 && (_2.track({ type: 3, doc: gt2 }), yt2 = true) : this.eu(ut2, gt2) || (_2.track({ type: 2, doc: gt2 }), yt2 = true, (lt2 && this.Ha(gt2, lt2) > 0 || ct2 && this.Ha(gt2, ct2) < 0) && (ot2 = true)) : !ut2 && gt2 ? (_2.track({ type: 0, doc: gt2 }), yt2 = true) : ut2 && !gt2 && (_2.track({ type: 1, doc: ut2 }), yt2 = true, (lt2 || ct2) && (ot2 = true)), yt2 && (gt2 ? (st2 = st2.add(gt2), $2 = bt2 ? $2.add(d3) : $2.delete(d3)) : (st2 = st2.delete(d3), $2 = $2.delete(d3)));
    }), null !== this.query.limit) for (; st2.size > this.query.limit; ) {
      const d3 = "F" === this.query.limitType ? st2.last() : st2.first();
      st2 = st2.delete(d3.key), $2 = $2.delete(d3.key), _2.track({ type: 1, doc: d3 });
    }
    return { Ja: st2, Xa: _2, Cs: ot2, mutatedKeys: $2 };
  }
  eu(d2, g2) {
    return d2.hasLocalMutations && g2.hasCommittedMutations && !g2.hasLocalMutations;
  }
  applyChanges(d2, g2, _2, O2) {
    const $2 = this.Ja;
    this.Ja = d2.Ja, this.mutatedKeys = d2.mutatedKeys;
    const st2 = d2.Xa.ga();
    st2.sort((d3, g3) => function __PRIVATE_compareChangeType(d4, g4) {
      const order = (d5) => {
        switch (d5) {
          case 0:
            return 1;
          case 2:
          case 3:
            return 2;
          case 1:
            return 0;
          default:
            return fail(20277, { Vt: d5 });
        }
      };
      return order(d4) - order(g4);
    }(d3.type, g3.type) || this.Ha(d3.doc, g3.doc)), this.tu(_2), O2 = null != O2 && O2;
    const ot2 = g2 && !O2 ? this.nu() : [], lt2 = 0 === this.ja.size && this.current && !O2 ? 1 : 0, ct2 = lt2 !== this.za;
    return this.za = lt2, 0 !== st2.length || ct2 ? { snapshot: new ViewSnapshot(this.query, d2.Ja, $2, st2, d2.mutatedKeys, 0 === lt2, ct2, false, !!_2 && _2.resumeToken.approximateByteSize() > 0), ru: ot2 } : { ru: ot2 };
  }
  Da(d2) {
    return this.current && "Offline" === d2 ? (this.current = false, this.applyChanges({ Ja: this.Ja, Xa: new __PRIVATE_DocumentChangeSet(), mutatedKeys: this.mutatedKeys, Cs: false }, false)) : { ru: [] };
  }
  iu(d2) {
    return !this.Ga.has(d2) && !!this.Ja.has(d2) && !this.Ja.get(d2).hasLocalMutations;
  }
  tu(d2) {
    d2 && (d2.addedDocuments.forEach((d3) => this.Ga = this.Ga.add(d3)), d2.modifiedDocuments.forEach((d3) => {
    }), d2.removedDocuments.forEach((d3) => this.Ga = this.Ga.delete(d3)), this.current = d2.current);
  }
  nu() {
    if (!this.current) return [];
    const d2 = this.ja;
    this.ja = __PRIVATE_documentKeySet(), this.Ja.forEach((d3) => {
      this.iu(d3.key) && (this.ja = this.ja.add(d3.key));
    });
    const g2 = [];
    return d2.forEach((d3) => {
      this.ja.has(d3) || g2.push(new __PRIVATE_RemovedLimboDocument(d3));
    }), this.ja.forEach((_2) => {
      d2.has(_2) || g2.push(new __PRIVATE_AddedLimboDocument(_2));
    }), g2;
  }
  su(d2) {
    this.Ga = d2.$s, this.ja = __PRIVATE_documentKeySet();
    const g2 = this.Za(d2.documents);
    return this.applyChanges(g2, true);
  }
  ou() {
    return ViewSnapshot.fromInitialDocuments(this.query, this.Ja, this.mutatedKeys, 0 === this.za, this.hasCachedResults);
  }
}
const gm = "SyncEngine";
class __PRIVATE_QueryView {
  constructor(d2, g2, _2) {
    this.query = d2, this.targetId = g2, this.view = _2;
  }
}
class LimboResolution {
  constructor(d2) {
    this.key = d2, this._u = false;
  }
}
class __PRIVATE_SyncEngineImpl {
  constructor(d2, g2, _2, O2, $2, st2) {
    this.localStore = d2, this.remoteStore = g2, this.eventManager = _2, this.sharedClientState = O2, this.currentUser = $2, this.maxConcurrentLimboResolutions = st2, this.au = {}, this.uu = new ObjectMap((d3) => __PRIVATE_canonifyQuery(d3), __PRIVATE_queryEquals), this.cu = /* @__PURE__ */ new Map(), this.lu = /* @__PURE__ */ new Set(), this.hu = new SortedMap(DocumentKey.comparator), this.Pu = /* @__PURE__ */ new Map(), this.Tu = new __PRIVATE_ReferenceSet(), this.Iu = {}, this.Eu = /* @__PURE__ */ new Map(), this.du = __PRIVATE_TargetIdGenerator.lr(), this.onlineState = "Unknown", this.Au = void 0;
  }
  get isPrimaryClient() {
    return true === this.Au;
  }
}
async function __PRIVATE_syncEngineListen(d2, g2, _2 = true) {
  const O2 = __PRIVATE_ensureWatchCallbacks(d2);
  let $2;
  const st2 = O2.uu.get(g2);
  return st2 ? (O2.sharedClientState.addLocalQueryTarget(st2.targetId), $2 = st2.view.ou()) : $2 = await __PRIVATE_allocateTargetAndMaybeListen(O2, g2, _2, true), $2;
}
async function __PRIVATE_triggerRemoteStoreListen(d2, g2) {
  const _2 = __PRIVATE_ensureWatchCallbacks(d2);
  await __PRIVATE_allocateTargetAndMaybeListen(_2, g2, true, false);
}
async function __PRIVATE_allocateTargetAndMaybeListen(d2, g2, _2, O2) {
  const $2 = await function __PRIVATE_localStoreAllocateTarget(d3, g3) {
    const _3 = __PRIVATE_debugCast(d3);
    return _3.persistence.runTransaction("Allocate target", "readwrite", (d4) => {
      let O3;
      return _3.Ti.getTargetData(d4, g3).next(($3) => $3 ? (O3 = $3, PersistencePromise.resolve(O3)) : _3.Ti.allocateTargetId(d4).next(($4) => (O3 = new TargetData(g3, $4, "TargetPurposeListen", d4.currentSequenceNumber), _3.Ti.addTargetData(d4, O3).next(() => O3))));
    }).then((d4) => {
      const O3 = _3.xs.get(d4.targetId);
      return (null === O3 || d4.snapshotVersion.compareTo(O3.snapshotVersion) > 0) && (_3.xs = _3.xs.insert(d4.targetId, d4), _3.Os.set(g3, d4.targetId)), d4;
    });
  }(d2.localStore, __PRIVATE_queryToTarget(g2)), st2 = $2.targetId, ot2 = d2.sharedClientState.addLocalQueryTarget(st2, _2);
  let lt2;
  return O2 && (lt2 = await async function __PRIVATE_initializeViewAndComputeSnapshot(d3, g3, _3, O3, $3) {
    d3.Ru = (g4, _4, O4) => async function __PRIVATE_applyDocChanges(d4, g5, _5, O5) {
      let $4 = g5.view.Za(_5);
      $4.Cs && ($4 = await __PRIVATE_localStoreExecuteQuery(d4.localStore, g5.query, false).then(({ documents: d5 }) => g5.view.Za(d5, $4)));
      const st4 = O5 && O5.targetChanges.get(g5.targetId), ot4 = O5 && null != O5.targetMismatches.get(g5.targetId), lt4 = g5.view.applyChanges($4, d4.isPrimaryClient, st4, ot4);
      return __PRIVATE_updateTrackedLimbos(d4, g5.targetId, lt4.ru), lt4.snapshot;
    }(d3, g4, _4, O4);
    const st3 = await __PRIVATE_localStoreExecuteQuery(d3.localStore, g3, true), ot3 = new __PRIVATE_View(g3, st3.$s), lt3 = ot3.Za(st3.documents), ct2 = TargetChange.createSynthesizedTargetChangeForCurrentChange(_3, O3 && "Offline" !== d3.onlineState, $3), ut2 = ot3.applyChanges(lt3, d3.isPrimaryClient, ct2);
    __PRIVATE_updateTrackedLimbos(d3, _3, ut2.ru);
    const gt2 = new __PRIVATE_QueryView(g3, _3, ot3);
    return d3.uu.set(g3, gt2), d3.cu.has(_3) ? d3.cu.get(_3).push(g3) : d3.cu.set(_3, [g3]), ut2.snapshot;
  }(d2, g2, st2, "current" === ot2, $2.resumeToken)), d2.isPrimaryClient && _2 && __PRIVATE_remoteStoreListen(d2.remoteStore, $2), lt2;
}
async function __PRIVATE_syncEngineUnlisten(d2, g2, _2) {
  const O2 = __PRIVATE_debugCast(d2), $2 = O2.uu.get(g2), st2 = O2.cu.get($2.targetId);
  if (st2.length > 1) return O2.cu.set($2.targetId, st2.filter((d3) => !__PRIVATE_queryEquals(d3, g2))), void O2.uu.delete(g2);
  O2.isPrimaryClient ? (O2.sharedClientState.removeLocalQueryTarget($2.targetId), O2.sharedClientState.isActiveQueryTarget($2.targetId) || await __PRIVATE_localStoreReleaseTarget(O2.localStore, $2.targetId, false).then(() => {
    O2.sharedClientState.clearQueryState($2.targetId), _2 && __PRIVATE_remoteStoreUnlisten(O2.remoteStore, $2.targetId), __PRIVATE_removeAndCleanupTarget(O2, $2.targetId);
  }).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)) : (__PRIVATE_removeAndCleanupTarget(O2, $2.targetId), await __PRIVATE_localStoreReleaseTarget(O2.localStore, $2.targetId, true));
}
async function __PRIVATE_triggerRemoteStoreUnlisten(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2), O2 = _2.uu.get(g2), $2 = _2.cu.get(O2.targetId);
  _2.isPrimaryClient && 1 === $2.length && (_2.sharedClientState.removeLocalQueryTarget(O2.targetId), __PRIVATE_remoteStoreUnlisten(_2.remoteStore, O2.targetId));
}
async function __PRIVATE_syncEngineApplyRemoteEvent(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2);
  try {
    const d3 = await __PRIVATE_localStoreApplyRemoteEventToLocalCache(_2.localStore, g2);
    g2.targetChanges.forEach((d4, g3) => {
      const O2 = _2.Pu.get(g3);
      O2 && (__PRIVATE_hardAssert(d4.addedDocuments.size + d4.modifiedDocuments.size + d4.removedDocuments.size <= 1, 22616), d4.addedDocuments.size > 0 ? O2._u = true : d4.modifiedDocuments.size > 0 ? __PRIVATE_hardAssert(O2._u, 14607) : d4.removedDocuments.size > 0 && (__PRIVATE_hardAssert(O2._u, 42227), O2._u = false));
    }), await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(_2, d3, g2);
  } catch (d3) {
    await __PRIVATE_ignoreIfPrimaryLeaseLoss(d3);
  }
}
function __PRIVATE_syncEngineApplyOnlineStateChange(d2, g2, _2) {
  const O2 = __PRIVATE_debugCast(d2);
  if (O2.isPrimaryClient && 0 === _2 || !O2.isPrimaryClient && 1 === _2) {
    const d3 = [];
    O2.uu.forEach((_3, O3) => {
      const $2 = O3.view.Da(g2);
      $2.snapshot && d3.push($2.snapshot);
    }), function __PRIVATE_eventManagerOnOnlineStateChange(d4, g3) {
      const _3 = __PRIVATE_debugCast(d4);
      _3.onlineState = g3;
      let O3 = false;
      _3.queries.forEach((d5, _4) => {
        for (const d6 of _4.ya) d6.Da(g3) && (O3 = true);
      }), O3 && __PRIVATE_raiseSnapshotsInSyncEvent(_3);
    }(O2.eventManager, g2), d3.length && O2.au.j_(d3), O2.onlineState = g2, O2.isPrimaryClient && O2.sharedClientState.setOnlineState(g2);
  }
}
async function __PRIVATE_syncEngineRejectListen(d2, g2, _2) {
  const O2 = __PRIVATE_debugCast(d2);
  O2.sharedClientState.updateQueryState(g2, "rejected", _2);
  const $2 = O2.Pu.get(g2), st2 = $2 && $2.key;
  if (st2) {
    let d3 = new SortedMap(DocumentKey.comparator);
    d3 = d3.insert(st2, MutableDocument.newNoDocument(st2, SnapshotVersion.min()));
    const _3 = __PRIVATE_documentKeySet().add(st2), $3 = new RemoteEvent(SnapshotVersion.min(), /* @__PURE__ */ new Map(), new SortedMap(__PRIVATE_primitiveComparator), d3, _3);
    await __PRIVATE_syncEngineApplyRemoteEvent(O2, $3), O2.hu = O2.hu.remove(st2), O2.Pu.delete(g2), __PRIVATE_pumpEnqueuedLimboResolutions(O2);
  } else await __PRIVATE_localStoreReleaseTarget(O2.localStore, g2, false).then(() => __PRIVATE_removeAndCleanupTarget(O2, g2, _2)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss);
}
function __PRIVATE_removeAndCleanupTarget(d2, g2, _2 = null) {
  d2.sharedClientState.removeLocalQueryTarget(g2);
  for (const O2 of d2.cu.get(g2)) d2.uu.delete(O2), _2 && d2.au.Vu(O2, _2);
  d2.cu.delete(g2), d2.isPrimaryClient && d2.Tu.Hr(g2).forEach((g3) => {
    d2.Tu.containsKey(g3) || __PRIVATE_removeLimboTarget(d2, g3);
  });
}
function __PRIVATE_removeLimboTarget(d2, g2) {
  d2.lu.delete(g2.path.canonicalString());
  const _2 = d2.hu.get(g2);
  null !== _2 && (__PRIVATE_remoteStoreUnlisten(d2.remoteStore, _2), d2.hu = d2.hu.remove(g2), d2.Pu.delete(_2), __PRIVATE_pumpEnqueuedLimboResolutions(d2));
}
function __PRIVATE_updateTrackedLimbos(d2, g2, _2) {
  for (const O2 of _2) O2 instanceof __PRIVATE_AddedLimboDocument ? (d2.Tu.addReference(O2.key, g2), __PRIVATE_trackLimboChange(d2, O2)) : O2 instanceof __PRIVATE_RemovedLimboDocument ? (__PRIVATE_logDebug(gm, "Document no longer in limbo: " + O2.key), d2.Tu.removeReference(O2.key, g2), d2.Tu.containsKey(O2.key) || __PRIVATE_removeLimboTarget(d2, O2.key)) : fail(19791, { mu: O2 });
}
function __PRIVATE_trackLimboChange(d2, g2) {
  const _2 = g2.key, O2 = _2.path.canonicalString();
  d2.hu.get(_2) || d2.lu.has(O2) || (__PRIVATE_logDebug(gm, "New document in limbo: " + _2), d2.lu.add(O2), __PRIVATE_pumpEnqueuedLimboResolutions(d2));
}
function __PRIVATE_pumpEnqueuedLimboResolutions(d2) {
  for (; d2.lu.size > 0 && d2.hu.size < d2.maxConcurrentLimboResolutions; ) {
    const g2 = d2.lu.values().next().value;
    d2.lu.delete(g2);
    const _2 = new DocumentKey(ResourcePath.fromString(g2)), O2 = d2.du.next();
    d2.Pu.set(O2, new LimboResolution(_2)), d2.hu = d2.hu.insert(_2, O2), __PRIVATE_remoteStoreListen(d2.remoteStore, new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(_2.path)), O2, "TargetPurposeLimboResolution", __PRIVATE_ListenSequence.le));
  }
}
async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(d2, g2, _2) {
  const O2 = __PRIVATE_debugCast(d2), $2 = [], st2 = [], ot2 = [];
  O2.uu.isEmpty() || (O2.uu.forEach((d3, lt2) => {
    ot2.push(O2.Ru(lt2, g2, _2).then((d4) => {
      var g3;
      if ((d4 || _2) && O2.isPrimaryClient) {
        const $3 = d4 ? !d4.fromCache : null === (g3 = null == _2 ? void 0 : _2.targetChanges.get(lt2.targetId)) || void 0 === g3 ? void 0 : g3.current;
        O2.sharedClientState.updateQueryState(lt2.targetId, $3 ? "current" : "not-current");
      }
      if (d4) {
        $2.push(d4);
        const g4 = __PRIVATE_LocalViewChanges.Rs(lt2.targetId, d4);
        st2.push(g4);
      }
    }));
  }), await Promise.all(ot2), O2.au.j_($2), await async function __PRIVATE_localStoreNotifyLocalViewChanges(d3, g3) {
    const _3 = __PRIVATE_debugCast(d3);
    try {
      await _3.persistence.runTransaction("notifyLocalViewChanges", "readwrite", (d4) => PersistencePromise.forEach(g3, (g4) => PersistencePromise.forEach(g4.ds, (O3) => _3.persistence.referenceDelegate.addReference(d4, g4.targetId, O3)).next(() => PersistencePromise.forEach(g4.As, (O3) => _3.persistence.referenceDelegate.removeReference(d4, g4.targetId, O3)))));
    } catch (d4) {
      if (!__PRIVATE_isIndexedDbTransactionError(d4)) throw d4;
      __PRIVATE_logDebug(nm, "Failed to update sequence numbers: " + d4);
    }
    for (const d4 of g3) {
      const g4 = d4.targetId;
      if (!d4.fromCache) {
        const d5 = _3.xs.get(g4), O3 = d5.snapshotVersion, $3 = d5.withLastLimboFreeSnapshotVersion(O3);
        _3.xs = _3.xs.insert(g4, $3);
      }
    }
  }(O2.localStore, st2));
}
async function __PRIVATE_syncEngineHandleCredentialChange(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2);
  if (!_2.currentUser.isEqual(g2)) {
    __PRIVATE_logDebug(gm, "User change. New user:", g2.toKey());
    const d3 = await __PRIVATE_localStoreHandleUserChange(_2.localStore, g2);
    _2.currentUser = g2, function __PRIVATE_rejectOutstandingPendingWritesCallbacks(d4, g3) {
      d4.Eu.forEach((d5) => {
        d5.forEach((d6) => {
          d6.reject(new FirestoreError(A_.CANCELLED, g3));
        });
      }), d4.Eu.clear();
    }(_2, "'waitForPendingWrites' promise is rejected due to a user change."), _2.sharedClientState.handleUserChange(g2, d3.removedBatchIds, d3.addedBatchIds), await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(_2, d3.ks);
  }
}
function __PRIVATE_syncEngineGetRemoteKeysForTarget(d2, g2) {
  const _2 = __PRIVATE_debugCast(d2), O2 = _2.Pu.get(g2);
  if (O2 && O2._u) return __PRIVATE_documentKeySet().add(O2.key);
  {
    let d3 = __PRIVATE_documentKeySet();
    const O3 = _2.cu.get(g2);
    if (!O3) return d3;
    for (const g3 of O3) {
      const O4 = _2.uu.get(g3);
      d3 = d3.unionWith(O4.view.Ya);
    }
    return d3;
  }
}
function __PRIVATE_ensureWatchCallbacks(d2) {
  const g2 = __PRIVATE_debugCast(d2);
  return g2.remoteStore.remoteSyncer.applyRemoteEvent = __PRIVATE_syncEngineApplyRemoteEvent.bind(null, g2), g2.remoteStore.remoteSyncer.getRemoteKeysForTarget = __PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null, g2), g2.remoteStore.remoteSyncer.rejectListen = __PRIVATE_syncEngineRejectListen.bind(null, g2), g2.au.j_ = __PRIVATE_eventManagerOnWatchChange.bind(null, g2.eventManager), g2.au.Vu = __PRIVATE_eventManagerOnWatchError.bind(null, g2.eventManager), g2;
}
class __PRIVATE_MemoryOfflineComponentProvider {
  constructor() {
    this.kind = "memory", this.synchronizeTabs = false;
  }
  async initialize(d2) {
    this.serializer = __PRIVATE_newSerializer(d2.databaseInfo.databaseId), this.sharedClientState = this.pu(d2), this.persistence = this.yu(d2), await this.persistence.start(), this.localStore = this.wu(d2), this.gcScheduler = this.Su(d2, this.localStore), this.indexBackfillerScheduler = this.bu(d2, this.localStore);
  }
  Su(d2, g2) {
    return null;
  }
  bu(d2, g2) {
    return null;
  }
  wu(d2) {
    return function __PRIVATE_newLocalStore(d3, g2, _2, O2) {
      return new __PRIVATE_LocalStoreImpl(d3, g2, _2, O2);
    }(this.persistence, new __PRIVATE_QueryEngine(), d2.initialUser, this.serializer);
  }
  yu(d2) {
    return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.fi, this.serializer);
  }
  pu(d2) {
    return new __PRIVATE_MemorySharedClientState();
  }
  async terminate() {
    var d2, g2;
    null === (d2 = this.gcScheduler) || void 0 === d2 || d2.stop(), null === (g2 = this.indexBackfillerScheduler) || void 0 === g2 || g2.stop(), this.sharedClientState.shutdown(), await this.persistence.shutdown();
  }
}
__PRIVATE_MemoryOfflineComponentProvider.provider = { build: () => new __PRIVATE_MemoryOfflineComponentProvider() };
class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider {
  constructor(d2) {
    super(), this.cacheSizeBytes = d2;
  }
  Su(d2, g2) {
    __PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate, 46915);
    const _2 = this.persistence.referenceDelegate.garbageCollector;
    return new __PRIVATE_LruScheduler(_2, d2.asyncQueue, g2);
  }
  yu(d2) {
    const g2 = void 0 !== this.cacheSizeBytes ? LruParams.withCacheSize(this.cacheSizeBytes) : LruParams.DEFAULT;
    return new __PRIVATE_MemoryPersistence((d3) => __PRIVATE_MemoryLruDelegate.fi(d3, g2), this.serializer);
  }
}
class OnlineComponentProvider {
  async initialize(d2, g2) {
    this.localStore || (this.localStore = d2.localStore, this.sharedClientState = d2.sharedClientState, this.datastore = this.createDatastore(g2), this.remoteStore = this.createRemoteStore(g2), this.eventManager = this.createEventManager(g2), this.syncEngine = this.createSyncEngine(g2, !d2.synchronizeTabs), this.sharedClientState.onlineStateHandler = (d3) => __PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine, d3, 1), this.remoteStore.remoteSyncer.handleCredentialChange = __PRIVATE_syncEngineHandleCredentialChange.bind(null, this.syncEngine), await async function __PRIVATE_remoteStoreApplyPrimaryState(d3, g3) {
      const _2 = __PRIVATE_debugCast(d3);
      g3 ? (_2.Ta.delete(2), await __PRIVATE_enableNetworkInternal(_2)) : g3 || (_2.Ta.add(2), await __PRIVATE_disableNetworkInternal(_2), _2.da.set("Unknown"));
    }(this.remoteStore, this.syncEngine.isPrimaryClient));
  }
  createEventManager(d2) {
    return function __PRIVATE_newEventManager() {
      return new __PRIVATE_EventManagerImpl();
    }();
  }
  createDatastore(d2) {
    const g2 = __PRIVATE_newSerializer(d2.databaseInfo.databaseId), _2 = function __PRIVATE_newConnection(d3) {
      return new __PRIVATE_WebChannelConnection(d3);
    }(d2.databaseInfo);
    return function __PRIVATE_newDatastore(d3, g3, _3, O2) {
      return new __PRIVATE_DatastoreImpl(d3, g3, _3, O2);
    }(d2.authCredentials, d2.appCheckCredentials, _2, g2);
  }
  createRemoteStore(d2) {
    return function __PRIVATE_newRemoteStore(d3, g2, _2, O2, $2) {
      return new __PRIVATE_RemoteStoreImpl(d3, g2, _2, O2, $2);
    }(this.localStore, this.datastore, d2.asyncQueue, (d3) => __PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine, d3, 0), function __PRIVATE_newConnectivityMonitor() {
      return __PRIVATE_BrowserConnectivityMonitor.C() ? new __PRIVATE_BrowserConnectivityMonitor() : new __PRIVATE_NoopConnectivityMonitor();
    }());
  }
  createSyncEngine(d2, g2) {
    return function __PRIVATE_newSyncEngine(d3, g3, _2, O2, $2, st2, ot2) {
      const lt2 = new __PRIVATE_SyncEngineImpl(d3, g3, _2, O2, $2, st2);
      return ot2 && (lt2.Au = true), lt2;
    }(this.localStore, this.remoteStore, this.eventManager, this.sharedClientState, d2.initialUser, d2.maxConcurrentLimboResolutions, g2);
  }
  async terminate() {
    var d2, g2;
    await async function __PRIVATE_remoteStoreShutdown(d3) {
      const g3 = __PRIVATE_debugCast(d3);
      __PRIVATE_logDebug(dm, "RemoteStore shutting down."), g3.Ta.add(5), await __PRIVATE_disableNetworkInternal(g3), g3.Ea.shutdown(), g3.da.set("Unknown");
    }(this.remoteStore), null === (d2 = this.datastore) || void 0 === d2 || d2.terminate(), null === (g2 = this.eventManager) || void 0 === g2 || g2.terminate();
  }
}
OnlineComponentProvider.provider = { build: () => new OnlineComponentProvider() };
class __PRIVATE_AsyncObserver {
  constructor(d2) {
    this.observer = d2, this.muted = false;
  }
  next(d2) {
    this.muted || this.observer.next && this.vu(this.observer.next, d2);
  }
  error(d2) {
    this.muted || (this.observer.error ? this.vu(this.observer.error, d2) : __PRIVATE_logError("Uncaught Error in snapshot listener:", d2.toString()));
  }
  Cu() {
    this.muted = true;
  }
  vu(d2, g2) {
    setTimeout(() => {
      this.muted || d2(g2);
    }, 0);
  }
}
const _m = "FirestoreClient";
class FirestoreClient {
  constructor(d2, g2, _2, O2, $2) {
    this.authCredentials = d2, this.appCheckCredentials = g2, this.asyncQueue = _2, this.databaseInfo = O2, this.user = User.UNAUTHENTICATED, this.clientId = __PRIVATE_AutoId.newId(), this.authCredentialListener = () => Promise.resolve(), this.appCheckCredentialListener = () => Promise.resolve(), this._uninitializedComponentsProvider = $2, this.authCredentials.start(_2, async (d3) => {
      __PRIVATE_logDebug(_m, "Received user=", d3.uid), await this.authCredentialListener(d3), this.user = d3;
    }), this.appCheckCredentials.start(_2, (d3) => (__PRIVATE_logDebug(_m, "Received new app check token=", d3), this.appCheckCredentialListener(d3, this.user)));
  }
  get configuration() {
    return { asyncQueue: this.asyncQueue, databaseInfo: this.databaseInfo, clientId: this.clientId, authCredentials: this.authCredentials, appCheckCredentials: this.appCheckCredentials, initialUser: this.user, maxConcurrentLimboResolutions: 100 };
  }
  setCredentialChangeListener(d2) {
    this.authCredentialListener = d2;
  }
  setAppCheckTokenChangeListener(d2) {
    this.appCheckCredentialListener = d2;
  }
  terminate() {
    this.asyncQueue.enterRestrictedMode();
    const d2 = new __PRIVATE_Deferred();
    return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async () => {
      try {
        this._onlineComponents && await this._onlineComponents.terminate(), this._offlineComponents && await this._offlineComponents.terminate(), this.authCredentials.shutdown(), this.appCheckCredentials.shutdown(), d2.resolve();
      } catch (g2) {
        const _2 = __PRIVATE_wrapInUserErrorIfRecoverable(g2, "Failed to shutdown persistence");
        d2.reject(_2);
      }
    }), d2.promise;
  }
}
async function __PRIVATE_setOfflineComponentProvider(d2, g2) {
  d2.asyncQueue.verifyOperationInProgress(), __PRIVATE_logDebug(_m, "Initializing OfflineComponentProvider");
  const _2 = d2.configuration;
  await g2.initialize(_2);
  let O2 = _2.initialUser;
  d2.setCredentialChangeListener(async (d3) => {
    O2.isEqual(d3) || (await __PRIVATE_localStoreHandleUserChange(g2.localStore, d3), O2 = d3);
  }), g2.persistence.setDatabaseDeletedListener(() => d2.terminate()), d2._offlineComponents = g2;
}
async function __PRIVATE_setOnlineComponentProvider(d2, g2) {
  d2.asyncQueue.verifyOperationInProgress();
  const _2 = await async function __PRIVATE_ensureOfflineComponents(d3) {
    if (!d3._offlineComponents) if (d3._uninitializedComponentsProvider) {
      __PRIVATE_logDebug(_m, "Using user provided OfflineComponentProvider");
      try {
        await __PRIVATE_setOfflineComponentProvider(d3, d3._uninitializedComponentsProvider._offline);
      } catch (g3) {
        const _3 = g3;
        if (!function __PRIVATE_canFallbackFromIndexedDbError(d4) {
          return "FirebaseError" === d4.name ? d4.code === A_.FAILED_PRECONDITION || d4.code === A_.UNIMPLEMENTED : !("undefined" != typeof DOMException && d4 instanceof DOMException) || 22 === d4.code || 20 === d4.code || 11 === d4.code;
        }(_3)) throw _3;
        __PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: " + _3), await __PRIVATE_setOfflineComponentProvider(d3, new __PRIVATE_MemoryOfflineComponentProvider());
      }
    } else __PRIVATE_logDebug(_m, "Using default OfflineComponentProvider"), await __PRIVATE_setOfflineComponentProvider(d3, new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));
    return d3._offlineComponents;
  }(d2);
  __PRIVATE_logDebug(_m, "Initializing OnlineComponentProvider"), await g2.initialize(_2, d2.configuration), d2.setCredentialChangeListener((d3) => __PRIVATE_remoteStoreHandleCredentialChange(g2.remoteStore, d3)), d2.setAppCheckTokenChangeListener((d3, _3) => __PRIVATE_remoteStoreHandleCredentialChange(g2.remoteStore, _3)), d2._onlineComponents = g2;
}
async function __PRIVATE_getEventManager(d2) {
  const g2 = await async function __PRIVATE_ensureOnlineComponents(d3) {
    return d3._onlineComponents || (d3._uninitializedComponentsProvider ? (__PRIVATE_logDebug(_m, "Using user provided OnlineComponentProvider"), await __PRIVATE_setOnlineComponentProvider(d3, d3._uninitializedComponentsProvider._online)) : (__PRIVATE_logDebug(_m, "Using default OnlineComponentProvider"), await __PRIVATE_setOnlineComponentProvider(d3, new OnlineComponentProvider()))), d3._onlineComponents;
  }(d2), _2 = g2.eventManager;
  return _2.onListen = __PRIVATE_syncEngineListen.bind(null, g2.syncEngine), _2.onUnlisten = __PRIVATE_syncEngineUnlisten.bind(null, g2.syncEngine), _2.onFirstRemoteStoreListen = __PRIVATE_triggerRemoteStoreListen.bind(null, g2.syncEngine), _2.onLastRemoteStoreUnlisten = __PRIVATE_triggerRemoteStoreUnlisten.bind(null, g2.syncEngine), _2;
}
function __PRIVATE_cloneLongPollingOptions(d2) {
  const g2 = {};
  return void 0 !== d2.timeoutSeconds && (g2.timeoutSeconds = d2.timeoutSeconds), g2;
}
const mm = /* @__PURE__ */ new Map();
function __PRIVATE_validateDocumentPath(d2) {
  if (!DocumentKey.isDocumentKey(d2)) throw new FirestoreError(A_.INVALID_ARGUMENT, `Invalid document reference. Document references must have an even number of segments, but ${d2} has ${d2.length}.`);
}
function __PRIVATE_cast(d2, g2) {
  if ("_delegate" in d2 && (d2 = d2._delegate), !(d2 instanceof g2)) {
    if (g2.name === d2.constructor.name) throw new FirestoreError(A_.INVALID_ARGUMENT, "Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");
    {
      const _2 = function __PRIVATE_valueDescription(d3) {
        if (void 0 === d3) return "undefined";
        if (null === d3) return "null";
        if ("string" == typeof d3) return d3.length > 20 && (d3 = `${d3.substring(0, 20)}...`), JSON.stringify(d3);
        if ("number" == typeof d3 || "boolean" == typeof d3) return "" + d3;
        if ("object" == typeof d3) {
          if (d3 instanceof Array) return "an array";
          {
            const g3 = function __PRIVATE_tryGetCustomObjectType(d4) {
              return d4.constructor ? d4.constructor.name : null;
            }(d3);
            return g3 ? `a custom ${g3} object` : "an object";
          }
        }
        return "function" == typeof d3 ? "a function" : fail(12329, { type: typeof d3 });
      }(d2);
      throw new FirestoreError(A_.INVALID_ARGUMENT, `Expected type '${g2.name}', but it was: ${_2}`);
    }
  }
  return d2;
}
const vm = "firestore.googleapis.com", bm = true;
class FirestoreSettingsImpl {
  constructor(d2) {
    var g2, _2;
    if (void 0 === d2.host) {
      if (void 0 !== d2.ssl) throw new FirestoreError(A_.INVALID_ARGUMENT, "Can't provide ssl option if host option is not set");
      this.host = vm, this.ssl = bm;
    } else this.host = d2.host, this.ssl = null !== (g2 = d2.ssl) && void 0 !== g2 ? g2 : bm;
    if (this.isUsingEmulator = void 0 !== d2.emulatorOptions, this.credentials = d2.credentials, this.ignoreUndefinedProperties = !!d2.ignoreUndefinedProperties, this.localCache = d2.localCache, void 0 === d2.cacheSizeBytes) this.cacheSizeBytes = im;
    else {
      if (-1 !== d2.cacheSizeBytes && d2.cacheSizeBytes < 1048576) throw new FirestoreError(A_.INVALID_ARGUMENT, "cacheSizeBytes must be at least 1048576");
      this.cacheSizeBytes = d2.cacheSizeBytes;
    }
    (function __PRIVATE_validateIsNotUsedTogether(d3, g3, _3, O2) {
      if (true === g3 && true === O2) throw new FirestoreError(A_.INVALID_ARGUMENT, `${d3} and ${_3} cannot be used together.`);
    })("experimentalForceLongPolling", d2.experimentalForceLongPolling, "experimentalAutoDetectLongPolling", d2.experimentalAutoDetectLongPolling), this.experimentalForceLongPolling = !!d2.experimentalForceLongPolling, this.experimentalForceLongPolling ? this.experimentalAutoDetectLongPolling = false : void 0 === d2.experimentalAutoDetectLongPolling ? this.experimentalAutoDetectLongPolling = true : this.experimentalAutoDetectLongPolling = !!d2.experimentalAutoDetectLongPolling, this.experimentalLongPollingOptions = __PRIVATE_cloneLongPollingOptions(null !== (_2 = d2.experimentalLongPollingOptions) && void 0 !== _2 ? _2 : {}), function __PRIVATE_validateLongPollingOptions(d3) {
      if (void 0 !== d3.timeoutSeconds) {
        if (isNaN(d3.timeoutSeconds)) throw new FirestoreError(A_.INVALID_ARGUMENT, `invalid long polling timeout: ${d3.timeoutSeconds} (must not be NaN)`);
        if (d3.timeoutSeconds < 5) throw new FirestoreError(A_.INVALID_ARGUMENT, `invalid long polling timeout: ${d3.timeoutSeconds} (minimum allowed value is 5)`);
        if (d3.timeoutSeconds > 30) throw new FirestoreError(A_.INVALID_ARGUMENT, `invalid long polling timeout: ${d3.timeoutSeconds} (maximum allowed value is 30)`);
      }
    }(this.experimentalLongPollingOptions), this.useFetchStreams = !!d2.useFetchStreams;
  }
  isEqual(d2) {
    return this.host === d2.host && this.ssl === d2.ssl && this.credentials === d2.credentials && this.cacheSizeBytes === d2.cacheSizeBytes && this.experimentalForceLongPolling === d2.experimentalForceLongPolling && this.experimentalAutoDetectLongPolling === d2.experimentalAutoDetectLongPolling && function __PRIVATE_longPollingOptionsEqual(d3, g2) {
      return d3.timeoutSeconds === g2.timeoutSeconds;
    }(this.experimentalLongPollingOptions, d2.experimentalLongPollingOptions) && this.ignoreUndefinedProperties === d2.ignoreUndefinedProperties && this.useFetchStreams === d2.useFetchStreams;
  }
}
class Firestore$1 {
  constructor(d2, g2, _2, O2) {
    this._authCredentials = d2, this._appCheckCredentials = g2, this._databaseId = _2, this._app = O2, this.type = "firestore-lite", this._persistenceKey = "(lite)", this._settings = new FirestoreSettingsImpl({}), this._settingsFrozen = false, this._emulatorOptions = {}, this._terminateTask = "notTerminated";
  }
  get app() {
    if (!this._app) throw new FirestoreError(A_.FAILED_PRECONDITION, "Firestore was not initialized using the Firebase SDK. 'app' is not available");
    return this._app;
  }
  get _initialized() {
    return this._settingsFrozen;
  }
  get _terminated() {
    return "notTerminated" !== this._terminateTask;
  }
  _setSettings(d2) {
    if (this._settingsFrozen) throw new FirestoreError(A_.FAILED_PRECONDITION, "Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");
    this._settings = new FirestoreSettingsImpl(d2), this._emulatorOptions = d2.emulatorOptions || {}, void 0 !== d2.credentials && (this._authCredentials = function __PRIVATE_makeAuthCredentialsProvider(d3) {
      if (!d3) return new __PRIVATE_EmptyAuthCredentialsProvider();
      switch (d3.type) {
        case "firstParty":
          return new __PRIVATE_FirstPartyAuthCredentialsProvider(d3.sessionIndex || "0", d3.iamToken || null, d3.authTokenFactory || null);
        case "provider":
          return d3.client;
        default:
          throw new FirestoreError(A_.INVALID_ARGUMENT, "makeAuthCredentialsProvider failed due to invalid credential type");
      }
    }(d2.credentials));
  }
  _getSettings() {
    return this._settings;
  }
  _getEmulatorOptions() {
    return this._emulatorOptions;
  }
  _freezeSettings() {
    return this._settingsFrozen = true, updateEmulatorBanner("Firestore", this._settings.isUsingEmulator), this._settings;
  }
  _delete() {
    return "notTerminated" === this._terminateTask && (this._terminateTask = this._terminate()), this._terminateTask;
  }
  async _restart() {
    "notTerminated" === this._terminateTask ? await this._terminate() : this._terminateTask = "notTerminated";
  }
  toJSON() {
    return { app: this._app, databaseId: this._databaseId, settings: this._settings };
  }
  _terminate() {
    return function __PRIVATE_removeComponents(d2) {
      const g2 = mm.get(d2);
      g2 && (__PRIVATE_logDebug("ComponentProvider", "Removing Datastore"), mm.delete(d2), g2.terminate());
    }(this), Promise.resolve();
  }
}
class Query {
  constructor(d2, g2, _2) {
    this.converter = g2, this._query = _2, this.type = "query", this.firestore = d2;
  }
  withConverter(d2) {
    return new Query(this.firestore, d2, this._query);
  }
}
class DocumentReference {
  constructor(d2, g2, _2) {
    this.converter = g2, this._key = _2, this.type = "document", this.firestore = d2;
  }
  get _path() {
    return this._key.path;
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get path() {
    return this._key.path.canonicalString();
  }
  get parent() {
    return new CollectionReference(this.firestore, this.converter, this._key.path.popLast());
  }
  withConverter(d2) {
    return new DocumentReference(this.firestore, d2, this._key);
  }
}
class CollectionReference extends Query {
  constructor(d2, g2, _2) {
    super(d2, g2, __PRIVATE_newQueryForPath(_2)), this._path = _2, this.type = "collection";
  }
  get id() {
    return this._query.path.lastSegment();
  }
  get path() {
    return this._query.path.canonicalString();
  }
  get parent() {
    const d2 = this._path.popLast();
    return d2.isEmpty() ? null : new DocumentReference(this.firestore, null, new DocumentKey(d2));
  }
  withConverter(d2) {
    return new CollectionReference(this.firestore, d2, this._path);
  }
}
function doc(d2, g2, ..._2) {
  if (d2 = getModularInstance(d2), 1 === arguments.length && (g2 = __PRIVATE_AutoId.newId()), function __PRIVATE_validateNonEmptyArgument(d3, g3, _3) {
    if (!_3) throw new FirestoreError(A_.INVALID_ARGUMENT, `Function ${d3}() cannot be called with an empty ${g3}.`);
  }("doc", "path", g2), d2 instanceof Firestore$1) {
    const O2 = ResourcePath.fromString(g2, ..._2);
    return __PRIVATE_validateDocumentPath(O2), new DocumentReference(d2, null, new DocumentKey(O2));
  }
  {
    if (!(d2 instanceof DocumentReference || d2 instanceof CollectionReference)) throw new FirestoreError(A_.INVALID_ARGUMENT, "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");
    const O2 = d2._path.child(ResourcePath.fromString(g2, ..._2));
    return __PRIVATE_validateDocumentPath(O2), new DocumentReference(d2.firestore, d2 instanceof CollectionReference ? d2.converter : null, new DocumentKey(O2));
  }
}
const ym = "AsyncQueue";
class __PRIVATE_AsyncQueueImpl {
  constructor(d2 = Promise.resolve()) {
    this.zu = [], this.ju = false, this.Hu = [], this.Ju = null, this.Yu = false, this.Zu = false, this.Xu = [], this.C_ = new __PRIVATE_ExponentialBackoff(this, "async_queue_retry"), this.ec = () => {
      const d3 = getDocument();
      d3 && __PRIVATE_logDebug(ym, "Visibility state changed to " + d3.visibilityState), this.C_.p_();
    }, this.tc = d2;
    const g2 = getDocument();
    g2 && "function" == typeof g2.addEventListener && g2.addEventListener("visibilitychange", this.ec);
  }
  get isShuttingDown() {
    return this.ju;
  }
  enqueueAndForget(d2) {
    this.enqueue(d2);
  }
  enqueueAndForgetEvenWhileRestricted(d2) {
    this.nc(), this.rc(d2);
  }
  enterRestrictedMode(d2) {
    if (!this.ju) {
      this.ju = true, this.Zu = d2 || false;
      const g2 = getDocument();
      g2 && "function" == typeof g2.removeEventListener && g2.removeEventListener("visibilitychange", this.ec);
    }
  }
  enqueue(d2) {
    if (this.nc(), this.ju) return new Promise(() => {
    });
    const g2 = new __PRIVATE_Deferred();
    return this.rc(() => this.ju && this.Zu ? Promise.resolve() : (d2().then(g2.resolve, g2.reject), g2.promise)).then(() => g2.promise);
  }
  enqueueRetryable(d2) {
    this.enqueueAndForget(() => (this.zu.push(d2), this.sc()));
  }
  async sc() {
    if (0 !== this.zu.length) {
      try {
        await this.zu[0](), this.zu.shift(), this.C_.reset();
      } catch (d2) {
        if (!__PRIVATE_isIndexedDbTransactionError(d2)) throw d2;
        __PRIVATE_logDebug(ym, "Operation failed with retryable error: " + d2);
      }
      this.zu.length > 0 && this.C_.f_(() => this.sc());
    }
  }
  rc(d2) {
    const g2 = this.tc.then(() => (this.Yu = true, d2().catch((d3) => {
      throw this.Ju = d3, this.Yu = false, __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ", __PRIVATE_getMessageOrStack(d3)), d3;
    }).then((d3) => (this.Yu = false, d3))));
    return this.tc = g2, g2;
  }
  enqueueAfterDelay(d2, g2, _2) {
    this.nc(), this.Xu.indexOf(d2) > -1 && (g2 = 0);
    const O2 = DelayedOperation.createAndSchedule(this, d2, g2, _2, (d3) => this.oc(d3));
    return this.Hu.push(O2), O2;
  }
  nc() {
    this.Ju && fail(47125, { _c: __PRIVATE_getMessageOrStack(this.Ju) });
  }
  verifyOperationInProgress() {
  }
  async ac() {
    let d2;
    do {
      d2 = this.tc, await d2;
    } while (d2 !== this.tc);
  }
  uc(d2) {
    for (const g2 of this.Hu) if (g2.timerId === d2) return true;
    return false;
  }
  cc(d2) {
    return this.ac().then(() => {
      this.Hu.sort((d3, g2) => d3.targetTimeMs - g2.targetTimeMs);
      for (const g2 of this.Hu) if (g2.skipDelay(), "all" !== d2 && g2.timerId === d2) break;
      return this.ac();
    });
  }
  lc(d2) {
    this.Xu.push(d2);
  }
  oc(d2) {
    const g2 = this.Hu.indexOf(d2);
    this.Hu.splice(g2, 1);
  }
}
function __PRIVATE_getMessageOrStack(d2) {
  let g2 = d2.message || "";
  return d2.stack && (g2 = d2.stack.includes(d2.message) ? d2.stack : d2.message + "\n" + d2.stack), g2;
}
function __PRIVATE_isPartialObserver(d2) {
  return function __PRIVATE_implementsAnyMethods(d3, g2) {
    if ("object" != typeof d3 || null === d3) return false;
    const _2 = d3;
    for (const d4 of g2) if (d4 in _2 && "function" == typeof _2[d4]) return true;
    return false;
  }(d2, ["next", "error", "complete"]);
}
class Firestore extends Firestore$1 {
  constructor(d2, g2, _2, O2) {
    super(d2, g2, _2, O2), this.type = "firestore", this._queue = new __PRIVATE_AsyncQueueImpl(), this._persistenceKey = (null == O2 ? void 0 : O2.name) || "[DEFAULT]";
  }
  async _terminate() {
    if (this._firestoreClient) {
      const d2 = this._firestoreClient.terminate();
      this._queue = new __PRIVATE_AsyncQueueImpl(d2), this._firestoreClient = void 0, await d2;
    }
  }
}
function ensureFirestoreConfigured(d2) {
  if (d2._terminated) throw new FirestoreError(A_.FAILED_PRECONDITION, "The client has already been terminated.");
  return d2._firestoreClient || function __PRIVATE_configureFirestore(d3) {
    var g2, _2, O2;
    const $2 = d3._freezeSettings(), st2 = function __PRIVATE_makeDatabaseInfo(d4, g3, _3, O3) {
      return new DatabaseInfo(d4, g3, _3, O3.host, O3.ssl, O3.experimentalForceLongPolling, O3.experimentalAutoDetectLongPolling, __PRIVATE_cloneLongPollingOptions(O3.experimentalLongPollingOptions), O3.useFetchStreams, O3.isUsingEmulator);
    }(d3._databaseId, (null === (g2 = d3._app) || void 0 === g2 ? void 0 : g2.options.appId) || "", d3._persistenceKey, $2);
    d3._componentsProvider || (null === (_2 = $2.localCache) || void 0 === _2 ? void 0 : _2._offlineComponentProvider) && (null === (O2 = $2.localCache) || void 0 === O2 ? void 0 : O2._onlineComponentProvider) && (d3._componentsProvider = { _offline: $2.localCache._offlineComponentProvider, _online: $2.localCache._onlineComponentProvider }), d3._firestoreClient = new FirestoreClient(d3._authCredentials, d3._appCheckCredentials, d3._queue, st2, d3._componentsProvider && function __PRIVATE_buildComponentProvider(d4) {
      const g3 = null == d4 ? void 0 : d4._online.build();
      return { _offline: null == d4 ? void 0 : d4._offline.build(g3), _online: g3 };
    }(d3._componentsProvider));
  }(d2), d2._firestoreClient;
}
class Bytes {
  constructor(d2) {
    this._byteString = d2;
  }
  static fromBase64String(d2) {
    try {
      return new Bytes(ByteString.fromBase64String(d2));
    } catch (d3) {
      throw new FirestoreError(A_.INVALID_ARGUMENT, "Failed to construct data from Base64 string: " + d3);
    }
  }
  static fromUint8Array(d2) {
    return new Bytes(ByteString.fromUint8Array(d2));
  }
  toBase64() {
    return this._byteString.toBase64();
  }
  toUint8Array() {
    return this._byteString.toUint8Array();
  }
  toString() {
    return "Bytes(base64: " + this.toBase64() + ")";
  }
  isEqual(d2) {
    return this._byteString.isEqual(d2._byteString);
  }
}
class FieldPath {
  constructor(...d2) {
    for (let g2 = 0; g2 < d2.length; ++g2) if (0 === d2[g2].length) throw new FirestoreError(A_.INVALID_ARGUMENT, "Invalid field name at argument $(i + 1). Field names must not be empty.");
    this._internalPath = new FieldPath$1(d2);
  }
  isEqual(d2) {
    return this._internalPath.isEqual(d2._internalPath);
  }
}
class GeoPoint {
  constructor(d2, g2) {
    if (!isFinite(d2) || d2 < -90 || d2 > 90) throw new FirestoreError(A_.INVALID_ARGUMENT, "Latitude must be a number between -90 and 90, but was: " + d2);
    if (!isFinite(g2) || g2 < -180 || g2 > 180) throw new FirestoreError(A_.INVALID_ARGUMENT, "Longitude must be a number between -180 and 180, but was: " + g2);
    this._lat = d2, this._long = g2;
  }
  get latitude() {
    return this._lat;
  }
  get longitude() {
    return this._long;
  }
  isEqual(d2) {
    return this._lat === d2._lat && this._long === d2._long;
  }
  toJSON() {
    return { latitude: this._lat, longitude: this._long };
  }
  _compareTo(d2) {
    return __PRIVATE_primitiveComparator(this._lat, d2._lat) || __PRIVATE_primitiveComparator(this._long, d2._long);
  }
}
class VectorValue {
  constructor(d2) {
    this._values = (d2 || []).map((d3) => d3);
  }
  toArray() {
    return this._values.map((d2) => d2);
  }
  isEqual(d2) {
    return function __PRIVATE_isPrimitiveArrayEqual(d3, g2) {
      if (d3.length !== g2.length) return false;
      for (let _2 = 0; _2 < d3.length; ++_2) if (d3[_2] !== g2[_2]) return false;
      return true;
    }(this._values, d2._values);
  }
}
const wm = new RegExp("[~\\*/\\[\\]]");
function __PRIVATE_createError(d2, g2, _2, O2, $2) {
  let st2 = `Function ${g2}() called with invalid data`;
  st2 += ". ";
  return new FirestoreError(A_.INVALID_ARGUMENT, st2 + d2 + "");
}
class DocumentSnapshot$1 {
  constructor(d2, g2, _2, O2, $2) {
    this._firestore = d2, this._userDataWriter = g2, this._key = _2, this._document = O2, this._converter = $2;
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get ref() {
    return new DocumentReference(this._firestore, this._converter, this._key);
  }
  exists() {
    return null !== this._document;
  }
  data() {
    if (this._document) {
      if (this._converter) {
        const d2 = new QueryDocumentSnapshot$1(this._firestore, this._userDataWriter, this._key, this._document, null);
        return this._converter.fromFirestore(d2);
      }
      return this._userDataWriter.convertValue(this._document.data.value);
    }
  }
  get(d2) {
    if (this._document) {
      const g2 = this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get", d2));
      if (null !== g2) return this._userDataWriter.convertValue(g2);
    }
  }
}
class QueryDocumentSnapshot$1 extends DocumentSnapshot$1 {
  data() {
    return super.data();
  }
}
function __PRIVATE_fieldPathFromArgument(d2, g2) {
  return "string" == typeof g2 ? function __PRIVATE_fieldPathFromDotSeparatedString(d3, g3, _2) {
    if (g3.search(wm) >= 0) throw __PRIVATE_createError(`Invalid field path (${g3}). Paths must not contain '~', '*', '/', '[', or ']'`, d3);
    try {
      return new FieldPath(...g3.split("."))._internalPath;
    } catch (_3) {
      throw __PRIVATE_createError(`Invalid field path (${g3}). Paths must not be empty, begin with '.', end with '.', or contain '..'`, d3);
    }
  }(d2, g2) : g2 instanceof FieldPath ? g2._internalPath : g2._delegate._internalPath;
}
class AbstractUserDataWriter {
  convertValue(d2, g2 = "none") {
    switch (__PRIVATE_typeOrder(d2)) {
      case 0:
        return null;
      case 1:
        return d2.booleanValue;
      case 2:
        return __PRIVATE_normalizeNumber(d2.integerValue || d2.doubleValue);
      case 3:
        return this.convertTimestamp(d2.timestampValue);
      case 4:
        return this.convertServerTimestamp(d2, g2);
      case 5:
        return d2.stringValue;
      case 6:
        return this.convertBytes(__PRIVATE_normalizeByteString(d2.bytesValue));
      case 7:
        return this.convertReference(d2.referenceValue);
      case 8:
        return this.convertGeoPoint(d2.geoPointValue);
      case 9:
        return this.convertArray(d2.arrayValue, g2);
      case 11:
        return this.convertObject(d2.mapValue, g2);
      case 10:
        return this.convertVectorValue(d2.mapValue);
      default:
        throw fail(62114, { value: d2 });
    }
  }
  convertObject(d2, g2) {
    return this.convertObjectMap(d2.fields, g2);
  }
  convertObjectMap(d2, g2 = "none") {
    const _2 = {};
    return forEach(d2, (d3, O2) => {
      _2[d3] = this.convertValue(O2, g2);
    }), _2;
  }
  convertVectorValue(d2) {
    var g2, _2, O2;
    const $2 = null === (O2 = null === (_2 = null === (g2 = d2.fields) || void 0 === g2 ? void 0 : g2[j_].arrayValue) || void 0 === _2 ? void 0 : _2.values) || void 0 === O2 ? void 0 : O2.map((d3) => __PRIVATE_normalizeNumber(d3.doubleValue));
    return new VectorValue($2);
  }
  convertGeoPoint(d2) {
    return new GeoPoint(__PRIVATE_normalizeNumber(d2.latitude), __PRIVATE_normalizeNumber(d2.longitude));
  }
  convertArray(d2, g2) {
    return (d2.values || []).map((d3) => this.convertValue(d3, g2));
  }
  convertServerTimestamp(d2, g2) {
    switch (g2) {
      case "previous":
        const _2 = __PRIVATE_getPreviousValue(d2);
        return null == _2 ? null : this.convertValue(_2, g2);
      case "estimate":
        return this.convertTimestamp(__PRIVATE_getLocalWriteTime(d2));
      default:
        return null;
    }
  }
  convertTimestamp(d2) {
    const g2 = __PRIVATE_normalizeTimestamp(d2);
    return new Timestamp(g2.seconds, g2.nanos);
  }
  convertDocumentKey(d2, g2) {
    const _2 = ResourcePath.fromString(d2);
    __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(_2), 9688, { name: d2 });
    const O2 = new DatabaseId(_2.get(1), _2.get(3)), $2 = new DocumentKey(_2.popFirst(5));
    return O2.isEqual(g2) || __PRIVATE_logError(`Document ${$2} contains a document reference within a different database (${O2.projectId}/${O2.database}) which is not supported. It will be treated as a reference in the current database (${g2.projectId}/${g2.database}) instead.`), $2;
  }
}
class SnapshotMetadata {
  constructor(d2, g2) {
    this.hasPendingWrites = d2, this.fromCache = g2;
  }
  isEqual(d2) {
    return this.hasPendingWrites === d2.hasPendingWrites && this.fromCache === d2.fromCache;
  }
}
class DocumentSnapshot extends DocumentSnapshot$1 {
  constructor(d2, g2, _2, O2, $2, st2) {
    super(d2, g2, _2, O2, st2), this._firestore = d2, this._firestoreImpl = d2, this.metadata = $2;
  }
  exists() {
    return super.exists();
  }
  data(d2 = {}) {
    if (this._document) {
      if (this._converter) {
        const g2 = new QueryDocumentSnapshot(this._firestore, this._userDataWriter, this._key, this._document, this.metadata, null);
        return this._converter.fromFirestore(g2, d2);
      }
      return this._userDataWriter.convertValue(this._document.data.value, d2.serverTimestamps);
    }
  }
  get(d2, g2 = {}) {
    if (this._document) {
      const _2 = this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get", d2));
      if (null !== _2) return this._userDataWriter.convertValue(_2, g2.serverTimestamps);
    }
  }
}
class QueryDocumentSnapshot extends DocumentSnapshot {
  data(d2 = {}) {
    return super.data(d2);
  }
}
class QuerySnapshot {
  constructor(d2, g2, _2, O2) {
    this._firestore = d2, this._userDataWriter = g2, this._snapshot = O2, this.metadata = new SnapshotMetadata(O2.hasPendingWrites, O2.fromCache), this.query = _2;
  }
  get docs() {
    const d2 = [];
    return this.forEach((g2) => d2.push(g2)), d2;
  }
  get size() {
    return this._snapshot.docs.size;
  }
  get empty() {
    return 0 === this.size;
  }
  forEach(d2, g2) {
    this._snapshot.docs.forEach((_2) => {
      d2.call(g2, new QueryDocumentSnapshot(this._firestore, this._userDataWriter, _2.key, _2, new SnapshotMetadata(this._snapshot.mutatedKeys.has(_2.key), this._snapshot.fromCache), this.query.converter));
    });
  }
  docChanges(d2 = {}) {
    const g2 = !!d2.includeMetadataChanges;
    if (g2 && this._snapshot.excludesMetadataChanges) throw new FirestoreError(A_.INVALID_ARGUMENT, "To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");
    return this._cachedChanges && this._cachedChangesIncludeMetadataChanges === g2 || (this._cachedChanges = function __PRIVATE_changesFromSnapshot(d3, g3) {
      if (d3._snapshot.oldDocs.isEmpty()) {
        let g4 = 0;
        return d3._snapshot.docChanges.map((_2) => {
          const O2 = new QueryDocumentSnapshot(d3._firestore, d3._userDataWriter, _2.doc.key, _2.doc, new SnapshotMetadata(d3._snapshot.mutatedKeys.has(_2.doc.key), d3._snapshot.fromCache), d3.query.converter);
          return _2.doc, { type: "added", doc: O2, oldIndex: -1, newIndex: g4++ };
        });
      }
      {
        let _2 = d3._snapshot.oldDocs;
        return d3._snapshot.docChanges.filter((d4) => g3 || 3 !== d4.type).map((g4) => {
          const O2 = new QueryDocumentSnapshot(d3._firestore, d3._userDataWriter, g4.doc.key, g4.doc, new SnapshotMetadata(d3._snapshot.mutatedKeys.has(g4.doc.key), d3._snapshot.fromCache), d3.query.converter);
          let $2 = -1, st2 = -1;
          return 0 !== g4.type && ($2 = _2.indexOf(g4.doc.key), _2 = _2.delete(g4.doc.key)), 1 !== g4.type && (_2 = _2.add(g4.doc), st2 = _2.indexOf(g4.doc.key)), { type: __PRIVATE_resultChangeType(g4.type), doc: O2, oldIndex: $2, newIndex: st2 };
        });
      }
    }(this, g2), this._cachedChangesIncludeMetadataChanges = g2), this._cachedChanges;
  }
}
function __PRIVATE_resultChangeType(d2) {
  switch (d2) {
    case 0:
      return "added";
    case 2:
    case 3:
      return "modified";
    case 1:
      return "removed";
    default:
      return fail(61501, { type: d2 });
  }
}
function getDoc(d2) {
  d2 = __PRIVATE_cast(d2, DocumentReference);
  const g2 = __PRIVATE_cast(d2.firestore, Firestore);
  return function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(d3, g3, _2 = {}) {
    const O2 = new __PRIVATE_Deferred();
    return d3.asyncQueue.enqueueAndForget(async () => function __PRIVATE_readDocumentViaSnapshotListener(d4, g4, _3, O3, $2) {
      const st2 = new __PRIVATE_AsyncObserver({ next: (lt2) => {
        st2.Cu(), g4.enqueueAndForget(() => __PRIVATE_eventManagerUnlisten(d4, ot2));
        const ct2 = lt2.docs.has(_3);
        !ct2 && lt2.fromCache ? $2.reject(new FirestoreError(A_.UNAVAILABLE, "Failed to get document because the client is offline.")) : ct2 && lt2.fromCache && O3 && "server" === O3.source ? $2.reject(new FirestoreError(A_.UNAVAILABLE, 'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')) : $2.resolve(lt2);
      }, error: (d5) => $2.reject(d5) }), ot2 = new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(_3.path), st2, { includeMetadataChanges: true, La: true });
      return __PRIVATE_eventManagerListen(d4, ot2);
    }(await __PRIVATE_getEventManager(d3), d3.asyncQueue, g3, _2, O2)), O2.promise;
  }(ensureFirestoreConfigured(g2), d2._key).then((_2) => __PRIVATE_convertToDocSnapshot(g2, d2, _2));
}
class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter {
  constructor(d2) {
    super(), this.firestore = d2;
  }
  convertBytes(d2) {
    return new Bytes(d2);
  }
  convertReference(d2) {
    const g2 = this.convertDocumentKey(d2, this.firestore._databaseId);
    return new DocumentReference(this.firestore, null, g2);
  }
}
function onSnapshot(d2, ...g2) {
  var _2, O2, $2;
  d2 = getModularInstance(d2);
  let st2 = { includeMetadataChanges: false, source: "default" }, ot2 = 0;
  "object" != typeof g2[ot2] || __PRIVATE_isPartialObserver(g2[ot2]) || (st2 = g2[ot2], ot2++);
  const lt2 = { includeMetadataChanges: st2.includeMetadataChanges, source: st2.source };
  if (__PRIVATE_isPartialObserver(g2[ot2])) {
    const d3 = g2[ot2];
    g2[ot2] = null === (_2 = d3.next) || void 0 === _2 ? void 0 : _2.bind(d3), g2[ot2 + 1] = null === (O2 = d3.error) || void 0 === O2 ? void 0 : O2.bind(d3), g2[ot2 + 2] = null === ($2 = d3.complete) || void 0 === $2 ? void 0 : $2.bind(d3);
  }
  let ct2, ut2, gt2;
  if (d2 instanceof DocumentReference) ut2 = __PRIVATE_cast(d2.firestore, Firestore), gt2 = __PRIVATE_newQueryForPath(d2._key.path), ct2 = { next: (_3) => {
    g2[ot2] && g2[ot2](__PRIVATE_convertToDocSnapshot(ut2, d2, _3));
  }, error: g2[ot2 + 1], complete: g2[ot2 + 2] };
  else {
    const _3 = __PRIVATE_cast(d2, Query);
    ut2 = __PRIVATE_cast(_3.firestore, Firestore), gt2 = _3._query;
    const O3 = new __PRIVATE_ExpUserDataWriter(ut2);
    ct2 = { next: (d3) => {
      g2[ot2] && g2[ot2](new QuerySnapshot(ut2, O3, _3, d3));
    }, error: g2[ot2 + 1], complete: g2[ot2 + 2] }, function __PRIVATE_validateHasExplicitOrderByForLimitToLast(d3) {
      if ("L" === d3.limitType && 0 === d3.explicitOrderBy.length) throw new FirestoreError(A_.UNIMPLEMENTED, "limitToLast() queries require specifying at least one orderBy() clause");
    }(d2._query);
  }
  return function __PRIVATE_firestoreClientListen(d3, g3, _3, O3) {
    const $3 = new __PRIVATE_AsyncObserver(O3), st3 = new __PRIVATE_QueryListener(g3, $3, _3);
    return d3.asyncQueue.enqueueAndForget(async () => __PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(d3), st3)), () => {
      $3.Cu(), d3.asyncQueue.enqueueAndForget(async () => __PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(d3), st3));
    };
  }(ensureFirestoreConfigured(ut2), gt2, lt2, ct2);
}
function __PRIVATE_convertToDocSnapshot(d2, g2, _2) {
  const O2 = _2.docs.get(g2._key), $2 = new __PRIVATE_ExpUserDataWriter(d2);
  return new DocumentSnapshot(d2, $2, g2._key, O2, new SnapshotMetadata(_2.hasPendingWrites, _2.fromCache), g2.converter);
}
!function __PRIVATE_registerFirestore(d2, g2 = true) {
  !function __PRIVATE_setSDKVersion(d3) {
    P_ = d3;
  }(o_), _registerComponent(new Component("firestore", (d3, { instanceIdentifier: _2, options: O2 }) => {
    const $2 = d3.getProvider("app").getImmediate(), st2 = new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(d3.getProvider("auth-internal")), new __PRIVATE_FirebaseAppCheckTokenProvider($2, d3.getProvider("app-check-internal")), function __PRIVATE_databaseIdFromApp(d4, g3) {
      if (!Object.prototype.hasOwnProperty.apply(d4.options, ["projectId"])) throw new FirestoreError(A_.INVALID_ARGUMENT, '"projectId" not provided in firebase.initializeApp.');
      return new DatabaseId(d4.options.projectId, g3);
    }($2, _2), $2);
    return O2 = Object.assign({ useFetchStreams: g2 }, O2), st2._setSettings(O2), st2;
  }, "PUBLIC").setMultipleInstances(true)), registerVersion(T_, E_, d2), registerVersion(T_, E_, "esm2017");
}();
function __rest(d2, g2) {
  var _2 = {};
  for (var O2 in d2) Object.prototype.hasOwnProperty.call(d2, O2) && g2.indexOf(O2) < 0 && (_2[O2] = d2[O2]);
  if (null != d2 && "function" == typeof Object.getOwnPropertySymbols) {
    var $2 = 0;
    for (O2 = Object.getOwnPropertySymbols(d2); $2 < O2.length; $2++) g2.indexOf(O2[$2]) < 0 && Object.prototype.propertyIsEnumerable.call(d2, O2[$2]) && (_2[O2[$2]] = d2[O2[$2]]);
  }
  return _2;
}
function _prodErrorMap() {
  return { "dependent-sdk-initialized-before-auth": "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK." };
}
registerVersion("firebase", "11.8.0", "app"), "function" == typeof SuppressedError && SuppressedError;
const xm = _prodErrorMap, Tm = new ErrorFactory("auth", "Firebase", { "dependent-sdk-initialized-before-auth": "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK." }), Em = new Logger("@firebase/auth");
function _logError(d2, ...g2) {
  Em.logLevel <= hg.ERROR && Em.error(`Auth (${o_}): ${d2}`, ...g2);
}
function _fail(d2, ...g2) {
  throw createErrorInternal(d2, ...g2);
}
function _createError(d2, ...g2) {
  return createErrorInternal(d2, ...g2);
}
function _errorWithCustomMessage(d2, g2, _2) {
  const O2 = Object.assign(Object.assign({}, xm()), { [g2]: _2 });
  return new ErrorFactory("auth", "Firebase", O2).create(g2, { appName: d2.name });
}
function _serverAppCurrentUserOperationNotSupportedError(d2) {
  return _errorWithCustomMessage(d2, "operation-not-supported-in-this-environment", "Operations that alter the current user are not supported in conjunction with FirebaseServerApp");
}
function createErrorInternal(d2, ...g2) {
  if ("string" != typeof d2) {
    const _2 = g2[0], O2 = [...g2.slice(1)];
    return O2[0] && (O2[0].appName = d2.name), d2._errorFactory.create(_2, ...O2);
  }
  return Tm.create(d2, ...g2);
}
function _assert(d2, g2, ..._2) {
  if (!d2) throw createErrorInternal(g2, ..._2);
}
function debugFail(d2) {
  const g2 = "INTERNAL ASSERTION FAILED: " + d2;
  throw _logError(g2), new Error(g2);
}
function debugAssert(d2, g2) {
  d2 || debugFail(g2);
}
function _getCurrentUrl() {
  var d2;
  return "undefined" != typeof self && (null === (d2 = self.location) || void 0 === d2 ? void 0 : d2.href) || "";
}
function _getCurrentScheme() {
  var d2;
  return "undefined" != typeof self && (null === (d2 = self.location) || void 0 === d2 ? void 0 : d2.protocol) || null;
}
function _isOnline() {
  return !("undefined" != typeof navigator && navigator && "onLine" in navigator && "boolean" == typeof navigator.onLine && (function _isHttpOrHttps() {
    return "http:" === _getCurrentScheme() || "https:" === _getCurrentScheme();
  }() || function isBrowserExtension() {
    const d2 = "object" == typeof chrome ? chrome.runtime : "object" == typeof browser ? browser.runtime : void 0;
    return "object" == typeof d2 && void 0 !== d2.id;
  }() || "connection" in navigator)) || navigator.onLine;
}
class Delay {
  constructor(d2, g2) {
    this.shortDelay = d2, this.longDelay = g2, debugAssert(g2 > d2, "Short delay should be less than long delay!"), this.isMobile = function isMobileCordova() {
      return "undefined" != typeof window && !!(window.cordova || window.phonegap || window.PhoneGap) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA());
    }() || function isReactNative() {
      return "object" == typeof navigator && "ReactNative" === navigator.product;
    }();
  }
  get() {
    return _isOnline() ? this.isMobile ? this.longDelay : this.shortDelay : Math.min(5e3, this.shortDelay);
  }
}
function _emulatorUrl(d2, g2) {
  debugAssert(d2.emulator, "Emulator should always be set here");
  const { url: _2 } = d2.emulator;
  return g2 ? `${_2}${g2.startsWith("/") ? g2.slice(1) : g2}` : _2;
}
class FetchProvider {
  static initialize(d2, g2, _2) {
    this.fetchImpl = d2, g2 && (this.headersImpl = g2), _2 && (this.responseImpl = _2);
  }
  static fetch() {
    return this.fetchImpl ? this.fetchImpl : "undefined" != typeof self && "fetch" in self ? self.fetch : "undefined" != typeof globalThis && globalThis.fetch ? globalThis.fetch : "undefined" != typeof fetch ? fetch : void debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
  }
  static headers() {
    return this.headersImpl ? this.headersImpl : "undefined" != typeof self && "Headers" in self ? self.Headers : "undefined" != typeof globalThis && globalThis.Headers ? globalThis.Headers : "undefined" != typeof Headers ? Headers : void debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
  }
  static response() {
    return this.responseImpl ? this.responseImpl : "undefined" != typeof self && "Response" in self ? self.Response : "undefined" != typeof globalThis && globalThis.Response ? globalThis.Response : "undefined" != typeof Response ? Response : void debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
  }
}
const Pm = { CREDENTIAL_MISMATCH: "custom-token-mismatch", MISSING_CUSTOM_TOKEN: "internal-error", INVALID_IDENTIFIER: "invalid-email", MISSING_CONTINUE_URI: "internal-error", INVALID_PASSWORD: "wrong-password", MISSING_PASSWORD: "missing-password", INVALID_LOGIN_CREDENTIALS: "invalid-credential", EMAIL_EXISTS: "email-already-in-use", PASSWORD_LOGIN_DISABLED: "operation-not-allowed", INVALID_IDP_RESPONSE: "invalid-credential", INVALID_PENDING_TOKEN: "invalid-credential", FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use", MISSING_REQ_TYPE: "internal-error", EMAIL_NOT_FOUND: "user-not-found", RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests", EXPIRED_OOB_CODE: "expired-action-code", INVALID_OOB_CODE: "invalid-action-code", MISSING_OOB_CODE: "internal-error", CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login", INVALID_ID_TOKEN: "invalid-user-token", TOKEN_EXPIRED: "user-token-expired", USER_NOT_FOUND: "user-token-expired", TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests", PASSWORD_DOES_NOT_MEET_REQUIREMENTS: "password-does-not-meet-requirements", INVALID_CODE: "invalid-verification-code", INVALID_SESSION_INFO: "invalid-verification-id", INVALID_TEMPORARY_PROOF: "invalid-credential", MISSING_SESSION_INFO: "missing-verification-id", SESSION_EXPIRED: "code-expired", MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name", UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri", INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id", ADMIN_ONLY_OPERATION: "admin-restricted-operation", INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session", MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found", MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info", MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session", SECOND_FACTOR_EXISTS: "second-factor-already-in-use", SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded", BLOCKING_FUNCTION_ERROR_RESPONSE: "internal-error", RECAPTCHA_NOT_ENABLED: "recaptcha-not-enabled", MISSING_RECAPTCHA_TOKEN: "missing-recaptcha-token", INVALID_RECAPTCHA_TOKEN: "invalid-recaptcha-token", INVALID_RECAPTCHA_ACTION: "invalid-recaptcha-action", MISSING_CLIENT_TYPE: "missing-client-type", MISSING_RECAPTCHA_VERSION: "missing-recaptcha-version", INVALID_RECAPTCHA_VERSION: "invalid-recaptcha-version", INVALID_REQ_TYPE: "invalid-req-type" }, Im = ["/v1/accounts:signInWithCustomToken", "/v1/accounts:signInWithEmailLink", "/v1/accounts:signInWithIdp", "/v1/accounts:signInWithPassword", "/v1/accounts:signInWithPhoneNumber", "/v1/token"], Am = new Delay(3e4, 6e4);
function _addTidIfNecessary(d2, g2) {
  return d2.tenantId && !g2.tenantId ? Object.assign(Object.assign({}, g2), { tenantId: d2.tenantId }) : g2;
}
async function _performApiRequest(d2, g2, _2, O2, $2 = {}) {
  return _performFetchWithErrorHandling(d2, $2, async () => {
    let $3 = {}, st2 = {};
    O2 && ("GET" === g2 ? st2 = O2 : $3 = { body: JSON.stringify(O2) });
    const ot2 = querystring(Object.assign({ key: d2.config.apiKey }, st2)).slice(1), lt2 = await d2._getAdditionalHeaders();
    lt2["Content-Type"] = "application/json", d2.languageCode && (lt2["X-Firebase-Locale"] = d2.languageCode);
    const ct2 = Object.assign({ method: g2, headers: lt2 }, $3);
    return function isCloudflareWorker() {
      return "undefined" != typeof navigator && "Cloudflare-Workers" === navigator.userAgent;
    }() || (ct2.referrerPolicy = "no-referrer"), d2.emulatorConfig && isCloudWorkstation(d2.emulatorConfig.host) && (ct2.credentials = "include"), FetchProvider.fetch()(await _getFinalTarget(d2, d2.config.apiHost, _2, ot2), ct2);
  });
}
async function _performFetchWithErrorHandling(d2, g2, _2) {
  d2._canInitEmulator = false;
  const O2 = Object.assign(Object.assign({}, Pm), g2);
  try {
    const g3 = new NetworkTimeout(d2), $2 = await Promise.race([_2(), g3.promise]);
    g3.clearNetworkTimeout();
    const st2 = await $2.json();
    if ("needConfirmation" in st2) throw _makeTaggedError(d2, "account-exists-with-different-credential", st2);
    if ($2.ok && !("errorMessage" in st2)) return st2;
    {
      const g4 = $2.ok ? st2.errorMessage : st2.error.message, [_3, ot2] = g4.split(" : ");
      if ("FEDERATED_USER_ID_ALREADY_LINKED" === _3) throw _makeTaggedError(d2, "credential-already-in-use", st2);
      if ("EMAIL_EXISTS" === _3) throw _makeTaggedError(d2, "email-already-in-use", st2);
      if ("USER_DISABLED" === _3) throw _makeTaggedError(d2, "user-disabled", st2);
      const lt2 = O2[_3] || _3.toLowerCase().replace(/[_\s]+/g, "-");
      if (ot2) throw _errorWithCustomMessage(d2, lt2, ot2);
      _fail(d2, lt2);
    }
  } catch (g3) {
    if (g3 instanceof FirebaseError) throw g3;
    _fail(d2, "network-request-failed", { message: String(g3) });
  }
}
async function _getFinalTarget(d2, g2, _2, O2) {
  const $2 = `${g2}${_2}?${O2}`, st2 = d2, ot2 = st2.config.emulator ? _emulatorUrl(d2.config, $2) : `${d2.config.apiScheme}://${$2}`;
  if (Im.includes(_2) && (await st2._persistenceManagerAvailable, "COOKIE" === st2._getPersistenceType())) {
    return st2._getPersistence()._getFinalTarget(ot2).toString();
  }
  return ot2;
}
class NetworkTimeout {
  clearNetworkTimeout() {
    clearTimeout(this.timer);
  }
  constructor(d2) {
    this.auth = d2, this.timer = null, this.promise = new Promise((d3, g2) => {
      this.timer = setTimeout(() => g2(_createError(this.auth, "network-request-failed")), Am.get());
    });
  }
}
function _makeTaggedError(d2, g2, _2) {
  const O2 = { appName: d2.name };
  _2.email && (O2.email = _2.email), _2.phoneNumber && (O2.phoneNumber = _2.phoneNumber);
  const $2 = _createError(d2, g2, O2);
  return $2.customData._tokenResponse = _2, $2;
}
async function getAccountInfo(d2, g2) {
  return _performApiRequest(d2, "POST", "/v1/accounts:lookup", g2);
}
function utcTimestampToDateString(d2) {
  if (d2) try {
    const g2 = new Date(Number(d2));
    if (!isNaN(g2.getTime())) return g2.toUTCString();
  } catch (d3) {
  }
}
function secondsStringToMilliseconds(d2) {
  return 1e3 * Number(d2);
}
function _parseToken(d2) {
  const [g2, _2, O2] = d2.split(".");
  if (void 0 === g2 || void 0 === _2 || void 0 === O2) return _logError("JWT malformed, contained fewer than 3 sections"), null;
  try {
    const d3 = base64Decode(_2);
    return d3 ? JSON.parse(d3) : (_logError("Failed to decode base64 JWT payload"), null);
  } catch (d3) {
    return _logError("Caught error parsing JWT payload as JSON", null == d3 ? void 0 : d3.toString()), null;
  }
}
function _tokenExpiresIn(d2) {
  const g2 = _parseToken(d2);
  return _assert(g2, "internal-error"), _assert(void 0 !== g2.exp, "internal-error"), _assert(void 0 !== g2.iat, "internal-error"), Number(g2.exp) - Number(g2.iat);
}
async function _logoutIfInvalidated(d2, g2, _2 = false) {
  if (_2) return g2;
  try {
    return await g2;
  } catch (g3) {
    throw g3 instanceof FirebaseError && function isUserInvalidated({ code: d3 }) {
      return "auth/user-disabled" === d3 || "auth/user-token-expired" === d3;
    }(g3) && d2.auth.currentUser === d2 && await d2.auth.signOut(), g3;
  }
}
class ProactiveRefresh {
  constructor(d2) {
    this.user = d2, this.isRunning = false, this.timerId = null, this.errorBackoff = 3e4;
  }
  _start() {
    this.isRunning || (this.isRunning = true, this.schedule());
  }
  _stop() {
    this.isRunning && (this.isRunning = false, null !== this.timerId && clearTimeout(this.timerId));
  }
  getInterval(d2) {
    var g2;
    if (d2) {
      const d3 = this.errorBackoff;
      return this.errorBackoff = Math.min(2 * this.errorBackoff, 96e4), d3;
    }
    {
      this.errorBackoff = 3e4;
      const d3 = (null !== (g2 = this.user.stsTokenManager.expirationTime) && void 0 !== g2 ? g2 : 0) - Date.now() - 3e5;
      return Math.max(0, d3);
    }
  }
  schedule(d2 = false) {
    if (!this.isRunning) return;
    const g2 = this.getInterval(d2);
    this.timerId = setTimeout(async () => {
      await this.iteration();
    }, g2);
  }
  async iteration() {
    try {
      await this.user.getIdToken(true);
    } catch (d2) {
      return void ("auth/network-request-failed" === (null == d2 ? void 0 : d2.code) && this.schedule(true));
    }
    this.schedule();
  }
}
class UserMetadata {
  constructor(d2, g2) {
    this.createdAt = d2, this.lastLoginAt = g2, this._initializeTime();
  }
  _initializeTime() {
    this.lastSignInTime = utcTimestampToDateString(this.lastLoginAt), this.creationTime = utcTimestampToDateString(this.createdAt);
  }
  _copy(d2) {
    this.createdAt = d2.createdAt, this.lastLoginAt = d2.lastLoginAt, this._initializeTime();
  }
  toJSON() {
    return { createdAt: this.createdAt, lastLoginAt: this.lastLoginAt };
  }
}
async function _reloadWithoutSaving(d2) {
  var g2;
  const _2 = d2.auth, O2 = await d2.getIdToken(), $2 = await _logoutIfInvalidated(d2, getAccountInfo(_2, { idToken: O2 }));
  _assert(null == $2 ? void 0 : $2.users.length, _2, "internal-error");
  const st2 = $2.users[0];
  d2._notifyReloadListener(st2);
  const ot2 = (null === (g2 = st2.providerUserInfo) || void 0 === g2 ? void 0 : g2.length) ? extractProviderData(st2.providerUserInfo) : [], lt2 = function mergeProviderData(d3, g3) {
    const _3 = d3.filter((d4) => !g3.some((g4) => g4.providerId === d4.providerId));
    return [..._3, ...g3];
  }(d2.providerData, ot2), ct2 = d2.isAnonymous, ut2 = !(d2.email && st2.passwordHash || (null == lt2 ? void 0 : lt2.length)), gt2 = !!ct2 && ut2, mt2 = { uid: st2.localId, displayName: st2.displayName || null, photoURL: st2.photoUrl || null, email: st2.email || null, emailVerified: st2.emailVerified || false, phoneNumber: st2.phoneNumber || null, tenantId: st2.tenantId || null, providerData: lt2, metadata: new UserMetadata(st2.createdAt, st2.lastLoginAt), isAnonymous: gt2 };
  Object.assign(d2, mt2);
}
function extractProviderData(d2) {
  return d2.map((d3) => {
    var { providerId: g2 } = d3, _2 = __rest(d3, ["providerId"]);
    return { providerId: g2, uid: _2.rawId || "", displayName: _2.displayName || null, email: _2.email || null, phoneNumber: _2.phoneNumber || null, photoURL: _2.photoUrl || null };
  });
}
class StsTokenManager {
  constructor() {
    this.refreshToken = null, this.accessToken = null, this.expirationTime = null;
  }
  get isExpired() {
    return !this.expirationTime || Date.now() > this.expirationTime - 3e4;
  }
  updateFromServerResponse(d2) {
    _assert(d2.idToken, "internal-error"), _assert(void 0 !== d2.idToken, "internal-error"), _assert(void 0 !== d2.refreshToken, "internal-error");
    const g2 = "expiresIn" in d2 && void 0 !== d2.expiresIn ? Number(d2.expiresIn) : _tokenExpiresIn(d2.idToken);
    this.updateTokensAndExpiration(d2.idToken, d2.refreshToken, g2);
  }
  updateFromIdToken(d2) {
    _assert(0 !== d2.length, "internal-error");
    const g2 = _tokenExpiresIn(d2);
    this.updateTokensAndExpiration(d2, null, g2);
  }
  async getToken(d2, g2 = false) {
    return g2 || !this.accessToken || this.isExpired ? (_assert(this.refreshToken, d2, "user-token-expired"), this.refreshToken ? (await this.refresh(d2, this.refreshToken), this.accessToken) : null) : this.accessToken;
  }
  clearRefreshToken() {
    this.refreshToken = null;
  }
  async refresh(d2, g2) {
    const { accessToken: _2, refreshToken: O2, expiresIn: $2 } = await async function requestStsToken(d3, g3) {
      const _3 = await _performFetchWithErrorHandling(d3, {}, async () => {
        const _4 = querystring({ grant_type: "refresh_token", refresh_token: g3 }).slice(1), { tokenApiHost: O3, apiKey: $3 } = d3.config, st2 = await _getFinalTarget(d3, O3, "/v1/token", `key=${$3}`), ot2 = await d3._getAdditionalHeaders();
        return ot2["Content-Type"] = "application/x-www-form-urlencoded", FetchProvider.fetch()(st2, { method: "POST", headers: ot2, body: _4 });
      });
      return { accessToken: _3.access_token, expiresIn: _3.expires_in, refreshToken: _3.refresh_token };
    }(d2, g2);
    this.updateTokensAndExpiration(_2, O2, Number($2));
  }
  updateTokensAndExpiration(d2, g2, _2) {
    this.refreshToken = g2 || null, this.accessToken = d2 || null, this.expirationTime = Date.now() + 1e3 * _2;
  }
  static fromJSON(d2, g2) {
    const { refreshToken: _2, accessToken: O2, expirationTime: $2 } = g2, st2 = new StsTokenManager();
    return _2 && (_assert("string" == typeof _2, "internal-error", { appName: d2 }), st2.refreshToken = _2), O2 && (_assert("string" == typeof O2, "internal-error", { appName: d2 }), st2.accessToken = O2), $2 && (_assert("number" == typeof $2, "internal-error", { appName: d2 }), st2.expirationTime = $2), st2;
  }
  toJSON() {
    return { refreshToken: this.refreshToken, accessToken: this.accessToken, expirationTime: this.expirationTime };
  }
  _assign(d2) {
    this.accessToken = d2.accessToken, this.refreshToken = d2.refreshToken, this.expirationTime = d2.expirationTime;
  }
  _clone() {
    return Object.assign(new StsTokenManager(), this.toJSON());
  }
  _performRefresh() {
    return debugFail("not implemented");
  }
}
function assertStringOrUndefined(d2, g2) {
  _assert("string" == typeof d2 || void 0 === d2, "internal-error", { appName: g2 });
}
class UserImpl {
  constructor(d2) {
    var { uid: g2, auth: _2, stsTokenManager: O2 } = d2, $2 = __rest(d2, ["uid", "auth", "stsTokenManager"]);
    this.providerId = "firebase", this.proactiveRefresh = new ProactiveRefresh(this), this.reloadUserInfo = null, this.reloadListener = null, this.uid = g2, this.auth = _2, this.stsTokenManager = O2, this.accessToken = O2.accessToken, this.displayName = $2.displayName || null, this.email = $2.email || null, this.emailVerified = $2.emailVerified || false, this.phoneNumber = $2.phoneNumber || null, this.photoURL = $2.photoURL || null, this.isAnonymous = $2.isAnonymous || false, this.tenantId = $2.tenantId || null, this.providerData = $2.providerData ? [...$2.providerData] : [], this.metadata = new UserMetadata($2.createdAt || void 0, $2.lastLoginAt || void 0);
  }
  async getIdToken(d2) {
    const g2 = await _logoutIfInvalidated(this, this.stsTokenManager.getToken(this.auth, d2));
    return _assert(g2, this.auth, "internal-error"), this.accessToken !== g2 && (this.accessToken = g2, await this.auth._persistUserIfCurrent(this), this.auth._notifyListenersIfCurrent(this)), g2;
  }
  getIdTokenResult(d2) {
    return async function getIdTokenResult(d3, g2 = false) {
      const _2 = getModularInstance(d3), O2 = await _2.getIdToken(g2), $2 = _parseToken(O2);
      _assert($2 && $2.exp && $2.auth_time && $2.iat, _2.auth, "internal-error");
      const st2 = "object" == typeof $2.firebase ? $2.firebase : void 0, ot2 = null == st2 ? void 0 : st2.sign_in_provider;
      return { claims: $2, token: O2, authTime: utcTimestampToDateString(secondsStringToMilliseconds($2.auth_time)), issuedAtTime: utcTimestampToDateString(secondsStringToMilliseconds($2.iat)), expirationTime: utcTimestampToDateString(secondsStringToMilliseconds($2.exp)), signInProvider: ot2 || null, signInSecondFactor: (null == st2 ? void 0 : st2.sign_in_second_factor) || null };
    }(this, d2);
  }
  reload() {
    return async function reload(d2) {
      const g2 = getModularInstance(d2);
      await _reloadWithoutSaving(g2), await g2.auth._persistUserIfCurrent(g2), g2.auth._notifyListenersIfCurrent(g2);
    }(this);
  }
  _assign(d2) {
    this !== d2 && (_assert(this.uid === d2.uid, this.auth, "internal-error"), this.displayName = d2.displayName, this.photoURL = d2.photoURL, this.email = d2.email, this.emailVerified = d2.emailVerified, this.phoneNumber = d2.phoneNumber, this.isAnonymous = d2.isAnonymous, this.tenantId = d2.tenantId, this.providerData = d2.providerData.map((d3) => Object.assign({}, d3)), this.metadata._copy(d2.metadata), this.stsTokenManager._assign(d2.stsTokenManager));
  }
  _clone(d2) {
    const g2 = new UserImpl(Object.assign(Object.assign({}, this), { auth: d2, stsTokenManager: this.stsTokenManager._clone() }));
    return g2.metadata._copy(this.metadata), g2;
  }
  _onReload(d2) {
    _assert(!this.reloadListener, this.auth, "internal-error"), this.reloadListener = d2, this.reloadUserInfo && (this._notifyReloadListener(this.reloadUserInfo), this.reloadUserInfo = null);
  }
  _notifyReloadListener(d2) {
    this.reloadListener ? this.reloadListener(d2) : this.reloadUserInfo = d2;
  }
  _startProactiveRefresh() {
    this.proactiveRefresh._start();
  }
  _stopProactiveRefresh() {
    this.proactiveRefresh._stop();
  }
  async _updateTokensIfNecessary(d2, g2 = false) {
    let _2 = false;
    d2.idToken && d2.idToken !== this.stsTokenManager.accessToken && (this.stsTokenManager.updateFromServerResponse(d2), _2 = true), g2 && await _reloadWithoutSaving(this), await this.auth._persistUserIfCurrent(this), _2 && this.auth._notifyListenersIfCurrent(this);
  }
  async delete() {
    if (_isFirebaseServerApp(this.auth.app)) return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));
    const d2 = await this.getIdToken();
    return await _logoutIfInvalidated(this, async function deleteAccount(d3, g2) {
      return _performApiRequest(d3, "POST", "/v1/accounts:delete", g2);
    }(this.auth, { idToken: d2 })), this.stsTokenManager.clearRefreshToken(), this.auth.signOut();
  }
  toJSON() {
    return Object.assign(Object.assign({ uid: this.uid, email: this.email || void 0, emailVerified: this.emailVerified, displayName: this.displayName || void 0, isAnonymous: this.isAnonymous, photoURL: this.photoURL || void 0, phoneNumber: this.phoneNumber || void 0, tenantId: this.tenantId || void 0, providerData: this.providerData.map((d2) => Object.assign({}, d2)), stsTokenManager: this.stsTokenManager.toJSON(), _redirectEventId: this._redirectEventId }, this.metadata.toJSON()), { apiKey: this.auth.config.apiKey, appName: this.auth.name });
  }
  get refreshToken() {
    return this.stsTokenManager.refreshToken || "";
  }
  static _fromJSON(d2, g2) {
    var _2, O2, $2, st2, ot2, lt2, ct2, ut2;
    const gt2 = null !== (_2 = g2.displayName) && void 0 !== _2 ? _2 : void 0, mt2 = null !== (O2 = g2.email) && void 0 !== O2 ? O2 : void 0, bt2 = null !== ($2 = g2.phoneNumber) && void 0 !== $2 ? $2 : void 0, yt2 = null !== (st2 = g2.photoURL) && void 0 !== st2 ? st2 : void 0, wt2 = null !== (ot2 = g2.tenantId) && void 0 !== ot2 ? ot2 : void 0, Pt2 = null !== (lt2 = g2._redirectEventId) && void 0 !== lt2 ? lt2 : void 0, At2 = null !== (ct2 = g2.createdAt) && void 0 !== ct2 ? ct2 : void 0, St2 = null !== (ut2 = g2.lastLoginAt) && void 0 !== ut2 ? ut2 : void 0, { uid: Mt2, emailVerified: Vt2, isAnonymous: Ot2, providerData: zt2, stsTokenManager: Bt2 } = g2;
    _assert(Mt2 && Bt2, d2, "internal-error");
    const Zt2 = StsTokenManager.fromJSON(this.name, Bt2);
    _assert("string" == typeof Mt2, d2, "internal-error"), assertStringOrUndefined(gt2, d2.name), assertStringOrUndefined(mt2, d2.name), _assert("boolean" == typeof Vt2, d2, "internal-error"), _assert("boolean" == typeof Ot2, d2, "internal-error"), assertStringOrUndefined(bt2, d2.name), assertStringOrUndefined(yt2, d2.name), assertStringOrUndefined(wt2, d2.name), assertStringOrUndefined(Pt2, d2.name), assertStringOrUndefined(At2, d2.name), assertStringOrUndefined(St2, d2.name);
    const ce2 = new UserImpl({ uid: Mt2, auth: d2, email: mt2, emailVerified: Vt2, displayName: gt2, isAnonymous: Ot2, photoURL: yt2, phoneNumber: bt2, tenantId: wt2, stsTokenManager: Zt2, createdAt: At2, lastLoginAt: St2 });
    return zt2 && Array.isArray(zt2) && (ce2.providerData = zt2.map((d3) => Object.assign({}, d3))), Pt2 && (ce2._redirectEventId = Pt2), ce2;
  }
  static async _fromIdTokenResponse(d2, g2, _2 = false) {
    const O2 = new StsTokenManager();
    O2.updateFromServerResponse(g2);
    const $2 = new UserImpl({ uid: g2.localId, auth: d2, stsTokenManager: O2, isAnonymous: _2 });
    return await _reloadWithoutSaving($2), $2;
  }
  static async _fromGetAccountInfoResponse(d2, g2, _2) {
    const O2 = g2.users[0];
    _assert(void 0 !== O2.localId, "internal-error");
    const $2 = void 0 !== O2.providerUserInfo ? extractProviderData(O2.providerUserInfo) : [], st2 = !(O2.email && O2.passwordHash || (null == $2 ? void 0 : $2.length)), ot2 = new StsTokenManager();
    ot2.updateFromIdToken(_2);
    const lt2 = new UserImpl({ uid: O2.localId, auth: d2, stsTokenManager: ot2, isAnonymous: st2 }), ct2 = { uid: O2.localId, displayName: O2.displayName || null, photoURL: O2.photoUrl || null, email: O2.email || null, emailVerified: O2.emailVerified || false, phoneNumber: O2.phoneNumber || null, tenantId: O2.tenantId || null, providerData: $2, metadata: new UserMetadata(O2.createdAt, O2.lastLoginAt), isAnonymous: !(O2.email && O2.passwordHash || (null == $2 ? void 0 : $2.length)) };
    return Object.assign(lt2, ct2), lt2;
  }
}
const Rm = /* @__PURE__ */ new Map();
function _getInstance(d2) {
  debugAssert(d2 instanceof Function, "Expected a class definition");
  let g2 = Rm.get(d2);
  return g2 ? (debugAssert(g2 instanceof d2, "Instance stored in cache mismatched with class"), g2) : (g2 = new d2(), Rm.set(d2, g2), g2);
}
class InMemoryPersistence {
  constructor() {
    this.type = "NONE", this.storage = {};
  }
  async _isAvailable() {
    return true;
  }
  async _set(d2, g2) {
    this.storage[d2] = g2;
  }
  async _get(d2) {
    const g2 = this.storage[d2];
    return void 0 === g2 ? null : g2;
  }
  async _remove(d2) {
    delete this.storage[d2];
  }
  _addListener(d2, g2) {
  }
  _removeListener(d2, g2) {
  }
}
InMemoryPersistence.type = "NONE";
const km = InMemoryPersistence;
function _persistenceKeyName(d2, g2, _2) {
  return `firebase:${d2}:${g2}:${_2}`;
}
class PersistenceUserManager {
  constructor(d2, g2, _2) {
    this.persistence = d2, this.auth = g2, this.userKey = _2;
    const { config: O2, name: $2 } = this.auth;
    this.fullUserKey = _persistenceKeyName(this.userKey, O2.apiKey, $2), this.fullPersistenceKey = _persistenceKeyName("persistence", O2.apiKey, $2), this.boundEventHandler = g2._onStorageEvent.bind(g2), this.persistence._addListener(this.fullUserKey, this.boundEventHandler);
  }
  setCurrentUser(d2) {
    return this.persistence._set(this.fullUserKey, d2.toJSON());
  }
  async getCurrentUser() {
    const d2 = await this.persistence._get(this.fullUserKey);
    if (!d2) return null;
    if ("string" == typeof d2) {
      const g2 = await getAccountInfo(this.auth, { idToken: d2 }).catch(() => {
      });
      return g2 ? UserImpl._fromGetAccountInfoResponse(this.auth, g2, d2) : null;
    }
    return UserImpl._fromJSON(this.auth, d2);
  }
  removeCurrentUser() {
    return this.persistence._remove(this.fullUserKey);
  }
  savePersistenceForRedirect() {
    return this.persistence._set(this.fullPersistenceKey, this.persistence.type);
  }
  async setPersistence(d2) {
    if (this.persistence === d2) return;
    const g2 = await this.getCurrentUser();
    return await this.removeCurrentUser(), this.persistence = d2, g2 ? this.setCurrentUser(g2) : void 0;
  }
  delete() {
    this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);
  }
  static async create(d2, g2, _2 = "authUser") {
    if (!g2.length) return new PersistenceUserManager(_getInstance(km), d2, _2);
    const O2 = (await Promise.all(g2.map(async (d3) => {
      if (await d3._isAvailable()) return d3;
    }))).filter((d3) => d3);
    let $2 = O2[0] || _getInstance(km);
    const st2 = _persistenceKeyName(_2, d2.config.apiKey, d2.name);
    let ot2 = null;
    for (const _3 of g2) try {
      const g3 = await _3._get(st2);
      if (g3) {
        let O3;
        if ("string" == typeof g3) {
          const _4 = await getAccountInfo(d2, { idToken: g3 }).catch(() => {
          });
          if (!_4) break;
          O3 = await UserImpl._fromGetAccountInfoResponse(d2, _4, g3);
        } else O3 = UserImpl._fromJSON(d2, g3);
        _3 !== $2 && (ot2 = O3), $2 = _3;
        break;
      }
    } catch (d3) {
    }
    const lt2 = O2.filter((d3) => d3._shouldAllowMigration);
    return $2._shouldAllowMigration && lt2.length ? ($2 = lt2[0], ot2 && await $2._set(st2, ot2.toJSON()), await Promise.all(g2.map(async (d3) => {
      if (d3 !== $2) try {
        await d3._remove(st2);
      } catch (d4) {
      }
    })), new PersistenceUserManager($2, d2, _2)) : new PersistenceUserManager($2, d2, _2);
  }
}
function _getBrowserName(d2) {
  const g2 = d2.toLowerCase();
  if (g2.includes("opera/") || g2.includes("opr/") || g2.includes("opios/")) return "Opera";
  if (_isIEMobile(g2)) return "IEMobile";
  if (g2.includes("msie") || g2.includes("trident/")) return "IE";
  if (g2.includes("edge/")) return "Edge";
  if (_isFirefox(g2)) return "Firefox";
  if (g2.includes("silk/")) return "Silk";
  if (_isBlackBerry(g2)) return "Blackberry";
  if (_isWebOS(g2)) return "Webos";
  if (_isSafari(g2)) return "Safari";
  if ((g2.includes("chrome/") || _isChromeIOS(g2)) && !g2.includes("edge/")) return "Chrome";
  if (_isAndroid(g2)) return "Android";
  {
    const g3 = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/, _2 = d2.match(g3);
    if (2 === (null == _2 ? void 0 : _2.length)) return _2[1];
  }
  return "Other";
}
function _isFirefox(d2 = getUA()) {
  return /firefox\//i.test(d2);
}
function _isSafari(d2 = getUA()) {
  const g2 = d2.toLowerCase();
  return g2.includes("safari/") && !g2.includes("chrome/") && !g2.includes("crios/") && !g2.includes("android");
}
function _isChromeIOS(d2 = getUA()) {
  return /crios\//i.test(d2);
}
function _isIEMobile(d2 = getUA()) {
  return /iemobile/i.test(d2);
}
function _isAndroid(d2 = getUA()) {
  return /android/i.test(d2);
}
function _isBlackBerry(d2 = getUA()) {
  return /blackberry/i.test(d2);
}
function _isWebOS(d2 = getUA()) {
  return /webos/i.test(d2);
}
function _isIOS(d2 = getUA()) {
  return /iphone|ipad|ipod/i.test(d2) || /macintosh/i.test(d2) && /mobile/i.test(d2);
}
function _isIE10() {
  return function isIE() {
    const d2 = getUA();
    return d2.indexOf("MSIE ") >= 0 || d2.indexOf("Trident/") >= 0;
  }() && 10 === document.documentMode;
}
function _isMobileBrowser(d2 = getUA()) {
  return _isIOS(d2) || _isAndroid(d2) || _isWebOS(d2) || _isBlackBerry(d2) || /windows phone/i.test(d2) || _isIEMobile(d2);
}
function _getClientVersion(d2, g2 = []) {
  let _2;
  switch (d2) {
    case "Browser":
      _2 = _getBrowserName(getUA());
      break;
    case "Worker":
      _2 = `${_getBrowserName(getUA())}-${d2}`;
      break;
    default:
      _2 = d2;
  }
  const O2 = g2.length ? g2.join(",") : "FirebaseCore-web";
  return `${_2}/JsCore/${o_}/${O2}`;
}
class AuthMiddlewareQueue {
  constructor(d2) {
    this.auth = d2, this.queue = [];
  }
  pushCallback(d2, g2) {
    const wrappedCallback = (g3) => new Promise((_3, O2) => {
      try {
        _3(d2(g3));
      } catch (d3) {
        O2(d3);
      }
    });
    wrappedCallback.onAbort = g2, this.queue.push(wrappedCallback);
    const _2 = this.queue.length - 1;
    return () => {
      this.queue[_2] = () => Promise.resolve();
    };
  }
  async runMiddleware(d2) {
    if (this.auth.currentUser === d2) return;
    const g2 = [];
    try {
      for (const _2 of this.queue) await _2(d2), _2.onAbort && g2.push(_2.onAbort);
    } catch (d3) {
      g2.reverse();
      for (const d4 of g2) try {
        d4();
      } catch (d5) {
      }
      throw this.auth._errorFactory.create("login-blocked", { originalMessage: null == d3 ? void 0 : d3.message });
    }
  }
}
class PasswordPolicyImpl {
  constructor(d2) {
    var g2, _2, O2, $2;
    const st2 = d2.customStrengthOptions;
    this.customStrengthOptions = {}, this.customStrengthOptions.minPasswordLength = null !== (g2 = st2.minPasswordLength) && void 0 !== g2 ? g2 : 6, st2.maxPasswordLength && (this.customStrengthOptions.maxPasswordLength = st2.maxPasswordLength), void 0 !== st2.containsLowercaseCharacter && (this.customStrengthOptions.containsLowercaseLetter = st2.containsLowercaseCharacter), void 0 !== st2.containsUppercaseCharacter && (this.customStrengthOptions.containsUppercaseLetter = st2.containsUppercaseCharacter), void 0 !== st2.containsNumericCharacter && (this.customStrengthOptions.containsNumericCharacter = st2.containsNumericCharacter), void 0 !== st2.containsNonAlphanumericCharacter && (this.customStrengthOptions.containsNonAlphanumericCharacter = st2.containsNonAlphanumericCharacter), this.enforcementState = d2.enforcementState, "ENFORCEMENT_STATE_UNSPECIFIED" === this.enforcementState && (this.enforcementState = "OFF"), this.allowedNonAlphanumericCharacters = null !== (O2 = null === (_2 = d2.allowedNonAlphanumericCharacters) || void 0 === _2 ? void 0 : _2.join("")) && void 0 !== O2 ? O2 : "", this.forceUpgradeOnSignin = null !== ($2 = d2.forceUpgradeOnSignin) && void 0 !== $2 && $2, this.schemaVersion = d2.schemaVersion;
  }
  validatePassword(d2) {
    var g2, _2, O2, $2, st2, ot2;
    const lt2 = { isValid: true, passwordPolicy: this };
    return this.validatePasswordLengthOptions(d2, lt2), this.validatePasswordCharacterOptions(d2, lt2), lt2.isValid && (lt2.isValid = null === (g2 = lt2.meetsMinPasswordLength) || void 0 === g2 || g2), lt2.isValid && (lt2.isValid = null === (_2 = lt2.meetsMaxPasswordLength) || void 0 === _2 || _2), lt2.isValid && (lt2.isValid = null === (O2 = lt2.containsLowercaseLetter) || void 0 === O2 || O2), lt2.isValid && (lt2.isValid = null === ($2 = lt2.containsUppercaseLetter) || void 0 === $2 || $2), lt2.isValid && (lt2.isValid = null === (st2 = lt2.containsNumericCharacter) || void 0 === st2 || st2), lt2.isValid && (lt2.isValid = null === (ot2 = lt2.containsNonAlphanumericCharacter) || void 0 === ot2 || ot2), lt2;
  }
  validatePasswordLengthOptions(d2, g2) {
    const _2 = this.customStrengthOptions.minPasswordLength, O2 = this.customStrengthOptions.maxPasswordLength;
    _2 && (g2.meetsMinPasswordLength = d2.length >= _2), O2 && (g2.meetsMaxPasswordLength = d2.length <= O2);
  }
  validatePasswordCharacterOptions(d2, g2) {
    let _2;
    this.updatePasswordCharacterOptionsStatuses(g2, false, false, false, false);
    for (let O2 = 0; O2 < d2.length; O2++) _2 = d2.charAt(O2), this.updatePasswordCharacterOptionsStatuses(g2, _2 >= "a" && _2 <= "z", _2 >= "A" && _2 <= "Z", _2 >= "0" && _2 <= "9", this.allowedNonAlphanumericCharacters.includes(_2));
  }
  updatePasswordCharacterOptionsStatuses(d2, g2, _2, O2, $2) {
    this.customStrengthOptions.containsLowercaseLetter && (d2.containsLowercaseLetter || (d2.containsLowercaseLetter = g2)), this.customStrengthOptions.containsUppercaseLetter && (d2.containsUppercaseLetter || (d2.containsUppercaseLetter = _2)), this.customStrengthOptions.containsNumericCharacter && (d2.containsNumericCharacter || (d2.containsNumericCharacter = O2)), this.customStrengthOptions.containsNonAlphanumericCharacter && (d2.containsNonAlphanumericCharacter || (d2.containsNonAlphanumericCharacter = $2));
  }
}
class AuthImpl {
  constructor(d2, g2, _2, O2) {
    this.app = d2, this.heartbeatServiceProvider = g2, this.appCheckServiceProvider = _2, this.config = O2, this.currentUser = null, this.emulatorConfig = null, this.operations = Promise.resolve(), this.authStateSubscription = new Subscription(this), this.idTokenSubscription = new Subscription(this), this.beforeStateQueue = new AuthMiddlewareQueue(this), this.redirectUser = null, this.isProactiveRefreshEnabled = false, this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1, this._canInitEmulator = true, this._isInitialized = false, this._deleted = false, this._initializationPromise = null, this._popupRedirectResolver = null, this._errorFactory = Tm, this._agentRecaptchaConfig = null, this._tenantRecaptchaConfigs = {}, this._projectPasswordPolicy = null, this._tenantPasswordPolicies = {}, this._resolvePersistenceManagerAvailable = void 0, this.lastNotifiedUid = void 0, this.languageCode = null, this.tenantId = null, this.settings = { appVerificationDisabledForTesting: false }, this.frameworks = [], this.name = d2.name, this.clientVersion = O2.sdkClientVersion, this._persistenceManagerAvailable = new Promise((d3) => this._resolvePersistenceManagerAvailable = d3);
  }
  _initializeWithPersistence(d2, g2) {
    return g2 && (this._popupRedirectResolver = _getInstance(g2)), this._initializationPromise = this.queue(async () => {
      var _2, O2, $2;
      if (!this._deleted && (this.persistenceManager = await PersistenceUserManager.create(this, d2), null === (_2 = this._resolvePersistenceManagerAvailable) || void 0 === _2 || _2.call(this), !this._deleted)) {
        if (null === (O2 = this._popupRedirectResolver) || void 0 === O2 ? void 0 : O2._shouldInitProactively) try {
          await this._popupRedirectResolver._initialize(this);
        } catch (d3) {
        }
        await this.initializeCurrentUser(g2), this.lastNotifiedUid = (null === ($2 = this.currentUser) || void 0 === $2 ? void 0 : $2.uid) || null, this._deleted || (this._isInitialized = true);
      }
    }), this._initializationPromise;
  }
  async _onStorageEvent() {
    if (this._deleted) return;
    const d2 = await this.assertedPersistence.getCurrentUser();
    return this.currentUser || d2 ? this.currentUser && d2 && this.currentUser.uid === d2.uid ? (this._currentUser._assign(d2), void await this.currentUser.getIdToken()) : void await this._updateCurrentUser(d2, true) : void 0;
  }
  async initializeCurrentUserFromIdToken(d2) {
    try {
      const g2 = await getAccountInfo(this, { idToken: d2 }), _2 = await UserImpl._fromGetAccountInfoResponse(this, g2, d2);
      await this.directlySetCurrentUser(_2);
    } catch (d3) {
      console.warn("FirebaseServerApp could not login user with provided authIdToken: ", d3), await this.directlySetCurrentUser(null);
    }
  }
  async initializeCurrentUser(d2) {
    var g2;
    if (_isFirebaseServerApp(this.app)) {
      const d3 = this.app.settings.authIdToken;
      return d3 ? new Promise((g3) => {
        setTimeout(() => this.initializeCurrentUserFromIdToken(d3).then(g3, g3));
      }) : this.directlySetCurrentUser(null);
    }
    const _2 = await this.assertedPersistence.getCurrentUser();
    let O2 = _2, $2 = false;
    if (d2 && this.config.authDomain) {
      await this.getOrInitRedirectPersistenceManager();
      const _3 = null === (g2 = this.redirectUser) || void 0 === g2 ? void 0 : g2._redirectEventId, st2 = null == O2 ? void 0 : O2._redirectEventId, ot2 = await this.tryRedirectSignIn(d2);
      _3 && _3 !== st2 || !(null == ot2 ? void 0 : ot2.user) || (O2 = ot2.user, $2 = true);
    }
    if (!O2) return this.directlySetCurrentUser(null);
    if (!O2._redirectEventId) {
      if ($2) try {
        await this.beforeStateQueue.runMiddleware(O2);
      } catch (d3) {
        O2 = _2, this._popupRedirectResolver._overrideRedirectResult(this, () => Promise.reject(d3));
      }
      return O2 ? this.reloadAndSetCurrentUserOrClear(O2) : this.directlySetCurrentUser(null);
    }
    return _assert(this._popupRedirectResolver, this, "argument-error"), await this.getOrInitRedirectPersistenceManager(), this.redirectUser && this.redirectUser._redirectEventId === O2._redirectEventId ? this.directlySetCurrentUser(O2) : this.reloadAndSetCurrentUserOrClear(O2);
  }
  async tryRedirectSignIn(d2) {
    let g2 = null;
    try {
      g2 = await this._popupRedirectResolver._completeRedirectFn(this, d2, true);
    } catch (d3) {
      await this._setRedirectUser(null);
    }
    return g2;
  }
  async reloadAndSetCurrentUserOrClear(d2) {
    try {
      await _reloadWithoutSaving(d2);
    } catch (d3) {
      if ("auth/network-request-failed" !== (null == d3 ? void 0 : d3.code)) return this.directlySetCurrentUser(null);
    }
    return this.directlySetCurrentUser(d2);
  }
  useDeviceLanguage() {
    this.languageCode = function _getUserLanguage() {
      if ("undefined" == typeof navigator) return null;
      const d2 = navigator;
      return d2.languages && d2.languages[0] || d2.language || null;
    }();
  }
  async _delete() {
    this._deleted = true;
  }
  async updateCurrentUser(d2) {
    if (_isFirebaseServerApp(this.app)) return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
    const g2 = d2 ? getModularInstance(d2) : null;
    return g2 && _assert(g2.auth.config.apiKey === this.config.apiKey, this, "invalid-user-token"), this._updateCurrentUser(g2 && g2._clone(this));
  }
  async _updateCurrentUser(d2, g2 = false) {
    if (!this._deleted) return d2 && _assert(this.tenantId === d2.tenantId, this, "tenant-id-mismatch"), g2 || await this.beforeStateQueue.runMiddleware(d2), this.queue(async () => {
      await this.directlySetCurrentUser(d2), this.notifyAuthListeners();
    });
  }
  async signOut() {
    return _isFirebaseServerApp(this.app) ? Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)) : (await this.beforeStateQueue.runMiddleware(null), (this.redirectPersistenceManager || this._popupRedirectResolver) && await this._setRedirectUser(null), this._updateCurrentUser(null, true));
  }
  setPersistence(d2) {
    return _isFirebaseServerApp(this.app) ? Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)) : this.queue(async () => {
      await this.assertedPersistence.setPersistence(_getInstance(d2));
    });
  }
  _getRecaptchaConfig() {
    return null == this.tenantId ? this._agentRecaptchaConfig : this._tenantRecaptchaConfigs[this.tenantId];
  }
  async validatePassword(d2) {
    this._getPasswordPolicyInternal() || await this._updatePasswordPolicy();
    const g2 = this._getPasswordPolicyInternal();
    return g2.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION ? Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version", {})) : g2.validatePassword(d2);
  }
  _getPasswordPolicyInternal() {
    return null === this.tenantId ? this._projectPasswordPolicy : this._tenantPasswordPolicies[this.tenantId];
  }
  async _updatePasswordPolicy() {
    const d2 = await async function _getPasswordPolicy(d3, g3 = {}) {
      return _performApiRequest(d3, "GET", "/v2/passwordPolicy", _addTidIfNecessary(d3, g3));
    }(this), g2 = new PasswordPolicyImpl(d2);
    null === this.tenantId ? this._projectPasswordPolicy = g2 : this._tenantPasswordPolicies[this.tenantId] = g2;
  }
  _getPersistenceType() {
    return this.assertedPersistence.persistence.type;
  }
  _getPersistence() {
    return this.assertedPersistence.persistence;
  }
  _updateErrorMap(d2) {
    this._errorFactory = new ErrorFactory("auth", "Firebase", d2());
  }
  onAuthStateChanged(d2, g2, _2) {
    return this.registerStateListener(this.authStateSubscription, d2, g2, _2);
  }
  beforeAuthStateChanged(d2, g2) {
    return this.beforeStateQueue.pushCallback(d2, g2);
  }
  onIdTokenChanged(d2, g2, _2) {
    return this.registerStateListener(this.idTokenSubscription, d2, g2, _2);
  }
  authStateReady() {
    return new Promise((d2, g2) => {
      if (this.currentUser) d2();
      else {
        const _2 = this.onAuthStateChanged(() => {
          _2(), d2();
        }, g2);
      }
    });
  }
  async revokeAccessToken(d2) {
    if (this.currentUser) {
      const g2 = { providerId: "apple.com", tokenType: "ACCESS_TOKEN", token: d2, idToken: await this.currentUser.getIdToken() };
      null != this.tenantId && (g2.tenantId = this.tenantId), await async function revokeToken(d3, g3) {
        return _performApiRequest(d3, "POST", "/v2/accounts:revokeToken", _addTidIfNecessary(d3, g3));
      }(this, g2);
    }
  }
  toJSON() {
    var d2;
    return { apiKey: this.config.apiKey, authDomain: this.config.authDomain, appName: this.name, currentUser: null === (d2 = this._currentUser) || void 0 === d2 ? void 0 : d2.toJSON() };
  }
  async _setRedirectUser(d2, g2) {
    const _2 = await this.getOrInitRedirectPersistenceManager(g2);
    return null === d2 ? _2.removeCurrentUser() : _2.setCurrentUser(d2);
  }
  async getOrInitRedirectPersistenceManager(d2) {
    if (!this.redirectPersistenceManager) {
      const g2 = d2 && _getInstance(d2) || this._popupRedirectResolver;
      _assert(g2, this, "argument-error"), this.redirectPersistenceManager = await PersistenceUserManager.create(this, [_getInstance(g2._redirectPersistence)], "redirectUser"), this.redirectUser = await this.redirectPersistenceManager.getCurrentUser();
    }
    return this.redirectPersistenceManager;
  }
  async _redirectUserForId(d2) {
    var g2, _2;
    return this._isInitialized && await this.queue(async () => {
    }), (null === (g2 = this._currentUser) || void 0 === g2 ? void 0 : g2._redirectEventId) === d2 ? this._currentUser : (null === (_2 = this.redirectUser) || void 0 === _2 ? void 0 : _2._redirectEventId) === d2 ? this.redirectUser : null;
  }
  async _persistUserIfCurrent(d2) {
    if (d2 === this.currentUser) return this.queue(async () => this.directlySetCurrentUser(d2));
  }
  _notifyListenersIfCurrent(d2) {
    d2 === this.currentUser && this.notifyAuthListeners();
  }
  _key() {
    return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;
  }
  _startProactiveRefresh() {
    this.isProactiveRefreshEnabled = true, this.currentUser && this._currentUser._startProactiveRefresh();
  }
  _stopProactiveRefresh() {
    this.isProactiveRefreshEnabled = false, this.currentUser && this._currentUser._stopProactiveRefresh();
  }
  get _currentUser() {
    return this.currentUser;
  }
  notifyAuthListeners() {
    var d2, g2;
    if (!this._isInitialized) return;
    this.idTokenSubscription.next(this.currentUser);
    const _2 = null !== (g2 = null === (d2 = this.currentUser) || void 0 === d2 ? void 0 : d2.uid) && void 0 !== g2 ? g2 : null;
    this.lastNotifiedUid !== _2 && (this.lastNotifiedUid = _2, this.authStateSubscription.next(this.currentUser));
  }
  registerStateListener(d2, g2, _2, O2) {
    if (this._deleted) return () => {
    };
    const $2 = "function" == typeof g2 ? g2 : g2.next.bind(g2);
    let st2 = false;
    const ot2 = this._isInitialized ? Promise.resolve() : this._initializationPromise;
    if (_assert(ot2, this, "internal-error"), ot2.then(() => {
      st2 || $2(this.currentUser);
    }), "function" == typeof g2) {
      const $3 = d2.addObserver(g2, _2, O2);
      return () => {
        st2 = true, $3();
      };
    }
    {
      const _3 = d2.addObserver(g2);
      return () => {
        st2 = true, _3();
      };
    }
  }
  async directlySetCurrentUser(d2) {
    this.currentUser && this.currentUser !== d2 && this._currentUser._stopProactiveRefresh(), d2 && this.isProactiveRefreshEnabled && d2._startProactiveRefresh(), this.currentUser = d2, d2 ? await this.assertedPersistence.setCurrentUser(d2) : await this.assertedPersistence.removeCurrentUser();
  }
  queue(d2) {
    return this.operations = this.operations.then(d2, d2), this.operations;
  }
  get assertedPersistence() {
    return _assert(this.persistenceManager, this, "internal-error"), this.persistenceManager;
  }
  _logFramework(d2) {
    d2 && !this.frameworks.includes(d2) && (this.frameworks.push(d2), this.frameworks.sort(), this.clientVersion = _getClientVersion(this.config.clientPlatform, this._getFrameworks()));
  }
  _getFrameworks() {
    return this.frameworks;
  }
  async _getAdditionalHeaders() {
    var d2;
    const g2 = { "X-Client-Version": this.clientVersion };
    this.app.options.appId && (g2["X-Firebase-gmpid"] = this.app.options.appId);
    const _2 = await (null === (d2 = this.heartbeatServiceProvider.getImmediate({ optional: true })) || void 0 === d2 ? void 0 : d2.getHeartbeatsHeader());
    _2 && (g2["X-Firebase-Client"] = _2);
    const O2 = await this._getAppCheckToken();
    return O2 && (g2["X-Firebase-AppCheck"] = O2), g2;
  }
  async _getAppCheckToken() {
    var d2;
    if (_isFirebaseServerApp(this.app) && this.app.settings.appCheckToken) return this.app.settings.appCheckToken;
    const g2 = await (null === (d2 = this.appCheckServiceProvider.getImmediate({ optional: true })) || void 0 === d2 ? void 0 : d2.getToken());
    return (null == g2 ? void 0 : g2.error) && function _logWarn(d3, ...g3) {
      Em.logLevel <= hg.WARN && Em.warn(`Auth (${o_}): ${d3}`, ...g3);
    }(`Error while retrieving App Check token: ${g2.error}`), null == g2 ? void 0 : g2.token;
  }
}
function _castAuth(d2) {
  return getModularInstance(d2);
}
class Subscription {
  constructor(d2) {
    this.auth = d2, this.observer = null, this.addObserver = function createSubscribe(d3, g2) {
      const _2 = new ObserverProxy(d3, g2);
      return _2.subscribe.bind(_2);
    }((d3) => this.observer = d3);
  }
  get next() {
    return _assert(this.observer, this.auth, "internal-error"), this.observer.next.bind(this.observer);
  }
}
let Sm = { async loadJS() {
  throw new Error("Unable to load external scripts");
}, recaptchaV2Script: "", recaptchaEnterpriseScript: "", gapiScript: "" };
function connectAuthEmulator(d2, g2, _2) {
  const O2 = _castAuth(d2);
  _assert(/^https?:\/\//.test(g2), O2, "invalid-emulator-scheme");
  const $2 = extractProtocol(g2), { host: st2, port: ot2 } = function extractHostAndPort(d3) {
    const g3 = extractProtocol(d3), _3 = /(\/\/)?([^?#/]+)/.exec(d3.substr(g3.length));
    if (!_3) return { host: "", port: null };
    const O3 = _3[2].split("@").pop() || "", $3 = /^(\[[^\]]+\])(:|$)/.exec(O3);
    if ($3) {
      const d4 = $3[1];
      return { host: d4, port: parsePort(O3.substr(d4.length + 1)) };
    }
    {
      const [d4, g4] = O3.split(":");
      return { host: d4, port: parsePort(g4) };
    }
  }(g2), lt2 = null === ot2 ? "" : `:${ot2}`, ct2 = { url: `${$2}//${st2}${lt2}/` }, ut2 = Object.freeze({ host: st2, port: ot2, protocol: $2.replace(":", ""), options: Object.freeze({ disableWarnings: false }) });
  if (!O2._canInitEmulator) return _assert(O2.config.emulator && O2.emulatorConfig, O2, "emulator-config-failed"), void _assert(deepEqual(ct2, O2.config.emulator) && deepEqual(ut2, O2.emulatorConfig), O2, "emulator-config-failed");
  O2.config.emulator = ct2, O2.emulatorConfig = ut2, O2.settings.appVerificationDisabledForTesting = true, isCloudWorkstation(st2) ? (updateEmulatorBanner("Auth", true), pingServer(`${$2}//${st2}${lt2}`)) : function emitEmulatorWarning() {
    function attachBanner() {
      const d3 = document.createElement("p"), g3 = d3.style;
      d3.innerText = "Running in emulator mode. Do not use with production credentials.", g3.position = "fixed", g3.width = "100%", g3.backgroundColor = "#ffffff", g3.border = ".1em solid #000000", g3.color = "#b50000", g3.bottom = "0px", g3.left = "0px", g3.margin = "0px", g3.zIndex = "10000", g3.textAlign = "center", d3.classList.add("firebase-emulator-warning"), document.body.appendChild(d3);
    }
    "undefined" != typeof console && "function" == typeof console.info && console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");
    "undefined" != typeof window && "undefined" != typeof document && ("loading" === document.readyState ? window.addEventListener("DOMContentLoaded", attachBanner) : attachBanner());
  }();
}
function extractProtocol(d2) {
  const g2 = d2.indexOf(":");
  return g2 < 0 ? "" : d2.substr(0, g2 + 1);
}
function parsePort(d2) {
  if (!d2) return null;
  const g2 = Number(d2);
  return isNaN(g2) ? null : g2;
}
class AuthCredential {
  constructor(d2, g2) {
    this.providerId = d2, this.signInMethod = g2;
  }
  toJSON() {
    return debugFail("not implemented");
  }
  _getIdTokenResponse(d2) {
    return debugFail("not implemented");
  }
  _linkToIdToken(d2, g2) {
    return debugFail("not implemented");
  }
  _getReauthenticationResolver(d2) {
    return debugFail("not implemented");
  }
}
async function signInWithIdp(d2, g2) {
  return async function _performSignInRequest(d3, g3, _2, O2, $2 = {}) {
    const st2 = await _performApiRequest(d3, g3, _2, O2, $2);
    return "mfaPendingCredential" in st2 && _fail(d3, "multi-factor-auth-required", { _serverResponse: st2 }), st2;
  }(d2, "POST", "/v1/accounts:signInWithIdp", _addTidIfNecessary(d2, g2));
}
class OAuthCredential extends AuthCredential {
  constructor() {
    super(...arguments), this.pendingToken = null;
  }
  static _fromParams(d2) {
    const g2 = new OAuthCredential(d2.providerId, d2.signInMethod);
    return d2.idToken || d2.accessToken ? (d2.idToken && (g2.idToken = d2.idToken), d2.accessToken && (g2.accessToken = d2.accessToken), d2.nonce && !d2.pendingToken && (g2.nonce = d2.nonce), d2.pendingToken && (g2.pendingToken = d2.pendingToken)) : d2.oauthToken && d2.oauthTokenSecret ? (g2.accessToken = d2.oauthToken, g2.secret = d2.oauthTokenSecret) : _fail("argument-error"), g2;
  }
  toJSON() {
    return { idToken: this.idToken, accessToken: this.accessToken, secret: this.secret, nonce: this.nonce, pendingToken: this.pendingToken, providerId: this.providerId, signInMethod: this.signInMethod };
  }
  static fromJSON(d2) {
    const g2 = "string" == typeof d2 ? JSON.parse(d2) : d2, { providerId: _2, signInMethod: O2 } = g2, $2 = __rest(g2, ["providerId", "signInMethod"]);
    if (!_2 || !O2) return null;
    const st2 = new OAuthCredential(_2, O2);
    return st2.idToken = $2.idToken || void 0, st2.accessToken = $2.accessToken || void 0, st2.secret = $2.secret, st2.nonce = $2.nonce, st2.pendingToken = $2.pendingToken || null, st2;
  }
  _getIdTokenResponse(d2) {
    return signInWithIdp(d2, this.buildRequest());
  }
  _linkToIdToken(d2, g2) {
    const _2 = this.buildRequest();
    return _2.idToken = g2, signInWithIdp(d2, _2);
  }
  _getReauthenticationResolver(d2) {
    const g2 = this.buildRequest();
    return g2.autoCreate = false, signInWithIdp(d2, g2);
  }
  buildRequest() {
    const d2 = { requestUri: "http://localhost", returnSecureToken: true };
    if (this.pendingToken) d2.pendingToken = this.pendingToken;
    else {
      const g2 = {};
      this.idToken && (g2.id_token = this.idToken), this.accessToken && (g2.access_token = this.accessToken), this.secret && (g2.oauth_token_secret = this.secret), g2.providerId = this.providerId, this.nonce && !this.pendingToken && (g2.nonce = this.nonce), d2.postBody = querystring(g2);
    }
    return d2;
  }
}
class FederatedAuthProvider {
  constructor(d2) {
    this.providerId = d2, this.defaultLanguageCode = null, this.customParameters = {};
  }
  setDefaultLanguage(d2) {
    this.defaultLanguageCode = d2;
  }
  setCustomParameters(d2) {
    return this.customParameters = d2, this;
  }
  getCustomParameters() {
    return this.customParameters;
  }
}
class BaseOAuthProvider extends FederatedAuthProvider {
  constructor() {
    super(...arguments), this.scopes = [];
  }
  addScope(d2) {
    return this.scopes.includes(d2) || this.scopes.push(d2), this;
  }
  getScopes() {
    return [...this.scopes];
  }
}
class FacebookAuthProvider extends BaseOAuthProvider {
  constructor() {
    super("facebook.com");
  }
  static credential(d2) {
    return OAuthCredential._fromParams({ providerId: FacebookAuthProvider.PROVIDER_ID, signInMethod: FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD, accessToken: d2 });
  }
  static credentialFromResult(d2) {
    return FacebookAuthProvider.credentialFromTaggedObject(d2);
  }
  static credentialFromError(d2) {
    return FacebookAuthProvider.credentialFromTaggedObject(d2.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: d2 }) {
    if (!d2 || !("oauthAccessToken" in d2)) return null;
    if (!d2.oauthAccessToken) return null;
    try {
      return FacebookAuthProvider.credential(d2.oauthAccessToken);
    } catch (d3) {
      return null;
    }
  }
}
FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD = "facebook.com", FacebookAuthProvider.PROVIDER_ID = "facebook.com";
class GoogleAuthProvider extends BaseOAuthProvider {
  constructor() {
    super("google.com"), this.addScope("profile");
  }
  static credential(d2, g2) {
    return OAuthCredential._fromParams({ providerId: GoogleAuthProvider.PROVIDER_ID, signInMethod: GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD, idToken: d2, accessToken: g2 });
  }
  static credentialFromResult(d2) {
    return GoogleAuthProvider.credentialFromTaggedObject(d2);
  }
  static credentialFromError(d2) {
    return GoogleAuthProvider.credentialFromTaggedObject(d2.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: d2 }) {
    if (!d2) return null;
    const { oauthIdToken: g2, oauthAccessToken: _2 } = d2;
    if (!g2 && !_2) return null;
    try {
      return GoogleAuthProvider.credential(g2, _2);
    } catch (d3) {
      return null;
    }
  }
}
GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD = "google.com", GoogleAuthProvider.PROVIDER_ID = "google.com";
class GithubAuthProvider extends BaseOAuthProvider {
  constructor() {
    super("github.com");
  }
  static credential(d2) {
    return OAuthCredential._fromParams({ providerId: GithubAuthProvider.PROVIDER_ID, signInMethod: GithubAuthProvider.GITHUB_SIGN_IN_METHOD, accessToken: d2 });
  }
  static credentialFromResult(d2) {
    return GithubAuthProvider.credentialFromTaggedObject(d2);
  }
  static credentialFromError(d2) {
    return GithubAuthProvider.credentialFromTaggedObject(d2.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: d2 }) {
    if (!d2 || !("oauthAccessToken" in d2)) return null;
    if (!d2.oauthAccessToken) return null;
    try {
      return GithubAuthProvider.credential(d2.oauthAccessToken);
    } catch (d3) {
      return null;
    }
  }
}
GithubAuthProvider.GITHUB_SIGN_IN_METHOD = "github.com", GithubAuthProvider.PROVIDER_ID = "github.com";
class TwitterAuthProvider extends BaseOAuthProvider {
  constructor() {
    super("twitter.com");
  }
  static credential(d2, g2) {
    return OAuthCredential._fromParams({ providerId: TwitterAuthProvider.PROVIDER_ID, signInMethod: TwitterAuthProvider.TWITTER_SIGN_IN_METHOD, oauthToken: d2, oauthTokenSecret: g2 });
  }
  static credentialFromResult(d2) {
    return TwitterAuthProvider.credentialFromTaggedObject(d2);
  }
  static credentialFromError(d2) {
    return TwitterAuthProvider.credentialFromTaggedObject(d2.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: d2 }) {
    if (!d2) return null;
    const { oauthAccessToken: g2, oauthTokenSecret: _2 } = d2;
    if (!g2 || !_2) return null;
    try {
      return TwitterAuthProvider.credential(g2, _2);
    } catch (d3) {
      return null;
    }
  }
}
TwitterAuthProvider.TWITTER_SIGN_IN_METHOD = "twitter.com", TwitterAuthProvider.PROVIDER_ID = "twitter.com";
class UserCredentialImpl {
  constructor(d2) {
    this.user = d2.user, this.providerId = d2.providerId, this._tokenResponse = d2._tokenResponse, this.operationType = d2.operationType;
  }
  static async _fromIdTokenResponse(d2, g2, _2, O2 = false) {
    const $2 = await UserImpl._fromIdTokenResponse(d2, _2, O2), st2 = providerIdForResponse(_2);
    return new UserCredentialImpl({ user: $2, providerId: st2, _tokenResponse: _2, operationType: g2 });
  }
  static async _forOperation(d2, g2, _2) {
    await d2._updateTokensIfNecessary(_2, true);
    const O2 = providerIdForResponse(_2);
    return new UserCredentialImpl({ user: d2, providerId: O2, _tokenResponse: _2, operationType: g2 });
  }
}
function providerIdForResponse(d2) {
  return d2.providerId ? d2.providerId : "phoneNumber" in d2 ? "phone" : null;
}
class MultiFactorError extends FirebaseError {
  constructor(d2, g2, _2, O2) {
    var $2;
    super(g2.code, g2.message), this.operationType = _2, this.user = O2, Object.setPrototypeOf(this, MultiFactorError.prototype), this.customData = { appName: d2.name, tenantId: null !== ($2 = d2.tenantId) && void 0 !== $2 ? $2 : void 0, _serverResponse: g2.customData._serverResponse, operationType: _2 };
  }
  static _fromErrorAndOperation(d2, g2, _2, O2) {
    return new MultiFactorError(d2, g2, _2, O2);
  }
}
function _processCredentialSavingMfaContextIfNecessary(d2, g2, _2, O2) {
  return ("reauthenticate" === g2 ? _2._getReauthenticationResolver(d2) : _2._getIdTokenResponse(d2)).catch((_3) => {
    if ("auth/multi-factor-auth-required" === _3.code) throw MultiFactorError._fromErrorAndOperation(d2, _3, g2, O2);
    throw _3;
  });
}
const Cm = "__sak";
class BrowserPersistenceClass {
  constructor(d2, g2) {
    this.storageRetriever = d2, this.type = g2;
  }
  _isAvailable() {
    try {
      return this.storage ? (this.storage.setItem(Cm, "1"), this.storage.removeItem(Cm), Promise.resolve(true)) : Promise.resolve(false);
    } catch (d2) {
      return Promise.resolve(false);
    }
  }
  _set(d2, g2) {
    return this.storage.setItem(d2, JSON.stringify(g2)), Promise.resolve();
  }
  _get(d2) {
    const g2 = this.storage.getItem(d2);
    return Promise.resolve(g2 ? JSON.parse(g2) : null);
  }
  _remove(d2) {
    return this.storage.removeItem(d2), Promise.resolve();
  }
  get storage() {
    return this.storageRetriever();
  }
}
class BrowserLocalPersistence extends BrowserPersistenceClass {
  constructor() {
    super(() => window.localStorage, "LOCAL"), this.boundEventHandler = (d2, g2) => this.onStorageEvent(d2, g2), this.listeners = {}, this.localCache = {}, this.pollTimer = null, this.fallbackToPolling = _isMobileBrowser(), this._shouldAllowMigration = true;
  }
  forAllChangedKeys(d2) {
    for (const g2 of Object.keys(this.listeners)) {
      const _2 = this.storage.getItem(g2), O2 = this.localCache[g2];
      _2 !== O2 && d2(g2, O2, _2);
    }
  }
  onStorageEvent(d2, g2 = false) {
    if (!d2.key) return void this.forAllChangedKeys((d3, g3, _3) => {
      this.notifyListeners(d3, _3);
    });
    const _2 = d2.key;
    g2 ? this.detachListener() : this.stopPolling();
    const triggerListeners = () => {
      const d3 = this.storage.getItem(_2);
      (g2 || this.localCache[_2] !== d3) && this.notifyListeners(_2, d3);
    }, O2 = this.storage.getItem(_2);
    _isIE10() && O2 !== d2.newValue && d2.newValue !== d2.oldValue ? setTimeout(triggerListeners, 10) : triggerListeners();
  }
  notifyListeners(d2, g2) {
    this.localCache[d2] = g2;
    const _2 = this.listeners[d2];
    if (_2) for (const d3 of Array.from(_2)) d3(g2 ? JSON.parse(g2) : g2);
  }
  startPolling() {
    this.stopPolling(), this.pollTimer = setInterval(() => {
      this.forAllChangedKeys((d2, g2, _2) => {
        this.onStorageEvent(new StorageEvent("storage", { key: d2, oldValue: g2, newValue: _2 }), true);
      });
    }, 1e3);
  }
  stopPolling() {
    this.pollTimer && (clearInterval(this.pollTimer), this.pollTimer = null);
  }
  attachListener() {
    window.addEventListener("storage", this.boundEventHandler);
  }
  detachListener() {
    window.removeEventListener("storage", this.boundEventHandler);
  }
  _addListener(d2, g2) {
    0 === Object.keys(this.listeners).length && (this.fallbackToPolling ? this.startPolling() : this.attachListener()), this.listeners[d2] || (this.listeners[d2] = /* @__PURE__ */ new Set(), this.localCache[d2] = this.storage.getItem(d2)), this.listeners[d2].add(g2);
  }
  _removeListener(d2, g2) {
    this.listeners[d2] && (this.listeners[d2].delete(g2), 0 === this.listeners[d2].size && delete this.listeners[d2]), 0 === Object.keys(this.listeners).length && (this.detachListener(), this.stopPolling());
  }
  async _set(d2, g2) {
    await super._set(d2, g2), this.localCache[d2] = JSON.stringify(g2);
  }
  async _get(d2) {
    const g2 = await super._get(d2);
    return this.localCache[d2] = JSON.stringify(g2), g2;
  }
  async _remove(d2) {
    await super._remove(d2), delete this.localCache[d2];
  }
}
BrowserLocalPersistence.type = "LOCAL";
const Mm = BrowserLocalPersistence;
class BrowserSessionPersistence extends BrowserPersistenceClass {
  constructor() {
    super(() => window.sessionStorage, "SESSION");
  }
  _addListener(d2, g2) {
  }
  _removeListener(d2, g2) {
  }
}
BrowserSessionPersistence.type = "SESSION";
const Vm = BrowserSessionPersistence;
class Receiver {
  constructor(d2) {
    this.eventTarget = d2, this.handlersMap = {}, this.boundEventHandler = this.handleEvent.bind(this);
  }
  static _getInstance(d2) {
    const g2 = this.receivers.find((g3) => g3.isListeningto(d2));
    if (g2) return g2;
    const _2 = new Receiver(d2);
    return this.receivers.push(_2), _2;
  }
  isListeningto(d2) {
    return this.eventTarget === d2;
  }
  async handleEvent(d2) {
    const g2 = d2, { eventId: _2, eventType: O2, data: $2 } = g2.data, st2 = this.handlersMap[O2];
    if (!(null == st2 ? void 0 : st2.size)) return;
    g2.ports[0].postMessage({ status: "ack", eventId: _2, eventType: O2 });
    const ot2 = Array.from(st2).map(async (d3) => d3(g2.origin, $2)), lt2 = await function _allSettled(d3) {
      return Promise.all(d3.map(async (d4) => {
        try {
          return { fulfilled: true, value: await d4 };
        } catch (d5) {
          return { fulfilled: false, reason: d5 };
        }
      }));
    }(ot2);
    g2.ports[0].postMessage({ status: "done", eventId: _2, eventType: O2, response: lt2 });
  }
  _subscribe(d2, g2) {
    0 === Object.keys(this.handlersMap).length && this.eventTarget.addEventListener("message", this.boundEventHandler), this.handlersMap[d2] || (this.handlersMap[d2] = /* @__PURE__ */ new Set()), this.handlersMap[d2].add(g2);
  }
  _unsubscribe(d2, g2) {
    this.handlersMap[d2] && g2 && this.handlersMap[d2].delete(g2), g2 && 0 !== this.handlersMap[d2].size || delete this.handlersMap[d2], 0 === Object.keys(this.handlersMap).length && this.eventTarget.removeEventListener("message", this.boundEventHandler);
  }
}
function _generateEventId(d2 = "", g2 = 10) {
  let _2 = "";
  for (let d3 = 0; d3 < g2; d3++) _2 += Math.floor(10 * Math.random());
  return d2 + _2;
}
Receiver.receivers = [];
class Sender {
  constructor(d2) {
    this.target = d2, this.handlers = /* @__PURE__ */ new Set();
  }
  removeMessageHandler(d2) {
    d2.messageChannel && (d2.messageChannel.port1.removeEventListener("message", d2.onMessage), d2.messageChannel.port1.close()), this.handlers.delete(d2);
  }
  async _send(d2, g2, _2 = 50) {
    const O2 = "undefined" != typeof MessageChannel ? new MessageChannel() : null;
    if (!O2) throw new Error("connection_unavailable");
    let $2, st2;
    return new Promise((ot2, lt2) => {
      const ct2 = _generateEventId("", 20);
      O2.port1.start();
      const ut2 = setTimeout(() => {
        lt2(new Error("unsupported_event"));
      }, _2);
      st2 = { messageChannel: O2, onMessage(d3) {
        const g3 = d3;
        if (g3.data.eventId === ct2) switch (g3.data.status) {
          case "ack":
            clearTimeout(ut2), $2 = setTimeout(() => {
              lt2(new Error("timeout"));
            }, 3e3);
            break;
          case "done":
            clearTimeout($2), ot2(g3.data.response);
            break;
          default:
            clearTimeout(ut2), clearTimeout($2), lt2(new Error("invalid_response"));
        }
      } }, this.handlers.add(st2), O2.port1.addEventListener("message", st2.onMessage), this.target.postMessage({ eventType: d2, eventId: ct2, data: g2 }, [O2.port2]);
    }).finally(() => {
      st2 && this.removeMessageHandler(st2);
    });
  }
}
function _window() {
  return window;
}
function _isWorker() {
  return void 0 !== _window().WorkerGlobalScope && "function" == typeof _window().importScripts;
}
const Dm = "firebaseLocalStorageDb", Om = "firebaseLocalStorage", Lm = "fbase_key";
class DBPromise {
  constructor(d2) {
    this.request = d2;
  }
  toPromise() {
    return new Promise((d2, g2) => {
      this.request.addEventListener("success", () => {
        d2(this.request.result);
      }), this.request.addEventListener("error", () => {
        g2(this.request.error);
      });
    });
  }
}
function getObjectStore(d2, g2) {
  return d2.transaction([Om], g2 ? "readwrite" : "readonly").objectStore(Om);
}
function _openDatabase() {
  const d2 = indexedDB.open(Dm, 1);
  return new Promise((g2, _2) => {
    d2.addEventListener("error", () => {
      _2(d2.error);
    }), d2.addEventListener("upgradeneeded", () => {
      const g3 = d2.result;
      try {
        g3.createObjectStore(Om, { keyPath: Lm });
      } catch (d3) {
        _2(d3);
      }
    }), d2.addEventListener("success", async () => {
      const _3 = d2.result;
      _3.objectStoreNames.contains(Om) ? g2(_3) : (_3.close(), await function _deleteDatabase() {
        const d3 = indexedDB.deleteDatabase(Dm);
        return new DBPromise(d3).toPromise();
      }(), g2(await _openDatabase()));
    });
  });
}
async function _putObject(d2, g2, _2) {
  const O2 = getObjectStore(d2, true).put({ [Lm]: g2, value: _2 });
  return new DBPromise(O2).toPromise();
}
function _deleteObject(d2, g2) {
  const _2 = getObjectStore(d2, true).delete(g2);
  return new DBPromise(_2).toPromise();
}
class IndexedDBLocalPersistence {
  constructor() {
    this.type = "LOCAL", this._shouldAllowMigration = true, this.listeners = {}, this.localCache = {}, this.pollTimer = null, this.pendingWrites = 0, this.receiver = null, this.sender = null, this.serviceWorkerReceiverAvailable = false, this.activeServiceWorker = null, this._workerInitializationPromise = this.initializeServiceWorkerMessaging().then(() => {
    }, () => {
    });
  }
  async _openDb() {
    return this.db || (this.db = await _openDatabase()), this.db;
  }
  async _withRetries(d2) {
    let g2 = 0;
    for (; ; ) try {
      const g3 = await this._openDb();
      return await d2(g3);
    } catch (d3) {
      if (g2++ > 3) throw d3;
      this.db && (this.db.close(), this.db = void 0);
    }
  }
  async initializeServiceWorkerMessaging() {
    return _isWorker() ? this.initializeReceiver() : this.initializeSender();
  }
  async initializeReceiver() {
    this.receiver = Receiver._getInstance(function _getWorkerGlobalScope() {
      return _isWorker() ? self : null;
    }()), this.receiver._subscribe("keyChanged", async (d2, g2) => ({ keyProcessed: (await this._poll()).includes(g2.key) })), this.receiver._subscribe("ping", async (d2, g2) => ["keyChanged"]);
  }
  async initializeSender() {
    var d2, g2;
    if (this.activeServiceWorker = await async function _getActiveServiceWorker() {
      if (!(null === navigator || void 0 === navigator ? void 0 : navigator.serviceWorker)) return null;
      try {
        return (await navigator.serviceWorker.ready).active;
      } catch (d3) {
        return null;
      }
    }(), !this.activeServiceWorker) return;
    this.sender = new Sender(this.activeServiceWorker);
    const _2 = await this.sender._send("ping", {}, 800);
    _2 && (null === (d2 = _2[0]) || void 0 === d2 ? void 0 : d2.fulfilled) && (null === (g2 = _2[0]) || void 0 === g2 ? void 0 : g2.value.includes("keyChanged")) && (this.serviceWorkerReceiverAvailable = true);
  }
  async notifyServiceWorker(d2) {
    if (this.sender && this.activeServiceWorker && function _getServiceWorkerController() {
      var d3;
      return (null === (d3 = null === navigator || void 0 === navigator ? void 0 : navigator.serviceWorker) || void 0 === d3 ? void 0 : d3.controller) || null;
    }() === this.activeServiceWorker) try {
      await this.sender._send("keyChanged", { key: d2 }, this.serviceWorkerReceiverAvailable ? 800 : 50);
    } catch (d3) {
    }
  }
  async _isAvailable() {
    try {
      if (!indexedDB) return false;
      const d2 = await _openDatabase();
      return await _putObject(d2, Cm, "1"), await _deleteObject(d2, Cm), true;
    } catch (d2) {
    }
    return false;
  }
  async _withPendingWrite(d2) {
    this.pendingWrites++;
    try {
      await d2();
    } finally {
      this.pendingWrites--;
    }
  }
  async _set(d2, g2) {
    return this._withPendingWrite(async () => (await this._withRetries((_2) => _putObject(_2, d2, g2)), this.localCache[d2] = g2, this.notifyServiceWorker(d2)));
  }
  async _get(d2) {
    const g2 = await this._withRetries((g3) => async function getObject(d3, g4) {
      const _2 = getObjectStore(d3, false).get(g4), O2 = await new DBPromise(_2).toPromise();
      return void 0 === O2 ? null : O2.value;
    }(g3, d2));
    return this.localCache[d2] = g2, g2;
  }
  async _remove(d2) {
    return this._withPendingWrite(async () => (await this._withRetries((g2) => _deleteObject(g2, d2)), delete this.localCache[d2], this.notifyServiceWorker(d2)));
  }
  async _poll() {
    const d2 = await this._withRetries((d3) => {
      const g3 = getObjectStore(d3, false).getAll();
      return new DBPromise(g3).toPromise();
    });
    if (!d2) return [];
    if (0 !== this.pendingWrites) return [];
    const g2 = [], _2 = /* @__PURE__ */ new Set();
    if (0 !== d2.length) for (const { fbase_key: O2, value: $2 } of d2) _2.add(O2), JSON.stringify(this.localCache[O2]) !== JSON.stringify($2) && (this.notifyListeners(O2, $2), g2.push(O2));
    for (const d3 of Object.keys(this.localCache)) this.localCache[d3] && !_2.has(d3) && (this.notifyListeners(d3, null), g2.push(d3));
    return g2;
  }
  notifyListeners(d2, g2) {
    this.localCache[d2] = g2;
    const _2 = this.listeners[d2];
    if (_2) for (const d3 of Array.from(_2)) d3(g2);
  }
  startPolling() {
    this.stopPolling(), this.pollTimer = setInterval(async () => this._poll(), 800);
  }
  stopPolling() {
    this.pollTimer && (clearInterval(this.pollTimer), this.pollTimer = null);
  }
  _addListener(d2, g2) {
    0 === Object.keys(this.listeners).length && this.startPolling(), this.listeners[d2] || (this.listeners[d2] = /* @__PURE__ */ new Set(), this._get(d2)), this.listeners[d2].add(g2);
  }
  _removeListener(d2, g2) {
    this.listeners[d2] && (this.listeners[d2].delete(g2), 0 === this.listeners[d2].size && delete this.listeners[d2]), 0 === Object.keys(this.listeners).length && this.stopPolling();
  }
}
IndexedDBLocalPersistence.type = "LOCAL";
const Nm = IndexedDBLocalPersistence;
new Delay(3e4, 6e4);
class IdpCredential extends AuthCredential {
  constructor(d2) {
    super("custom", "custom"), this.params = d2;
  }
  _getIdTokenResponse(d2) {
    return signInWithIdp(d2, this._buildIdpRequest());
  }
  _linkToIdToken(d2, g2) {
    return signInWithIdp(d2, this._buildIdpRequest(g2));
  }
  _getReauthenticationResolver(d2) {
    return signInWithIdp(d2, this._buildIdpRequest());
  }
  _buildIdpRequest(d2) {
    const g2 = { requestUri: this.params.requestUri, sessionId: this.params.sessionId, postBody: this.params.postBody, tenantId: this.params.tenantId, pendingToken: this.params.pendingToken, returnSecureToken: true, returnIdpCredential: true };
    return d2 && (g2.idToken = d2), g2;
  }
}
function _signIn(d2) {
  return async function _signInWithCredential(d3, g2, _2 = false) {
    if (_isFirebaseServerApp(d3.app)) return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(d3));
    const O2 = "signIn", $2 = await _processCredentialSavingMfaContextIfNecessary(d3, O2, g2), st2 = await UserCredentialImpl._fromIdTokenResponse(d3, O2, $2);
    return _2 || await d3._updateCurrentUser(st2.user), st2;
  }(d2.auth, new IdpCredential(d2), d2.bypassAuthState);
}
function _reauth(d2) {
  const { auth: g2, user: _2 } = d2;
  return _assert(_2, g2, "internal-error"), async function _reauthenticate(d3, g3, _3 = false) {
    const { auth: O2 } = d3;
    if (_isFirebaseServerApp(O2.app)) return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(O2));
    const $2 = "reauthenticate";
    try {
      const st2 = await _logoutIfInvalidated(d3, _processCredentialSavingMfaContextIfNecessary(O2, $2, g3, d3), _3);
      _assert(st2.idToken, O2, "internal-error");
      const ot2 = _parseToken(st2.idToken);
      _assert(ot2, O2, "internal-error");
      const { sub: lt2 } = ot2;
      return _assert(d3.uid === lt2, O2, "user-mismatch"), UserCredentialImpl._forOperation(d3, $2, st2);
    } catch (d4) {
      throw "auth/user-not-found" === (null == d4 ? void 0 : d4.code) && _fail(O2, "user-mismatch"), d4;
    }
  }(_2, new IdpCredential(d2), d2.bypassAuthState);
}
async function _link(d2) {
  const { auth: g2, user: _2 } = d2;
  return _assert(_2, g2, "internal-error"), async function _link$1(d3, g3, _3 = false) {
    const O2 = await _logoutIfInvalidated(d3, g3._linkToIdToken(d3.auth, await d3.getIdToken()), _3);
    return UserCredentialImpl._forOperation(d3, "link", O2);
  }(_2, new IdpCredential(d2), d2.bypassAuthState);
}
class AbstractPopupRedirectOperation {
  constructor(d2, g2, _2, O2, $2 = false) {
    this.auth = d2, this.resolver = _2, this.user = O2, this.bypassAuthState = $2, this.pendingPromise = null, this.eventManager = null, this.filter = Array.isArray(g2) ? g2 : [g2];
  }
  execute() {
    return new Promise(async (d2, g2) => {
      this.pendingPromise = { resolve: d2, reject: g2 };
      try {
        this.eventManager = await this.resolver._initialize(this.auth), await this.onExecution(), this.eventManager.registerConsumer(this);
      } catch (d3) {
        this.reject(d3);
      }
    });
  }
  async onAuthEvent(d2) {
    const { urlResponse: g2, sessionId: _2, postBody: O2, tenantId: $2, error: st2, type: ot2 } = d2;
    if (st2) return void this.reject(st2);
    const lt2 = { auth: this.auth, requestUri: g2, sessionId: _2, tenantId: $2 || void 0, postBody: O2 || void 0, user: this.user, bypassAuthState: this.bypassAuthState };
    try {
      this.resolve(await this.getIdpTask(ot2)(lt2));
    } catch (d3) {
      this.reject(d3);
    }
  }
  onError(d2) {
    this.reject(d2);
  }
  getIdpTask(d2) {
    switch (d2) {
      case "signInViaPopup":
      case "signInViaRedirect":
        return _signIn;
      case "linkViaPopup":
      case "linkViaRedirect":
        return _link;
      case "reauthViaPopup":
      case "reauthViaRedirect":
        return _reauth;
      default:
        _fail(this.auth, "internal-error");
    }
  }
  resolve(d2) {
    debugAssert(this.pendingPromise, "Pending promise was never set"), this.pendingPromise.resolve(d2), this.unregisterAndCleanUp();
  }
  reject(d2) {
    debugAssert(this.pendingPromise, "Pending promise was never set"), this.pendingPromise.reject(d2), this.unregisterAndCleanUp();
  }
  unregisterAndCleanUp() {
    this.eventManager && this.eventManager.unregisterConsumer(this), this.pendingPromise = null, this.cleanUp();
  }
}
const $m = new Delay(2e3, 1e4);
class PopupOperation extends AbstractPopupRedirectOperation {
  constructor(d2, g2, _2, O2, $2) {
    super(d2, g2, O2, $2), this.provider = _2, this.authWindow = null, this.pollId = null, PopupOperation.currentPopupAction && PopupOperation.currentPopupAction.cancel(), PopupOperation.currentPopupAction = this;
  }
  async executeNotNull() {
    const d2 = await this.execute();
    return _assert(d2, this.auth, "internal-error"), d2;
  }
  async onExecution() {
    debugAssert(1 === this.filter.length, "Popup operations only handle one event");
    const d2 = _generateEventId();
    this.authWindow = await this.resolver._openPopup(this.auth, this.provider, this.filter[0], d2), this.authWindow.associatedEvent = d2, this.resolver._originValidation(this.auth).catch((d3) => {
      this.reject(d3);
    }), this.resolver._isIframeWebStorageSupported(this.auth, (d3) => {
      d3 || this.reject(_createError(this.auth, "web-storage-unsupported"));
    }), this.pollUserCancellation();
  }
  get eventId() {
    var d2;
    return (null === (d2 = this.authWindow) || void 0 === d2 ? void 0 : d2.associatedEvent) || null;
  }
  cancel() {
    this.reject(_createError(this.auth, "cancelled-popup-request"));
  }
  cleanUp() {
    this.authWindow && this.authWindow.close(), this.pollId && window.clearTimeout(this.pollId), this.authWindow = null, this.pollId = null, PopupOperation.currentPopupAction = null;
  }
  pollUserCancellation() {
    const poll = () => {
      var d2, g2;
      (null === (g2 = null === (d2 = this.authWindow) || void 0 === d2 ? void 0 : d2.window) || void 0 === g2 ? void 0 : g2.closed) ? this.pollId = window.setTimeout(() => {
        this.pollId = null, this.reject(_createError(this.auth, "popup-closed-by-user"));
      }, 8e3) : this.pollId = window.setTimeout(poll, $m.get());
    };
    poll();
  }
}
PopupOperation.currentPopupAction = null;
const Fm = "pendingRedirect", zm = /* @__PURE__ */ new Map();
class RedirectAction extends AbstractPopupRedirectOperation {
  constructor(d2, g2, _2 = false) {
    super(d2, ["signInViaRedirect", "linkViaRedirect", "reauthViaRedirect", "unknown"], g2, void 0, _2), this.eventId = null;
  }
  async execute() {
    let d2 = zm.get(this.auth._key());
    if (!d2) {
      try {
        const g2 = await async function _getAndClearPendingRedirectStatus(d3, g3) {
          const _3 = function pendingRedirectKey(d4) {
            return _persistenceKeyName(Fm, d4.config.apiKey, d4.name);
          }(g3), O2 = function resolverPersistence(d4) {
            return _getInstance(d4._redirectPersistence);
          }(d3);
          if (!await O2._isAvailable()) return false;
          const $2 = "true" === await O2._get(_3);
          return await O2._remove(_3), $2;
        }(this.resolver, this.auth), _2 = g2 ? await super.execute() : null;
        d2 = () => Promise.resolve(_2);
      } catch (g2) {
        d2 = () => Promise.reject(g2);
      }
      zm.set(this.auth._key(), d2);
    }
    return this.bypassAuthState || zm.set(this.auth._key(), () => Promise.resolve(null)), d2();
  }
  async onAuthEvent(d2) {
    if ("signInViaRedirect" === d2.type) return super.onAuthEvent(d2);
    if ("unknown" !== d2.type) {
      if (d2.eventId) {
        const g2 = await this.auth._redirectUserForId(d2.eventId);
        if (g2) return this.user = g2, super.onAuthEvent(d2);
        this.resolve(null);
      }
    } else this.resolve(null);
  }
  async onExecution() {
  }
  cleanUp() {
  }
}
function _overrideRedirectResult(d2, g2) {
  zm.set(d2._key(), g2);
}
async function _getRedirectResult(d2, g2, _2 = false) {
  if (_isFirebaseServerApp(d2.app)) return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(d2));
  const O2 = _castAuth(d2), $2 = function _withDefaultResolver(d3, g3) {
    return g3 ? _getInstance(g3) : (_assert(d3._popupRedirectResolver, d3, "argument-error"), d3._popupRedirectResolver);
  }(O2, g2), st2 = new RedirectAction(O2, $2, _2), ot2 = await st2.execute();
  return ot2 && !_2 && (delete ot2.user._redirectEventId, await O2._persistUserIfCurrent(ot2.user), await O2._setRedirectUser(null, g2)), ot2;
}
class AuthEventManager {
  constructor(d2) {
    this.auth = d2, this.cachedEventUids = /* @__PURE__ */ new Set(), this.consumers = /* @__PURE__ */ new Set(), this.queuedRedirectEvent = null, this.hasHandledPotentialRedirect = false, this.lastProcessedEventTime = Date.now();
  }
  registerConsumer(d2) {
    this.consumers.add(d2), this.queuedRedirectEvent && this.isEventForConsumer(this.queuedRedirectEvent, d2) && (this.sendToConsumer(this.queuedRedirectEvent, d2), this.saveEventToCache(this.queuedRedirectEvent), this.queuedRedirectEvent = null);
  }
  unregisterConsumer(d2) {
    this.consumers.delete(d2);
  }
  onEvent(d2) {
    if (this.hasEventBeenHandled(d2)) return false;
    let g2 = false;
    return this.consumers.forEach((_2) => {
      this.isEventForConsumer(d2, _2) && (g2 = true, this.sendToConsumer(d2, _2), this.saveEventToCache(d2));
    }), this.hasHandledPotentialRedirect || !function isRedirectEvent(d3) {
      switch (d3.type) {
        case "signInViaRedirect":
        case "linkViaRedirect":
        case "reauthViaRedirect":
          return true;
        case "unknown":
          return isNullRedirectEvent(d3);
        default:
          return false;
      }
    }(d2) || (this.hasHandledPotentialRedirect = true, g2 || (this.queuedRedirectEvent = d2, g2 = true)), g2;
  }
  sendToConsumer(d2, g2) {
    var _2;
    if (d2.error && !isNullRedirectEvent(d2)) {
      const O2 = (null === (_2 = d2.error.code) || void 0 === _2 ? void 0 : _2.split("auth/")[1]) || "internal-error";
      g2.onError(_createError(this.auth, O2));
    } else g2.onAuthEvent(d2);
  }
  isEventForConsumer(d2, g2) {
    const _2 = null === g2.eventId || !!d2.eventId && d2.eventId === g2.eventId;
    return g2.filter.includes(d2.type) && _2;
  }
  hasEventBeenHandled(d2) {
    return Date.now() - this.lastProcessedEventTime >= 6e5 && this.cachedEventUids.clear(), this.cachedEventUids.has(eventUid(d2));
  }
  saveEventToCache(d2) {
    this.cachedEventUids.add(eventUid(d2)), this.lastProcessedEventTime = Date.now();
  }
}
function eventUid(d2) {
  return [d2.type, d2.eventId, d2.sessionId, d2.tenantId].filter((d3) => d3).join("-");
}
function isNullRedirectEvent({ type: d2, error: g2 }) {
  return "unknown" === d2 && "auth/no-auth-event" === (null == g2 ? void 0 : g2.code);
}
const Bm = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/, Um = /^https?/;
async function _validateOrigin(d2) {
  if (d2.config.emulator) return;
  const { authorizedDomains: g2 } = await async function _getProjectConfig(d3, g3 = {}) {
    return _performApiRequest(d3, "GET", "/v1/projects", g3);
  }(d2);
  for (const d3 of g2) try {
    if (matchDomain(d3)) return;
  } catch (d4) {
  }
  _fail(d2, "unauthorized-domain");
}
function matchDomain(d2) {
  const g2 = _getCurrentUrl(), { protocol: _2, hostname: O2 } = new URL(g2);
  if (d2.startsWith("chrome-extension://")) {
    const $3 = new URL(d2);
    return "" === $3.hostname && "" === O2 ? "chrome-extension:" === _2 && d2.replace("chrome-extension://", "") === g2.replace("chrome-extension://", "") : "chrome-extension:" === _2 && $3.hostname === O2;
  }
  if (!Um.test(_2)) return false;
  if (Bm.test(d2)) return O2 === d2;
  const $2 = d2.replace(/\./g, "\\.");
  return new RegExp("^(.+\\." + $2 + "|" + $2 + ")$", "i").test(O2);
}
const Wm = new Delay(3e4, 6e4);
function resetUnloadedGapiModules() {
  const d2 = _window().___jsl;
  if (null == d2 ? void 0 : d2.H) {
    for (const g2 of Object.keys(d2.H)) if (d2.H[g2].r = d2.H[g2].r || [], d2.H[g2].L = d2.H[g2].L || [], d2.H[g2].r = [...d2.H[g2].L], d2.CP) for (let g3 = 0; g3 < d2.CP.length; g3++) d2.CP[g3] = null;
  }
}
function loadGapi(d2) {
  return new Promise((g2, _2) => {
    var O2, $2, st2;
    function loadGapiIframe() {
      resetUnloadedGapiModules(), gapi.load("gapi.iframes", { callback: () => {
        g2(gapi.iframes.getContext());
      }, ontimeout: () => {
        resetUnloadedGapiModules(), _2(_createError(d2, "network-request-failed"));
      }, timeout: Wm.get() });
    }
    if (null === ($2 = null === (O2 = _window().gapi) || void 0 === O2 ? void 0 : O2.iframes) || void 0 === $2 ? void 0 : $2.Iframe) g2(gapi.iframes.getContext());
    else {
      if (!(null === (st2 = _window().gapi) || void 0 === st2 ? void 0 : st2.load)) {
        const g3 = function _generateCallbackName(d3) {
          return `__${d3}${Math.floor(1e6 * Math.random())}`;
        }("iframefcb");
        return _window()[g3] = () => {
          gapi.load ? loadGapiIframe() : _2(_createError(d2, "network-request-failed"));
        }, function _loadJS(d3) {
          return Sm.loadJS(d3);
        }(`${function _gapiScriptUrl() {
          return Sm.gapiScript;
        }()}?onload=${g3}`).catch((d3) => _2(d3));
      }
      loadGapiIframe();
    }
  }).catch((d3) => {
    throw jm = null, d3;
  });
}
let jm = null;
const qm = new Delay(5e3, 15e3), Hm = "__/auth/iframe", Km = "emulator/auth/iframe", Gm = { style: { position: "absolute", top: "-100px", width: "1px", height: "1px" }, "aria-hidden": "true", tabindex: "-1" }, Ym = /* @__PURE__ */ new Map([["identitytoolkit.googleapis.com", "p"], ["staging-identitytoolkit.sandbox.googleapis.com", "s"], ["test-identitytoolkit.sandbox.googleapis.com", "t"]]);
function getIframeUrl(d2) {
  const g2 = d2.config;
  _assert(g2.authDomain, d2, "auth-domain-config-required");
  const _2 = g2.emulator ? _emulatorUrl(g2, Km) : `https://${d2.config.authDomain}/${Hm}`, O2 = { apiKey: g2.apiKey, appName: d2.name, v: o_ }, $2 = Ym.get(d2.config.apiHost);
  $2 && (O2.eid = $2);
  const st2 = d2._getFrameworks();
  return st2.length && (O2.fw = st2.join(",")), `${_2}?${querystring(O2).slice(1)}`;
}
async function _openIframe(d2) {
  const g2 = await function _loadGapi(d3) {
    return jm = jm || loadGapi(d3), jm;
  }(d2), _2 = _window().gapi;
  return _assert(_2, d2, "internal-error"), g2.open({ where: document.body, url: getIframeUrl(d2), messageHandlersFilter: _2.iframes.CROSS_ORIGIN_IFRAMES_FILTER, attributes: Gm, dontclear: true }, (g3) => new Promise(async (_3, O2) => {
    await g3.restyle({ setHideOnLeave: false });
    const $2 = _createError(d2, "network-request-failed"), st2 = _window().setTimeout(() => {
      O2($2);
    }, qm.get());
    function clearTimerAndResolve() {
      _window().clearTimeout(st2), _3(g3);
    }
    g3.ping(clearTimerAndResolve).then(clearTimerAndResolve, () => {
      O2($2);
    });
  }));
}
const Qm = { location: "yes", resizable: "yes", statusbar: "yes", toolbar: "no" };
class AuthPopup {
  constructor(d2) {
    this.window = d2, this.associatedEvent = null;
  }
  close() {
    if (this.window) try {
      this.window.close();
    } catch (d2) {
    }
  }
}
function _open(d2, g2, _2, O2 = 500, $2 = 600) {
  const st2 = Math.max((window.screen.availHeight - $2) / 2, 0).toString(), ot2 = Math.max((window.screen.availWidth - O2) / 2, 0).toString();
  let lt2 = "";
  const ct2 = Object.assign(Object.assign({}, Qm), { width: O2.toString(), height: $2.toString(), top: st2, left: ot2 }), ut2 = getUA().toLowerCase();
  _2 && (lt2 = _isChromeIOS(ut2) ? "_blank" : _2), _isFirefox(ut2) && (g2 = g2 || "http://localhost", ct2.scrollbars = "yes");
  const gt2 = Object.entries(ct2).reduce((d3, [g3, _3]) => `${d3}${g3}=${_3},`, "");
  if (function _isIOSStandalone(d3 = getUA()) {
    var g3;
    return _isIOS(d3) && !!(null === (g3 = window.navigator) || void 0 === g3 ? void 0 : g3.standalone);
  }(ut2) && "_self" !== lt2) return function openAsNewWindowIOS(d3, g3) {
    const _3 = document.createElement("a");
    _3.href = d3, _3.target = g3;
    const O3 = document.createEvent("MouseEvent");
    O3.initMouseEvent("click", true, true, window, 1, 0, 0, 0, 0, false, false, false, false, 1, null), _3.dispatchEvent(O3);
  }(g2 || "", lt2), new AuthPopup(null);
  const mt2 = window.open(g2 || "", lt2, gt2);
  _assert(mt2, d2, "popup-blocked");
  try {
    mt2.focus();
  } catch (d3) {
  }
  return new AuthPopup(mt2);
}
const Xm = "__/auth/handler", Jm = "emulator/auth/handler", Zm = encodeURIComponent("fac");
async function _getRedirectUrl(d2, g2, _2, O2, $2, st2) {
  _assert(d2.config.authDomain, d2, "auth-domain-config-required"), _assert(d2.config.apiKey, d2, "invalid-api-key");
  const ot2 = { apiKey: d2.config.apiKey, appName: d2.name, authType: _2, redirectUrl: O2, v: o_, eventId: $2 };
  if (g2 instanceof FederatedAuthProvider) {
    g2.setDefaultLanguage(d2.languageCode), ot2.providerId = g2.providerId || "", function isEmpty$1(d3) {
      for (const g3 in d3) if (Object.prototype.hasOwnProperty.call(d3, g3)) return false;
      return true;
    }(g2.getCustomParameters()) || (ot2.customParameters = JSON.stringify(g2.getCustomParameters()));
    for (const [d3, g3] of Object.entries({})) ot2[d3] = g3;
  }
  if (g2 instanceof BaseOAuthProvider) {
    const d3 = g2.getScopes().filter((d4) => "" !== d4);
    d3.length > 0 && (ot2.scopes = d3.join(","));
  }
  d2.tenantId && (ot2.tid = d2.tenantId);
  const lt2 = ot2;
  for (const d3 of Object.keys(lt2)) void 0 === lt2[d3] && delete lt2[d3];
  const ct2 = await d2._getAppCheckToken(), ut2 = ct2 ? `#${Zm}=${encodeURIComponent(ct2)}` : "";
  return `${function getHandlerBase({ config: d3 }) {
    if (!d3.emulator) return `https://${d3.authDomain}/${Xm}`;
    return _emulatorUrl(d3, Jm);
  }(d2)}?${querystring(lt2).slice(1)}${ut2}`;
}
const tv = "webStorageSupport";
const ev = class BrowserPopupRedirectResolver {
  constructor() {
    this.eventManagers = {}, this.iframes = {}, this.originValidationPromises = {}, this._redirectPersistence = Vm, this._completeRedirectFn = _getRedirectResult, this._overrideRedirectResult = _overrideRedirectResult;
  }
  async _openPopup(d2, g2, _2, O2) {
    var $2;
    debugAssert(null === ($2 = this.eventManagers[d2._key()]) || void 0 === $2 ? void 0 : $2.manager, "_initialize() not called before _openPopup()");
    return _open(d2, await _getRedirectUrl(d2, g2, _2, _getCurrentUrl(), O2), _generateEventId());
  }
  async _openRedirect(d2, g2, _2, O2) {
    await this._originValidation(d2);
    return function _setWindowLocation(d3) {
      _window().location.href = d3;
    }(await _getRedirectUrl(d2, g2, _2, _getCurrentUrl(), O2)), new Promise(() => {
    });
  }
  _initialize(d2) {
    const g2 = d2._key();
    if (this.eventManagers[g2]) {
      const { manager: d3, promise: _3 } = this.eventManagers[g2];
      return d3 ? Promise.resolve(d3) : (debugAssert(_3, "If manager is not set, promise should be"), _3);
    }
    const _2 = this.initAndGetManager(d2);
    return this.eventManagers[g2] = { promise: _2 }, _2.catch(() => {
      delete this.eventManagers[g2];
    }), _2;
  }
  async initAndGetManager(d2) {
    const g2 = await _openIframe(d2), _2 = new AuthEventManager(d2);
    return g2.register("authEvent", (g3) => {
      _assert(null == g3 ? void 0 : g3.authEvent, d2, "invalid-auth-event");
      return { status: _2.onEvent(g3.authEvent) ? "ACK" : "ERROR" };
    }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER), this.eventManagers[d2._key()] = { manager: _2 }, this.iframes[d2._key()] = g2, _2;
  }
  _isIframeWebStorageSupported(d2, g2) {
    this.iframes[d2._key()].send(tv, { type: tv }, (_2) => {
      var O2;
      const $2 = null === (O2 = null == _2 ? void 0 : _2[0]) || void 0 === O2 ? void 0 : O2[tv];
      void 0 !== $2 && g2(!!$2), _fail(d2, "internal-error");
    }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);
  }
  _originValidation(d2) {
    const g2 = d2._key();
    return this.originValidationPromises[g2] || (this.originValidationPromises[g2] = _validateOrigin(d2)), this.originValidationPromises[g2];
  }
  get _shouldInitProactively() {
    return _isMobileBrowser() || _isSafari() || _isIOS();
  }
};
var iv = "@firebase/auth", sv = "1.10.5";
class AuthInterop {
  constructor(d2) {
    this.auth = d2, this.internalListeners = /* @__PURE__ */ new Map();
  }
  getUid() {
    var d2;
    return this.assertAuthConfigured(), (null === (d2 = this.auth.currentUser) || void 0 === d2 ? void 0 : d2.uid) || null;
  }
  async getToken(d2) {
    if (this.assertAuthConfigured(), await this.auth._initializationPromise, !this.auth.currentUser) return null;
    return { accessToken: await this.auth.currentUser.getIdToken(d2) };
  }
  addAuthTokenListener(d2) {
    if (this.assertAuthConfigured(), this.internalListeners.has(d2)) return;
    const g2 = this.auth.onIdTokenChanged((g3) => {
      d2((null == g3 ? void 0 : g3.stsTokenManager.accessToken) || null);
    });
    this.internalListeners.set(d2, g2), this.updateProactiveRefresh();
  }
  removeAuthTokenListener(d2) {
    this.assertAuthConfigured();
    const g2 = this.internalListeners.get(d2);
    g2 && (this.internalListeners.delete(d2), g2(), this.updateProactiveRefresh());
  }
  assertAuthConfigured() {
    _assert(this.auth._initializationPromise, "dependent-sdk-initialized-before-auth");
  }
  updateProactiveRefresh() {
    this.internalListeners.size > 0 ? this.auth._startProactiveRefresh() : this.auth._stopProactiveRefresh();
  }
}
const nv = getExperimentalSetting("authIdTokenMaxAge") || 300;
let rv = null;
!function _setExternalJSProvider(d2) {
  Sm = d2;
}({ loadJS: (d2) => new Promise((g2, _2) => {
  const O2 = document.createElement("script");
  O2.setAttribute("src", d2), O2.onload = g2, O2.onerror = (d3) => {
    const g3 = _createError("internal-error");
    g3.customData = d3, _2(g3);
  }, O2.type = "text/javascript", O2.charset = "UTF-8", function getScriptParentElement() {
    var d3, g3;
    return null !== (g3 = null === (d3 = document.getElementsByTagName("head")) || void 0 === d3 ? void 0 : d3[0]) && void 0 !== g3 ? g3 : document;
  }().appendChild(O2);
}), gapiScript: "https://apis.google.com/js/api.js", recaptchaV2Script: "https://www.google.com/recaptcha/api.js", recaptchaEnterpriseScript: "https://www.google.com/recaptcha/enterprise.js?render=" }), function registerAuth(d2) {
  _registerComponent(new Component("auth", (g2, { options: _2 }) => {
    const O2 = g2.getProvider("app").getImmediate(), $2 = g2.getProvider("heartbeat"), st2 = g2.getProvider("app-check-internal"), { apiKey: ot2, authDomain: lt2 } = O2.options;
    _assert(ot2 && !ot2.includes(":"), "invalid-api-key", { appName: O2.name });
    const ct2 = { apiKey: ot2, authDomain: lt2, clientPlatform: d2, apiHost: "identitytoolkit.googleapis.com", tokenApiHost: "securetoken.googleapis.com", apiScheme: "https", sdkClientVersion: _getClientVersion(d2) }, ut2 = new AuthImpl(O2, $2, st2, ct2);
    return function _initializeAuthInstance(d3, g3) {
      const _3 = (null == g3 ? void 0 : g3.persistence) || [], O3 = (Array.isArray(_3) ? _3 : [_3]).map(_getInstance);
      (null == g3 ? void 0 : g3.errorMap) && d3._updateErrorMap(g3.errorMap), d3._initializeWithPersistence(O3, null == g3 ? void 0 : g3.popupRedirectResolver);
    }(ut2, _2), ut2;
  }, "PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d3, g2, _2) => {
    d3.getProvider("auth-internal").initialize();
  })), _registerComponent(new Component("auth-internal", (d3) => ((d4) => new AuthInterop(d4))(_castAuth(d3.getProvider("auth").getImmediate())), "PRIVATE").setInstantiationMode("EXPLICIT")), registerVersion(iv, sv, function getVersionForPlatform(d3) {
    switch (d3) {
      case "Node":
        return "node";
      case "ReactNative":
        return "rn";
      case "Worker":
        return "webworker";
      case "Cordova":
        return "cordova";
      case "WebExtension":
        return "web-extension";
      default:
        return;
    }
  }(d2)), registerVersion(iv, sv, "esm2017");
}("Browser");
const ov = "firebasestorage.googleapis.com";
class StorageError extends FirebaseError {
  constructor(d2, g2, _2 = 0) {
    super(prependCode(d2), `Firebase Storage: ${g2} (${prependCode(d2)})`), this.status_ = _2, this.customData = { serverResponse: null }, this._baseMessage = this.message, Object.setPrototypeOf(this, StorageError.prototype);
  }
  get status() {
    return this.status_;
  }
  set status(d2) {
    this.status_ = d2;
  }
  _codeEquals(d2) {
    return prependCode(d2) === this.code;
  }
  get serverResponse() {
    return this.customData.serverResponse;
  }
  set serverResponse(d2) {
    this.customData.serverResponse = d2, this.customData.serverResponse ? this.message = `${this._baseMessage}
${this.customData.serverResponse}` : this.message = this._baseMessage;
  }
}
var av, lv;
function prependCode(d2) {
  return "storage/" + d2;
}
function invalidArgument(d2) {
  return new StorageError(av.INVALID_ARGUMENT, d2);
}
function appDeleted() {
  return new StorageError(av.APP_DELETED, "The Firebase app was deleted.");
}
!function(d2) {
  d2.UNKNOWN = "unknown", d2.OBJECT_NOT_FOUND = "object-not-found", d2.BUCKET_NOT_FOUND = "bucket-not-found", d2.PROJECT_NOT_FOUND = "project-not-found", d2.QUOTA_EXCEEDED = "quota-exceeded", d2.UNAUTHENTICATED = "unauthenticated", d2.UNAUTHORIZED = "unauthorized", d2.UNAUTHORIZED_APP = "unauthorized-app", d2.RETRY_LIMIT_EXCEEDED = "retry-limit-exceeded", d2.INVALID_CHECKSUM = "invalid-checksum", d2.CANCELED = "canceled", d2.INVALID_EVENT_NAME = "invalid-event-name", d2.INVALID_URL = "invalid-url", d2.INVALID_DEFAULT_BUCKET = "invalid-default-bucket", d2.NO_DEFAULT_BUCKET = "no-default-bucket", d2.CANNOT_SLICE_BLOB = "cannot-slice-blob", d2.SERVER_FILE_WRONG_SIZE = "server-file-wrong-size", d2.NO_DOWNLOAD_URL = "no-download-url", d2.INVALID_ARGUMENT = "invalid-argument", d2.INVALID_ARGUMENT_COUNT = "invalid-argument-count", d2.APP_DELETED = "app-deleted", d2.INVALID_ROOT_OPERATION = "invalid-root-operation", d2.INVALID_FORMAT = "invalid-format", d2.INTERNAL_ERROR = "internal-error", d2.UNSUPPORTED_ENVIRONMENT = "unsupported-environment";
}(av || (av = {}));
class Location {
  constructor(d2, g2) {
    this.bucket = d2, this.path_ = g2;
  }
  get path() {
    return this.path_;
  }
  get isRoot() {
    return 0 === this.path.length;
  }
  fullServerUrl() {
    const d2 = encodeURIComponent;
    return "/b/" + d2(this.bucket) + "/o/" + d2(this.path);
  }
  bucketOnlyServerUrl() {
    return "/b/" + encodeURIComponent(this.bucket) + "/o";
  }
  static makeFromBucketSpec(d2, g2) {
    let _2;
    try {
      _2 = Location.makeFromUrl(d2, g2);
    } catch (g3) {
      return new Location(d2, "");
    }
    if ("" === _2.path) return _2;
    throw function invalidDefaultBucket(d3) {
      return new StorageError(av.INVALID_DEFAULT_BUCKET, "Invalid default bucket '" + d3 + "'.");
    }(d2);
  }
  static makeFromUrl(d2, g2) {
    let _2 = null;
    const O2 = "([A-Za-z0-9.\\-_]+)";
    const $2 = new RegExp("^gs://" + O2 + "(/(.*))?$", "i");
    function httpModify(d3) {
      d3.path_ = decodeURIComponent(d3.path);
    }
    const st2 = g2.replace(/[.]/g, "\\."), ot2 = [{ regex: $2, indices: { bucket: 1, path: 3 }, postModify: function gsModify(d3) {
      "/" === d3.path.charAt(d3.path.length - 1) && (d3.path_ = d3.path_.slice(0, -1));
    } }, { regex: new RegExp(`^https?://${st2}/v[A-Za-z0-9_]+/b/${O2}/o(/([^?#]*).*)?$`, "i"), indices: { bucket: 1, path: 3 }, postModify: httpModify }, { regex: new RegExp(`^https?://${g2 === ov ? "(?:storage.googleapis.com|storage.cloud.google.com)" : g2}/${O2}/([^?#]*)`, "i"), indices: { bucket: 1, path: 2 }, postModify: httpModify }];
    for (let g3 = 0; g3 < ot2.length; g3++) {
      const O3 = ot2[g3], $3 = O3.regex.exec(d2);
      if ($3) {
        const d3 = $3[O3.indices.bucket];
        let g4 = $3[O3.indices.path];
        g4 || (g4 = ""), _2 = new Location(d3, g4), O3.postModify(_2);
        break;
      }
    }
    if (null == _2) throw function invalidUrl(d3) {
      return new StorageError(av.INVALID_URL, "Invalid URL '" + d3 + "'.");
    }(d2);
    return _2;
  }
}
class FailRequest {
  constructor(d2) {
    this.promise_ = Promise.reject(d2);
  }
  getPromise() {
    return this.promise_;
  }
  cancel(d2 = false) {
  }
}
function validateNumber(d2, g2, _2, O2) {
  if (O2 < g2) throw invalidArgument(`Invalid value for '${d2}'. Expected ${g2} or greater.`);
  if (O2 > _2) throw invalidArgument(`Invalid value for '${d2}'. Expected ${_2} or less.`);
}
!function(d2) {
  d2[d2.NO_ERROR = 0] = "NO_ERROR", d2[d2.NETWORK_ERROR = 1] = "NETWORK_ERROR", d2[d2.ABORT = 2] = "ABORT";
}(lv || (lv = {}));
class NetworkRequest {
  constructor(d2, g2, _2, O2, $2, st2, ot2, lt2, ct2, ut2, gt2, mt2 = true, bt2 = false) {
    this.url_ = d2, this.method_ = g2, this.headers_ = _2, this.body_ = O2, this.successCodes_ = $2, this.additionalRetryCodes_ = st2, this.callback_ = ot2, this.errorCallback_ = lt2, this.timeout_ = ct2, this.progressCallback_ = ut2, this.connectionFactory_ = gt2, this.retry = mt2, this.isUsingEmulator = bt2, this.pendingConnection_ = null, this.backoffId_ = null, this.canceled_ = false, this.appDelete_ = false, this.promise_ = new Promise((d3, g3) => {
      this.resolve_ = d3, this.reject_ = g3, this.start_();
    });
  }
  start_() {
    const doTheRequest = (d2, g2) => {
      if (g2) return void d2(false, new RequestEndStatus(false, null, true));
      const _2 = this.connectionFactory_();
      this.pendingConnection_ = _2;
      const progressListener = (d3) => {
        const g3 = d3.loaded, _3 = d3.lengthComputable ? d3.total : -1;
        null !== this.progressCallback_ && this.progressCallback_(g3, _3);
      };
      null !== this.progressCallback_ && _2.addUploadProgressListener(progressListener), _2.send(this.url_, this.method_, this.isUsingEmulator, this.body_, this.headers_).then(() => {
        null !== this.progressCallback_ && _2.removeUploadProgressListener(progressListener), this.pendingConnection_ = null;
        const g3 = _2.getErrorCode() === lv.NO_ERROR, O2 = _2.getStatus();
        if (!g3 || function isRetryStatusCode(d3, g4) {
          const _3 = d3 >= 500 && d3 < 600, O3 = -1 !== [408, 429].indexOf(d3), $3 = -1 !== g4.indexOf(d3);
          return _3 || O3 || $3;
        }(O2, this.additionalRetryCodes_) && this.retry) {
          const g4 = _2.getErrorCode() === lv.ABORT;
          return void d2(false, new RequestEndStatus(false, null, g4));
        }
        const $2 = -1 !== this.successCodes_.indexOf(O2);
        d2(true, new RequestEndStatus($2, _2));
      });
    }, backoffDone = (d2, g2) => {
      const _2 = this.resolve_, O2 = this.reject_, $2 = g2.connection;
      if (g2.wasSuccessCode) try {
        const d3 = this.callback_($2, $2.getResponse());
        !/* @__PURE__ */ function isJustDef(d4) {
          return void 0 !== d4;
        }(d3) ? _2() : _2(d3);
      } catch (d3) {
        O2(d3);
      }
      else if (null !== $2) {
        const d3 = function unknown() {
          return new StorageError(av.UNKNOWN, "An unknown error occurred, please check the error payload for server response.");
        }();
        d3.serverResponse = $2.getErrorText(), this.errorCallback_ ? O2(this.errorCallback_($2, d3)) : O2(d3);
      } else if (g2.canceled) {
        O2(this.appDelete_ ? appDeleted() : function canceled() {
          return new StorageError(av.CANCELED, "User canceled the upload/download.");
        }());
      } else {
        O2(function retryLimitExceeded() {
          return new StorageError(av.RETRY_LIMIT_EXCEEDED, "Max retry time for operation exceeded, please try again.");
        }());
      }
    };
    this.canceled_ ? backoffDone(0, new RequestEndStatus(false, null, true)) : this.backoffId_ = function start(d2, g2, _2) {
      let O2 = 1, $2 = null, st2 = null, ot2 = false, lt2 = 0;
      function canceled() {
        return 2 === lt2;
      }
      let ct2 = false;
      function triggerCallback(...d3) {
        ct2 || (ct2 = true, g2.apply(null, d3));
      }
      function callWithDelay(g3) {
        $2 = setTimeout(() => {
          $2 = null, d2(responseHandler, canceled());
        }, g3);
      }
      function clearGlobalTimeout() {
        st2 && clearTimeout(st2);
      }
      function responseHandler(d3, ...g3) {
        if (ct2) return void clearGlobalTimeout();
        if (d3) return clearGlobalTimeout(), void triggerCallback.call(null, d3, ...g3);
        if (canceled() || ot2) return clearGlobalTimeout(), void triggerCallback.call(null, d3, ...g3);
        let _3;
        O2 < 64 && (O2 *= 2), 1 === lt2 ? (lt2 = 2, _3 = 0) : _3 = 1e3 * (O2 + Math.random()), callWithDelay(_3);
      }
      let ut2 = false;
      function stop(d3) {
        ut2 || (ut2 = true, clearGlobalTimeout(), ct2 || (null !== $2 ? (d3 || (lt2 = 2), clearTimeout($2), callWithDelay(0)) : d3 || (lt2 = 1)));
      }
      return callWithDelay(0), st2 = setTimeout(() => {
        ot2 = true, stop(true);
      }, _2), stop;
    }(doTheRequest, backoffDone, this.timeout_);
  }
  getPromise() {
    return this.promise_;
  }
  cancel(d2) {
    this.canceled_ = true, this.appDelete_ = d2 || false, null !== this.backoffId_ && function stop(d3) {
      d3(false);
    }(this.backoffId_), null !== this.pendingConnection_ && this.pendingConnection_.abort();
  }
}
class RequestEndStatus {
  constructor(d2, g2, _2) {
    this.wasSuccessCode = d2, this.connection = g2, this.canceled = !!_2;
  }
}
function makeRequest(d2, g2, _2, O2, $2, st2, ot2 = true, lt2 = false) {
  const ct2 = function makeQueryString(d3) {
    const g3 = encodeURIComponent;
    let _3 = "?";
    for (const O3 in d3) d3.hasOwnProperty(O3) && (_3 = _3 + (g3(O3) + "=") + g3(d3[O3]) + "&");
    return _3 = _3.slice(0, -1), _3;
  }(d2.urlParams), ut2 = d2.url + ct2, gt2 = Object.assign({}, d2.headers);
  return function addGmpidHeader_(d3, g3) {
    g3 && (d3["X-Firebase-GMPID"] = g3);
  }(gt2, g2), function addAuthHeader_(d3, g3) {
    null !== g3 && g3.length > 0 && (d3.Authorization = "Firebase " + g3);
  }(gt2, _2), function addVersionHeader_(d3, g3) {
    d3["X-Firebase-Storage-Version"] = "webjs/" + (null != g3 ? g3 : "AppManager");
  }(gt2, st2), function addAppCheckHeader_(d3, g3) {
    null !== g3 && (d3["X-Firebase-AppCheck"] = g3);
  }(gt2, O2), new NetworkRequest(ut2, d2.method, gt2, d2.body, d2.successCodes, d2.additionalRetryCodes, d2.handler, d2.errorHandler, d2.timeout, d2.progressCallback, $2, ot2, lt2);
}
class Reference {
  constructor(d2, g2) {
    this._service = d2, this._location = g2 instanceof Location ? g2 : Location.makeFromUrl(g2, d2.host);
  }
  toString() {
    return "gs://" + this._location.bucket + "/" + this._location.path;
  }
  _newRef(d2, g2) {
    return new Reference(d2, g2);
  }
  get root() {
    const d2 = new Location(this._location.bucket, "");
    return this._newRef(this._service, d2);
  }
  get bucket() {
    return this._location.bucket;
  }
  get fullPath() {
    return this._location.path;
  }
  get name() {
    return function lastComponent(d2) {
      const g2 = d2.lastIndexOf("/", d2.length - 2);
      return -1 === g2 ? d2 : d2.slice(g2 + 1);
    }(this._location.path);
  }
  get storage() {
    return this._service;
  }
  get parent() {
    const d2 = function parent(d3) {
      if (0 === d3.length) return null;
      const g3 = d3.lastIndexOf("/");
      return -1 === g3 ? "" : d3.slice(0, g3);
    }(this._location.path);
    if (null === d2) return null;
    const g2 = new Location(this._location.bucket, d2);
    return new Reference(this._service, g2);
  }
  _throwIfRoot(d2) {
    if ("" === this._location.path) throw function invalidRootOperation(d3) {
      return new StorageError(av.INVALID_ROOT_OPERATION, "The operation '" + d3 + "' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");
    }(d2);
  }
}
function extractBucket(d2, g2) {
  const _2 = null == g2 ? void 0 : g2.storageBucket;
  return null == _2 ? null : Location.makeFromBucketSpec(_2, d2);
}
class FirebaseStorageImpl {
  constructor(d2, g2, _2, O2, $2, st2 = false) {
    this.app = d2, this._authProvider = g2, this._appCheckProvider = _2, this._url = O2, this._firebaseVersion = $2, this._isUsingEmulator = st2, this._bucket = null, this._host = ov, this._protocol = "https", this._appId = null, this._deleted = false, this._maxOperationRetryTime = 12e4, this._maxUploadRetryTime = 6e5, this._requests = /* @__PURE__ */ new Set(), this._bucket = null != O2 ? Location.makeFromBucketSpec(O2, this._host) : extractBucket(this._host, this.app.options);
  }
  get host() {
    return this._host;
  }
  set host(d2) {
    this._host = d2, null != this._url ? this._bucket = Location.makeFromBucketSpec(this._url, d2) : this._bucket = extractBucket(d2, this.app.options);
  }
  get maxUploadRetryTime() {
    return this._maxUploadRetryTime;
  }
  set maxUploadRetryTime(d2) {
    validateNumber("time", 0, Number.POSITIVE_INFINITY, d2), this._maxUploadRetryTime = d2;
  }
  get maxOperationRetryTime() {
    return this._maxOperationRetryTime;
  }
  set maxOperationRetryTime(d2) {
    validateNumber("time", 0, Number.POSITIVE_INFINITY, d2), this._maxOperationRetryTime = d2;
  }
  async _getAuthToken() {
    if (this._overrideAuthToken) return this._overrideAuthToken;
    const d2 = this._authProvider.getImmediate({ optional: true });
    if (d2) {
      const g2 = await d2.getToken();
      if (null !== g2) return g2.accessToken;
    }
    return null;
  }
  async _getAppCheckToken() {
    if (_isFirebaseServerApp(this.app) && this.app.settings.appCheckToken) return this.app.settings.appCheckToken;
    const d2 = this._appCheckProvider.getImmediate({ optional: true });
    if (d2) {
      return (await d2.getToken()).token;
    }
    return null;
  }
  _delete() {
    return this._deleted || (this._deleted = true, this._requests.forEach((d2) => d2.cancel()), this._requests.clear()), Promise.resolve();
  }
  _makeStorageReference(d2) {
    return new Reference(this, d2);
  }
  _makeRequest(d2, g2, _2, O2, $2 = true) {
    if (this._deleted) return new FailRequest(appDeleted());
    {
      const st2 = makeRequest(d2, this._appId, _2, O2, g2, this._firebaseVersion, $2, this._isUsingEmulator);
      return this._requests.add(st2), st2.getPromise().then(() => this._requests.delete(st2), () => this._requests.delete(st2)), st2;
    }
  }
  async makeRequestWithTokens(d2, g2) {
    const [_2, O2] = await Promise.all([this._getAuthToken(), this._getAppCheckToken()]);
    return this._makeRequest(d2, g2, _2, O2).getPromise();
  }
}
const cv = "@firebase/storage", hv = "0.13.11", uv = "storage";
function factory$1(d2, { instanceIdentifier: g2 }) {
  const _2 = d2.getProvider("app").getImmediate(), O2 = d2.getProvider("auth-internal"), $2 = d2.getProvider("app-check-internal");
  return new FirebaseStorageImpl(_2, O2, $2, g2, o_);
}
!function registerStorage() {
  _registerComponent(new Component(uv, factory$1, "PUBLIC").setMultipleInstances(true)), registerVersion(cv, hv, ""), registerVersion(cv, hv, "esm2017");
}();
const dv = /* @__PURE__ */ new Map(), pv = { activated: false, tokenObservers: [] }, fv = { initialized: false, enabled: false };
function getStateReference(d2) {
  return dv.get(d2) || Object.assign({}, pv);
}
function getDebugState() {
  return fv;
}
const gv = "https://content-firebaseappcheck.googleapis.com/v1", _v = "exchangeDebugToken", mv = { OFFSET_DURATION: 3e5, RETRIAL_MIN_WAIT: 3e4, RETRIAL_MAX_WAIT: 96e4 };
class Refresher {
  constructor(d2, g2, _2, O2, $2) {
    if (this.operation = d2, this.retryPolicy = g2, this.getWaitDuration = _2, this.lowerBound = O2, this.upperBound = $2, this.pending = null, this.nextErrorWaitInterval = O2, O2 > $2) throw new Error("Proactive refresh lower bound greater than upper bound!");
  }
  start() {
    this.nextErrorWaitInterval = this.lowerBound, this.process(true).catch(() => {
    });
  }
  stop() {
    this.pending && (this.pending.reject("cancelled"), this.pending = null);
  }
  isRunning() {
    return !!this.pending;
  }
  async process(d2) {
    this.stop();
    try {
      this.pending = new Deferred(), this.pending.promise.catch((d3) => {
      }), await function sleep(d3) {
        return new Promise((g2) => {
          setTimeout(g2, d3);
        });
      }(this.getNextRun(d2)), this.pending.resolve(), await this.pending.promise, this.pending = new Deferred(), this.pending.promise.catch((d3) => {
      }), await this.operation(), this.pending.resolve(), await this.pending.promise, this.process(true).catch(() => {
      });
    } catch (d3) {
      this.retryPolicy(d3) ? this.process(false).catch(() => {
      }) : this.stop();
    }
  }
  getNextRun(d2) {
    if (d2) return this.nextErrorWaitInterval = this.lowerBound, this.getWaitDuration();
    {
      const d3 = this.nextErrorWaitInterval;
      return this.nextErrorWaitInterval *= 2, this.nextErrorWaitInterval > this.upperBound && (this.nextErrorWaitInterval = this.upperBound), d3;
    }
  }
}
const vv = new ErrorFactory("appCheck", "AppCheck", { "already-initialized": "You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.", "use-before-activation": "App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.", "fetch-network-error": "Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.", "fetch-parse-error": "Fetch client could not parse response. Original error: {$originalErrorMessage}.", "fetch-status-error": "Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.", "storage-open": "Error thrown when opening storage. Original error: {$originalErrorMessage}.", "storage-get": "Error thrown when reading from storage. Original error: {$originalErrorMessage}.", "storage-set": "Error thrown when writing to storage. Original error: {$originalErrorMessage}.", "recaptcha-error": "ReCAPTCHA error.", "initial-throttle": "{$httpStatus} error. Attempts allowed again after {$time}", throttled: "Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}" });
function ensureActivated(d2) {
  if (!getStateReference(d2).activated) throw vv.create("use-before-activation", { appName: d2.name });
}
async function exchangeToken({ url: d2, body: g2 }, _2) {
  const O2 = { "Content-Type": "application/json" }, $2 = _2.getImmediate({ optional: true });
  if ($2) {
    const d3 = await $2.getHeartbeatsHeader();
    d3 && (O2["X-Firebase-Client"] = d3);
  }
  const st2 = { method: "POST", body: JSON.stringify(g2), headers: O2 };
  let ot2, lt2;
  try {
    ot2 = await fetch(d2, st2);
  } catch (d3) {
    throw vv.create("fetch-network-error", { originalErrorMessage: null == d3 ? void 0 : d3.message });
  }
  if (200 !== ot2.status) throw vv.create("fetch-status-error", { httpStatus: ot2.status });
  try {
    lt2 = await ot2.json();
  } catch (d3) {
    throw vv.create("fetch-parse-error", { originalErrorMessage: null == d3 ? void 0 : d3.message });
  }
  const ct2 = lt2.ttl.match(/^([\d.]+)(s)$/);
  if (!ct2 || !ct2[2] || isNaN(Number(ct2[1]))) throw vv.create("fetch-parse-error", { originalErrorMessage: `ttl field (timeToLive) is not in standard Protobuf Duration format: ${lt2.ttl}` });
  const ut2 = 1e3 * Number(ct2[1]), gt2 = Date.now();
  return { token: lt2.token, expireTimeMillis: gt2 + ut2, issuedAtTimeMillis: gt2 };
}
function getExchangeDebugTokenRequest(d2, g2) {
  const { projectId: _2, appId: O2, apiKey: $2 } = d2.options;
  return { url: `${gv}/projects/${_2}/apps/${O2}:${_v}?key=${$2}`, body: { debug_token: g2 } };
}
const bv = "firebase-app-check-database", yv = 1, wv = "firebase-app-check-store";
let xv = null;
function getDBPromise() {
  return xv || (xv = new Promise((d2, g2) => {
    try {
      const _2 = indexedDB.open(bv, yv);
      _2.onsuccess = (g3) => {
        d2(g3.target.result);
      }, _2.onerror = (d3) => {
        var _3;
        g2(vv.create("storage-open", { originalErrorMessage: null === (_3 = d3.target.error) || void 0 === _3 ? void 0 : _3.message }));
      }, _2.onupgradeneeded = (d3) => {
        const g3 = d3.target.result;
        if (0 === d3.oldVersion) g3.createObjectStore(wv, { keyPath: "compositeKey" });
      };
    } catch (d3) {
      g2(vv.create("storage-open", { originalErrorMessage: null == d3 ? void 0 : d3.message }));
    }
  }), xv);
}
async function write(d2, g2) {
  const _2 = (await getDBPromise()).transaction(wv, "readwrite"), O2 = _2.objectStore(wv).put({ compositeKey: d2, value: g2 });
  return new Promise((d3, g3) => {
    O2.onsuccess = (g4) => {
      d3();
    }, _2.onerror = (d4) => {
      var _3;
      g3(vv.create("storage-set", { originalErrorMessage: null === (_3 = d4.target.error) || void 0 === _3 ? void 0 : _3.message }));
    };
  });
}
function computeKey(d2) {
  return `${d2.options.appId}-${d2.name}`;
}
const Tv = new Logger("@firebase/app-check");
function writeTokenToStorage(d2, g2) {
  return isIndexedDBAvailable() ? function writeTokenToIndexedDB(d3, g3) {
    return write(computeKey(d3), g3);
  }(d2, g2).catch((d3) => {
    Tv.warn(`Failed to write token to IndexedDB. Error: ${d3}`);
  }) : Promise.resolve();
}
function isDebugMode() {
  return getDebugState().enabled;
}
async function getDebugToken() {
  const d2 = getDebugState();
  if (d2.enabled && d2.token) return d2.token.promise;
  throw Error("\n            Can't get debug token in production mode.\n        ");
}
const Ev = { error: "UNKNOWN_ERROR" };
async function getToken$2(d2, g2 = false, _2 = false) {
  const O2 = d2.app;
  ensureActivated(O2);
  const $2 = getStateReference(O2);
  let st2, ot2 = $2.token;
  if (ot2 && !isValid(ot2) && ($2.token = void 0, ot2 = void 0), !ot2) {
    const d3 = await $2.cachedTokenPromise;
    d3 && (isValid(d3) ? ot2 = d3 : await writeTokenToStorage(O2, void 0));
  }
  if (!g2 && ot2 && isValid(ot2)) return { token: ot2.token };
  let lt2, ct2 = false;
  if (isDebugMode()) try {
    $2.exchangeTokenPromise || ($2.exchangeTokenPromise = exchangeToken(getExchangeDebugTokenRequest(O2, await getDebugToken()), d2.heartbeatServiceProvider).finally(() => {
      $2.exchangeTokenPromise = void 0;
    }), ct2 = true);
    const g3 = await $2.exchangeTokenPromise;
    return await writeTokenToStorage(O2, g3), $2.token = g3, { token: g3.token };
  } catch (d3) {
    return "appCheck/throttled" === d3.code || "appCheck/initial-throttle" === d3.code ? Tv.warn(d3.message) : _2 && Tv.error(d3), makeDummyTokenResult(d3);
  }
  try {
    $2.exchangeTokenPromise || ($2.exchangeTokenPromise = $2.provider.getToken().finally(() => {
      $2.exchangeTokenPromise = void 0;
    }), ct2 = true), ot2 = await getStateReference(O2).exchangeTokenPromise;
  } catch (d3) {
    "appCheck/throttled" === d3.code || "appCheck/initial-throttle" === d3.code ? Tv.warn(d3.message) : _2 && Tv.error(d3), st2 = d3;
  }
  return ot2 ? st2 ? lt2 = isValid(ot2) ? { token: ot2.token, internalError: st2 } : makeDummyTokenResult(st2) : (lt2 = { token: ot2.token }, $2.token = ot2, await writeTokenToStorage(O2, ot2)) : lt2 = makeDummyTokenResult(st2), ct2 && notifyTokenListeners(O2, lt2), lt2;
}
function addTokenListener(d2, g2, _2, O2) {
  const { app: $2 } = d2, st2 = getStateReference($2), ot2 = { next: _2, error: O2, type: g2 };
  if (st2.tokenObservers = [...st2.tokenObservers, ot2], st2.token && isValid(st2.token)) {
    const g3 = st2.token;
    Promise.resolve().then(() => {
      _2({ token: g3.token }), initTokenRefresher(d2);
    }).catch(() => {
    });
  }
  st2.cachedTokenPromise.then(() => initTokenRefresher(d2));
}
function removeTokenListener(d2, g2) {
  const _2 = getStateReference(d2), O2 = _2.tokenObservers.filter((d3) => d3.next !== g2);
  0 === O2.length && _2.tokenRefresher && _2.tokenRefresher.isRunning() && _2.tokenRefresher.stop(), _2.tokenObservers = O2;
}
function initTokenRefresher(d2) {
  const { app: g2 } = d2, _2 = getStateReference(g2);
  let O2 = _2.tokenRefresher;
  O2 || (O2 = function createTokenRefresher(d3) {
    const { app: g3 } = d3;
    return new Refresher(async () => {
      let _3;
      if (_3 = getStateReference(g3).token ? await getToken$2(d3, true) : await getToken$2(d3), _3.error) throw _3.error;
      if (_3.internalError) throw _3.internalError;
    }, () => true, () => {
      const d4 = getStateReference(g3);
      if (d4.token) {
        let g4 = d4.token.issuedAtTimeMillis + 0.5 * (d4.token.expireTimeMillis - d4.token.issuedAtTimeMillis) + 3e5;
        const _3 = d4.token.expireTimeMillis - 3e5;
        return g4 = Math.min(g4, _3), Math.max(0, g4 - Date.now());
      }
      return 0;
    }, mv.RETRIAL_MIN_WAIT, mv.RETRIAL_MAX_WAIT);
  }(d2), _2.tokenRefresher = O2), !O2.isRunning() && _2.isTokenAutoRefreshEnabled && O2.start();
}
function notifyTokenListeners(d2, g2) {
  const _2 = getStateReference(d2).tokenObservers;
  for (const d3 of _2) try {
    "EXTERNAL" === d3.type && null != g2.error ? d3.error(g2.error) : d3.next(g2);
  } catch (d4) {
  }
}
function isValid(d2) {
  return d2.expireTimeMillis - Date.now() > 0;
}
function makeDummyTokenResult(d2) {
  return { token: (g2 = Ev, rg.encodeString(JSON.stringify(g2), false)), error: d2 };
  var g2;
}
class AppCheckService {
  constructor(d2, g2) {
    this.app = d2, this.heartbeatServiceProvider = g2;
  }
  _delete() {
    const { tokenObservers: d2 } = getStateReference(this.app);
    for (const g2 of d2) removeTokenListener(this.app, g2.next);
    return Promise.resolve();
  }
}
function internalFactory(d2) {
  return { getToken: (g2) => getToken$2(d2, g2), getLimitedUseToken: () => async function getLimitedUseToken$1(d3) {
    const g2 = d3.app;
    ensureActivated(g2);
    const { provider: _2 } = getStateReference(g2);
    if (isDebugMode()) {
      const _3 = await getDebugToken(), { token: O2 } = await exchangeToken(getExchangeDebugTokenRequest(g2, _3), d3.heartbeatServiceProvider);
      return { token: O2 };
    }
    {
      const { token: d4 } = await _2.getToken();
      return { token: d4 };
    }
  }(d2), addTokenListener: (g2) => addTokenListener(d2, "INTERNAL", g2), removeTokenListener: (g2) => removeTokenListener(d2.app, g2) };
}
const Pv = "app-check-internal";
!function registerAppCheck() {
  _registerComponent(new Component("app-check", (d2) => function factory(d3, g2) {
    return new AppCheckService(d3, g2);
  }(d2.getProvider("app").getImmediate(), d2.getProvider("heartbeat")), "PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d2, g2, _2) => {
    d2.getProvider(Pv).initialize();
  })), _registerComponent(new Component(Pv, (d2) => internalFactory(d2.getProvider("app-check").getImmediate()), "PUBLIC").setInstantiationMode("EXPLICIT")), registerVersion("@firebase/app-check", "0.10.0");
}();
const Iv = initializeApp({ apiKey: "AIzaSyB9Ogv6Vbwfy6_I0aLEfcpsPhqhlc4FSTw", authDomain: "auth.finlab.tw", projectId: "fdata-299302", storageBucket: "fdata-299302.appspot.com", messagingSenderId: "748308483506", appId: "1:748308483506:web:7c78dd82b422cd4ea5a8ab" }), Av = function getFirestore(d2, g2) {
  const _2 = "object" == typeof d2 ? d2 : getApp(), O2 = "string" == typeof d2 ? d2 : F_, $2 = _getProvider(_2, "firestore").getImmediate({ identifier: O2 });
  if (!$2._initialized) {
    const d3 = getDefaultEmulatorHostnameAndPort("firestore");
    d3 && function connectFirestoreEmulator(d4, g3, _3, O3 = {}) {
      var $3;
      d4 = __PRIVATE_cast(d4, Firestore$1);
      const st2 = isCloudWorkstation(g3), ot2 = d4._getSettings(), lt2 = Object.assign(Object.assign({}, ot2), { emulatorOptions: d4._getEmulatorOptions() }), ct2 = `${g3}:${_3}`;
      ot2.host !== vm && ot2.host !== ct2 && __PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");
      const ut2 = Object.assign(Object.assign({}, ot2), { host: ct2, ssl: st2, emulatorOptions: O3 });
      if (!deepEqual(ut2, lt2) && (d4._setSettings(ut2), st2 && (pingServer(`https://${ct2}`), updateEmulatorBanner("Firestore", true)), O3.mockUserToken)) {
        let g4, _4;
        if ("string" == typeof O3.mockUserToken) g4 = O3.mockUserToken, _4 = User.MOCK_USER;
        else {
          g4 = createMockUserToken(O3.mockUserToken, null === ($3 = d4._app) || void 0 === $3 ? void 0 : $3.options.projectId);
          const st3 = O3.mockUserToken.sub || O3.mockUserToken.user_id;
          if (!st3) throw new FirestoreError(A_.INVALID_ARGUMENT, "mockUserToken must contain 'sub' or 'user_id' field!");
          _4 = new User(st3);
        }
        d4._authCredentials = new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(g4, _4));
      }
    }($2, ...d3);
  }
  return $2;
}(Iv);
!function getStorage(d2 = getApp(), g2) {
  d2 = getModularInstance(d2), updateEmulatorBanner("Storage", false);
  const _2 = _getProvider(d2, uv).getImmediate({ identifier: g2 }), O2 = getDefaultEmulatorHostnameAndPort("storage");
  return O2 && function connectStorageEmulator(d3, g3, _3, O3 = {}) {
    !function connectStorageEmulator$1(d4, g4, _4, O4 = {}) {
      d4.host = `${g4}:${_4}`;
      const $2 = isCloudWorkstation(g4);
      $2 && (pingServer(`https://${d4.host}`), updateEmulatorBanner("Storage", true)), d4._isUsingEmulator = true, d4._protocol = $2 ? "https" : "http";
      const { mockUserToken: st2 } = O4;
      st2 && (d4._overrideAuthToken = "string" == typeof st2 ? st2 : createMockUserToken(st2, d4.app.options.projectId));
    }(d3, g3, _3, O3);
  }(_2, ...O2), _2;
}(Iv);
const Rv = function getAuth(d2 = getApp()) {
  const g2 = _getProvider(d2, "auth");
  if (g2.isInitialized()) return g2.getImmediate();
  const _2 = function initializeAuth(d3, g3) {
    const _3 = _getProvider(d3, "auth");
    if (_3.isInitialized()) {
      const d4 = _3.getImmediate();
      if (deepEqual(_3.getOptions(), null != g3 ? g3 : {})) return d4;
      _fail(d4, "already-initialized");
    }
    return _3.initialize({ options: g3 });
  }(d2, { popupRedirectResolver: ev, persistence: [Nm, Mm, Vm] }), O2 = getExperimentalSetting("authTokenSyncURL");
  if (O2 && "boolean" == typeof isSecureContext && isSecureContext) {
    const d3 = new URL(O2, location.origin);
    if (location.origin === d3.origin) {
      const g3 = ($2 = d3.toString(), async (d4) => {
        const g4 = d4 && await d4.getIdTokenResult(), _3 = g4 && ((/* @__PURE__ */ new Date()).getTime() - Date.parse(g4.issuedAtTime)) / 1e3;
        if (_3 && _3 > nv) return;
        const O3 = null == g4 ? void 0 : g4.token;
        rv !== O3 && (rv = O3, await fetch($2, { method: O3 ? "POST" : "DELETE", headers: O3 ? { Authorization: `Bearer ${O3}` } : {} }));
      });
      !function beforeAuthStateChanged(d4, g4, _3) {
        return getModularInstance(d4).beforeAuthStateChanged(g4, _3);
      }(_2, g3, () => g3(_2.currentUser)), function onIdTokenChanged(d4, g4, _3, O3) {
        return getModularInstance(d4).onIdTokenChanged(g4, _3, O3);
      }(_2, (d4) => g3(d4));
    }
  }
  var $2;
  const st2 = getDefaultEmulatorHost("auth");
  return st2 ? connectAuthEmulator(_2, `http://${st2}`) : updateEmulatorBanner("Auth", false), _2;
}(Iv);
Rv.useDeviceLanguage(), function setPersistence(d2, g2) {
  return getModularInstance(d2).setPersistence(g2);
}(Rv, Mm);
class Stock {
  constructor(d2) {
    this.timestamps = d2.date, this.open = d2.open, this.high = d2.high, this.close = d2.close, this.low = d2.low, this.volume = d2.volume;
  }
  createTradingviewSeries(d2, g2 = 0, _2 = -1, O2 = 500) {
    const $2 = this[d2], st2 = this.timestamps.map((d3, g3) => ({ time: d3.toDate(), value: $2[g3] })).slice(this.indexOfTimestamps(g2), this.indexOfTimestamps(_2) + 1), ot2 = Math.round(st2.length / O2);
    return st2.filter((d3, g3) => g3 % ot2 == 0 || g3 === st2.length - 1);
  }
  indexOfTimestamps(d2) {
    return "string" == typeof d2 ? this.timestamps.findIndex((g2) => g2 === d2) : d2 < 0 ? Math.max(this.timestamps.length + d2, 0) : Math.min(d2, this.timestamps.length - 1);
  }
  createCandlestickSeries(d2 = 0, g2 = -1) {
    const _2 = this.indexOfTimestamps(d2), O2 = this.indexOfTimestamps(g2) + 1;
    return this.timestamps.slice(_2, O2).map((d3, g3) => ({ time: d3, open: this.open[_2 + g3], high: this.high[_2 + g3], low: this.low[_2 + g3], close: this.close[_2 + g3] }));
  }
}
var kv = template('<div class="flex justify-center items-center h-64"><span class="loading loading-lg text-base-content/50"></span></div>'), Sv = template("<div></div>"), Cv = template('<div class="card bg-base-300"><div class="relative"><!> <!> <div class="absolute top-3 left-3 bg-base-300 flex gap-2 items-center"><div> </div> <div><span class="bg-primary/50 px-2 py-1 text-xs card"> </span></div></div> <div class="card-actions justify-end absolute top-2 right-2 z-[10]"><button class="btn btn-xs btn-circle btn-outline">✕</button></div></div></div>');
function StockBlock(d2, g2) {
  push(g2, false);
  const _2 = setup_stores(), $stockStore = () => store_get(ng, "$stockStore", _2), $theme = () => store_get(Tf, "$theme", _2);
  let O2 = prop(g2, "width", 12, ""), $2 = mutable_state(), st2 = mutable_state();
  async function handleStockChangeAsync(d3) {
    await async function handleStockChange(d4) {
      set$1(ot2, true), await async function processCandlestickData(d5) {
        const g3 = await async function fetchStockData(d6) {
          const g4 = doc(Av, "twStock", d6);
          if (g4) {
            const d7 = (await getDoc(g4)).data();
            return new Stock(d7.price);
          }
        }(d5), _3 = g3.createCandlestickSeries(0, -1);
        _3.forEach((d6) => {
          try {
            const g4 = 1e3 * d6.time.seconds, _4 = new Date(g4);
            if (isNaN(_4.getTime())) throw new Error("Invalid date");
            d6.time = _4.toISOString().split("T")[0];
          } catch (g4) {
            console.error("Error processing time:", d6.time, g4), d6.time = null;
          }
        }), lt2 = _3;
      }(d4.assetId), set$1(ot2, false), twRenderCandle();
    }(d3), await tick(), get($2);
  }
  let ot2 = mutable_state(false);
  let lt2, ct2 = mutable_state(), ut2 = null;
  function twRenderCandle() {
    ut2 || (ut2 = new TwChart(get(ct2), false));
    const d3 = getThemeType($theme());
    ut2.setTheme("dark" === d3 ? "dark" : "light"), ut2.addCandlestickSeries(), ut2.updateCandlestickSeriesData(lt2);
    const g3 = "light" === d3 ? "rgb(107 114 128)" : "rgb(209 213 219)";
    ut2.chart.applyOptions({ grid: { vertLines: { color: "#77777777", style: dp.Dotted, visible: true }, horzLines: { color: "#77777777", style: dp.Dotted, visible: true } }, crosshair: { horzLine: { visible: true, color: "#777777", style: dp.Dotted, labelVisible: true }, vertLine: { visible: true, color: "#777777", style: dp.Dotted, labelVisible: true } } });
    const _3 = new Date(get(st2).exitDate), O3 = new Date(get(st2).entryDate);
    function timestampeWithoutTimezone(d4) {
      const g4 = 6e4 * d4.getTimezoneOffset();
      return new Date(d4 - g4).toISOString().split("T")[0];
    }
    const $3 = [{ time: timestampeWithoutTimezone(O3), price: get(st2).entryPrice }];
    let ot3 = [];
    _3 > O3 && ot3.push({ time: timestampeWithoutTimezone(_3), price: get(st2).exitPrice }), ut2.addTradeMarkers($3, ot3, g3);
  }
  const gt2 = createEventDispatcher();
  function handleClose() {
    gt2("close"), handleStockChangeAsync(get(st2)), ng.set(null);
  }
  function handleKeydown(d3) {
    "Escape" === d3.key && handleClose();
  }
  onMount(() => {
    window.addEventListener("keydown", handleKeydown);
  }), onDestroy(() => {
    window.removeEventListener("keydown", handleKeydown);
  }), legacy_pre_effect(() => $stockStore(), () => {
    set$1(st2, $stockStore());
  }), legacy_pre_effect(() => get(st2), () => {
    get(st2) && handleStockChangeAsync(get(st2));
  }), legacy_pre_effect_reset(), init();
  var mt2 = Cv(), bt2 = child(mt2), yt2 = child(bt2), consequent = (d3) => {
    append(d3, kv());
  };
  if_block(yt2, (d3) => {
    get(ot2) && d3(consequent);
  });
  var wt2 = sibling(yt2, 2), consequent_1 = (d3) => {
    var g3 = Sv();
    bind_this(g3, (d4) => set$1(ct2, d4), () => get(ct2)), template_effect(() => set_class(g3, "mt-12 mb-4 h-64 w-full " + (get(ot2) ? "hidden" : "block"))), append(d3, g3);
  };
  if_block(wt2, (d3) => {
    get(st2) && d3(consequent_1);
  });
  var Pt2 = sibling(wt2, 2), At2 = child(Pt2), St2 = child(At2, true);
  reset(At2);
  var Mt2 = sibling(At2, 2), Vt2 = child(Mt2), Ot2 = child(Vt2, true);
  reset(Vt2), reset(Mt2), reset(Pt2);
  var zt2 = sibling(Pt2, 2), Bt2 = child(zt2);
  return reset(zt2), reset(bt2), reset(mt2), bind_this(mt2, (d3) => set$1($2, d3), () => get($2)), template_effect(() => {
    set_attribute(mt2, "style", `width: ${O2() ?? ""}`), set_text(St2, $stockStore().assetName), set_text(Ot2, $stockStore().industry);
  }), event("click", Bt2, handleClose), append(d2, mt2), pop({ get width() {
    return O2();
  }, set width(d3) {
    O2(d3), flush_sync();
  } });
}
create_custom_element(StockBlock, { width: {} }, [], [], true);
var Mv = template('<span class="pl-2"> </span>'), Vv = template("<th> <!></th>"), Dv = template("<td><!></td>"), Ov = template('<tr class="relative"><!></tr>'), Lv = template('<tr class="border-b border-primary/0 hover:border-base-content/20 bg-base-100 cursor-pointer rounded-lg"></tr> <!>', 1), Nv = template('<div style="clip-path: inset(0 0 0 0);"><div class="relative w-full -mt-24"><div class="sticky top-0 z-20"><div><table class="table table-fixed m-0"><thead class="z-20 h-8 pb-4 bg-base-100"><tr></tr></thead></table></div></div> <div class="overflow-x-auto overflow-y-hidden"><table class="table table-fixed m-0"><tbody></tbody></table></div></div></div>');
function PositionDataTable(d2, g2) {
  push(g2, false);
  const _2 = setup_stores(), $stockStore = () => store_get(ng, "$stockStore", _2);
  let O2 = prop(g2, "rows", 28, () => []), $2 = prop(g2, "columns", 28, () => []), st2 = prop(g2, "theme", 12, "light"), ot2 = mutable_state([]), lt2 = mutable_state(), ct2 = mutable_state();
  let ut2 = mutable_state(), gt2 = mutable_state();
  let mt2 = mutable_state(), bt2 = mutable_state("100%");
  const yt2 = createEventDispatcher();
  function handleClose() {
    yt2("close");
  }
  function handleHeightChange(d3) {
    d3.detail;
  }
  legacy_pre_effect(() => deep_read_state(O2()), () => {
    set$1(ot2, O2()), set$1(lt2, null), set$1(ct2, true);
  }), legacy_pre_effect(() => $stockStore(), () => {
    set$1(mt2, $stockStore());
  }), legacy_pre_effect(() => (get(mt2), get(gt2)), () => {
    get(mt2) && get(gt2) && set$1(bt2, `${get(gt2).clientWidth}px`);
  }), legacy_pre_effect_reset(), init();
  var wt2 = Nv(), Pt2 = child(wt2), At2 = child(Pt2), St2 = child(At2), Mt2 = child(St2), Vt2 = child(Mt2), Ot2 = child(Vt2);
  each$1(Ot2, 5, $2, (d3) => d3.key, (d3, g3) => {
    var _3 = Vv(), $3 = child(_3), st3 = sibling($3), consequent = (d4) => {
      var g4 = Mv(), _4 = child(g4, true);
      reset(g4), template_effect(() => set_text(_4, get(ct2) ? "▲" : "▼")), append(d4, g4);
    };
    if_block(st3, (d4) => {
      get(lt2) === get(g3).key && d4(consequent);
    }), reset(_3), template_effect(() => {
      set_attribute(_3, "style", `width: ${get(g3).width ?? ""};`), set_class(_3, `tracking-wider pt-24 cursor-pointer font-bold whitespace-nowrap
									 ${("name" === get(g3).key ? "pl-0 text-left sticky left-0 bg-base-100" : "text-right") ?? ""} 
									 ${get(g3).sort, ""} 
									 ${(get(lt2) === get(g3).key ? "text-primary" : "") ?? ""}
									 `), set_text($3, `${get(g3).name ?? ""} `);
    }), event("click", _3, () => function sortTable(d4) {
      if (!d4.sort) return;
      const g4 = d4.key;
      get(lt2) === g4 ? set$1(ct2, !get(ct2)) : (set$1(lt2, g4), set$1(ct2, true)), set$1(ot2, [...O2()].sort((d5, _4) => {
        const O3 = d5[g4], $4 = _4[g4];
        if (O3 === $4) return 0;
        const st4 = O3 < $4 ? -1 : 1;
        return get(ct2) ? st4 : -st4;
      }));
    }(get(g3))), append(d3, _3);
  }), reset(Ot2), reset(Vt2), reset(Mt2), reset(St2), bind_this(St2, (d3) => set$1(ut2, d3), () => get(ut2)), reset(At2);
  var zt2 = sibling(At2, 2), Bt2 = child(zt2), Zt2 = child(Bt2);
  return each$1(Zt2, 5, () => get(ot2), (d3) => d3.assetId, (d3, _3) => {
    var O3 = Lv(), ot3 = first_child(O3), lt3 = derived(() => function handleStockClick(d4) {
      yt2("click", d4);
    }(get(_3)));
    each$1(ot3, 5, $2, (d4) => d4.name, (d4, O4) => {
      var $3 = Dv(), st3 = child($3), consequent_1 = (d5) => {
        var O5 = comment();
        slot(first_child(O5), g2, "name", { get row() {
          return get(_3);
        } }, (d6) => {
          var g3 = text();
          template_effect(() => set_text(g3, get(_3).name)), append(d6, g3);
        }), append(d5, O5);
      }, alternate_6 = (d5) => {
        var $4 = comment(), st4 = first_child($4), consequent_2 = (d6) => {
          var O5 = comment();
          slot(first_child(O5), g2, "action", { get row() {
            return get(_3);
          } }, (d7) => {
            var g3 = text();
            template_effect(() => set_text(g3, get(_3).action)), append(d7, g3);
          }), append(d6, O5);
        }, alternate_5 = (d6) => {
          var $5 = comment(), st5 = first_child($5), consequent_3 = (d7) => {
            var O5 = comment();
            slot(first_child(O5), g2, "entryDate", { get row() {
              return get(_3);
            } }, (d8) => {
              var g3 = text();
              template_effect(() => set_text(g3, get(_3).entryDate)), append(d8, g3);
            }), append(d7, O5);
          }, alternate_4 = (d7) => {
            var $6 = comment(), st6 = first_child($6), consequent_4 = (d8) => {
              var O5 = comment();
              slot(first_child(O5), g2, "profit", { get row() {
                return get(_3);
              } }, (d9) => {
                var g3 = text();
                template_effect(() => set_text(g3, get(_3).profit)), append(d9, g3);
              }), append(d8, O5);
            }, alternate_3 = (d8) => {
              var $7 = comment(), st7 = first_child($7), consequent_5 = (d9) => {
                var O5 = comment();
                slot(first_child(O5), g2, "currentWeight", { get row() {
                  return get(_3);
                } }, (d10) => {
                  var g3 = text();
                  template_effect(() => set_text(g3, get(_3).currentWeight)), append(d10, g3);
                }), append(d9, O5);
              }, alternate_2 = (d9) => {
                var $8 = comment(), st8 = first_child($8), consequent_6 = (d10) => {
                  var O5 = comment();
                  slot(first_child(O5), g2, "nextWeight", { get row() {
                    return get(_3);
                  } }, (d11) => {
                    var g3 = text();
                    template_effect(() => set_text(g3, get(_3).nextWeight)), append(d11, g3);
                  }), append(d10, O5);
                }, alternate_1 = (d10) => {
                  var $9 = comment(), st9 = first_child($9), consequent_7 = (d11) => {
                    var O5 = comment();
                    slot(first_child(O5), g2, "RSV", { get row() {
                      return get(_3);
                    } }, (d12) => {
                      var g3 = text();
                      template_effect(() => set_text(g3, get(_3).RSV)), append(d12, g3);
                    }), append(d11, O5);
                  }, alternate = (d11) => {
                    var g3 = text();
                    template_effect(() => set_text(g3, get(_3)[get(O4).key] ? get(_3)[get(O4).key] : "-")), append(d11, g3);
                  };
                  if_block(st9, (d11) => {
                    "RSV" === get(O4).key ? d11(consequent_7) : d11(alternate, false);
                  }, true), append(d10, $9);
                };
                if_block(st8, (d10) => {
                  "nextWeight" === get(O4).key ? d10(consequent_6) : d10(alternate_1, false);
                }, true), append(d9, $8);
              };
              if_block(st7, (d9) => {
                "currentWeight" === get(O4).key ? d9(consequent_5) : d9(alternate_2, false);
              }, true), append(d8, $7);
            };
            if_block(st6, (d8) => {
              "profit" === get(O4).key ? d8(consequent_4) : d8(alternate_3, false);
            }, true), append(d7, $6);
          };
          if_block(st5, (d7) => {
            "entryDate" === get(O4).key ? d7(consequent_3) : d7(alternate_4, false);
          }, true), append(d6, $5);
        };
        if_block(st4, (d6) => {
          "action" === get(O4).key ? d6(consequent_2) : d6(alternate_5, false);
        }, true), append(d5, $4);
      };
      if_block(st3, (d5) => {
        "name" === get(O4).key ? d5(consequent_1) : d5(alternate_6, false);
      }), reset($3), template_effect(() => {
        set_attribute($3, "style", `width: ${get(O4).width ?? ""};`), set_class($3, `whitespace-nowrap
							  ${("name" === get(O4).key ? "pl-0 text-left sticky bg-base-100 left-0 z-10" : "text-right") ?? ""}
									`);
      }), append(d4, $3);
    }), reset(ot3);
    var ct3 = sibling(ot3, 2), consequent_8 = (d4) => {
      var g3 = Ov();
      StockBlock(child(g3), { get width() {
        return get(bt2);
      }, get theme() {
        return st2();
      }, $$events: { close: handleClose, heightChange: handleHeightChange } }), reset(g3), append(d4, g3);
    };
    if_block(ct3, (d4) => {
      get(mt2) && get(_3).assetId === get(mt2).assetId && d4(consequent_8);
    }), event("click", ot3, function(...d4) {
      var _a3;
      (_a3 = get(lt3)) == null ? void 0 : _a3.apply(this, d4);
    }), append(d3, O3);
  }), reset(Zt2), reset(Bt2), reset(zt2), bind_this(zt2, (d3) => set$1(gt2, d3), () => get(gt2)), reset(Pt2), reset(wt2), event("scroll", zt2, () => function syncScroll(d3, g3) {
    g3.scrollLeft = d3.scrollLeft;
  }(get(gt2), get(ut2))), append(d2, wt2), pop({ get rows() {
    return O2();
  }, set rows(d3) {
    O2(d3), flush_sync();
  }, get columns() {
    return $2();
  }, set columns(d3) {
    $2(d3), flush_sync();
  }, get theme() {
    return st2();
  }, set theme(d3) {
    st2(d3), flush_sync();
  } });
}
function charToHex(d2) {
  const g2 = function chineseToHue(d3) {
    if (!d3) return 0;
    const g3 = d3.codePointAt(0);
    if (void 0 === g3) throw new Error("Invalid character");
    return g3 % 360;
  }(d2), _2 = function hslToRgb(d3, g3, _3) {
    let O3, $2, st2;
    {
      const hue2rgb = (d4, g4, _4) => (_4 < 0 && (_4 += 1), _4 > 1 && (_4 -= 1), _4 < 1 / 6 ? d4 + 6 * (g4 - d4) * _4 : _4 < 0.5 ? g4 : _4 < 2 / 3 ? d4 + (g4 - d4) * (2 / 3 - _4) * 6 : d4);
      let ot2 = _3 + g3 - _3 * g3, lt2 = 2 * _3 - ot2;
      O3 = hue2rgb(lt2, ot2, d3 + 1 / 3), $2 = hue2rgb(lt2, ot2, d3), st2 = hue2rgb(lt2, ot2, d3 - 1 / 3);
    }
    return [Math.round(255 * O3), Math.round(255 * $2), Math.round(255 * st2)];
  }(g2 / 360, 0.5, 0.5), O2 = function rgbToHex(d3, g3, _3) {
    const toHex = (d4) => {
      const g4 = d4.toString(16);
      return 1 === g4.length ? "0" + g4 : g4;
    };
    return `#${toHex(d3)}${toHex(g3)}${toHex(_3)}`;
  }(..._2);
  return O2 + "77";
}
function deepMapToObject(d2) {
  const g2 = {};
  for (let [_2, O2] of d2.entries()) O2 instanceof Map ? g2[_2] = deepMapToObject(O2) : g2[_2] = O2;
  return g2;
}
function isValidPosition(d2) {
  if ("object" != typeof d2 || null === d2) return console.log("Invalid: obj is not an object or is null"), false;
  d2 instanceof Map && (d2 = deepMapToObject(d2));
  const g2 = ["assetName", "assetId"], _2 = ["entryDate", "exitDate"], O2 = ["entryPrice", "exitPrice", "currentPrice", "profit", "currentWeight", "nextWeight", "rsv20"];
  for (const _3 of g2) if ("string" != typeof d2[_3]) return console.log(`Invalid: ${_3} is not a string`), false;
  for (const g3 of _2) if (!(d2[g3] instanceof Date) && void 0 !== d2[g3]) return console.log(`Invalid: ${g3} is not a Date`), false;
  for (const g3 of O2) if ("number" != typeof d2[g3]) return console.log(`Invalid: ${g3} is not a number`), false;
  if (null !== d2.action) {
    if ("object" != typeof d2.action || null === d2.action) return console.log("Invalid: action is not an object or is null"), false;
    const g3 = ["type", "reason", "date", "profit"];
    for (const _4 of g3) if (!(_4 in d2.action)) return console.log(`Invalid: ${_4} is missing in action`), false;
    if (!["entry", "exit", "hold", "entry_f", "exit_p"].includes(d2.action.type)) return console.log("Invalid: action.type is not one of 'entry', 'exit', 'hold'"), false;
    const _3 = ["sl", "tp", "sl_", "tp_", "_", "enter", "exit", "sl_enter", "tp_enter"];
    if (!_3.includes(d2.action.reason)) return console.log(`Invalid: action.reason is not one of ${_3}`), false;
    if (!(d2.action.date instanceof Date) && void 0 !== d2.action.date) return console.log("Invalid: action.date is not a Date"), false;
    if ("number" != typeof d2.action.profit) return console.log("Invalid: action.profit is not a number"), false;
  }
  return true;
}
create_custom_element(PositionDataTable, { rows: {}, columns: {}, theme: {} }, ["name", "action", "entryDate", "profit", "currentWeight", "nextWeight", "RSV"], [], true), Chart.register(...Co);
var $v = template('<p class="text-sm"> </p>'), Fv = template(" <br> ", 1), zv = template('<div class="flex items-center justify-center gap-4"><div style="height: 240px; width:240px" class="mt-16 flex flex-col items-center"><canvas id="myPieChart"></canvas> <div class="text-center -mt-[150px]"><h1 class="font-bold text-4xl flex items-end -ml-2"><span class="text-sm"><!></span> <span class="text-sm"><!></span></h1> <!></div></div></div>');
const Bv = { hash: "svelte-acpgfn", code: "" };
function PieChart(d2, g2) {
  push(g2, false), append_styles(d2, Bv);
  const _2 = mutable_state();
  let O2 = prop(g2, "stockNames", 28, () => ["testStock", "testStock2"]), $2 = prop(g2, "stockReturns", 28, () => [0.1, -0.1]), st2 = prop(g2, "positionSizes", 28, () => [0.6, 0.4]), ot2 = prop(g2, "title", 12, "報酬"), lt2 = prop(g2, "theme", 12), ct2 = mutable_state(null);
  let ut2, gt2 = mutable_state(0), mt2 = mutable_state(null);
  const getGradientColor = (d3, g3) => {
    const _3 = 0.95 * Math.abs(d3 / g3) + 0.05;
    return setOklchAlpha(d3 > 0 ? riseColor() : fallColor(), _3);
  }, bt2 = signColor, initializeChart = () => {
    (() => {
      let d4 = st2().reduce((d5, g4) => d5 + (0 !== g4 ? g4 : 0), 0);
      set$1(gt2, st2().reduce((d5, g4, _4) => 0 !== g4 ? d5 + g4 * $2()[_4] : d5, 0) / d4);
    })();
    const d3 = st2().map((d4, g4) => d4 * $2()[g4]);
    const g3 = [...Array(O2().length).keys()].sort(function sort(g4, _4) {
      const O3 = (d3[_4] > 0) - (d3[g4] > 0), $3 = (d3[g4], d3[_4] * st2()[_4] - d3[g4] * st2()[g4]);
      return 0 === O3 ? -$3 : -O3;
    }).filter((d4) => st2()[d4] > 0), _3 = g3.map((d4) => 100 * st2()[d4] + Math.abs($2()[d4])), ot3 = g3.map((d4) => O2()[d4]), lt3 = g3.map((d4) => $2()[d4]), ct3 = g3.map((d4) => st2()[d4]), yt3 = g3.map((g4) => d3[g4]), wt3 = Math.max(...yt3.map(Math.abs));
    let Pt3 = null;
    _3.map((d4) => d4).sort((d4, g4) => g4 - d4)[4];
    const At3 = { labels: ot3, datasets: [{ data: ct3, backgroundColor: yt3.map((d4) => getGradientColor(d4, wt3)), hoverBackgroundColor: yt3.map((d4) => getGradientColor(d4, wt3)) }] }, St3 = document.getElementById("myPieChart"), Mt3 = St3.getContext("2d"), Vt3 = { type: "doughnut", data: At3, options: { cutout: "75%", rotation: 0, responsive: true, animation: { duration: 0 }, elements: { arc: { borderWidth: 6, borderColor: "#00000000" } }, plugins: { legend: { display: false }, tooltip: { enabled: false } }, onHover(d4, g4) {
      if (g4.length > 0) {
        const d5 = g4[0].index;
        set$1(mt2, ot3[d5]);
      } else set$1(mt2, null);
    } }, plugins: [{ id: "htmlLegend", afterDraw(d4) {
      const g4 = d4.canvas, _4 = d4.data.datasets[0], O3 = g4.parentNode;
      document.getElementsByClassName("chart-label").length > 0 || _4.data.forEach((_5, $3) => {
        const st3 = d4.getDatasetMeta(0).data[$3];
        st3.tooltipPosition();
        const ot4 = (st3.endAngle - st3.startAngle) / 2 + st3.startAngle, ut3 = st3.outerRadius + 40, gt3 = d4.width / 2 + Math.cos(ot4) * ut3, mt3 = d4.height / 2 + Math.sin(ot4) * ut3;
        let yt4 = 1 - 1.5 * (d4.height - Math.abs(mt3 - d4.height)) / d4.height;
        yt4 < 0.7 && (yt4 = 0.7), ct3[$3] < 0.03 && (yt4 = 0);
        const wt4 = document.createElement("div");
        wt4.style.lineHeight = "1", wt4.style.opacity = yt4;
        const Pt4 = document.createElement("span");
        Pt4.style.fontSize = "0.9rem", Pt4.innerHTML = function valueToTextWithSign(d5) {
          return d5 > 0 ? `+${d5}` : d5;
        }(Math.round(1e4 * lt3[$3]) / 100);
        const At4 = document.createElement("span");
        At4.style.fontSize = "0.6rem", At4.innerHTML = "%", ct3[$3] > 0.04 || yt4 > 0.7 ? (Pt4.style.color = bt2(lt3[$3]), At4.style.color = bt2(lt3[$3])) : (Pt4.style.color = "#00000000", At4.style.color = "#00000000"), Pt4.style.fontWeight = "bold";
        const St4 = document.createElement("span");
        St4.innerHTML = d4.data.labels[$3], St4.style.fontSize = "0.8rem", wt4.appendChild(St4), wt4.appendChild(document.createElement("br")), wt4.appendChild(Pt4), wt4.appendChild(At4);
        const Mt4 = document.createElement("div");
        Mt4.className = "chart-label", Mt4.style.position = "absolute", Mt4.style.transform = "translate(-50%, -50%)", Mt4.style.pointerEvents = "none", Mt4.style.whiteSpace = "nowrap", Mt4.style.textAlign = "right", Mt4.style.zIndex = 1e3, Mt4.appendChild(wt4), O3.appendChild(Mt4), Mt4.style.left = g4.offsetLeft + gt3 + "px", Mt4.style.top = g4.offsetTop + mt3 + "px";
        const Vt4 = document.createElement("div");
        Vt4.style.lineHeight = "1.2", Vt4.style.color = "#FFFFFFaa", Vt4.style.opacity = yt4;
        const Ot3 = document.createElement("span");
        Ot3.style.fontSize = "0.7rem", Ot3.innerHTML = Math.round(100 * ct3[$3]) / 100, Vt4.appendChild(Ot3);
        const zt3 = d4.width / 2 + Math.cos(ot4) * ut3 / 1.6, Bt3 = d4.height / 2 + Math.sin(ot4) * ut3 / 1.6, Zt2 = document.createElement("div");
        Zt2.style.position = "absolute", Zt2.className = "chart-label", Zt2.style.transform = "translate(-50%, -50%)", Zt2.style.pointerEvents = "none", Zt2.style.whiteSpace = "nowrap", Zt2.style.textAlign = "right", Zt2.style.marginTop = "-24px", Zt2.style.zIndex = 1e3, Zt2.style.left = g4.offsetLeft + zt3 + "px", Zt2.style.top = g4.offsetTop + Bt3 + 20 + "px";
      });
    }, beforeDraw(d4) {
      const g4 = d4.data.datasets[0].data;
      let _4 = false;
      if (Pt3 && JSON.stringify(Pt3) === JSON.stringify(g4) || (_4 = true, Pt3 = [...g4]), _4) {
        const d5 = document.getElementsByClassName("chart-label");
        let g5 = 0;
        for (; d5.length > 0; ) d5[g5].parentNode.removeChild(d5[g5]);
      }
    } }] };
    ut2 && (ut2.destroy(), ut2 = null, Mt3.clearRect(0, 0, St3.width, St3.height)), ut2 = new Chart(Mt3, Vt3);
  };
  onMount(() => {
    initializeChart();
  }), legacy_pre_effect(() => get(mt2), () => {
    get(mt2) && setTimeout(() => {
      set$1(mt2, null);
    }, 2e3);
  }), legacy_pre_effect(() => (get(mt2), get(gt2), deep_read_state($2()), deep_read_state(O2())), () => {
    set$1(_2, null === get(mt2) ? Math.round(1e4 * get(gt2)) / 100 : Math.round(1e4 * $2()[O2().indexOf(get(mt2))]) / 100);
  }), legacy_pre_effect_reset(), init();
  var yt2 = zv(), wt2 = child(yt2), Pt2 = sibling(child(wt2), 2), At2 = child(Pt2);
  const St2 = derived_safe_equal(() => `color: ${bt2(get(_2)) ?? ""}`);
  var Mt2 = child(At2), Vt2 = child(Mt2), consequent = (d3) => {
    Arrow_up(d3, { size: "1.5em" });
  }, alternate = (d3) => {
    Arrow_down(d3, { size: "1.5em" });
  };
  if_block(Vt2, (d3) => {
    get(_2) > 0 ? d3(consequent) : d3(alternate, false);
  }), reset(Mt2);
  var Ot2 = sibling(Mt2);
  template_effect(() => set_text(Ot2, ` ${Math.abs(get(_2)) ?? ""} `));
  var zt2 = sibling(Ot2);
  Percent(child(zt2), { size: "1.2em" }), reset(zt2), reset(At2);
  var Bt2 = sibling(At2, 2), consequent_1 = (d3) => {
    var g3 = $v(), _3 = child(g3, true);
    reset(g3), bind_this(g3, (d4) => set$1(ct2, d4), () => get(ct2)), template_effect(() => set_text(_3, ot2())), append(d3, g3);
  }, alternate_1 = (d3) => {
    var g3 = Fv(), _3 = first_child(g3), $3 = sibling(_3, 2);
    template_effect(() => set_text($3, ` ${Math.round(100 * st2()[O2().indexOf(get(mt2))]) / 100}`)), template_effect(() => set_text(_3, `${get(mt2) ?? ""} `)), append(d3, g3);
  };
  return if_block(Bt2, (d3) => {
    null === get(mt2) ? d3(consequent_1) : d3(alternate_1, false);
  }), reset(Pt2), reset(wt2), reset(yt2), template_effect(() => set_attribute(At2, "style", get(St2))), append(d2, yt2), pop({ get stockNames() {
    return O2();
  }, set stockNames(d3) {
    O2(d3), flush_sync();
  }, get stockReturns() {
    return $2();
  }, set stockReturns(d3) {
    $2(d3), flush_sync();
  }, get positionSizes() {
    return st2();
  }, set positionSizes(d3) {
    st2(d3), flush_sync();
  }, get title() {
    return ot2();
  }, set title(d3) {
    ot2(d3), flush_sync();
  }, get theme() {
    return lt2();
  }, set theme(d3) {
    lt2(d3), flush_sync();
  } });
}
create_custom_element(PieChart, { stockNames: {}, stockReturns: {}, positionSizes: {}, title: {}, theme: {} }, [], [], true);
const toggleExpand = (d2, g2) => {
  set$1(g2, !get(g2));
};
var Uv = template('<button class="btn btn-ghost btn-xs top-0 right-0 absolute"><!></button>'), Wv = template("<div><canvas></canvas></div>"), jv = template('<div class="relative -ml-2"><!> <div><!></div></div>');
function BarChart(d2, g2) {
  push(g2, true);
  const _2 = setup_stores();
  let O2 = prop(g2, "stockNames", 7), $2 = prop(g2, "stockReturns", 7), st2 = prop(g2, "positionSizes", 7);
  const ot2 = signColor;
  let lt2 = null, ct2 = null, ut2 = state(240), gt2 = state(false), mt2 = state(false);
  const initializeChart = () => {
    if (console.log("Initializing chart with stock names:", O2(), ct2), !ct2) return;
    const d3 = $2().map((d4, g4) => ({ returnVal: d4, index: g4 })).filter((d4) => !isNaN(d4.returnVal)).filter((d4) => st2()[d4.index] > 0).sort((d4, g4) => g4.returnVal - d4.returnVal).map((d4) => d4.index), g3 = d3.map((d4) => O2()[d4]), _3 = d3.map((d4) => $2()[d4]);
    d3.map((d4) => Math.abs($2()[d4]));
    const ut3 = true;
    set$1(mt2, false);
    const gt3 = { labels: g3, datasets: [{ data: _3, backgroundColor: _3.map((d4) => ((d5, g4) => {
      const _4 = Math.max(...g4.filter((d6) => d6 == d6).map(Math.abs)), O3 = 0.7 * Math.abs(d5 / _4) + 0.3;
      return setOklchAlpha(d5 >= 0 ? riseColor() : fallColor(), O3);
    })(d4, _3)), borderRadius: 12, borderWidth: 0 }] }, bt3 = ct2.getContext("2d"), yt3 = document.querySelector(".text-base-content");
    if (!bt3 || !yt3) return void console.error("Canvas context or theme element not found");
    const wt3 = getComputedStyle(yt3).color, Pt3 = { type: "bar", data: gt3, options: { responsive: true, maintainAspectRatio: false, indexAxis: "x", layout: { padding: { top: 24, bottom: 0, left: 8, right: 0 } }, animation: { duration: 1e3 }, scales: { x: { display: ut3, max: void 0, ticks: { color: wt3, minRotation: 0, maxRotation: 90, beginAtZero: true, autoSkip: false, callback: (d4, _4) => g3[_4] }, grid: { display: false } }, y: { display: false, max: Math.max(0.01, ..._3.map((d4) => Math.abs(d4))), ticks: { beginAtZero: true, color: wt3, format: { style: "percent" }, display: false, autoSkip: false, callback: (d4, g4) => d4 }, position: "left", grid: { display: false } } }, plugins: { legend: { enabled: false, display: false }, tooltip: { enabled: false } } }, plugins: [{ id: "barLabels", afterDatasetsDraw(d4) {
      d4.options.animation.duration = 0;
      const O3 = d4.ctx;
      d4.options.scales.x.ticks.color = wt3, d4.options.scales.y.ticks.color = wt3, d4.data.datasets.forEach(function($3, st3) {
        d4.getDatasetMeta(st3).data.forEach(function(d5, $4) {
          const st4 = _3[$4];
          O3.fillStyle = ot2(st4), O3.textAlign = "center";
          {
            const _4 = 10;
            O3.font = "12px sans-serif";
            g3.length > 12 ? (O3.save(), O3.translate(d5.x, st4 >= 0 ? d5.y - _4 - 5 : d5.y - d5.height - 24), O3.rotate(-Math.PI / 2), O3.textAlign = "center", O3.fillText(Math.abs(Math.round(1e3 * st4) / 10) + "%", 0, 0), O3.restore()) : O3.fillText(Math.abs(Math.round(1e3 * st4) / 10) + "%", d5.x, st4 >= 0 ? d5.y - _4 : d5.y - d5.height - 14);
          }
        });
      });
    } }] };
    lt2 && lt2.destroy(), lt2 = new Chart(bt3, Pt3);
  };
  user_effect(() => (ct2 && store_get(Tf, "$theme", _2) && initializeChart(), () => {
    lt2 && lt2.destroy();
  })), onMount(() => initializeChart());
  var bt2 = jv(), yt2 = child(bt2), consequent_1 = (d3) => {
    var g3 = Uv();
    g3.__click = [toggleExpand, gt2];
    var _3 = child(g3), consequent = (d4) => {
      Minimize(d4, { size: 16 });
    }, alternate = (d4) => {
      Expand(d4, { size: 16 });
    };
    if_block(_3, (d4) => {
      get(gt2) ? d4(consequent) : d4(alternate, false);
    }), reset(g3), append(d3, g3);
  };
  if_block(yt2, (d3) => {
    get(mt2) && d3(consequent_1);
  });
  var wt2 = sibling(yt2, 2), Pt2 = child(wt2), consequent_2 = (d3) => {
    var g3 = Wv(), _3 = child(g3);
    bind_this(_3, (d4) => ct2 = d4, () => ct2), reset(g3), template_effect(() => {
      set_attribute(g3, "style", `height: ${get(ut2) ?? ""}px;width: 100%;`), set_attribute(_3, "height", get(ut2));
    }), append(d3, g3);
  };
  return if_block(Pt2, (d3) => {
    0 != get(ut2) && d3(consequent_2);
  }), reset(wt2), reset(bt2), template_effect(() => set_attribute(wt2, "style", `max-height: ${(get(gt2) ? "none" : "240px") ?? ""}; overflow-y: scroll;width:100%`)), append(d2, bt2), pop({ get stockNames() {
    return O2();
  }, set stockNames(d3) {
    O2(d3), flush_sync();
  }, get stockReturns() {
    return $2();
  }, set stockReturns(d3) {
    $2(d3), flush_sync();
  }, get positionSizes() {
    return st2();
  }, set positionSizes(d3) {
    st2(d3), flush_sync();
  } });
}
delegate(["click"]), create_custom_element(BarChart, { stockNames: {}, stockReturns: {}, positionSizes: {} }, [], [], true);
const qv = function createRealtimeStockStore() {
  const d2 = writable({});
  let g2 = null;
  function start() {
    if (g2 || document.hidden) return;
    const _2 = doc(Av, "twIntraday", "realtime");
    g2 = onSnapshot(_2, (g3) => {
      g3.exists() ? d2.set(g3.data()) : d2.set({});
    }), document.addEventListener("visibilitychange", visibilityHandler);
  }
  function stop() {
    g2 && (g2(), g2 = null), document.removeEventListener("visibilitychange", visibilityHandler);
  }
  function visibilityHandler() {
    document.hidden ? stop() : start();
  }
  return { subscribe: d2.subscribe, start, stop };
}();
var Hv = template('<div class="chart-label font-normal z-[99] hover:z-[100] hover:border rounded-box text-base-content/70 svelte-1v9yy1w"><span class="label-text svelte-1v9yy1w"> </span> <span class="label-value svelte-1v9yy1w"> </span></div>'), Kv = template('<div class="svelte-1v9yy1w"><div class="w-full relative mb-16 svelte-1v9yy1w" style="height: 216px;"><div class="absolute inset-0 flex items-center justify-center z-10 pointer-events-none svelte-1v9yy1w"><div class="text-center svelte-1v9yy1w"><div class="text-lg font-extralight text-base-content svelte-1v9yy1w">產業比例</div></div></div> <canvas class="svelte-1v9yy1w"></canvas> <div class="z-[99] absolute top-0 left-0 w-full h-full pointer-events-none svelte-1v9yy1w"></div></div></div>'), Gv = template('<div class="svelte-1v9yy1w"><!></div>');
const Yv = { hash: "svelte-1v9yy1w", code: "\n	@keyframes svelte-1v9yy1w-fadeIn {\n		from {\n			opacity: 0;\n			transform: translateY(-5px);\n		}\n		to {\n			opacity: 1;\n			transform: translateY(0);\n		}\n	}.chart-label.svelte-1v9yy1w {position:absolute;transform:translate(-50%, -50%);padding:4px 8px;font-size:10px;z-index:10;display:flex;flex-direction:column;align-items:center;\n		animation: svelte-1v9yy1w-fadeInZoom 0.5s ease-out forwards;transition:all 0.3s ease;white-space:nowrap;min-width:60px;text-align:center;}.label-text.svelte-1v9yy1w {font-size:12px;overflow:hidden;text-overflow:ellipsis;max-width:90px;}.label-value.svelte-1v9yy1w {font-size:11px;font-weight:700;}\n\n	@keyframes svelte-1v9yy1w-fadeInZoom {\n		0% {\n			opacity: 0;\n			transform: translate(-50%, -50%) scale(0.8);\n		}\n		100% {\n			opacity: 1;\n			transform: translate(-50%, -50%) scale(1);\n		}\n	}" };
create_custom_element(function IndustryChart(d2, g2) {
  push(g2, true), append_styles(d2, Yv);
  const _2 = setup_stores();
  Chart.register(ArcElement, Io, yo, wo);
  let O2 = derived(() => ({ theme: store_get(Tf, "$theme", _2), industries: [nameToColor("primary"), nameToColor("secondary"), nameToColor("accent"), nameToColor("info"), nameToColor("success"), nameToColor("warning"), nameToColor("error"), nameToColor("neutral"), nameToColor("base-300"), nameToColor("base-200")], stocks: ["#FF8394", "#FFA3B4", "#FFC3D4", "#56B2FB", "#76C2FF", "#96D2FF", "#FFDE76", "#FFEE96", "#FFFEB6", "#6BD0D0", "#8BE0E0", "#ABF0F0", "#B986FF", "#D9A6FF", "#F9C6FF", "#FFAF60", "#FFBF80", "#FFCFA0", "#D9DBDF", "#E9EBEF", "#F9FBFF", "#9BD063", "#BBE083", "#DBF0A3"] })), $2 = prop(g2, "portfolioData", 7), st2 = state(proxy({ industries: [] }));
  user_effect(() => {
    const d3 = $2().filter((d4) => d4.currentWeight > 0), g3 = /* @__PURE__ */ new Map();
    let _3 = 0;
    d3.forEach((d4) => {
      g3.has(d4.industry) || (g3.set(d4.industry, { name: d4.industry, weight: 0, color: get(O2).industries[_3 % get(O2).industries.length], stocks: [], colorIndex: _3 }), _3++);
      const $3 = g3.get(d4.industry);
      $3.weight += d4.currentWeight;
      const st3 = $3.colorIndex, ot4 = $3.stocks.length, lt3 = get(O2).stocks[3 * st3 + ot4 % 3];
      $3.stocks.push({ name: d4.assetName, weight: d4.currentWeight, profit: d4.profit, price: d4.currentPrice, color: lt3 });
    });
    const ot3 = Array.from(g3.values()).sort((d4, g4) => g4.weight - d4.weight);
    ot3.forEach((d4, g4) => {
      d4.color = get(O2).industries[g4 % get(O2).industries.length], d4.colorIndex = g4, d4.stocks.forEach((d5, _4) => {
        d5.color = get(O2).stocks[3 * g4 + _4 % 3];
      });
    }), set$1(st2, proxy({ industries: ot3 }));
  });
  let ot2, lt2 = derived(() => {
    var _a3;
    return ((_a3 = get(st2).industries) == null ? void 0 : _a3.map((d3) => `${d3.name} (${(100 * d3.weight).toFixed(1)}%)`)) || [];
  }), ct2 = derived(() => {
    var _a3;
    return ((_a3 = get(st2).industries) == null ? void 0 : _a3.map((d3) => (100 * d3.weight).toFixed(1))) || [];
  }), ut2 = derived(() => {
    var _a3;
    return ((_a3 = get(st2).industries) == null ? void 0 : _a3.map((d3) => d3.name)) || [];
  }), gt2 = derived(() => {
    var _a3;
    return ((_a3 = get(st2).industries) == null ? void 0 : _a3.map((d3) => d3.weight)) || [];
  }), mt2 = derived(() => {
    var _a3;
    return ((_a3 = get(st2).industries) == null ? void 0 : _a3.map((d3) => d3.color)) || [];
  }), bt2 = state(null), yt2 = state(proxy([]));
  function updateLabelPositions() {
    if (!ot2) return;
    const d3 = ot2.chartArea, g3 = (d3.left + d3.right) / 2, _3 = (d3.top + d3.bottom) / 2;
    let O3 = -0.5 * Math.PI;
    const $3 = Math.min(d3.right - d3.left, d3.bottom - d3.top) / 2, st3 = 1.2 * $3;
    set$1(yt2, proxy(get(gt2).map((d4, ot3) => {
      const gt3 = 2 * Math.PI * d4, bt3 = O3 + gt3 / 2, yt3 = g3 + Math.cos(bt3) * st3, wt3 = _3 + Math.sin(bt3) * st3, Pt3 = g3 + Math.cos(bt3) * (0.85 * $3), At2 = _3 + Math.sin(bt3) * (0.85 * $3);
      return O3 += gt3, { x: yt3, y: wt3, lineStartX: Pt3, lineStartY: At2, visible: d4 > 0.03, label: get(ut2)[ot3], fullLabel: get(lt2)[ot3], weight: get(ct2)[ot3], color: get(mt2)[ot3], angle: bt3 };
    })));
  }
  user_effect(() => {
    get(bt2) && get(st2).industries && get(st2).industries.length > 0 && (ot2 && ot2.destroy(), Chart.defaults.color = "#fff", Chart.defaults.borderColor = "#444", Chart.defaults.backgroundColor = "#1e1e2f", ot2 = new Chart(get(bt2), { type: "doughnut", data: { datasets: [{ label: "Industries", data: get(gt2), backgroundColor: get(mt2).map((d3) => setOklchAlpha(d3, 0.7)), borderColor: "rgba(0,0,0,0)", borderWidth: 0, radius: "100%" }] }, options: { responsive: true, maintainAspectRatio: false, cutout: "80%", layout: { padding: 0 }, plugins: { tooltip: { enabled: true, backgroundColor: "rgba(30, 30, 47, 0.9)", titleColor: "#fff", bodyColor: "#fff", borderColor: "#555", borderWidth: 1, displayColors: true, callbacks: { title: (d3) => "", label(d3) {
      const g3 = d3.datasetIndex, _3 = d3.dataIndex;
      if (0 === g3) {
        const d4 = get(st2).industries[_3];
        return [`${d4.name}`, `占比: ${(100 * d4.weight).toFixed(1)}%`, `股票數: ${d4.stocks.length} 檔`];
      }
      return "";
    } } } }, animation: { onComplete() {
      updateLabelPositions();
    } } } }), updateLabelPositions());
  }), onDestroy(() => {
    ot2 && ot2.destroy();
  });
  var wt2 = Gv(), Pt2 = child(wt2), consequent_1 = (d3) => {
    var g3 = Kv(), _3 = child(g3), O3 = sibling(child(_3), 2);
    bind_this(O3, (d4) => set$1(bt2, d4), () => get(bt2));
    var $3 = sibling(O3, 2);
    each$1($3, 21, () => get(yt2), index$1, (d4, g4) => {
      var _4 = comment(), O4 = first_child(_4), consequent = (d5) => {
        var _5 = Hv(), O5 = child(_5), $4 = child(O5, true);
        reset(O5);
        var st3 = sibling(O5, 2), ot3 = child(st3);
        reset(st3), reset(_5), template_effect(() => {
          set_attribute(_5, "style", `
								left: ${get(g4).x ?? ""}px;
								top: ${get(g4).y ?? ""}px;
								color: ;
							`), set_text($4, get(g4).label), set_text(ot3, `${get(g4).weight ?? ""}%`);
        }), append(d5, _5);
      };
      if_block(O4, (d5) => {
        get(g4).visible && d5(consequent);
      }), append(d4, _4);
    }), reset($3), reset(_3), reset(g3), append(d3, g3);
  };
  return if_block(Pt2, (d3) => {
    get(st2).industries && get(st2).industries.length > 0 && d3(consequent_1);
  }), reset(wt2), append(d2, wt2), pop({ get portfolioData() {
    return $2();
  }, set portfolioData(d3) {
    $2(d3), flush_sync();
  } });
}, { portfolioData: {} }, [], [], true);
var Qv = template('<div class="w-[1.2em] h-[1.2em] flex items-center justify-center">—</div>'), Xv = template('<div class="stat-desc flex gap-2 items-center"><!> <!></div>'), Jv = template('<div class="flex flex-col gap-3"><div class="stat-title"> </div> <div class="stat-value text-5xl flex items-end font-extralight -ml-1.5"><!> <span class="text-sm"><!></span></div> <!></div>');
create_custom_element(function PerformanceCard(d2, g2) {
  push(g2, true);
  let _2 = prop(g2, "stockNames", 23, () => []), O2 = prop(g2, "stockReturns", 23, () => []), $2 = prop(g2, "positionSizes", 23, () => []), st2 = prop(g2, "purchaseDates", 23, () => []), ot2 = prop(g2, "title", 7, "總回報率"), lt2 = derived(() => {
    let d3 = $2().reduce((d4, g4) => d4 + (0 !== g4 ? g4 : 0), 0), g3 = $2().reduce((d4, g4, _3) => 0 !== g4 ? d4 + g4 * O2()[_3] : d4, 0) / d3;
    return Math.round(1e4 * g3) / 100;
  }), ct2 = derived(() => signColor(get(lt2))), ut2 = derived(() => st2().length ? st2().reduce((d3, g3) => d3 < g3 ? d3 : g3) : null);
  var gt2 = Jv(), mt2 = child(gt2), bt2 = child(mt2, true);
  reset(mt2);
  var yt2 = sibling(mt2, 2), wt2 = child(yt2), consequent = (d3) => {
    Arrow_up(d3, { size: "0.7em" });
  }, alternate_1 = (d3) => {
    var g3 = comment(), _3 = first_child(g3), consequent_1 = (d4) => {
      Arrow_down(d4, { size: "0.7em" });
    }, alternate = (d4) => {
      append(d4, Qv());
    };
    if_block(_3, (d4) => {
      get(lt2) < 0 ? d4(consequent_1) : d4(alternate, false);
    }, true), append(d3, g3);
  };
  if_block(wt2, (d3) => {
    get(lt2) > 0 ? d3(consequent) : d3(alternate_1, false);
  });
  var Pt2 = sibling(wt2);
  template_effect(() => set_text(Pt2, ` ${Math.abs(get(lt2)) ?? ""} `));
  var At2 = sibling(Pt2);
  Percent(child(At2), { size: "2em" }), reset(At2), reset(yt2);
  var St2 = sibling(yt2, 2), consequent_3 = (d3) => {
    var g3 = Xv(), _3 = child(g3);
    Calendar(_3, { size: "1em" });
    var O3 = sibling(_3, 2), consequent_2 = (d4) => {
      var g4 = text();
      template_effect(() => {
        return set_text(g4, `從 ${d5 = get(ut2), d5.toLocaleDateString("zh-TW", { year: "numeric", month: "long", day: "numeric" }) ?? ""} 持有至今的報酬率`);
        var d5;
      }), append(d4, g4);
    }, alternate_2 = (d4) => {
      append(d4, text("最近日報酬率"));
    };
    if_block(O3, (d4) => {
      "累計報酬" === ot2() ? d4(consequent_2) : d4(alternate_2, false);
    }), reset(g3), append(d3, g3);
  };
  return if_block(St2, (d3) => {
    get(ut2) && d3(consequent_3);
  }), reset(gt2), template_effect(() => {
    set_text(bt2, ot2()), set_attribute(yt2, "style", `color: ${get(ct2) ?? ""}`);
  }), append(d2, gt2), pop({ get stockNames() {
    return _2();
  }, set stockNames(d3 = []) {
    _2(d3), flush_sync();
  }, get stockReturns() {
    return O2();
  }, set stockReturns(d3 = []) {
    O2(d3), flush_sync();
  }, get positionSizes() {
    return $2();
  }, set positionSizes(d3 = []) {
    $2(d3), flush_sync();
  }, get purchaseDates() {
    return st2();
  }, set purchaseDates(d3 = []) {
    st2(d3), flush_sync();
  }, get title() {
    return ot2();
  }, set title(d3 = "總回報率") {
    ot2(d3), flush_sync();
  } });
}, { stockNames: {}, stockReturns: {}, positionSizes: {}, purchaseDates: {}, title: {} }, [], [], true);
var Zv = template('<div class="w-96"><!></div>'), ib = template('<div class="flex-grow"><!></div>'), hb = template('<div class="mb-12 md:mb-24"><div class="mb-12"><div class="flex items-end gap-4"><!> <!></div></div> <div class="flex gap-6 absolute right-0 top-0"><label class="label cursor-pointer"><input type="radio" name="stockReturnType" class="radio"> <span class="text-sm font-light">累計報酬</span></label> <label class="label cursor-pointer"><input type="radio" name="stockReturnType" class="radio"> <span class="text-sm font-light">即時行情</span></label> <label class="label cursor-pointer ml-4"><input type="checkbox" class="toggle toggle-sm mr-2"> <span class="text-sm font-light">隱藏股票名稱</span></label></div></div>'), db = template('<a role="tab" class="tab"> </a>'), pb = template('<div role="tablist" class="w-full flex gap-y-4 flex-wrap border border-base-300 p-2 tabs tabs-boxed bg-base-100 mb-8 rounded-2xl" tabindex="0"></div>'), fb = template('<div class="stat flex flex-col items-center"><div class="basis-1 stat-title"> </div> <div class="basis-1 stat-value text-xl"> <span class="basis-1 stat-desc"> </span></div></div>'), _b2 = template('<div class="stats shadow flex justify-center"></div>'), Ab = template('<span class="whitespace-nowrap font-bold text-base-content-200"> </span> <br>', 1), Cb = template('<div class="flex-grow text-left"><span> </span></div>'), Fb = template('<div class="text-base font-bold relative text-ellipsis overflow-hidden text-left"><div class="flex flex-nowrap items-center"><div class="mr-3 w-8 h-8 rounded-full text-white font-bold justify-center items-center flex"><!></div> <div><!> <span class="font-light text-base-content-300"> </span></div> <!></div></div>'), Bb = template('<div class="text-2xl text-base-content-200 font-bold items-center flex mb-4"><h2> </h2> <input type="checkbox" class="ml-4 toggle toggle-sm"> <span class="ml-2 text-sm font-normal">顯示買入部位</span></div> <div class="grid grid-cols-2 md:grid-cols-3 gap-4 pt-1 mt-4"></div>', 1), jb = template('<hr class="my-6 divide-x">'), Gb = template('<span class="whitespace-nowrap font-bold text-base-content-300"> </span> <br>', 1), ty = template('<div class="font-bold relative text-ellipsis overflow-hidden text-left"><div class="flex flex-nowrap items-center"><div class="mr-3 w-8 h-8 rounded-full text-white font-bold justify-center items-center flex"><!></div> <div><!> <span class="font-light text-base-content-200"> </span></div></div></div>'), ey = template('<h2 class="text-2xl font-bold flex items-center mb-4"> </h2> <div class="grid grid-cols-2 md:grid-cols-3 gap-4 pt-1 mb-4"></div>', 1), iy = template('<div class="md:rounded-2xl h-full border bg-base-100 p-4 sm:p-8 mb-4"><!> <!> <!></div>'), sy = template('<h2 class="text-2xl text-base-content-200 font-bold mb-2 text-left">當前部位</h2>'), ny = template('<span class="whitespace-nowrap font-bold text-base-content-300"> </span> <br>', 1), ry = template('<div slot="name" class="text-base font-bold relative text-ellipsis overflow-hidden text-left cursor-pointer"><div class="flex flex-nowrap items-center"><div class="mr-3 w-8 h-8 rounded-full text-white font-bold justify-center items-center flex"> </div> <div><!> <span class="font-light text-base-content-200"> </span></div></div></div>'), oy = template('<div slot="profit"><span> </span><br> <span class="text-sm text-base-content/80"> </span></div>'), ay = template('<div slot="entryDate"><span class="lining-nums svelte-1nx0ef2"> </span><br> <!> <span class="text-sm text-base-content/80"> </span><br></div>'), ly = template('<div slot="currentWeight" class="lining-nums svelte-1nx0ef2"><span> </span></div>'), cy = template('<div slot="nextWeight" class="lining-nums svelte-1nx0ef2"><span> </span></div>'), hy = template(' <br> <progress class="progress progress-primary w-32" max="1"></progress>', 1), uy = template('<div slot="RSV" class="text-base-content-100"><!></div>'), dy = template('<div class="card min-h-[320px] flex items-center justify-center"><p>目前沒有持股喔！</p></div>'), py = template('<!> <div class="card bg-base-100 border border-base-300 h-full mb-4 p-4 sm:p-8 relative"><!> <!></div>', 1), fy = template('<div class="text-base-content w-full text-left relative"><!> <!> <!> <!></div>');
const gy = { hash: "svelte-1nx0ef2", code: ".lining-nums.svelte-1nx0ef2 {font-weight:600;font-size:18px;line-height:32px;}" };
function Position(d2, g2) {
  push(g2, true), append_styles(d2, gy);
  const _2 = setup_stores(), $stockStore = () => store_get(ng, "$stockStore", _2), i = (d3) => {
    const g3 = d3.replaceAll(".", "_");
    return Xd[g3] ? Xd[g3]() : g3;
  };
  let O2 = prop(g2, "reportPosition", 7), $2 = prop(g2, "lang", 7);
  let st2 = state(false), ot2 = state("");
  function deepConvertMapToObj(d3) {
    const g3 = {};
    for (const [_3, O3] of d3.entries()) g3[_3] = O3;
    return g3.action && (g3.action = deepConvertMapToObj(g3.action)), g3;
  }
  function formatPositionConfig(d3) {
    null !== d3 && (d3.created = new Date(d3.created), d3.scheduled = new Date(d3.scheduled));
  }
  function formatPositions(d3) {
    d3.forEach((d4) => {
      d4 instanceof Map && (d4 = deepConvertMapToObj(d4)), d4.entryDate = new Date(d4.entryDate), d4.exitDate = new Date(d4.exitDate), d4.entrySigDate = new Date(d4.entrySigDate), d4.exitSigDate = new Date(d4.exitSigDate), d4.action && (d4.action.date = new Date(d4.action.date)), isValidPosition(d4) || console.log("Invalid position:", d4);
    });
  }
  function removeOlderEntries(d3) {
    const g3 = {};
    return d3.forEach((d4) => {
      const _3 = d4.assetId;
      (!g3[_3] || new Date(d4.entrySigDate) > new Date(g3[_3].entrySigDate)) && (g3[_3] = d4);
    }), Object.values(g3);
  }
  user_effect(() => {
    "" === get(ot2) && isMultiStrategy() && set$1(ot2, proxy(get(gt2)[0]));
  });
  let isMultiStrategy = () => {
    let d3 = false;
    return O2() && (d3 = !("positionConfig" in O2())), d3;
  }, lt2 = derived(() => {
    let d3 = null;
    if (isMultiStrategy()) {
      let g3 = get(ot2);
      "" != g3 && g3 in O2() || (g3 = Object.keys(O2())[0]), d3 = O2()[g3];
    } else d3 = O2();
    return d3 && d3.positions ? (formatPositions(d3.positions), d3 = removeOlderEntries(d3.positions), d3 = d3.sort((d4, g3) => {
      var _a3, _b3, _c3, _d3, _e4, _f2, _g2, _h2;
      return "entry" === ((_a3 = d4.action) == null ? void 0 : _a3.type) && "entry" !== ((_b3 = g3.action) == null ? void 0 : _b3.type) ? -1 : "entry" !== ((_c3 = d4.action) == null ? void 0 : _c3.type) && "entry" === ((_d3 = g3.action) == null ? void 0 : _d3.type) ? 1 : "exit" === ((_e4 = d4.action) == null ? void 0 : _e4.type) && "exit" !== ((_f2 = g3.action) == null ? void 0 : _f2.type) ? -1 : "exit" !== ((_g2 = d4.action) == null ? void 0 : _g2.type) && "exit" === ((_h2 = g3.action) == null ? void 0 : _h2.type) ? 1 : g3.entryDate.getTime() - d4.entryDate.getTime();
    }), d3) : [];
  }), ct2 = derived(() => {
    let d3 = [];
    if (isMultiStrategy()) for (const [g3, _3] of Object.entries(O2())) {
      const g4 = removeOlderEntries(_3.positions);
      for (let O3 = 0; O3 < g4.length; O3++) {
        const $3 = d3.findIndex((d4) => d4.assetName === g4[O3].assetName), st3 = g4[O3].currentWeight * _3.positionConfig.weight;
        if (0 !== st3) if (-1 === $3) d3.push({ assetName: g4[O3].assetName, assetId: g4[O3].assetId, currentWeight: st3, profit: g4[O3].profit });
        else {
          const ot3 = d3[$3].currentWeight;
          d3[$3].profit = (ot3 * d3[$3].profit + st3 * g4[O3].profit) / (ot3 + st3), d3[$3].currentWeight += g4[O3].currentWeight * _3.positionConfig.weight;
        }
      }
    }
    else d3 = get(lt2).filter((d4) => 0 !== d4.currentWeight);
    return d3;
  }), ut2 = derived(() => {
    var _a3, _b3;
    if (isMultiStrategy()) {
      let d3 = get(ot2);
      return "" == d3 && (d3 = Object.keys(O2())[0]), O2()[d3] && formatPositionConfig(O2()[d3].positionConfig), ((_a3 = O2()[d3]) == null ? void 0 : _a3.positionConfig) || {};
    }
    return formatPositionConfig(O2().positionConfig), ((_b3 = O2()) == null ? void 0 : _b3.positionConfig) || {};
  });
  user_effect(() => {
    get(lt2) && sendMessage();
  });
  let gt2 = derived(() => {
    let d3 = null;
    return d3 = isMultiStrategy() ? Object.keys(O2()).sort((d4, g3) => d4.localeCompare(g3)) : [], d3;
  });
  function getTextOrOriginalName(d3) {
    try {
      return Xd[d3]();
    } catch (g3) {
      return console.log("Error for translation", d3), console.log(g3), d3;
    }
  }
  onMount(() => qv.start()), onDestroy(() => {
    Zt2(), qv.stop();
  });
  const mt2 = { resample: { formatter: (d3) => {
    try {
      return Xd["position_resampleValue_" + d3]();
    } catch (g3) {
      return console.log("Error in positionConfigInfo.resample.formatter"), console.log(g3), console.log("position.resampleValue." + d3), d3;
    }
  }, unit: "" }, scheduled: { formatter: (d3) => get(ut2).isDailyStrategy ? d3 == null ? void 0 : d3.toLocaleDateString() : d3 == null ? void 0 : d3.toLocaleString(), unit: "" }, entryTradePrice: { formatter: (d3) => getTextOrOriginalName(`position_${d3}`) || d3, unit: "進場" }, exitTradePrice: { formatter: (d3) => getTextOrOriginalName(`position_${d3}`) || d3, unit: "出場" }, sl: { shown: (d3) => 1 != d3, formatter: (d3) => 100 !== d3 ? -(100 * d3).toFixed() : "無", unit: "%" }, tp: { shown: (d3) => d3 < 1e5, formatter: (d3) => "+" + (100 * d3).toFixed(), unit: "%" }, ts: { shown: (d3) => d3 < 1e5, formatter: (d3) => "+" + (100 * d3).toFixed(), unit: "%" } };
  let bt2 = derived(() => get(lt2).filter((d3) => "hold" == d3.action.type || "exit" == d3.action.type)), yt2 = derived(() => 0 !== get(St2).length || 0 !== get(At2).length ? [{ key: "name", name: i("position.assetName"), sort: false, width: "160px" }, { key: "profit", name: i("position.profit"), sort: true, width: "160px" }, { key: "entryDate", name: i("position.entryDate"), sort: true, width: "180px" }, { key: "currentWeight", name: i("position.currentWeight"), sort: true, width: "160px" }, { key: "nextWeight", name: i("position.nextWeight"), sort: true, width: "160px" }, { key: "RSV", name: i("position.RSV"), sort: false, width: "240px" }] : [{ key: "name", name: i("position.assetName"), sort: false, width: "160px" }, { key: "profit", name: i("position.profit"), sort: true, width: "160px" }, { key: "entryDate", name: i("position.entryDate"), sort: true, width: "180px" }, { key: "currentWeight", name: i("position.currentWeight"), sort: true, width: "160px" }, { key: "RSV", name: i("position.RSV"), sort: false, width: "240px" }]);
  const wt2 = /* @__PURE__ */ new Date();
  function marketCloseAtTimestamp(d3 = null) {
    !d3 || d3 instanceof Date || (d3 = new Date(d3)), d3 || (d3 = /* @__PURE__ */ new Date());
    const g3 = d3.getTime() + 6e4 * d3.getTimezoneOffset(), _3 = new Date(g3 + 288e5);
    return _3.setHours(15, 0, 0, 0), _3;
  }
  let Pt2, At2 = derived(() => get(lt2).filter((d3) => {
    var _a3, _b3, _c3;
    return d3.exitSigDate >= new Date(get(ut2).lastTimestamp) && wt2 > marketCloseAtTimestamp(d3.exitSigDate) && (0 === d3.nextWeight || "exit" === ((_a3 = d3.action) == null ? void 0 : _a3.type) && ("tp" === ((_b3 = d3.action) == null ? void 0 : _b3.reason) || "sl" === ((_c3 = d3.action) == null ? void 0 : _c3.reason))) || function isTpSlEnterBeforeRebalance(d4) {
      var _a4, _b4;
      return ("tp_enter" === ((_a4 = d4.action) == null ? void 0 : _a4.reason) || "sl_enter" === ((_b4 = d4.action) == null ? void 0 : _b4.reason)) && 0 !== d4.currentWeight && get(ut2).scheduled && wt2 < marketCloseAtTimestamp(get(ut2).scheduled);
    }(d3);
  })), St2 = derived(() => get(lt2).filter((d3) => d3.entrySigDate >= new Date(get(ut2).lastTimestamp) && wt2 > marketCloseAtTimestamp(d3.entrySigDate) && 0 !== d3.nextWeight || function isTpSlEnterAfterRebalance(d4) {
    var _a3, _b3;
    return ("tp_enter" === ((_a3 = d4.action) == null ? void 0 : _a3.reason) || "sl_enter" === ((_b3 = d4.action) == null ? void 0 : _b3.reason)) && 0 === d4.currentWeight && get(ut2).scheduled && wt2 >= marketCloseAtTimestamp(get(ut2).scheduled);
  }(d3))), Mt2 = state(false);
  function handleCloseStockBlock() {
    localStorage.setItem("strategyAnalyticTab", "position"), sendMessage();
  }
  let Vt2 = "選股";
  async function sendMessage(d3) {
    await tick();
    let g3 = Pt2.scrollHeight + 120, _3 = d3 ? d3.assetId : "";
    window.parent.postMessage({ frameHeight: g3, tab: Vt2 + " " + _3 }, "*");
  }
  const onStockClick = (d3) => {
    d3 = d3.detail, localStorage.setItem("strategyAnalyticTab", "position"), sendMessage(d3), null === $stockStore() || $stockStore().assetId !== d3.assetId ? ng.set(d3) : ng.set(null);
  };
  let Ot2 = state("cumulative");
  function selectStockReturnType(d3) {
    set$1(Ot2, proxy(d3)), "cumulative" === d3 ? qv.stop() : qv.start();
  }
  let zt2 = derived(() => "cumulative" === get(Ot2) ? get(ct2).map((d3) => d3.profit == d3.profit ? d3.profit : 0) : get(ct2).map((d3) => function obtainRealtimeData(d4) {
    if (get(Bt2)[d4]) return get(Bt2)[d4];
    return { c: 0, h: 0, l: 0, o: 0, p: 0, r: 0, v: 0 };
  }(d3.assetId).r / 100)), Bt2 = state(proxy({}));
  const Zt2 = qv.subscribe((d3) => set$1(Bt2, proxy(d3)));
  var ce2 = fy(), ue2 = child(ce2), consequent = (d3) => {
    var g3 = hb(), _3 = child(g3), O3 = child(_3), $3 = child(O3);
    key_block($3, () => [get(ct2), get(Ot2), get(st2)], (d4) => {
      var g4 = Zv(), _4 = child(g4), O4 = derived(() => get(ct2).map((d5) => get(st2) ? "* * * * *" : d5.assetName)), $4 = derived(() => get(ct2).map((d5) => d5.currentWeight)), ot4 = derived(() => "cumulative" === get(Ot2) ? "累計報酬" : "即時行情");
      PieChart(_4, { get stockNames() {
        return get(O4);
      }, get stockReturns() {
        return get(zt2);
      }, get positionSizes() {
        return get($4);
      }, get title() {
        return get(ot4);
      } }), reset(g4), append(d4, g4);
    }), key_block(sibling($3, 2), () => [get(ct2), get(Ot2), get(st2)], (d4) => {
      var g4 = ib(), _4 = child(g4), O4 = derived(() => get(ct2).map((d5) => get(st2) ? "* * * * *" : d5.assetName)), $4 = derived(() => get(ct2).map((d5) => d5.currentWeight));
      BarChart(_4, { get stockNames() {
        return get(O4);
      }, get stockReturns() {
        return get(zt2);
      }, get positionSizes() {
        return get($4);
      } }), reset(g4), append(d4, g4);
    }), reset(O3), reset(_3);
    var ot3 = sibling(_3, 2), lt3 = child(ot3), ut3 = child(lt3);
    remove_input_defaults(ut3), next(2), reset(lt3);
    var gt3 = sibling(lt3, 2), mt3 = child(gt3);
    remove_input_defaults(mt3), next(2), reset(gt3);
    var bt3 = sibling(gt3, 2), yt3 = child(bt3);
    remove_input_defaults(yt3), next(2), reset(bt3), reset(ot3), reset(g3), template_effect(() => {
      set_checked(ut3, "cumulative" === get(Ot2)), set_checked(mt3, "realtime" === get(Ot2));
    }), event("click", ut3, () => selectStockReturnType("cumulative")), event("click", mt3, () => selectStockReturnType("realtime")), bind_checked(yt3, () => get(st2), (d4) => set$1(st2, d4)), append(d3, g3);
  };
  if_block(ue2, (d3) => {
    get(zt2) && get(zt2).length > 0 && d3(consequent);
  });
  var de2 = sibling(ue2, 2), consequent_1 = (d3) => {
    var g3 = pb();
    each$1(g3, 21, () => get(gt2), index$1, (d4, g4) => {
      var _3 = db(), O3 = child(_3, true);
      reset(_3), template_effect(() => {
        toggle_class(_3, "tab-active", get(g4) === get(ot2)), set_text(O3, get(g4));
      }), event("click", _3, () => {
        set$1(ot2, proxy(get(g4)));
      }), append(d4, _3);
    }), reset(g3), append(d3, g3);
  };
  if_block(de2, (d3) => {
    get(gt2).length > 1 && d3(consequent_1);
  });
  var pe2 = sibling(de2, 2), consequent_3 = (d3) => {
    var g3 = _b2();
    each$1(g3, 21, () => Object.entries(mt2), index$1, (d4, g4) => {
      let key = () => get(g4)[0], val = () => get(g4)[1];
      var _3 = comment(), O3 = first_child(_3), consequent_2 = (d5) => {
        var g5 = fb(), _4 = child(g5), O4 = child(_4, true);
        template_effect(() => set_text(O4, Xd["position_" + key()]())), reset(_4);
        var $3 = sibling(_4, 2), st3 = child($3);
        template_effect(() => set_text(st3, `${val().formatter(get(ut2)[key()]) ?? ""} `));
        var ot3 = sibling(st3), lt3 = child(ot3, true);
        reset(ot3), reset($3), reset(g5), template_effect(() => set_text(lt3, val().unit)), append(d5, g5);
      };
      if_block(O3, (d5) => {
        "shown" in val() && !val().shown(get(ut2)[key()]) || d5(consequent_2);
      }), append(d4, _3);
    }), reset(g3), append(d3, g3);
  };
  if_block(pe2, (d3) => {
    get(ut2) && d3(consequent_3);
  });
  var fe2 = sibling(pe2, 2), consequent_18 = (d3) => {
    var g3 = py(), _3 = first_child(g3), consequent_12 = (d4) => {
      var g4 = iy(), _4 = child(g4), consequent_7 = (d5) => {
        var g5 = Bb(), _5 = first_child(g5), O5 = child(_5), $5 = child(O5);
        reset(O5);
        var st4 = sibling(O5, 2);
        remove_input_defaults(st4), next(2), reset(_5);
        var ot3 = sibling(_5, 2);
        each$1(ot3, 21, () => get(St2), index$1, (d6, g6) => {
          var _6 = Fb(), O6 = child(_6), $6 = child(O6);
          const st5 = derived(() => `background: ${charToHex(get(g6).assetName[0]) ?? ""}`);
          var ot4 = child($6), consequent_4 = (d7) => {
            var _7 = text();
            template_effect(() => set_text(_7, get(g6).assetName[0])), append(d7, _7);
          };
          if_block(ot4, (d7) => {
            get(g6).assetName && d7(consequent_4);
          }), reset($6);
          var lt3 = sibling($6, 2), ct3 = child(lt3), consequent_5 = (d7) => {
            var _7 = Ab(), O7 = first_child(_7), $7 = child(O7, true);
            reset(O7), next(2), template_effect(() => set_text($7, get(g6).assetName)), append(d7, _7);
          };
          if_block(ct3, (d7) => {
            get(g6).assetName && d7(consequent_5);
          });
          var ut3 = sibling(ct3, 2), gt3 = child(ut3, true);
          reset(ut3), reset(lt3);
          var mt3 = sibling(lt3, 2), consequent_6 = (d7) => {
            var _7 = Cb(), O7 = child(_7);
            const $7 = derived(() => `font-light lining-nums ml-4 ${signColorClass(get(g6).profit) ?? ""} svelte-1nx0ef2`);
            var st6 = child(O7);
            template_effect(() => set_text(st6, `${Math.abs(100 * get(g6).nextWeight).toFixed(1) ?? ""}%`)), reset(O7), reset(_7), template_effect(() => set_class(O7, get($7))), append(d7, _7);
          };
          if_block(mt3, (d7) => {
            get(Mt2) && d7(consequent_6);
          }), reset(O6), reset(_6), template_effect(() => {
            set_attribute($6, "style", get(st5)), set_text(gt3, get(g6).assetId);
          }), append(d6, _6);
        }), reset(ot3), template_effect(() => set_text($5, `${({ close: "收盤", open: "開盤" }[get(ut2).entryTradePrice] || "盤中") ?? ""}買入`)), bind_checked(st4, () => get(Mt2), (d6) => set$1(Mt2, d6)), append(d5, g5);
      };
      if_block(_4, (d5) => {
        0 !== get(St2).length && d5(consequent_7);
      });
      var O4 = sibling(_4, 2), consequent_8 = (d5) => {
        append(d5, jb());
      };
      if_block(O4, (d5) => {
        0 !== get(St2).length && 0 !== get(At2).length && d5(consequent_8);
      });
      var $4 = sibling(O4, 2), consequent_11 = (d5) => {
        var g5 = ey(), _5 = first_child(g5), O5 = child(_5);
        reset(_5);
        var $5 = sibling(_5, 2);
        each$1($5, 21, () => get(At2), index$1, (d6, g6) => {
          var _6 = ty(), O6 = child(_6), $6 = child(O6);
          const st4 = derived(() => `background: ${charToHex(get(g6).assetName[0]) ?? ""}`);
          var ot3 = child($6), consequent_9 = (d7) => {
            var _7 = text();
            template_effect(() => set_text(_7, get(g6).assetName[0])), append(d7, _7);
          };
          if_block(ot3, (d7) => {
            get(g6).assetName && d7(consequent_9);
          }), reset($6);
          var lt3 = sibling($6, 2), ct3 = child(lt3), consequent_10 = (d7) => {
            var _7 = Gb(), O7 = first_child(_7), $7 = child(O7, true);
            reset(O7), next(2), template_effect(() => set_text($7, get(g6).assetName)), append(d7, _7);
          };
          if_block(ct3, (d7) => {
            get(g6).assetName && d7(consequent_10);
          });
          var ut3 = sibling(ct3, 2), gt3 = child(ut3, true);
          reset(ut3), reset(lt3), reset(O6), reset(_6), template_effect(() => {
            set_attribute($6, "style", get(st4)), set_text(gt3, get(g6).assetId);
          }), append(d6, _6);
        }), reset($5), template_effect(() => set_text(O5, `${({ close: "收盤", open: "開盤" }[get(ut2).entryTradePrice] || "盤中") ?? ""}賣出`)), append(d5, g5);
      };
      if_block($4, (d5) => {
        0 != get(At2).length && d5(consequent_11);
      }), reset(g4), append(d4, g4);
    };
    if_block(_3, (d4) => {
      0 === get(At2).length && 0 === get(St2).length || d4(consequent_12);
    });
    var O3 = sibling(_3, 2), $3 = child(O3), consequent_13 = (d4) => {
      append(d4, sy());
    };
    if_block($3, (d4) => {
      0 === get(At2).length && 0 === get(St2).length || d4(consequent_13);
    });
    var st3 = sibling($3, 2), consequent_17 = (d4) => {
      PositionDataTable(d4, { get rows() {
        return get(bt2);
      }, get columns() {
        return get(yt2);
      }, $$events: { close: handleCloseStockBlock, click: onStockClick }, $$slots: { name: (d5, g4) => {
        var _4 = ry();
        const O4 = derived(() => g4.row);
        var $4 = child(_4), st4 = child($4);
        const ot3 = derived(() => `background: ${charToHex(get(O4).assetName[0]) ?? ""}`);
        var lt3 = child(st4, true);
        reset(st4);
        var ct3 = sibling(st4, 2), ut3 = child(ct3), consequent_14 = (d6) => {
          var g5 = ny(), _5 = first_child(g5), $5 = child(_5, true);
          reset(_5), next(2), template_effect(() => set_text($5, get(O4).assetName ? get(O4).assetName : "")), append(d6, g5);
        };
        if_block(ut3, (d6) => {
          get(O4).assetName && d6(consequent_14);
        });
        var gt3 = sibling(ut3, 2), mt3 = child(gt3, true);
        reset(gt3), reset(ct3), reset($4), reset(_4), template_effect(() => {
          set_attribute(st4, "style", get(ot3)), set_text(lt3, get(O4).assetName ? get(O4).assetName[0] : ""), set_text(mt3, get(O4).assetId);
        }), append(d5, _4);
      }, profit: (d5, g4) => {
        var _4 = oy();
        const O4 = derived(() => g4.row);
        var $4 = child(_4);
        const st4 = derived(() => `lining-nums ${signColorClass(get(O4).profit) ?? ""} svelte-1nx0ef2`), ot3 = derived(() => (get(O4).profit > 0 ? "▴ " : "▾ ") ?? ""), lt3 = derived(() => (100 * get(O4).profit).toFixed(2) ?? "");
        var ct3 = child($4);
        template_effect(() => set_text(ct3, `${get(ot3)}${get(lt3)}%`)), reset($4);
        var ut3 = sibling($4, 3), gt3 = child(ut3, true);
        template_effect(() => set_text(gt3, get(O4).currentPrice ? get(O4).currentPrice.toFixed(2) : "-")), reset(ut3), reset(_4), template_effect(() => set_class($4, get(st4))), append(d5, _4);
      }, entryDate: (d5, g4) => {
        var _4 = ay();
        const O4 = derived(() => g4.row);
        var $4 = child(_4), st4 = child($4, true);
        template_effect(() => set_text(st4, get(O4).entryDate.toLocaleDateString())), reset($4);
        var ot3 = sibling($4, 3), consequent_15 = (d6) => {
          var g5 = text();
          template_effect(() => set_text(g5, get(O4).entryDate.toLocaleTimeString())), append(d6, g5);
        };
        if_block(ot3, (d6) => {
          get(ut2).isDailyStrategy || d6(consequent_15);
        });
        var lt3 = sibling(ot3, 2), ct3 = child(lt3, true);
        template_effect(() => set_text(ct3, get(O4).entryPrice == get(O4).entryPrice ? get(O4).entryPrice.toFixed(2) : "-")), reset(lt3), next(), reset(_4), append(d5, _4);
      }, currentWeight: (d5, g4) => {
        var _4 = ly();
        const O4 = derived(() => g4.row);
        var $4 = child(_4);
        const st4 = derived(() => clsx(signColorClass(get(O4).currentWeight)));
        var ot3 = child($4);
        template_effect(() => set_text(ot3, `${(100 * get(O4).currentWeight).toFixed(1) ?? ""}%`)), reset($4), reset(_4), template_effect(() => set_class($4, get(st4), "svelte-1nx0ef2")), append(d5, _4);
      }, nextWeight: (d5, g4) => {
        var _4 = cy();
        const O4 = derived(() => g4.row);
        var $4 = child(_4);
        const st4 = derived(() => clsx(signColorClass(get(O4).nextWeight)));
        var ot3 = child($4);
        template_effect(() => set_text(ot3, `${(100 * get(O4).nextWeight).toFixed(1) ?? ""}%`)), reset($4), reset(_4), template_effect(() => set_class($4, get(st4), "svelte-1nx0ef2")), append(d5, _4);
      }, RSV: (d5, g4) => {
        var _4 = uy();
        const O4 = derived(() => g4.row);
        var $4 = child(_4), consequent_16 = (d6) => {
          var g5 = hy(), _5 = first_child(g5);
          template_effect(() => set_text(_5, `${(100 * get(O4).rsv20).toFixed(2) ?? ""}%`));
          var $5 = sibling(_5, 3);
          template_effect(() => function set_value(d7, g6) {
            var _6 = d7.__attributes ?? (d7.__attributes = {});
            _6.value !== (_6.value = g6 ?? void 0) && (d7.value !== g6 || 0 === g6 && "PROGRESS" === d7.nodeName) && (d7.value = g6);
          }($5, get(O4).rsv20)), append(d6, g5);
        }, alternate = (d6) => {
          append(d6, text("-"));
        };
        if_block($4, (d6) => {
          isFinite(get(O4).rsv20) ? d6(consequent_16) : d6(alternate, false);
        }), reset(_4), append(d5, _4);
      } } });
    }, alternate_1 = (d4) => {
      append(d4, dy());
    };
    if_block(st3, (d4) => {
      get(bt2) && get(bt2).length > 0 ? d4(consequent_17) : d4(alternate_1, false);
    }), reset(O3), append(d3, g3);
  };
  return if_block(fe2, (d3) => {
    get(ut2) && d3(consequent_18);
  }), reset(ce2), bind_this(ce2, (d3) => Pt2 = d3, () => Pt2), append(d2, ce2), pop({ get reportPosition() {
    return O2();
  }, set reportPosition(d3) {
    O2(d3), flush_sync();
  }, get lang() {
    return $2();
  }, set lang(d3) {
    $2(d3), flush_sync();
  } });
}
create_custom_element(Position, { reportPosition: {}, lang: {} }, [], [], true);
!function(d2, g2) {
  function themeToggle() {
    var d3 = document.querySelector("[data-toggle-theme]"), g3 = d3 ? d3.getAttribute("data-key") : null;
    !function(_2 = localStorage.getItem(g3 || "theme")) {
      localStorage.getItem(g3 || "theme") && (document.documentElement.setAttribute("data-theme", _2), d3 && [...document.querySelectorAll("[data-toggle-theme]")].forEach((g4) => {
        g4.classList.add(d3.getAttribute("data-act-class"));
      }));
    }(), d3 && [...document.querySelectorAll("[data-toggle-theme]")].forEach((d4) => {
      d4.addEventListener("click", function() {
        var _2 = d4.getAttribute("data-toggle-theme");
        if (_2) {
          var O2 = _2.split(",");
          document.documentElement.getAttribute("data-theme") == O2[0] ? 1 == O2.length ? (document.documentElement.removeAttribute("data-theme"), localStorage.removeItem(g3 || "theme")) : (document.documentElement.setAttribute("data-theme", O2[1]), localStorage.setItem(g3 || "theme", O2[1])) : (document.documentElement.setAttribute("data-theme", O2[0]), localStorage.setItem(g3 || "theme", O2[0]));
        }
        [...document.querySelectorAll("[data-toggle-theme]")].forEach((d5) => {
          d5.classList.toggle(this.getAttribute("data-act-class"));
        });
      });
    });
  }
  function themeBtn() {
    var d3 = document.querySelector("[data-set-theme='']"), g3 = d3 ? d3.getAttribute("data-key") : null;
    !function(d4 = localStorage.getItem(g3 || "theme")) {
      var _2;
      null != d4 && "" != d4 && (localStorage.getItem(g3 || "theme") && "" != localStorage.getItem(g3 || "theme") ? (document.documentElement.setAttribute("data-theme", d4), (_2 = document.querySelector("[data-set-theme='" + d4.toString() + "']")) && ([...document.querySelectorAll("[data-set-theme]")].forEach((d5) => {
        d5.classList.remove(d5.getAttribute("data-act-class"));
      }), _2.getAttribute("data-act-class") && _2.classList.add(_2.getAttribute("data-act-class")))) : (_2 = document.querySelector("[data-set-theme='']")).getAttribute("data-act-class") && _2.classList.add(_2.getAttribute("data-act-class")));
    }(), [...document.querySelectorAll("[data-set-theme]")].forEach((d4) => {
      d4.addEventListener("click", function() {
        document.documentElement.setAttribute("data-theme", this.getAttribute("data-set-theme")), localStorage.setItem(g3 || "theme", document.documentElement.getAttribute("data-theme")), [...document.querySelectorAll("[data-set-theme]")].forEach((d5) => {
          d5.classList.remove(d5.getAttribute("data-act-class"));
        }), d4.getAttribute("data-act-class") && d4.classList.add(d4.getAttribute("data-act-class"));
      });
    });
  }
  function themeSelect() {
    var d3 = document.querySelector("select[data-choose-theme]"), g3 = d3 ? d3.getAttribute("data-key") : null;
    !function(d4 = localStorage.getItem(g3 || "theme")) {
      localStorage.getItem(g3 || "theme") && (document.documentElement.setAttribute("data-theme", d4), document.querySelector("select[data-choose-theme] [value='" + d4.toString() + "']") && [...document.querySelectorAll("select[data-choose-theme] [value='" + d4.toString() + "']")].forEach((d5) => {
        d5.selected = true;
      }));
    }(), d3 && [...document.querySelectorAll("select[data-choose-theme]")].forEach((d4) => {
      d4.addEventListener("change", function() {
        document.documentElement.setAttribute("data-theme", this.value), localStorage.setItem(g3 || "theme", document.documentElement.getAttribute("data-theme")), [...document.querySelectorAll("select[data-choose-theme] [value='" + localStorage.getItem(g3 || "theme") + "']")].forEach((d5) => {
          d5.selected = true;
        });
      });
    });
  }
  d2.exports = { themeChange: function themeChange(d3 = true) {
    true === d3 ? document.addEventListener("DOMContentLoaded", function(d4) {
      themeToggle(), themeSelect(), themeBtn();
    }) : (themeToggle(), themeSelect(), themeBtn());
  } };
}({ exports: {} }), new TextEncoder();
var _y = template('<div class="w-8 flex justify-center"><div class="w-6 h-9"><!></div></div> <div><span class="text-base-content-300 font-bold -mt-2">玄武</span></div>', 1), my = template('<a role="tab" tabindex="1" class="rounded-none w-1/2 rounded-none flex items-center h-12 justify-center text-base-content cursor-pointer select-none"> </a>'), vy = template('<div class="sticky top-0 z-[21] backdrop-blur-lg text-left"><div class="flex gap-4 h-20 items-center"><div style="margin-left: -4px" class="flex items-end flex-1 -mt-2 text-base-content"><!></div> <div class="flex-1 w-full rounded-lg"><div role="tablist" class="tabs tabs-lg tabs-border w-full border border-primary rounded-xl overflow-hidden"></div></div> <div class="flex-1 text-right text-base-content-200 flex items-center justify-end"><label class="swap swap-rotate"><input type="checkbox"> <svg class="swap-on h-6 w-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"></path></svg> <svg class="swap-off h-6 w-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"></path></svg></label></div></div></div>'), by = template('<div class="mask mask-star-2 bg-primary"></div>'), yy = template('<div class="absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-0 h-0\n										border-l-[12px] border-l-transparent\n										border-t-[12px] border-t-primary\n										border-r-[12px] border-r-transparent\n										hidden @md:block"></div>'), wy = template('<button><div class="flex flex-col items-center"><div class="mb-1"><!></div> <div class="mb-1.5 break-keep"><span class="font-light"> </span></div> <div><div class="rating rating-xs"></div></div></div> <!></button>'), xy = template('<div class="w-8 h-8 text-accent"><!></div>'), Ty = template('<div class="w-8 h-8 text-secondary"><!></div>'), Ey = template('<div class="flex flex-col items-center border-base-content/5 cursor-pointer transition-all duration-200 p-2 rounded-md hover:bg-base-200"><div class="mb-3 @md:md:break-all"><!></div> <div class="text-sm font-light"> </div> <div class="text-3xl font-extralight whitespace-nowrap"><span> </span> <span class="text-sm"> </span></div> <div class="stat-desc"></div></div>'), Py = template('<div class="card bg-base-100 text-base-content-300"><div class="card-body"><h3 class="font-bold text-lg"> </h3> <p> </p> <h3 class="font-bold text-lg mt-4"> </h3> <p> </p></div></div>'), Iy = template('<div class="@container"><div class="my-3 grid grid-cols-2 @md:mx-12 @md:grid-cols-5 justify-center gap-2 @md:gap-1"></div> <div class="overflow-x-auto border-t border-primary/50 rounded-4xl"><div class="min-w-xl grid grid-cols-5 w-full rounded-lg pt-3 shadow shadow-2xl shadow-primary/5"></div> <!></div> <div class="pb-6 mt-24"><!></div></div>'), Ay = template('<div class="pb-4 mt-12"><!></div>'), Ry = template("<div><!> <div></div> <!></div>");
function StrategyAnalytic(d2, g2) {
  push(g2, true);
  let _2 = prop(g2, "report", 7), O2 = prop(g2, "lang", 7), $2 = prop(g2, "theme", 7), st2 = prop(g2, "browser", 7), ot2 = prop(g2, "reportPosition", 7), lt2 = prop(g2, "webcomponent", 7);
  const ct2 = new MetricDisplay();
  let ut2, gt2, mt2 = state(proxy("position" === localStorage.getItem("strategyAnalyticTab") ? "profitability" : localStorage.getItem("strategyAnalyticTab") || "profitability")), bt2 = derived(() => _2() ? calculateScores(_2().metrics) : {}), yt2 = ["分析", "選股"], wt2 = state("分析");
  async function sendMessage() {
    await tick(), await new Promise((d4) => setTimeout(d4, 500));
    let d3 = ut2.scrollHeight;
    window.parent.postMessage({ frameHeight: d3, tab: get(wt2) + " " + get(mt2) }, "*");
  }
  onMount(async () => {
    lt2() && await sendMessage();
  });
  let Pt2 = state(null);
  const At2 = { profitability: Dollar_sign, risk: Activity, ratio: Percent, winrate: Chart_no_axes_column, liquidity: Chart_line, all: Chart_no_axes_column_increasing };
  var St2 = Ry(), Mt2 = child(St2), consequent_1 = (d3) => {
    var g3 = vy(), _3 = child(g3), O3 = child(_3), st3 = child(O3), consequent = (d4) => {
      var g4 = _y(), _4 = first_child(g4), O4 = child(_4);
      html(child(O4), () => '<svg\n	xmlns="http://www.w3.org/2000/svg"\n	version="1.0"\n	viewBox="0 0 248.000000 348.000000"\n	preserveAspectRatio="xMidYMid meet"\n>\n	<g\n		transform="translate(0.000000,348.000000) scale(0.100000,-0.100000)"\n		stroke="none"\n		fill="currentColor"\n	>\n		<path\n			d="M1453 3192 c-74 -27 -119 -60 -157 -117 -62 -94 -71 -189 -26 -293 55 -128 216 -208 347 -172 184 51 286 262 203 423 -72 139 -230 208 -367 159z"\n		/>\n		<path\n			d="M1045 2575 c-47 -25 -64 -45 -76 -86 -17 -54 -4 -104 36 -144 87 -86 229 -35 242 88 5 49 -18 100 -58 130 -37 26 -106 32 -144 12z"\n		/>\n		<path\n			d="M1146 2123 l-29 -5 7 -146 c3 -81 11 -184 16 -230 l9 -82 -367 -553 c-420 -630 -467 -705 -457 -715 3 -4 454 -8 1001 -10 823 -2 994 0 994 11 0 22 -113 210 -454 757 l-327 525 5 75 c4 41 9 141 13 221 l6 146 -39 6 c-42 7 -330 7 -378 0z m327 -723 c268 -427 477 -771 477 -786 0 -16 -543 -27 -933 -18 l-316 7 16 31 c26 49 472 727 510 774 l35 43 91 -3 92 -3 28 -45z"\n		/>\n		<path\n			d="M1163 1058 c-54 -59 -213 -303 -213 -326 0 -9 91 -12 353 -12 347 0 397 3 397 22 0 24 -170 258 -188 258 -8 0 -37 -20 -64 -45 -28 -25 -56 -45 -64 -45 -8 0 -54 38 -103 85 -50 47 -92 85 -94 85 -2 0 -13 -10 -24 -22z"\n		/>\n	</g>\n</svg>'), reset(O4), reset(_4), next(2), append(d4, g4);
    };
    if_block(st3, (d4) => {
      d4(consequent);
    }), reset(O3);
    var ot3 = sibling(O3, 2), lt3 = child(ot3);
    each$1(lt3, 21, () => yt2, index$1, (d4, g4) => {
      var _4 = my(), O4 = child(_4, true);
      reset(_4), template_effect(() => {
        toggle_class(_4, "bg-primary", get(wt2) === get(g4)), toggle_class(_4, "opacity-70", get(wt2) === get(g4)), toggle_class(_4, "text-primary-content", get(wt2) === get(g4)), set_text(O4, get(g4));
      }), event("click", _4, () => {
        set$1(wt2, proxy(get(g4))), void 0 !== window && window.scrollY > gt2.offsetTop && window.scrollTo(0, gt2.offsetTop), sendMessage();
      }), append(d4, _4);
    }), reset(lt3), reset(ot3);
    var ct3 = sibling(ot3, 2), ut3 = child(ct3), mt3 = child(ut3);
    next(4), reset(ut3), reset(ct3), reset(_3), reset(g3), event("click", mt3, () => {
      const d4 = "dark" === document.documentElement.getAttribute("data-theme") ? "light" : "dark";
      localStorage.setItem("theme", d4), $2(d4), document.documentElement.setAttribute("data-theme", d4);
    }), append(d3, g3);
  };
  if_block(Mt2, (d3) => {
    lt2() && d3(consequent_1);
  });
  var Vt2 = sibling(Mt2, 2);
  bind_this(Vt2, (d3) => gt2 = d3, () => gt2);
  var Ot2 = sibling(Vt2, 2), consequent_13 = (d3) => {
    var g3 = comment(), ot3 = first_child(g3), consequent_12 = (d4) => {
      var g4 = Iy(), ot4 = child(g4);
      each$1(ot4, 21, () => Object.entries(_2().metrics).filter((d5) => "backtest" !== d5[0]), index$1, (d5, g5) => {
        let key = () => get(g5)[0];
        var _3 = wy(), O3 = child(_3), $3 = child(O3), st3 = child($3), consequent_2 = (d6) => {
          var g6 = comment();
          component(first_child(g6), () => At2[key()], (d7, g7) => {
            g7(d7, { size: 18 });
          }), append(d6, g6);
        };
        if_block(st3, (d6) => {
          At2[key()] && d6(consequent_2);
        }), reset($3);
        var ot5 = sibling($3, 2), lt4 = child(ot5), ct3 = child(lt4, true);
        template_effect(() => set_text(ct3, Xd[`tabs_${key()}`]())), reset(lt4), reset(ot5);
        var ut4 = sibling(ot5, 2), gt4 = child(ut4);
        each$1(gt4, 20, () => Array.from({ length: 5 }), index$1, (d6, g6, _4) => {
          var O4 = by();
          set_attribute(O4, "aria-label", `${_4 + 1} star`), template_effect(() => set_attribute(O4, "aria-current", 0.2 * _4 < get(bt2)[key()] && 0.2 * _4 + 0.2 >= get(bt2)[key()] ? "true" : void 0)), append(d6, O4);
        }), reset(gt4), reset(ut4), reset(O3);
        var yt4 = sibling(O3, 2), consequent_3 = (d6) => {
          append(d6, yy());
        };
        if_block(yt4, (d6) => {
          get(mt2) === key() && d6(consequent_3);
        }), reset(_3), template_effect(() => set_class(_3, `cursor-pointer border border-base-content/5 @md:border-none py-1.5 md:py-1.5 @lg:py-3 @2xl:py-3 px-1.5 @lg:px-3 @2xl:px-8 rounded-lg transition-all duration-300 ${get(mt2) === key() ? "bg-primary/30 outline outline-primary" : "hover:bg-base-100"} relative`)), event("click", _3, () => {
          set$1(Pt2, null), set$1(mt2, proxy(key())), localStorage.setItem("strategyAnalyticTab", key()), sendMessage();
        }), append(d5, _3);
      }), reset(ot4);
      var lt3 = sibling(ot4, 2), ut3 = child(lt3);
      each$1(ut3, 21, () => Object.entries(_2().metrics[get(mt2)]).splice(0, 5), index$1, (d5, g5, _3) => {
        let key = () => get(g5)[0], val = () => get(g5)[1];
        var O3 = comment(), $3 = first_child(O3), consequent_5 = (d6) => {
          var g6 = Ey();
          template_effect(() => set_attribute(g6, "title", Xd[`metrics_${get(mt2)}_${key()}`]()));
          var O4 = child(g6), $4 = child(O4), consequent_4 = (d7) => {
            var g7 = xy();
            html(child(g7), () => '<svg\n\n										viewBox="0 0 24 24"\n										fill="none"\n										stroke="currentColor"\n										xmlns="http://www.w3.org/2000/svg"\n										><g id="SVGRepo_bgCarrier" stroke-width="0" /><g\n											id="SVGRepo_tracerCarrier"\n											stroke-linecap="round"\n											stroke-linejoin="round"\n											\n											stroke-width="1"\n										/><g id="SVGRepo_iconCarrier">\n											<circle cx="12" cy="12" r="10"  stroke-width="1" />\n											<path\n												d="M8.5 12.5L10.5 14.5L15.5 9.5"\n												\n												stroke-width="1"\n												stroke-linecap="round"\n												stroke-linejoin="round"\n											/>\n										</g>\n									</svg>'), reset(g7), append(d7, g7);
          }, alternate = (d7) => {
            var g7 = Ty();
            html(child(g7), () => '<svg\n								\n										viewBox="0 0 24 24"\n										fill="none"\n										stroke="currentColor"\n										xmlns="http://www.w3.org/2000/svg"\n										\n										><g id="SVGRepo_bgCarrier" stroke-width="0" /><g\n											id="SVGRepo_tracerCarrier"\n											stroke-linecap="round"\n											stroke-linejoin="round"\n										/><g id="SVGRepo_iconCarrier">\n											<circle cx="12" cy="12" r="10" stroke-width="1" />\n											<path\n												d="M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5"\n												\n												stroke-width="1"\n												stroke-linecap="round"\n											/>\n										</g>\n									</svg>'), reset(g7), append(d7, g7);
          };
          if_block($4, (d7) => {
            hr[get(mt2)][key()](val()) ? d7(consequent_4) : d7(alternate, false);
          }), reset(O4);
          var st3 = sibling(O4, 2), ot5 = child(st3, true);
          template_effect(() => set_text(ot5, Xd[`metrics_${get(mt2)}_${key()}`]())), reset(st3);
          var lt4 = sibling(st3, 2), ut4 = child(lt4), gt4 = child(ut4, true);
          template_effect(() => set_text(gt4, ct2.format(key(), val()))), reset(ut4);
          var bt3 = sibling(ut4, 2), yt4 = child(bt3, true);
          template_effect(() => set_text(yt4, ct2.getUnit(key()))), reset(bt3), reset(lt4), next(2), reset(g6), template_effect(() => {
            toggle_class(g6, "border-r", 4 != _3), toggle_class(g6, "bg-base-200", get(Pt2) === key());
          }), event("click", g6, () => {
            !function toggleMetric(d7) {
              get(Pt2) === d7 ? set$1(Pt2, null) : set$1(Pt2, proxy(d7));
            }(key()), sendMessage();
          }), append(d6, g6);
        };
        if_block($3, (d6) => {
          var _a3;
          ((_a3 = hr[get(mt2)]) == null ? void 0 : _a3[key()]) && d6(consequent_5);
        }), append(d5, O3);
      }), reset(ut3);
      var gt3 = sibling(ut3, 2), consequent_6 = (d5) => {
        var g5 = Py(), _3 = child(g5), O3 = child(_3), $3 = child(O3, true);
        template_effect(() => set_text($3, Xd[`metrics_${get(mt2)}_${get(Pt2)}`]())), reset(O3);
        var st3 = sibling(O3, 2), ot5 = child(st3, true);
        template_effect(() => set_text(ot5, Xd[`metric_description_${get(mt2)}_${get(Pt2)}`]())), reset(st3);
        var lt4 = sibling(st3, 2), ct3 = child(lt4, true);
        template_effect(() => set_text(ct3, metrics_condition())), reset(lt4);
        var ut4 = sibling(lt4, 2), gt4 = child(ut4, true);
        template_effect(() => set_text(gt4, hr[get(mt2)][get(Pt2)].toString().split("=>")[1])), reset(ut4), reset(_3), reset(g5), append(d5, g5);
      };
      if_block(gt3, (d5) => {
        null !== get(Pt2) && d5(consequent_6);
      }), reset(lt3);
      var yt3 = sibling(lt3, 2), wt3 = child(yt3), consequent_7 = (d5) => {
        Profitability(d5, { get report() {
          return _2();
        }, get browser() {
          return st2();
        }, get theme() {
          return $2();
        }, get lang() {
          return O2();
        } });
      }, alternate_4 = (d5) => {
        var g5 = comment(), ot5 = first_child(g5), consequent_8 = (d6) => {
          Risk(d6, { get report() {
            return _2();
          }, get browser() {
            return st2();
          }, get theme() {
            return $2();
          }, get lang() {
            return O2();
          } });
        }, alternate_3 = (d6) => {
          var g6 = comment(), ot6 = first_child(g6), consequent_9 = (d7) => {
            Ratio(d7, { get report() {
              return _2();
            }, get browser() {
              return st2();
            }, get theme() {
              return $2();
            }, get lang() {
              return O2();
            } });
          }, alternate_2 = (d7) => {
            var g7 = comment(), ot7 = first_child(g7), consequent_10 = (d8) => {
              Winrate(d8, { get report() {
                return _2();
              }, get browser() {
                return st2();
              }, get theme() {
                return $2();
              }, get lang() {
                return O2();
              } });
            }, alternate_1 = (d8) => {
              var g8 = comment(), ot8 = first_child(g8), consequent_11 = (d9) => {
                Liquidity(d9, { get report() {
                  return _2();
                }, get browser() {
                  return st2();
                }, get theme() {
                  return $2();
                }, get lang() {
                  return O2();
                } });
              };
              if_block(ot8, (d9) => {
                "liquidity" === get(mt2) && d9(consequent_11);
              }, true), append(d8, g8);
            };
            if_block(ot7, (d8) => {
              "winrate" === get(mt2) ? d8(consequent_10) : d8(alternate_1, false);
            }, true), append(d7, g7);
          };
          if_block(ot6, (d7) => {
            "ratio" === get(mt2) ? d7(consequent_9) : d7(alternate_2, false);
          }, true), append(d6, g6);
        };
        if_block(ot5, (d6) => {
          "risk" === get(mt2) ? d6(consequent_8) : d6(alternate_3, false);
        }, true), append(d5, g5);
      };
      if_block(wt3, (d5) => {
        "profitability" === get(mt2) ? d5(consequent_7) : d5(alternate_4, false);
      }), reset(yt3), reset(g4), append(d4, g4);
    };
    if_block(ot3, (d4) => {
      _2() && d4(consequent_12);
    }), append(d3, g3);
  }, alternate_5 = (d3) => {
    var g3 = Ay();
    Position(child(g3), { get reportPosition() {
      return ot2();
    }, get lang() {
      return O2();
    } }), reset(g3), append(d3, g3);
  };
  return if_block(Ot2, (d3) => {
    "分析" === get(wt2) ? d3(consequent_13) : d3(alternate_5, false);
  }), reset(St2), bind_this(St2, (d3) => ut2 = d3, () => ut2), append(d2, St2), pop({ get report() {
    return _2();
  }, set report(d3) {
    _2(d3), flush_sync();
  }, get lang() {
    return O2();
  }, set lang(d3) {
    O2(d3), flush_sync();
  }, get theme() {
    return $2();
  }, set theme(d3) {
    $2(d3), flush_sync();
  }, get browser() {
    return st2();
  }, set browser(d3) {
    st2(d3), flush_sync();
  }, get reportPosition() {
    return ot2();
  }, set reportPosition(d3) {
    ot2(d3), flush_sync();
  }, get webcomponent() {
    return lt2();
  }, set webcomponent(d3) {
    lt2(d3), flush_sync();
  } });
}
customElements.define("strategy-analytic", create_custom_element(StrategyAnalytic, { report: { reflect: true, type: "Object" }, lang: { reflect: true, type: "String" }, theme: { reflect: true, type: "String" }, browser: { reflect: true, type: "Boolean" }, webcomponent: { reflect: true, type: "Boolean" }, reportPosition: { reflect: true, type: "Object" } }, [], [], false));
var ky = ns_template('<svg aria-hidden="true"><use></use></svg>');
function Svgicon(d2, g2) {
  push(g2, false);
  const _2 = mutable_state();
  let O2 = prop(g2, "prefix", 12, "icon"), $2 = prop(g2, "name", 12, ""), st2 = prop(g2, "color", 12, "#333"), ot2 = prop(g2, "strokeColor", 12, ""), lt2 = prop(g2, "className", 12, "");
  legacy_pre_effect(() => (deep_read_state(O2()), deep_read_state($2())), () => {
    set$1(_2, `#${O2()}-${$2()}`);
  }), legacy_pre_effect_reset();
  var ct2 = ky(), ut2 = child(ct2);
  return reset(ct2), template_effect(() => {
    !function set_svg_class(d3, g3, _3) {
      var O3 = d3.__className, $3 = to_class(g3, _3);
      Je && d3.getAttribute("class") === $3 ? d3.__className = $3 : (O3 !== $3 || Je && d3.getAttribute("class") !== $3) && ("" === $3 ? d3.removeAttribute("class") : d3.setAttribute("class", $3), d3.__className = $3);
    }(ct2, clsx(lt2()), ""), set_attribute(ut2, "href", get(_2)), set_attribute(ut2, "fill", st2()), set_attribute(ut2, "stroke", ot2());
  }), append(d2, ct2), pop({ get prefix() {
    return O2();
  }, set prefix(d3) {
    O2(d3), flush_sync();
  }, get name() {
    return $2();
  }, set name(d3) {
    $2(d3), flush_sync();
  }, get color() {
    return st2();
  }, set color(d3) {
    st2(d3), flush_sync();
  }, get strokeColor() {
    return ot2();
  }, set strokeColor(d3) {
    ot2(d3), flush_sync();
  }, get className() {
    return lt2();
  }, set className(d3) {
    lt2(d3), flush_sync();
  } });
}
create_custom_element(Svgicon, { prefix: {}, name: {}, color: {}, strokeColor: {}, className: {} }, [], [], true);
        console.log('create report')
        console.log('reportPosition', positionJson)
        const report = new Report(reportJson.timestamps, reportJson.strategy, reportJson.benchmark, reportJson.trades, reportJson.metrics)
        console.log('create report finish', report)
        report.metrics.backtest.startDate = new Date(report.metrics.backtest.startDate)
        report.metrics.backtest.endDate = new Date(report.metrics.backtest.endDate)
        report.metrics.backtest.updateDate = new Date(report.metrics.backtest.updateDate)
        report.metrics.backtest.nextTradingDate = new Date(report.metrics.backtest.nextTradingDate)
        report.metrics.backtest.livePerformanceStart = new Date(report.metrics.backtest.livePerformanceStart)


            function convertTrade(trade) {
                return Object.fromEntries(
                    Object.entries(trade).map(([key, val]) => {
                    let newkey = key;
                    let newval = val;

            switch (key) {
                case 'bmfe':
                break;
                case 'entry_date':
                newkey = 'entry';
                newval = val ? new Date(val) : null;
                break;
                case 'entry_index':
                newkey = 'entryIndex';
                break;
                case 'entry_sig_date':
                newkey = 'entrySig';
                newval = val ? new Date(val) : null;
                break;
                case 'exit_date':
                newkey = 'exit';
                newval = val ? new Date(val) : null;
                break;
                case 'exit_index':
                newkey = 'exitIndex';
                break;
                case 'exit_sig_date':
                newkey = 'exitSig';
                newval = val ? new Date(val) : null;
                break;
                case 'gmfe':
                case 'mae':
                case 'mdd':
                case 'pdays':
                case 'period':
                case 'position':
                case 'return':
                break;
                case 'stock_id':
                newkey = 'stockId';
                break;
                case 'trade_price@entry_date':
                newkey = 'entryPrice';
                break;
                case 'trade_price@exit_date':
                newkey = 'exitPrice';
                break;
            }
            return [newkey, newval];
            })
        );

        }

        let theme = 'dark'

        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            console.log('User prefers dark theme');
        } else {
            console.log('User prefers light theme or has no preference');
            theme = 'dark' // default to dark
        }
        theme = localStorage.getItem('theme') || theme

        document.documentElement.setAttribute('data-theme', theme);
        report.trades = report.trades.map(convertTrade)

        console.log(report)

        const div = document.getElementById('panel')

        const analytic = document.querySelector('strategy-analytic');
        analytic.report = report;
        analytic.reportPosition = positionJson;
        analytic.browser = true;
        analytic.theme = theme;
        analytic.lang = 'zh-tw';
        analytic.webcomponent = true;

        function updateIconColor() {
            const theme = analytic.theme
            const textColor = theme === 'light' ? 'black' : 'white';
            const elements = document.querySelectorAll('.fill-current');
            elements.forEach(element => {
                element.style.color = textColor
            });
            
        }

        updateIconColor()
  </script>
  <div id="panel" style="z-index: 2;position:relative;max-width:960px;margin: 0 auto;padding: 32px;padding-top:0;border-radius: 16px">
   <strategy-analytic>
   </strategy-analytic>
  </div>
 </body>
 <style>
  /*! tailwindcss v4.1.1 | MIT License | https://tailwindcss.com */@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-yellow-400:oklch(85.2% .199 91.936);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-emerald-400:oklch(76.5% .177 163.223);--color-cyan-300:oklch(86.5% .127 207.078);--color-cyan-400:oklch(78.9% .154 211.53);--color-cyan-500:oklch(71.5% .143 215.221);--color-blue-50:oklch(97% .014 254.604);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-indigo-100:oklch(93% .034 272.788);--color-indigo-400:oklch(67.3% .182 276.935);--color-indigo-500:oklch(58.5% .233 277.117);--color-indigo-600:oklch(51.1% .262 276.966);--color-purple-500:oklch(62.7% .265 303.9);--color-pink-500:oklch(65.6% .241 354.308);--color-rose-500:oklch(64.5% .246 16.439);--color-slate-50:oklch(98.4% .003 247.858);--color-slate-100:oklch(96.8% .007 247.896);--color-slate-400:oklch(70.4% .04 256.788);--color-slate-500:oklch(55.4% .046 257.417);--color-slate-600:oklch(44.6% .043 257.281);--color-slate-700:oklch(37.2% .044 257.287);--color-slate-800:oklch(27.9% .041 260.031);--color-slate-900:oklch(20.8% .042 265.755);--color-slate-950:oklch(12.9% .042 264.695);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-800:oklch(27.8% .033 256.848);--color-zinc-100:oklch(96.7% .001 286.375);--color-black:#000;--color-white:#fff;--spacing:.25rem;--breakpoint-sm:40rem;--breakpoint-md:48rem;--breakpoint-lg:64rem;--breakpoint-xl:80rem;--container-xs:20rem;--container-md:28rem;--container-lg:32rem;--container-xl:36rem;--container-2xl:42rem;--container-3xl:48rem;--container-4xl:56rem;--container-6xl:72rem;--container-7xl:80rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--text-5xl:3rem;--text-5xl--line-height:1;--text-6xl:3.75rem;--text-6xl--line-height:1;--text-7xl:4.5rem;--text-7xl--line-height:1;--text-8xl:6rem;--text-8xl--line-height:1;--font-weight-thin:100;--font-weight-extralight:200;--font-weight-light:300;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--font-weight-extrabold:800;--tracking-tighter:-.05em;--tracking-tight:-.025em;--tracking-wide:.025em;--tracking-wider:.05em;--leading-tight:1.25;--leading-relaxed:1.625;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--radius-4xl:2rem;--drop-shadow-xl:0 9px 7px #0000001a;--drop-shadow-2xl:0 25px 25px #00000026;--ease-out:cubic-bezier(0,0,.2,1);--animate-spin:spin 1s linear infinite;--animate-ping:ping 1s cubic-bezier(0,0,.2,1)infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-sm:8px;--blur-md:12px;--blur-lg:16px;--blur-xl:24px;--blur-2xl:40px;--blur-3xl:64px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:color-mix(in oklab,currentColor 50%,transparent)}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}:where(:root),:root:has(input.theme-controller[value=light]:checked),[data-theme=light]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(98% 0 0);--color-base-300:oklch(95% 0 0);--color-base-content:oklch(21% .006 285.885);--color-primary:oklch(45% .24 277.023);--color-primary-content:oklch(93% .034 272.788);--color-secondary:oklch(65% .241 354.308);--color-secondary-content:oklch(94% .028 342.258);--color-accent:oklch(77% .152 181.912);--color-accent-content:oklch(38% .063 188.416);--color-neutral:oklch(14% .005 285.823);--color-neutral-content:oklch(92% .004 286.32);--color-info:oklch(74% .16 232.661);--color-info-content:oklch(29% .066 243.157);--color-success:oklch(76% .177 163.223);--color-success-content:oklch(37% .077 168.94);--color-warning:oklch(82% .189 84.429);--color-warning-content:oklch(41% .112 45.904);--color-error:oklch(71% .194 13.428);--color-error-content:oklch(27% .105 12.094);--radius-selector:.5rem;--radius-field:.25rem;--radius-box:.5rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}@media (prefers-color-scheme:dark){:root{color-scheme:dark;--color-base-100:oklch(25.33% .016 252.42);--color-base-200:oklch(23.26% .014 253.1);--color-base-300:oklch(21.15% .012 254.09);--color-base-content:oklch(97.807% .029 256.847);--color-primary:oklch(58% .233 277.117);--color-primary-content:oklch(96% .018 272.314);--color-secondary:oklch(65% .241 354.308);--color-secondary-content:oklch(94% .028 342.258);--color-accent:oklch(77% .152 181.912);--color-accent-content:oklch(38% .063 188.416);--color-neutral:oklch(14% .005 285.823);--color-neutral-content:oklch(92% .004 286.32);--color-info:oklch(74% .16 232.661);--color-info-content:oklch(29% .066 243.157);--color-success:oklch(76% .177 163.223);--color-success-content:oklch(37% .077 168.94);--color-warning:oklch(82% .189 84.429);--color-warning-content:oklch(41% .112 45.904);--color-error:oklch(71% .194 13.428);--color-error-content:oklch(27% .105 12.094);--radius-selector:.5rem;--radius-field:.25rem;--radius-box:.5rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}}:root:has(input.theme-controller[value=light]:checked),[data-theme=light]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(98% 0 0);--color-base-300:oklch(95% 0 0);--color-base-content:oklch(21% .006 285.885);--color-primary:oklch(45% .24 277.023);--color-primary-content:oklch(93% .034 272.788);--color-secondary:oklch(65% .241 354.308);--color-secondary-content:oklch(94% .028 342.258);--color-accent:oklch(77% .152 181.912);--color-accent-content:oklch(38% .063 188.416);--color-neutral:oklch(14% .005 285.823);--color-neutral-content:oklch(92% .004 286.32);--color-info:oklch(74% .16 232.661);--color-info-content:oklch(29% .066 243.157);--color-success:oklch(76% .177 163.223);--color-success-content:oklch(37% .077 168.94);--color-warning:oklch(82% .189 84.429);--color-warning-content:oklch(41% .112 45.904);--color-error:oklch(71% .194 13.428);--color-error-content:oklch(27% .105 12.094);--radius-selector:.5rem;--radius-field:.25rem;--radius-box:.5rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}:root:has(input.theme-controller[value=cupcake]:checked),[data-theme=cupcake]{color-scheme:light;--color-base-100:oklch(97.788% .004 56.375);--color-base-200:oklch(93.982% .007 61.449);--color-base-300:oklch(91.586% .006 53.44);--color-base-content:oklch(23.574% .066 313.189);--color-primary:oklch(85% .138 181.071);--color-primary-content:oklch(43% .078 188.216);--color-secondary:oklch(89% .061 343.231);--color-secondary-content:oklch(45% .187 3.815);--color-accent:oklch(90% .076 70.697);--color-accent-content:oklch(47% .157 37.304);--color-neutral:oklch(27% .006 286.033);--color-neutral-content:oklch(92% .004 286.32);--color-info:oklch(68% .169 237.323);--color-info-content:oklch(29% .066 243.157);--color-success:oklch(69% .17 162.48);--color-success-content:oklch(26% .051 172.552);--color-warning:oklch(79% .184 86.047);--color-warning-content:oklch(28% .066 53.813);--color-error:oklch(64% .246 16.439);--color-error-content:oklch(27% .105 12.094);--radius-selector:1rem;--radius-field:2rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:2px;--depth:1;--noise:0}:root:has(input.theme-controller[value=bumblebee]:checked),[data-theme=bumblebee]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(97% 0 0);--color-base-300:oklch(92% 0 0);--color-base-content:oklch(20% 0 0);--color-primary:oklch(85% .199 91.936);--color-primary-content:oklch(42% .095 57.708);--color-secondary:oklch(75% .183 55.934);--color-secondary-content:oklch(40% .123 38.172);--color-accent:oklch(0% 0 0);--color-accent-content:oklch(100% 0 0);--color-neutral:oklch(37% .01 67.558);--color-neutral-content:oklch(92% .003 48.717);--color-info:oklch(74% .16 232.661);--color-info-content:oklch(39% .09 240.876);--color-success:oklch(76% .177 163.223);--color-success-content:oklch(37% .077 168.94);--color-warning:oklch(82% .189 84.429);--color-warning-content:oklch(41% .112 45.904);--color-error:oklch(70% .191 22.216);--color-error-content:oklch(39% .141 25.723);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}:root:has(input.theme-controller[value=emerald]:checked),[data-theme=emerald]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(93% 0 0);--color-base-300:oklch(86% 0 0);--color-base-content:oklch(35.519% .032 262.988);--color-primary:oklch(76.662% .135 153.45);--color-primary-content:oklch(33.387% .04 162.24);--color-secondary:oklch(61.302% .202 261.294);--color-secondary-content:oklch(100% 0 0);--color-accent:oklch(72.772% .149 33.2);--color-accent-content:oklch(0% 0 0);--color-neutral:oklch(35.519% .032 262.988);--color-neutral-content:oklch(98.462% .001 247.838);--color-info:oklch(72.06% .191 231.6);--color-info-content:oklch(0% 0 0);--color-success:oklch(64.8% .15 160);--color-success-content:oklch(0% 0 0);--color-warning:oklch(84.71% .199 83.87);--color-warning-content:oklch(0% 0 0);--color-error:oklch(71.76% .221 22.18);--color-error-content:oklch(0% 0 0);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=corporate]:checked),[data-theme=corporate]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(93% 0 0);--color-base-300:oklch(86% 0 0);--color-base-content:oklch(22.389% .031 278.072);--color-primary:oklch(58% .158 241.966);--color-primary-content:oklch(100% 0 0);--color-secondary:oklch(55% .046 257.417);--color-secondary-content:oklch(100% 0 0);--color-accent:oklch(60% .118 184.704);--color-accent-content:oklch(100% 0 0);--color-neutral:oklch(0% 0 0);--color-neutral-content:oklch(100% 0 0);--color-info:oklch(60% .126 221.723);--color-info-content:oklch(100% 0 0);--color-success:oklch(62% .194 149.214);--color-success-content:oklch(100% 0 0);--color-warning:oklch(85% .199 91.936);--color-warning-content:oklch(0% 0 0);--color-error:oklch(70% .191 22.216);--color-error-content:oklch(0% 0 0);--radius-selector:.25rem;--radius-field:.25rem;--radius-box:.25rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=synthwave]:checked),[data-theme=synthwave]{color-scheme:dark;--color-base-100:oklch(15% .09 281.288);--color-base-200:oklch(20% .09 281.288);--color-base-300:oklch(25% .09 281.288);--color-base-content:oklch(78% .115 274.713);--color-primary:oklch(71% .202 349.761);--color-primary-content:oklch(28% .109 3.907);--color-secondary:oklch(82% .111 230.318);--color-secondary-content:oklch(29% .066 243.157);--color-accent:oklch(75% .183 55.934);--color-accent-content:oklch(26% .079 36.259);--color-neutral:oklch(45% .24 277.023);--color-neutral-content:oklch(87% .065 274.039);--color-info:oklch(74% .16 232.661);--color-info-content:oklch(29% .066 243.157);--color-success:oklch(77% .152 181.912);--color-success-content:oklch(27% .046 192.524);--color-warning:oklch(90% .182 98.111);--color-warning-content:oklch(42% .095 57.708);--color-error:oklch(73.7% .121 32.639);--color-error-content:oklch(23.501% .096 290.329);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=retro]:checked),[data-theme=retro]{color-scheme:light;--color-base-100:oklch(91.637% .034 90.515);--color-base-200:oklch(88.272% .049 91.774);--color-base-300:oklch(84.133% .065 90.856);--color-base-content:oklch(41% .112 45.904);--color-primary:oklch(80% .114 19.571);--color-primary-content:oklch(39% .141 25.723);--color-secondary:oklch(92% .084 155.995);--color-secondary-content:oklch(44% .119 151.328);--color-accent:oklch(68% .162 75.834);--color-accent-content:oklch(41% .112 45.904);--color-neutral:oklch(44% .011 73.639);--color-neutral-content:oklch(86% .005 56.366);--color-info:oklch(58% .158 241.966);--color-info-content:oklch(96% .059 95.617);--color-success:oklch(51% .096 186.391);--color-success-content:oklch(96% .059 95.617);--color-warning:oklch(64% .222 41.116);--color-warning-content:oklch(96% .059 95.617);--color-error:oklch(70% .191 22.216);--color-error-content:oklch(40% .123 38.172);--radius-selector:.25rem;--radius-field:.25rem;--radius-box:.5rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=cyberpunk]:checked),[data-theme=cyberpunk]{color-scheme:light;--color-base-100:oklch(94.51% .179 104.32);--color-base-200:oklch(91.51% .179 104.32);--color-base-300:oklch(85.51% .179 104.32);--color-base-content:oklch(0% 0 0);--color-primary:oklch(74.22% .209 6.35);--color-primary-content:oklch(14.844% .041 6.35);--color-secondary:oklch(83.33% .184 204.72);--color-secondary-content:oklch(16.666% .036 204.72);--color-accent:oklch(71.86% .217 310.43);--color-accent-content:oklch(14.372% .043 310.43);--color-neutral:oklch(23.04% .065 269.31);--color-neutral-content:oklch(94.51% .179 104.32);--color-info:oklch(72.06% .191 231.6);--color-info-content:oklch(0% 0 0);--color-success:oklch(64.8% .15 160);--color-success-content:oklch(0% 0 0);--color-warning:oklch(84.71% .199 83.87);--color-warning-content:oklch(0% 0 0);--color-error:oklch(71.76% .221 22.18);--color-error-content:oklch(0% 0 0);--radius-selector:0rem;--radius-field:0rem;--radius-box:0rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=valentine]:checked),[data-theme=valentine]{color-scheme:light;--color-base-100:oklch(97% .014 343.198);--color-base-200:oklch(94% .028 342.258);--color-base-300:oklch(89% .061 343.231);--color-base-content:oklch(52% .223 3.958);--color-primary:oklch(65% .241 354.308);--color-primary-content:oklch(100% 0 0);--color-secondary:oklch(62% .265 303.9);--color-secondary-content:oklch(97% .014 308.299);--color-accent:oklch(82% .111 230.318);--color-accent-content:oklch(39% .09 240.876);--color-neutral:oklch(40% .153 2.432);--color-neutral-content:oklch(89% .061 343.231);--color-info:oklch(86% .127 207.078);--color-info-content:oklch(44% .11 240.79);--color-success:oklch(84% .143 164.978);--color-success-content:oklch(43% .095 166.913);--color-warning:oklch(75% .183 55.934);--color-warning-content:oklch(26% .079 36.259);--color-error:oklch(63% .237 25.331);--color-error-content:oklch(97% .013 17.38);--radius-selector:1rem;--radius-field:2rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=halloween]:checked),[data-theme=halloween]{color-scheme:dark;--color-base-100:oklch(21% .006 56.043);--color-base-200:oklch(14% .004 49.25);--color-base-300:oklch(0% 0 0);--color-base-content:oklch(84.955% 0 0);--color-primary:oklch(77.48% .204 60.62);--color-primary-content:oklch(19.693% .004 196.779);--color-secondary:oklch(45.98% .248 305.03);--color-secondary-content:oklch(89.196% .049 305.03);--color-accent:oklch(64.8% .223 136.073);--color-accent-content:oklch(0% 0 0);--color-neutral:oklch(24.371% .046 65.681);--color-neutral-content:oklch(84.874% .009 65.681);--color-info:oklch(54.615% .215 262.88);--color-info-content:oklch(90.923% .043 262.88);--color-success:oklch(62.705% .169 149.213);--color-success-content:oklch(12.541% .033 149.213);--color-warning:oklch(66.584% .157 58.318);--color-warning-content:oklch(13.316% .031 58.318);--color-error:oklch(65.72% .199 27.33);--color-error-content:oklch(13.144% .039 27.33);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}:root:has(input.theme-controller[value=garden]:checked),[data-theme=garden]{color-scheme:light;--color-base-100:oklch(92.951% .002 17.197);--color-base-200:oklch(86.445% .002 17.197);--color-base-300:oklch(79.938% .001 17.197);--color-base-content:oklch(16.961% .001 17.32);--color-primary:oklch(62.45% .278 3.836);--color-primary-content:oklch(100% 0 0);--color-secondary:oklch(48.495% .11 355.095);--color-secondary-content:oklch(89.699% .022 355.095);--color-accent:oklch(56.273% .054 154.39);--color-accent-content:oklch(100% 0 0);--color-neutral:oklch(24.155% .049 89.07);--color-neutral-content:oklch(92.951% .002 17.197);--color-info:oklch(72.06% .191 231.6);--color-info-content:oklch(0% 0 0);--color-success:oklch(64.8% .15 160);--color-success-content:oklch(0% 0 0);--color-warning:oklch(84.71% .199 83.87);--color-warning-content:oklch(0% 0 0);--color-error:oklch(71.76% .221 22.18);--color-error-content:oklch(0% 0 0);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=forest]:checked),[data-theme=forest]{color-scheme:dark;--color-base-100:oklch(20.84% .008 17.911);--color-base-200:oklch(18.522% .007 17.911);--color-base-300:oklch(16.203% .007 17.911);--color-base-content:oklch(83.768% .001 17.911);--color-primary:oklch(68.628% .185 148.958);--color-primary-content:oklch(0% 0 0);--color-secondary:oklch(69.776% .135 168.327);--color-secondary-content:oklch(13.955% .027 168.327);--color-accent:oklch(70.628% .119 185.713);--color-accent-content:oklch(14.125% .023 185.713);--color-neutral:oklch(30.698% .039 171.364);--color-neutral-content:oklch(86.139% .007 171.364);--color-info:oklch(72.06% .191 231.6);--color-info-content:oklch(0% 0 0);--color-success:oklch(64.8% .15 160);--color-success-content:oklch(0% 0 0);--color-warning:oklch(84.71% .199 83.87);--color-warning-content:oklch(0% 0 0);--color-error:oklch(71.76% .221 22.18);--color-error-content:oklch(0% 0 0);--radius-selector:1rem;--radius-field:2rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=aqua]:checked),[data-theme=aqua]{color-scheme:dark;--color-base-100:oklch(37% .146 265.522);--color-base-200:oklch(28% .091 267.935);--color-base-300:oklch(22% .091 267.935);--color-base-content:oklch(90% .058 230.902);--color-primary:oklch(85.661% .144 198.645);--color-primary-content:oklch(40.124% .068 197.603);--color-secondary:oklch(60.682% .108 309.782);--color-secondary-content:oklch(96% .016 293.756);--color-accent:oklch(93.426% .102 94.555);--color-accent-content:oklch(18.685% .02 94.555);--color-neutral:oklch(27% .146 265.522);--color-neutral-content:oklch(80% .146 265.522);--color-info:oklch(54.615% .215 262.88);--color-info-content:oklch(90.923% .043 262.88);--color-success:oklch(62.705% .169 149.213);--color-success-content:oklch(12.541% .033 149.213);--color-warning:oklch(66.584% .157 58.318);--color-warning-content:oklch(27% .077 45.635);--color-error:oklch(73.95% .19 27.33);--color-error-content:oklch(14.79% .038 27.33);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}:root:has(input.theme-controller[value=lofi]:checked),[data-theme=lofi]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(97% 0 0);--color-base-300:oklch(94% 0 0);--color-base-content:oklch(0% 0 0);--color-primary:oklch(15.906% 0 0);--color-primary-content:oklch(100% 0 0);--color-secondary:oklch(21.455% .001 17.278);--color-secondary-content:oklch(100% 0 0);--color-accent:oklch(26.861% 0 0);--color-accent-content:oklch(100% 0 0);--color-neutral:oklch(0% 0 0);--color-neutral-content:oklch(100% 0 0);--color-info:oklch(79.54% .103 205.9);--color-info-content:oklch(15.908% .02 205.9);--color-success:oklch(90.13% .153 164.14);--color-success-content:oklch(18.026% .03 164.14);--color-warning:oklch(88.37% .135 79.94);--color-warning-content:oklch(17.674% .027 79.94);--color-error:oklch(78.66% .15 28.47);--color-error-content:oklch(15.732% .03 28.47);--radius-selector:2rem;--radius-field:.25rem;--radius-box:.5rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=pastel]:checked),[data-theme=pastel]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(98.462% .001 247.838);--color-base-300:oklch(92.462% .001 247.838);--color-base-content:oklch(20% 0 0);--color-primary:oklch(90% .063 306.703);--color-primary-content:oklch(49% .265 301.924);--color-secondary:oklch(89% .058 10.001);--color-secondary-content:oklch(51% .222 16.935);--color-accent:oklch(90% .093 164.15);--color-accent-content:oklch(50% .118 165.612);--color-neutral:oklch(55% .046 257.417);--color-neutral-content:oklch(92% .013 255.508);--color-info:oklch(86% .127 207.078);--color-info-content:oklch(52% .105 223.128);--color-success:oklch(87% .15 154.449);--color-success-content:oklch(52% .154 150.069);--color-warning:oklch(83% .128 66.29);--color-warning-content:oklch(55% .195 38.402);--color-error:oklch(80% .114 19.571);--color-error-content:oklch(50% .213 27.518);--radius-selector:1rem;--radius-field:2rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:2px;--depth:0;--noise:0}:root:has(input.theme-controller[value=fantasy]:checked),[data-theme=fantasy]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(93% 0 0);--color-base-300:oklch(86% 0 0);--color-base-content:oklch(27.807% .029 256.847);--color-primary:oklch(37.45% .189 325.02);--color-primary-content:oklch(87.49% .037 325.02);--color-secondary:oklch(53.92% .162 241.36);--color-secondary-content:oklch(90.784% .032 241.36);--color-accent:oklch(75.98% .204 56.72);--color-accent-content:oklch(15.196% .04 56.72);--color-neutral:oklch(27.807% .029 256.847);--color-neutral-content:oklch(85.561% .005 256.847);--color-info:oklch(72.06% .191 231.6);--color-info-content:oklch(0% 0 0);--color-success:oklch(64.8% .15 160);--color-success-content:oklch(0% 0 0);--color-warning:oklch(84.71% .199 83.87);--color-warning-content:oklch(0% 0 0);--color-error:oklch(71.76% .221 22.18);--color-error-content:oklch(0% 0 0);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}:root:has(input.theme-controller[value=wireframe]:checked),[data-theme=wireframe]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(97% 0 0);--color-base-300:oklch(94% 0 0);--color-base-content:oklch(20% 0 0);--color-primary:oklch(87% 0 0);--color-primary-content:oklch(26% 0 0);--color-secondary:oklch(87% 0 0);--color-secondary-content:oklch(26% 0 0);--color-accent:oklch(87% 0 0);--color-accent-content:oklch(26% 0 0);--color-neutral:oklch(87% 0 0);--color-neutral-content:oklch(26% 0 0);--color-info:oklch(44% .11 240.79);--color-info-content:oklch(90% .058 230.902);--color-success:oklch(43% .095 166.913);--color-success-content:oklch(90% .093 164.15);--color-warning:oklch(47% .137 46.201);--color-warning-content:oklch(92% .12 95.746);--color-error:oklch(44% .177 26.899);--color-error-content:oklch(88% .062 18.334);--radius-selector:0rem;--radius-field:.25rem;--radius-box:.25rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=black]:checked),[data-theme=black]{color-scheme:dark;--color-base-100:oklch(0% 0 0);--color-base-200:oklch(19% 0 0);--color-base-300:oklch(22% 0 0);--color-base-content:oklch(87.609% 0 0);--color-primary:oklch(35% 0 0);--color-primary-content:oklch(100% 0 0);--color-secondary:oklch(35% 0 0);--color-secondary-content:oklch(100% 0 0);--color-accent:oklch(35% 0 0);--color-accent-content:oklch(100% 0 0);--color-neutral:oklch(35% 0 0);--color-neutral-content:oklch(100% 0 0);--color-info:oklch(45.201% .313 264.052);--color-info-content:oklch(89.04% .062 264.052);--color-success:oklch(51.975% .176 142.495);--color-success-content:oklch(90.395% .035 142.495);--color-warning:oklch(96.798% .211 109.769);--color-warning-content:oklch(19.359% .042 109.769);--color-error:oklch(62.795% .257 29.233);--color-error-content:oklch(12.559% .051 29.233);--radius-selector:0rem;--radius-field:0rem;--radius-box:0rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=luxury]:checked),[data-theme=luxury]{color-scheme:dark;--color-base-100:oklch(14.076% .004 285.822);--color-base-200:oklch(20.219% .004 308.229);--color-base-300:oklch(23.219% .004 308.229);--color-base-content:oklch(75.687% .123 76.89);--color-primary:oklch(100% 0 0);--color-primary-content:oklch(20% 0 0);--color-secondary:oklch(27.581% .064 261.069);--color-secondary-content:oklch(85.516% .012 261.069);--color-accent:oklch(36.674% .051 338.825);--color-accent-content:oklch(87.334% .01 338.825);--color-neutral:oklch(24.27% .057 59.825);--color-neutral-content:oklch(93.203% .089 90.861);--color-info:oklch(79.061% .121 237.133);--color-info-content:oklch(15.812% .024 237.133);--color-success:oklch(78.119% .192 132.154);--color-success-content:oklch(15.623% .038 132.154);--color-warning:oklch(86.127% .136 102.891);--color-warning-content:oklch(17.225% .027 102.891);--color-error:oklch(71.753% .176 22.568);--color-error-content:oklch(14.35% .035 22.568);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}:root:has(input.theme-controller[value=dracula]:checked),[data-theme=dracula]{color-scheme:dark;--color-base-100:oklch(28.822% .022 277.508);--color-base-200:oklch(26.805% .02 277.508);--color-base-300:oklch(24.787% .019 277.508);--color-base-content:oklch(97.747% .007 106.545);--color-primary:oklch(75.461% .183 346.812);--color-primary-content:oklch(15.092% .036 346.812);--color-secondary:oklch(74.202% .148 301.883);--color-secondary-content:oklch(14.84% .029 301.883);--color-accent:oklch(83.392% .124 66.558);--color-accent-content:oklch(16.678% .024 66.558);--color-neutral:oklch(39.445% .032 275.524);--color-neutral-content:oklch(87.889% .006 275.524);--color-info:oklch(88.263% .093 212.846);--color-info-content:oklch(17.652% .018 212.846);--color-success:oklch(87.099% .219 148.024);--color-success-content:oklch(17.419% .043 148.024);--color-warning:oklch(95.533% .134 112.757);--color-warning-content:oklch(19.106% .026 112.757);--color-error:oklch(68.22% .206 24.43);--color-error-content:oklch(13.644% .041 24.43);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=cmyk]:checked),[data-theme=cmyk]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(95% 0 0);--color-base-300:oklch(90% 0 0);--color-base-content:oklch(20% 0 0);--color-primary:oklch(71.772% .133 239.443);--color-primary-content:oklch(14.354% .026 239.443);--color-secondary:oklch(64.476% .202 359.339);--color-secondary-content:oklch(12.895% .04 359.339);--color-accent:oklch(94.228% .189 105.306);--color-accent-content:oklch(18.845% .037 105.306);--color-neutral:oklch(21.778% 0 0);--color-neutral-content:oklch(84.355% 0 0);--color-info:oklch(68.475% .094 217.284);--color-info-content:oklch(13.695% .018 217.284);--color-success:oklch(46.949% .162 321.406);--color-success-content:oklch(89.389% .032 321.406);--color-warning:oklch(71.236% .159 52.023);--color-warning-content:oklch(14.247% .031 52.023);--color-error:oklch(62.013% .208 28.717);--color-error-content:oklch(12.402% .041 28.717);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=autumn]:checked),[data-theme=autumn]{color-scheme:light;--color-base-100:oklch(95.814% 0 0);--color-base-200:oklch(89.107% 0 0);--color-base-300:oklch(82.4% 0 0);--color-base-content:oklch(19.162% 0 0);--color-primary:oklch(40.723% .161 17.53);--color-primary-content:oklch(88.144% .032 17.53);--color-secondary:oklch(61.676% .169 23.865);--color-secondary-content:oklch(12.335% .033 23.865);--color-accent:oklch(73.425% .094 60.729);--color-accent-content:oklch(14.685% .018 60.729);--color-neutral:oklch(54.367% .037 51.902);--color-neutral-content:oklch(90.873% .007 51.902);--color-info:oklch(69.224% .097 207.284);--color-info-content:oklch(13.844% .019 207.284);--color-success:oklch(60.995% .08 174.616);--color-success-content:oklch(12.199% .016 174.616);--color-warning:oklch(70.081% .164 56.844);--color-warning-content:oklch(14.016% .032 56.844);--color-error:oklch(53.07% .241 24.16);--color-error-content:oklch(90.614% .048 24.16);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}:root:has(input.theme-controller[value=business]:checked),[data-theme=business]{color-scheme:dark;--color-base-100:oklch(24.353% 0 0);--color-base-200:oklch(22.648% 0 0);--color-base-300:oklch(20.944% 0 0);--color-base-content:oklch(84.87% 0 0);--color-primary:oklch(41.703% .099 251.473);--color-primary-content:oklch(88.34% .019 251.473);--color-secondary:oklch(64.092% .027 229.389);--color-secondary-content:oklch(12.818% .005 229.389);--color-accent:oklch(67.271% .167 35.791);--color-accent-content:oklch(13.454% .033 35.791);--color-neutral:oklch(27.441% .013 253.041);--color-neutral-content:oklch(85.488% .002 253.041);--color-info:oklch(62.616% .143 240.033);--color-info-content:oklch(12.523% .028 240.033);--color-success:oklch(70.226% .094 156.596);--color-success-content:oklch(14.045% .018 156.596);--color-warning:oklch(77.482% .115 81.519);--color-warning-content:oklch(15.496% .023 81.519);--color-error:oklch(51.61% .146 29.674);--color-error-content:oklch(90.322% .029 29.674);--radius-selector:0rem;--radius-field:.25rem;--radius-box:.25rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=acid]:checked),[data-theme=acid]{color-scheme:light;--color-base-100:oklch(98% 0 0);--color-base-200:oklch(95% 0 0);--color-base-300:oklch(91% 0 0);--color-base-content:oklch(0% 0 0);--color-primary:oklch(71.9% .357 330.759);--color-primary-content:oklch(14.38% .071 330.759);--color-secondary:oklch(73.37% .224 48.25);--color-secondary-content:oklch(14.674% .044 48.25);--color-accent:oklch(92.78% .264 122.962);--color-accent-content:oklch(18.556% .052 122.962);--color-neutral:oklch(21.31% .128 278.68);--color-neutral-content:oklch(84.262% .025 278.68);--color-info:oklch(60.72% .227 252.05);--color-info-content:oklch(12.144% .045 252.05);--color-success:oklch(85.72% .266 158.53);--color-success-content:oklch(17.144% .053 158.53);--color-warning:oklch(91.01% .212 100.5);--color-warning-content:oklch(18.202% .042 100.5);--color-error:oklch(64.84% .293 29.349);--color-error-content:oklch(12.968% .058 29.349);--radius-selector:1rem;--radius-field:1rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}:root:has(input.theme-controller[value=lemonade]:checked),[data-theme=lemonade]{color-scheme:light;--color-base-100:oklch(98.71% .02 123.72);--color-base-200:oklch(91.8% .018 123.72);--color-base-300:oklch(84.89% .017 123.72);--color-base-content:oklch(19.742% .004 123.72);--color-primary:oklch(58.92% .199 134.6);--color-primary-content:oklch(11.784% .039 134.6);--color-secondary:oklch(77.75% .196 111.09);--color-secondary-content:oklch(15.55% .039 111.09);--color-accent:oklch(85.39% .201 100.73);--color-accent-content:oklch(17.078% .04 100.73);--color-neutral:oklch(30.98% .075 108.6);--color-neutral-content:oklch(86.196% .015 108.6);--color-info:oklch(86.19% .047 224.14);--color-info-content:oklch(17.238% .009 224.14);--color-success:oklch(86.19% .047 157.85);--color-success-content:oklch(17.238% .009 157.85);--color-warning:oklch(86.19% .047 102.15);--color-warning-content:oklch(17.238% .009 102.15);--color-error:oklch(86.19% .047 25.85);--color-error-content:oklch(17.238% .009 25.85);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=night]:checked),[data-theme=night]{color-scheme:dark;--color-base-100:oklch(20.768% .039 265.754);--color-base-200:oklch(19.314% .037 265.754);--color-base-300:oklch(17.86% .034 265.754);--color-base-content:oklch(84.153% .007 265.754);--color-primary:oklch(75.351% .138 232.661);--color-primary-content:oklch(15.07% .027 232.661);--color-secondary:oklch(68.011% .158 276.934);--color-secondary-content:oklch(13.602% .031 276.934);--color-accent:oklch(72.36% .176 350.048);--color-accent-content:oklch(14.472% .035 350.048);--color-neutral:oklch(27.949% .036 260.03);--color-neutral-content:oklch(85.589% .007 260.03);--color-info:oklch(68.455% .148 237.251);--color-info-content:oklch(0% 0 0);--color-success:oklch(78.452% .132 181.911);--color-success-content:oklch(15.69% .026 181.911);--color-warning:oklch(83.242% .139 82.95);--color-warning-content:oklch(16.648% .027 82.95);--color-error:oklch(71.785% .17 13.118);--color-error-content:oklch(14.357% .034 13.118);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=coffee]:checked),[data-theme=coffee]{color-scheme:dark;--color-base-100:oklch(24% .023 329.708);--color-base-200:oklch(21% .021 329.708);--color-base-300:oklch(16% .019 329.708);--color-base-content:oklch(72.354% .092 79.129);--color-primary:oklch(71.996% .123 62.756);--color-primary-content:oklch(14.399% .024 62.756);--color-secondary:oklch(34.465% .029 199.194);--color-secondary-content:oklch(86.893% .005 199.194);--color-accent:oklch(42.621% .074 224.389);--color-accent-content:oklch(88.524% .014 224.389);--color-neutral:oklch(16.51% .015 326.261);--color-neutral-content:oklch(83.302% .003 326.261);--color-info:oklch(79.49% .063 184.558);--color-info-content:oklch(15.898% .012 184.558);--color-success:oklch(74.722% .072 131.116);--color-success-content:oklch(14.944% .014 131.116);--color-warning:oklch(88.15% .14 87.722);--color-warning-content:oklch(17.63% .028 87.722);--color-error:oklch(77.318% .128 31.871);--color-error-content:oklch(15.463% .025 31.871);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=winter]:checked),[data-theme=winter]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(97.466% .011 259.822);--color-base-300:oklch(93.268% .016 262.751);--color-base-content:oklch(41.886% .053 255.824);--color-primary:oklch(56.86% .255 257.57);--color-primary-content:oklch(91.372% .051 257.57);--color-secondary:oklch(42.551% .161 282.339);--color-secondary-content:oklch(88.51% .032 282.339);--color-accent:oklch(59.939% .191 335.171);--color-accent-content:oklch(11.988% .038 335.171);--color-neutral:oklch(19.616% .063 257.651);--color-neutral-content:oklch(83.923% .012 257.651);--color-info:oklch(88.127% .085 214.515);--color-info-content:oklch(17.625% .017 214.515);--color-success:oklch(80.494% .077 197.823);--color-success-content:oklch(16.098% .015 197.823);--color-warning:oklch(89.172% .045 71.47);--color-warning-content:oklch(17.834% .009 71.47);--color-error:oklch(73.092% .11 20.076);--color-error-content:oklch(14.618% .022 20.076);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=dim]:checked),[data-theme=dim]{color-scheme:dark;--color-base-100:oklch(30.857% .023 264.149);--color-base-200:oklch(28.036% .019 264.182);--color-base-300:oklch(26.346% .018 262.177);--color-base-content:oklch(82.901% .031 222.959);--color-primary:oklch(86.133% .141 139.549);--color-primary-content:oklch(17.226% .028 139.549);--color-secondary:oklch(73.375% .165 35.353);--color-secondary-content:oklch(14.675% .033 35.353);--color-accent:oklch(74.229% .133 311.379);--color-accent-content:oklch(14.845% .026 311.379);--color-neutral:oklch(24.731% .02 264.094);--color-neutral-content:oklch(82.901% .031 222.959);--color-info:oklch(86.078% .142 206.182);--color-info-content:oklch(17.215% .028 206.182);--color-success:oklch(86.171% .142 166.534);--color-success-content:oklch(17.234% .028 166.534);--color-warning:oklch(86.163% .142 94.818);--color-warning-content:oklch(17.232% .028 94.818);--color-error:oklch(82.418% .099 33.756);--color-error-content:oklch(16.483% .019 33.756);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=nord]:checked),[data-theme=nord]{color-scheme:light;--color-base-100:oklch(95.127% .007 260.731);--color-base-200:oklch(93.299% .01 261.788);--color-base-300:oklch(89.925% .016 262.749);--color-base-content:oklch(32.437% .022 264.182);--color-primary:oklch(59.435% .077 254.027);--color-primary-content:oklch(11.887% .015 254.027);--color-secondary:oklch(69.651% .059 248.687);--color-secondary-content:oklch(13.93% .011 248.687);--color-accent:oklch(77.464% .062 217.469);--color-accent-content:oklch(15.492% .012 217.469);--color-neutral:oklch(45.229% .035 264.131);--color-neutral-content:oklch(89.925% .016 262.749);--color-info:oklch(69.207% .062 332.664);--color-info-content:oklch(13.841% .012 332.664);--color-success:oklch(76.827% .074 131.063);--color-success-content:oklch(15.365% .014 131.063);--color-warning:oklch(85.486% .089 84.093);--color-warning-content:oklch(17.097% .017 84.093);--color-error:oklch(60.61% .12 15.341);--color-error-content:oklch(12.122% .024 15.341);--radius-selector:1rem;--radius-field:.25rem;--radius-box:.5rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=sunset]:checked),[data-theme=sunset]{color-scheme:dark;--color-base-100:oklch(22% .019 237.69);--color-base-200:oklch(20% .019 237.69);--color-base-300:oklch(18% .019 237.69);--color-base-content:oklch(77.383% .043 245.096);--color-primary:oklch(74.703% .158 39.947);--color-primary-content:oklch(14.94% .031 39.947);--color-secondary:oklch(72.537% .177 2.72);--color-secondary-content:oklch(14.507% .035 2.72);--color-accent:oklch(71.294% .166 299.844);--color-accent-content:oklch(14.258% .033 299.844);--color-neutral:oklch(26% .019 237.69);--color-neutral-content:oklch(70% .019 237.69);--color-info:oklch(85.559% .085 206.015);--color-info-content:oklch(17.111% .017 206.015);--color-success:oklch(85.56% .085 144.778);--color-success-content:oklch(17.112% .017 144.778);--color-warning:oklch(85.569% .084 74.427);--color-warning-content:oklch(17.113% .016 74.427);--color-error:oklch(85.511% .078 16.886);--color-error-content:oklch(17.102% .015 16.886);--radius-selector:1rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=caramellatte]:checked),[data-theme=caramellatte]{color-scheme:light;--color-base-100:oklch(98% .016 73.684);--color-base-200:oklch(95% .038 75.164);--color-base-300:oklch(90% .076 70.697);--color-base-content:oklch(40% .123 38.172);--color-primary:oklch(0% 0 0);--color-primary-content:oklch(100% 0 0);--color-secondary:oklch(22.45% .075 37.85);--color-secondary-content:oklch(90% .076 70.697);--color-accent:oklch(46.44% .111 37.85);--color-accent-content:oklch(90% .076 70.697);--color-neutral:oklch(55% .195 38.402);--color-neutral-content:oklch(98% .016 73.684);--color-info:oklch(42% .199 265.638);--color-info-content:oklch(90% .076 70.697);--color-success:oklch(43% .095 166.913);--color-success-content:oklch(90% .076 70.697);--color-warning:oklch(82% .189 84.429);--color-warning-content:oklch(41% .112 45.904);--color-error:oklch(70% .191 22.216);--color-error-content:oklch(39% .141 25.723);--radius-selector:2rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:2px;--depth:1;--noise:1}:root:has(input.theme-controller[value=abyss]:checked),[data-theme=abyss]{color-scheme:dark;--color-base-100:oklch(20% .08 209);--color-base-200:oklch(15% .08 209);--color-base-300:oklch(10% .08 209);--color-base-content:oklch(90% .076 70.697);--color-primary:oklch(92% .2653 125);--color-primary-content:oklch(50% .2653 125);--color-secondary:oklch(83.27% .0764 298.3);--color-secondary-content:oklch(43.27% .0764 298.3);--color-accent:oklch(43% 0 0);--color-accent-content:oklch(98% 0 0);--color-neutral:oklch(30% .08 209);--color-neutral-content:oklch(90% .076 70.697);--color-info:oklch(74% .16 232.661);--color-info-content:oklch(29% .066 243.157);--color-success:oklch(79% .209 151.711);--color-success-content:oklch(26% .065 152.934);--color-warning:oklch(84.8% .1962 84.62);--color-warning-content:oklch(44.8% .1962 84.62);--color-error:oklch(65% .1985 24.22);--color-error-content:oklch(27% .1985 24.22);--radius-selector:2rem;--radius-field:.25rem;--radius-box:.5rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}:root:has(input.theme-controller[value=silk]:checked),[data-theme=silk]{color-scheme:light;--color-base-100:oklch(97% .0035 67.78);--color-base-200:oklch(95% .0081 61.42);--color-base-300:oklch(90% .0081 61.42);--color-base-content:oklch(40% .0081 61.42);--color-primary:oklch(23.27% .0249 284.3);--color-primary-content:oklch(94.22% .2505 117.44);--color-secondary:oklch(23.27% .0249 284.3);--color-secondary-content:oklch(73.92% .2135 50.94);--color-accent:oklch(23.27% .0249 284.3);--color-accent-content:oklch(88.92% .2061 189.9);--color-neutral:oklch(20% 0 0);--color-neutral-content:oklch(80% .0081 61.42);--color-info:oklch(80.39% .1148 241.68);--color-info-content:oklch(30.39% .1148 241.68);--color-success:oklch(83.92% .0901 136.87);--color-success-content:oklch(23.92% .0901 136.87);--color-warning:oklch(83.92% .1085 80);--color-warning-content:oklch(43.92% .1085 80);--color-error:oklch(75.1% .1814 22.37);--color-error-content:oklch(35.1% .1814 22.37);--radius-selector:2rem;--radius-field:.5rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:2px;--depth:1;--noise:0}@property --radialprogress{syntax: "<percentage>"; inherits: true; initial-value: 0%;}:root{scrollbar-color:color-mix(in oklch,currentColor 35%,#0000)#0000}:root:has(.modal-open,.modal[open],.modal:target,.modal-toggle:checked,.drawer:not([class*=drawer-open])>.drawer-toggle:checked){overflow:hidden}:root,[data-theme]{background-color:var(--root-bg,var(--color-base-100));color:var(--color-base-content)}:root{--fx-noise:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='a'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.34' numOctaves='4' stitchTiles='stitch'%3E%3C/feTurbulence%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23a)' opacity='0.2'%3E%3C/rect%3E%3C/svg%3E")}.chat{--mask-chat:url("data:image/svg+xml,%3csvg width='13' height='13' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='M0 11.5004C0 13.0004 2 13.0004 2 13.0004H12H13V0.00036329L12.5 0C12.5 0 11.977 2.09572 11.8581 2.50033C11.6075 3.35237 10.9149 4.22374 9 5.50036C6 7.50036 0 10.0004 0 11.5004Z'/%3e%3c/svg%3e")}:where(:root:has(.modal-open,.modal[open],.modal:target,.modal-toggle:checked,.drawer:not(.drawer-open)>.drawer-toggle:checked)){scrollbar-gutter:stable;background-image:linear-gradient(var(--color-base-100),var(--color-base-100));--root-bg:color-mix(in srgb,var(--color-base-100),oklch(0% 0 0) 40%)}@supports (color:color-mix(in lab,red,red)){:where(:root:has(.modal-open,.modal[open],.modal:target,.modal-toggle:checked,.drawer:not(.drawer-open)>.drawer-toggle:checked)){--root-bg:color-mix(in srgb,var(--color-base-100),oklch(0% 0 0) 40%)}}:root:has(input.theme-controller[value=dark]:checked),[data-theme=dark]{color-scheme:normal;--color-base-100:oklch(25.33% .016 252.42);--color-base-200:oklch(23.26% .014 253.1);--color-base-300:oklch(21.15% .012 254.09);--color-base-content:oklch(97.807% .029 256.847);--color-primary:oklch(58% .233 277.117);--color-primary-content:oklch(96% .018 272.314);--color-secondary:oklch(65% .241 354.308);--color-secondary-content:oklch(94% .028 342.258);--color-accent:oklch(77% .152 181.912);--color-accent-content:oklch(38% .063 188.416);--color-neutral:oklch(60% .233 277.117);--color-neutral-content:oklch(92% .004 286.32);--color-info:oklch(74% .16 232.661);--color-info-content:oklch(29% .066 243.157);--color-success:oklch(76% .177 163.223);--color-success-content:oklch(37% .077 168.94);--color-warning:oklch(82% .189 84.429);--color-warning-content:oklch(41% .112 45.904);--color-error:oklch(71% .194 13.428);--color-error-content:oklch(27% .105 12.094);--radius-selector:.5rem;--radius-field:.25rem;--radius-box:.5rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:1;--noise:0}}@layer components;@layer utilities{.diff{webkit-user-select:none;-webkit-user-select:none;user-select:none;direction:ltr;grid-template-columns:auto 1fr;width:100%;display:grid;position:relative;overflow:hidden;container-type:inline-size}.diff:focus-visible,.diff:has(.diff-item-1:focus){outline-style:var(--tw-outline-style);outline-offset:1px;outline-width:2px;outline-color:var(--color-base-content)}.diff:focus-visible .diff-resizer{min-width:90cqi;max-width:90cqi}.diff:has(.diff-item-2:focus-visible){outline-style:var(--tw-outline-style);outline-offset:1px;outline-width:2px}.diff:has(.diff-item-2:focus-visible) .diff-resizer{min-width:10cqi;max-width:10cqi}@supports (-webkit-overflow-scrolling:touch) and (overflow:-webkit-paged-x){.diff:focus .diff-resizer{min-width:10cqi;max-width:10cqi}.diff:has(.diff-item-1:focus) .diff-resizer{min-width:90cqi;max-width:90cqi}}.\@container{container-type:inline-size}.modal{pointer-events:none;visibility:hidden;width:100%;max-width:none;height:100%;max-height:none;color:inherit;transition:transform .3s ease-out,visibility .3s allow-discrete,background-color .3s ease-out,opacity .1s ease-out;overscroll-behavior:contain;z-index:999;background-color:#0000;place-items:center;margin:0;padding:0;display:grid;position:fixed;top:0;right:0;bottom:0;left:0;overflow:hidden}.modal::backdrop{display:none}.modal.modal-open,.modal[open],.modal:target{pointer-events:auto;visibility:visible;opacity:1;background-color:#0006;transition:transform .3s ease-out,background-color .3s ease-out,opacity .1s ease-out}:is(.modal.modal-open,.modal[open],.modal:target) .modal-box{opacity:1;translate:0;scale:1}@starting-style{.modal.modal-open,.modal[open],.modal:target{visibility:hidden;opacity:0}}.drawer-side{pointer-events:none;visibility:hidden;overscroll-behavior:contain;opacity:0;width:100%;transition:opacity .2s ease-out .1s allow-discrete,visibility .3s ease-out .1s allow-discrete;inset-inline-start:0;grid-template-rows:repeat(1,minmax(0,1fr));grid-template-columns:repeat(1,minmax(0,1fr));grid-row-start:1;grid-column-start:1;place-items:flex-start start;height:100dvh;display:grid;position:fixed;top:0;overflow:hidden}.drawer-side>.drawer-overlay{cursor:pointer;background-color:#0006;place-self:stretch stretch;position:sticky;top:0}.drawer-side>*{grid-row-start:1;grid-column-start:1}.drawer-side>:not(.drawer-overlay){will-change:transform;transition:translate .3s ease-out;translate:-100%}[dir=rtl] :is(.drawer-side>:not(.drawer-overlay)){translate:100%}.drawer-open>.drawer-side{overflow-y:auto}.drawer-open>.drawer-toggle{display:none}.drawer-open>.drawer-toggle~.drawer-side{pointer-events:auto;visibility:visible;overscroll-behavior:auto;opacity:1;width:auto;display:block;position:sticky}.drawer-open>.drawer-toggle~.drawer-side>.drawer-overlay{cursor:default;background-color:#0000}.drawer-open>.drawer-toggle~.drawer-side>:not(.drawer-overlay),[dir=rtl] :is(.drawer-open>.drawer-toggle~.drawer-side>:not(.drawer-overlay)){translate:0%}.drawer-open>.drawer-toggle:checked~.drawer-side{pointer-events:auto;visibility:visible}.modal-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:0;width:0;height:0;position:fixed}.modal-toggle:checked+.modal{pointer-events:auto;visibility:visible;opacity:1;background-color:#0006}.modal-toggle:checked+.modal .modal-box{opacity:1;translate:0;scale:1}@starting-style{.modal-toggle:checked+.modal{visibility:hidden;opacity:0}}.drawer-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:0;width:0;height:0;position:fixed}.drawer-toggle:checked~.drawer-side{pointer-events:auto;visibility:visible;opacity:1;overflow-y:auto}.drawer-toggle:checked~.drawer-side>:not(.drawer-overlay){translate:0%}.drawer-toggle:focus-visible~.drawer-content label.drawer-button{outline-offset:2px;outline:2px solid}.tooltip{--tt-bg:var(--color-neutral);--tt-off: calc(100% + .5rem) ;--tt-tail: calc(100% + 1px + .25rem) ;display:inline-block;position:relative}.tooltip>:where(.tooltip-content),.tooltip[data-tip]:before{border-radius:var(--radius-field);text-align:center;white-space:normal;max-width:20rem;color:var(--color-neutral-content);opacity:0;background-color:var(--tt-bg);pointer-events:none;z-index:1;--tw-content:attr(data-tip);content:var(--tw-content);width:max-content;padding-block:.25rem;padding-inline:.5rem;font-size:.875rem;line-height:1.25em;transition:opacity .2s cubic-bezier(.4,0,.2,1) 75ms,transform .2s cubic-bezier(.4,0,.2,1) 75ms;position:absolute}.tooltip:after{opacity:0;background-color:var(--tt-bg);content:"";pointer-events:none;--mask-tooltip:url("data:image/svg+xml,%3Csvg width='10' height='4' viewBox='0 0 8 4' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0.500009 1C3.5 1 3.00001 4 5.00001 4C7 4 6.5 1 9.5 1C10 1 10 0.499897 10 0H0C-1.99338e-08 0.5 0 1 0.500009 1Z' fill='black'/%3E%3C/svg%3E%0A");width:.625rem;height:.25rem;-webkit-mask-position:-1px 0;mask-position:-1px 0;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-image:var(--mask-tooltip);mask-image:var(--mask-tooltip);transition:opacity .2s cubic-bezier(.4,0,.2,1) 75ms,transform .2s cubic-bezier(.4,0,.2,1) 75ms;display:block;position:absolute}:is(.tooltip.tooltip-open,.tooltip[data-tip]:hover,.tooltip:hover,.tooltip:has(:focus-visible))>.tooltip-content,:is(.tooltip.tooltip-open,.tooltip[data-tip]:hover,.tooltip:hover,.tooltip:has(:focus-visible))[data-tip]:before,:is(.tooltip.tooltip-open,.tooltip[data-tip]:hover,.tooltip:hover,.tooltip:has(:focus-visible)):after{opacity:1;--tt-pos:0rem;transition:opacity .2s cubic-bezier(.4,0,.2,1),transform .2s cubic-bezier(.4,0,.2,1)}.tooltip>.tooltip-content,.tooltip[data-tip]:before{transform:translate(-50%)translateY(var(--tt-pos,.25rem));inset:auto auto var(--tt-off)50%}.tooltip:after{transform:translate(-50%)translateY(var(--tt-pos,.25rem));inset:auto auto var(--tt-tail)50%}.tab{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:center;webkit-user-select:none;-webkit-user-select:none;user-select:none;--tab-p:1rem;--tab-bg:var(--color-base-100);--tab-border-color:var(--color-base-300);--tab-radius-ss:0;--tab-radius-se:0;--tab-radius-es:0;--tab-radius-ee:0;--tab-order:0;--tab-radius-min:calc(.75rem - var(--border));flex-wrap:wrap;order:var(--tab-order);height:calc(var(--size-field,.25rem)*10);border-color:#0000;justify-content:center;align-items:center;padding-inline-start:var(--tab-p);padding-inline-end:var(--tab-p);font-size:.875rem;display:inline-flex;position:relative}@media (hover:hover){.tab:hover{color:var(--color-base-content)}}.tab:is(input[type=radio]){min-width:fit-content}.tab:is(input[type=radio]):after{content:attr(aria-label)}.tab:is(label){position:relative}.tab:is(label) input{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:0;position:absolute;top:0;right:0;bottom:0;left:0}:is(.tab:checked,.tab:is(label:has(:checked)),.tab:is(.tab-active,[aria-selected=true]))+.tab-content{height:100%;display:block}.tab:not(:checked,label:has(:checked),:hover,.tab-active,[aria-selected=true]){color:color-mix(in srgb,var(--color-base-content)50%,transparent)}@supports (color:color-mix(in lab,red,red)){.tab:not(:checked,label:has(:checked),:hover,.tab-active,[aria-selected=true]){color:color-mix(in oklab,var(--color-base-content)50%,transparent)}}.tab:not(input):empty{cursor:default;flex-grow:1}.tab:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.tab:focus{outline-offset:2px;outline:2px solid #0000}}.tab:focus-visible,.tab:is(label:has(:checked:focus-visible)){outline-offset:-5px;outline:2px solid}.tab[disabled]{pointer-events:none;opacity:.4}.menu{--menu-active-fg:var(--color-neutral-content);--menu-active-bg:var(--color-neutral);flex-flow:column wrap;width:fit-content;padding:.5rem;font-size:.875rem;display:flex}.menu :where(li ul){white-space:nowrap;margin-inline-start:1rem;padding-inline-start:.5rem;position:relative}.menu :where(li ul):before{background-color:var(--color-base-content);opacity:.1;width:var(--border);content:"";inset-inline-start:0;position:absolute;top:.75rem;bottom:.75rem}.menu :where(li>.menu-dropdown:not(.menu-dropdown-show)){display:none}.menu :where(li:not(.menu-title)>:not(ul,details,.menu-title,.btn)),.menu :where(li:not(.menu-title)>details>summary:not(.menu-title)){border-radius:var(--radius-field);text-align:start;text-wrap:balance;-webkit-user-select:none;user-select:none;grid-auto-columns:minmax(auto,max-content) auto max-content;grid-auto-flow:column;align-content:flex-start;align-items:center;gap:.5rem;padding-block:.375rem;padding-inline:.75rem;transition-property:color,background-color,box-shadow;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,.2,1);display:grid}.menu :where(li>details>summary){--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.menu :where(li>details>summary){outline-offset:2px;outline:2px solid #0000}}.menu :where(li>details>summary)::-webkit-details-marker{display:none}:is(.menu :where(li>details>summary),.menu :where(li>.menu-dropdown-toggle)):after{content:"";transform-origin:50%;pointer-events:none;justify-self:flex-end;width:.375rem;height:.375rem;transition-property:rotate,translate;transition-duration:.2s;display:block;translate:0 -1px;rotate:-135deg;box-shadow:inset 2px 2px}.menu :where(li>details[open]>summary):after,.menu :where(li>.menu-dropdown-toggle.menu-dropdown-show):after{translate:0 1px;rotate:45deg}.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn).menu-focus,.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn):focus-visible{cursor:pointer;background-color:color-mix(in srgb,var(--color-base-content)10%,transparent);color:var(--color-base-content);--tw-outline-style:none;outline-style:none}@supports (color:color-mix(in lab,red,red)){:is(.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn).menu-focus,.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn):focus-visible){background-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}@media (forced-colors:active){:is(.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn).menu-focus,.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn):focus-visible){outline-offset:2px;outline:2px solid #0000}}.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title):not(.menu-active,:active,.btn):hover,li:not(.menu-title,.disabled)>details>summary:not(.menu-title):not(.menu-active,:active,.btn):hover){cursor:pointer;background-color:color-mix(in srgb,var(--color-base-content)10%,transparent);--tw-outline-style:none;outline-style:none;box-shadow:inset 0 1px #00000003,inset 0 -1px #ffffff03}@supports (color:color-mix(in lab,red,red)){.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title):not(.menu-active,:active,.btn):hover,li:not(.menu-title,.disabled)>details>summary:not(.menu-title):not(.menu-active,:active,.btn):hover){background-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}@media (forced-colors:active){.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title):not(.menu-active,:active,.btn):hover,li:not(.menu-title,.disabled)>details>summary:not(.menu-title):not(.menu-active,:active,.btn):hover){outline-offset:2px;outline:2px solid #0000}}.menu :where(li:empty){background-color:var(--color-base-content);opacity:.1;height:1px;margin:.5rem 1rem}.menu :where(li){flex-flow:column wrap;flex-shrink:0;align-items:stretch;display:flex;position:relative}.menu :where(li) .badge{justify-self:flex-end}.menu :where(li)>:not(ul,.menu-title,details,.btn):active,.menu :where(li)>:not(ul,.menu-title,details,.btn).menu-active,.menu :where(li)>details>summary:active{--tw-outline-style:none;color:var(--menu-active-fg);background-color:var(--menu-active-bg);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);outline-style:none}@media (forced-colors:active){:is(.menu :where(li)>:not(ul,.menu-title,details,.btn):active,.menu :where(li)>:not(ul,.menu-title,details,.btn).menu-active,.menu :where(li)>details>summary:active){outline-offset:2px;outline:2px solid #0000}}:is(.menu :where(li)>:not(ul,.menu-title,details,.btn):active,.menu :where(li)>:not(ul,.menu-title,details,.btn).menu-active,.menu :where(li)>details>summary:active):not(:is(.menu :where(li)>:not(ul,.menu-title,details,.btn):active,.menu :where(li)>:not(ul,.menu-title,details,.btn).menu-active,.menu :where(li)>details>summary:active):active){box-shadow:0 2px calc(var(--depth)*3px) -2px var(--menu-active-bg)}.menu :where(li).menu-disabled{pointer-events:none;color:color-mix(in srgb,var(--color-base-content)20%,transparent)}@supports (color:color-mix(in lab,red,red)){.menu :where(li).menu-disabled{color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.menu .dropdown:focus-within .menu-dropdown-toggle:after{translate:0 1px;rotate:45deg}.menu .dropdown-content{margin-top:.5rem;padding:.5rem}.menu .dropdown-content:before{display:none}.floating-label{display:block;position:relative}.floating-label input{display:block}.floating-label input::placeholder,.floating-label textarea::placeholder{transition:top .1s ease-out,translate .1s ease-out,scale .1s ease-out,opacity .1s ease-out}.floating-label>span{z-index:1;background-color:var(--color-base-100);opacity:0;inset-inline-start:.75rem;top:calc(var(--size-field,.25rem)*10/2);pointer-events:none;border-radius:2px;padding-inline:.25rem;font-size:.875rem;line-height:1;transition:top .1s ease-out,translate .1s ease-out,scale .1s ease-out,opacity .1s ease-out;position:absolute;translate:0 -50%}:is(.floating-label:focus-within,.floating-label:not(:has(input:placeholder-shown,textarea:placeholder-shown))) ::placeholder{opacity:0;pointer-events:auto;top:0;translate:-12.5% calc(-50% - .125em);scale:.75}:is(.floating-label:focus-within,.floating-label:not(:has(input:placeholder-shown,textarea:placeholder-shown)))>span{opacity:1;pointer-events:auto;top:0;translate:-12.5% calc(-50% - .125em);scale:.75}.floating-label:has(:disabled,[disabled])>span{opacity:0}.floating-label:has(.input-xs,.select-xs,.textarea-xs) span{top:calc(var(--size-field,.25rem)*6/2);font-size:.6875rem}.floating-label:has(.input-sm,.select-sm,.textarea-sm) span{top:calc(var(--size-field,.25rem)*8/2);font-size:.75rem}.floating-label:has(.input-md,.select-md,.textarea-md) span{top:calc(var(--size-field,.25rem)*10/2);font-size:.875rem}.floating-label:has(.input-lg,.select-lg,.textarea-lg) span{top:calc(var(--size-field,.25rem)*12/2);font-size:1.125rem}.floating-label:has(.input-xl,.select-xl,.textarea-xl) span{top:calc(var(--size-field,.25rem)*14/2);font-size:1.375rem}.collapse-arrow>.collapse-title:after{content:"";transform-origin:75% 75%;pointer-events:none;top:1.9rem;width:.5rem;height:.5rem;transition-property:all;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:block;position:absolute;inset-inline-end:1.4rem;transform:translateY(-100%)rotate(45deg);box-shadow:2px 2px}.collapse-plus>.collapse-title:after{content:"+";pointer-events:none;top:.9rem;width:.5rem;height:.5rem;transition-property:all;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:block;position:absolute;inset-inline-end:1.4rem}.diff-item-2{grid-row-start:1;grid-column-start:1;position:relative}.diff-item-2:after{pointer-events:none;z-index:2;background-color:color-mix(in srgb,var(--color-base-100)50%,transparent);border:2px solid var(--color-base-100);content:"";outline:1px solid color-mix(in srgb,var(--color-base-content)5%,#0000);outline-offset:-3px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:3.40282e38px;width:1.2rem;height:1.8rem;position:absolute;top:50%;bottom:0;right:1px;translate:50% -50%;box-shadow:0 1px 2px #0000001a}@supports (color:color-mix(in lab,red,red)){.diff-item-2:after{background-color:color-mix(in oklab,var(--color-base-100)50%,transparent);outline:1px solid color-mix(in oklab,var(--color-base-content)5%,#0000)}}.diff-item-2>*{pointer-events:none;object-fit:cover;object-position:center;width:100cqi;max-width:none;height:100%;position:absolute;top:0;bottom:0;left:0}@supports (-webkit-overflow-scrolling:touch) and (overflow:-webkit-paged-x){.diff-item-2:after{content:none}}.pika-single:is(div){-webkit-user-select:none;user-select:none;z-index:999;color:var(--color-base-content);background-color:var(--color-base-100);border-radius:var(--radius-box);border:var(--border)solid var(--color-base-200);padding:.5rem;font-size:.75rem;display:inline-block;position:relative}.pika-single:is(div):before,.pika-single:is(div):after{content:"";display:table}.pika-single:is(div):after{clear:both}.pika-single:is(div).is-hidden{display:none}.pika-single:is(div).is-bound{position:absolute}.pika-single:is(div) .pika-lendar{css-float:left}.pika-single:is(div) .pika-title{text-align:center;position:relative}.pika-single:is(div) .pika-title select{cursor:pointer;z-index:999;opacity:0;margin:0;position:absolute;top:5px;left:0}.pika-single:is(div) .pika-label{z-index:999;background-color:var(--color-base-100);margin:0;padding:5px 3px;display:inline-block;position:relative;overflow:hidden}.pika-single:is(div) .pika-prev,.pika-single:is(div) .pika-next{cursor:pointer;color:#0000;border-radius:var(--radius-field);border:0;outline:none;width:2.25rem;height:2.25rem;font-size:1.2em;display:block;position:absolute;top:0}:is(.pika-single:is(div) .pika-prev,.pika-single:is(div) .pika-next):hover{background-color:var(--color-base-200)}:is(.pika-single:is(div) .pika-prev,.pika-single:is(div) .pika-next).is-disabled{cursor:default;opacity:.2}:is(.pika-single:is(div) .pika-prev,.pika-single:is(div) .pika-next):before{width:2.25rem;height:2.25rem;color:var(--color-base-content);line-height:2.25;display:inline-block}.pika-single:is(div) .pika-prev{left:0}.pika-single:is(div) .pika-prev:before{content:"‹"}.pika-single:is(div) .pika-next{right:0}.pika-single:is(div) .pika-next:before{content:"›"}.pika-single:is(div) .pika-select{display:inline-block}.pika-single:is(div) .pika-table{border-collapse:collapse;border-spacing:0;border:0;width:100%}.pika-single:is(div) .pika-table th,.pika-single:is(div) .pika-table td{padding:0}.pika-single:is(div) .pika-table th{opacity:.6;text-align:center;width:2.25rem;height:2.25rem}.pika-single:is(div) .pika-button{cursor:pointer;text-align:right;text-align:center;border:0;outline:none;width:2.25rem;height:2.25rem;margin:0;padding:5px;display:block}.pika-single:is(div) .pika-week{color:var(--color-base-content)}.pika-single:is(div) .is-today .pika-button{background:var(--color-primary);color:var(--color-primary-content)}:is(.pika-single:is(div) .is-selected,.pika-single:is(div) .has-event) .pika-button,:is(.pika-single:is(div) .is-selected,.pika-single:is(div) .has-event) .pika-button:hover{color:var(--color-base-100);background-color:var(--color-base-content);border-radius:var(--radius-field)}.pika-single:is(div) .has-event .pika-button,:is(.pika-single:is(div) .is-disabled,.pika-single:is(div) .is-inrange) .pika-button{background:var(--color-base-primary)}.pika-single:is(div) .is-startrange .pika-button,.pika-single:is(div) .is-endrange .pika-button{color:var(--color-base-100);background:var(--color-base-content);border-radius:var(--radius-field)}.pika-single:is(div) .is-disabled .pika-button{pointer-events:none;cursor:default;color:var(--color-base-content);opacity:.3}.pika-single:is(div) .is-outside-current-month .pika-button{color:var(--color-base-content);opacity:.3}.pika-single:is(div) .is-selection-disabled{pointer-events:none;cursor:default}.pika-single:is(div) .pika-button:hover,.pika-single:is(div) .pika-row.pick-whole-week:hover .pika-button{color:var(--color-base-content);background-color:var(--color-base-200);border-radius:var(--radius-field)}.pika-single:is(div) .pika-table abbr{font-weight:400;text-decoration:none}.diff-item-1{z-index:1;border-right:2px solid var(--color-base-100);grid-row-start:1;grid-column-start:1;position:relative;overflow:hidden}.diff-item-1>*{pointer-events:none;object-fit:cover;object-position:center;width:100cqi;max-width:none;height:100%;position:absolute;top:0;bottom:0;left:0}.dock{z-index:1;background-color:var(--color-base-100);color:currentColor;border-top:.5px solid color-mix(in srgb,var(--color-base-content)5%,#0000);width:100%;height:4rem;height:calc(4rem + env(safe-area-inset-bottom));padding:.5rem;padding-bottom:env(safe-area-inset-bottom);flex-direction:row;justify-content:space-around;align-items:center;display:flex;position:fixed;bottom:0;left:0;right:0}@supports (color:color-mix(in lab,red,red)){.dock{border-top:.5px solid color-mix(in oklab,var(--color-base-content)5%,#0000)}}.dock>*{cursor:pointer;border-radius:var(--radius-box);background-color:#0000;flex-direction:column;flex-shrink:1;flex-basis:100%;justify-content:center;align-items:center;gap:1px;max-width:8rem;height:100%;margin-bottom:.5rem;transition:opacity .2s ease-out;display:flex;position:relative}.dock>:where(.dock-active):after{content:"";background-color:currentColor;border-top:3px solid;border-radius:3.40282e38px;width:2.5rem;height:.25rem;position:absolute;bottom:.2rem}@media (hover:hover){.dock>:hover{opacity:.8}}:is(.dock>[aria-disabled=true],.dock>[disabled]),:is(.dock>[aria-disabled=true],.dock>[disabled]):hover{pointer-events:none;color:color-mix(in srgb,var(--color-base-content)10%,transparent);opacity:1}@supports (color:color-mix(in lab,red,red)){:is(:is(.dock>[aria-disabled=true],.dock>[disabled]),:is(.dock>[aria-disabled=true],.dock>[disabled]):hover){color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}.dock>* .dock-label{font-size:.6875rem}.dropdown{position-area:var(--anchor-v,bottom)var(--anchor-h,span-right);display:inline-block;position:relative}.dropdown>:not(summary):focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.dropdown>:not(summary):focus{outline-offset:2px;outline:2px solid #0000}}.dropdown .dropdown-content{position:absolute}.dropdown:not(details,.dropdown-open,.dropdown-hover:hover,:focus-within) .dropdown-content{transform-origin:top;opacity:0;display:none;scale:95%}.dropdown[popover],.dropdown .dropdown-content{z-index:999;transition-behavior:allow-discrete;transition-property:opacity,scale,display;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1);animation:.2s dropdown}@starting-style{.dropdown[popover],.dropdown .dropdown-content{opacity:0;scale:95%}}:is(.dropdown.dropdown-open,.dropdown:not(.dropdown-hover):focus,.dropdown:focus-within)>[tabindex]:first-child{pointer-events:none}:is(.dropdown.dropdown-open,.dropdown:not(.dropdown-hover):focus,.dropdown:focus-within) .dropdown-content{opacity:1}.dropdown.dropdown-hover:hover .dropdown-content{opacity:1;scale:100%}.dropdown:is(details) summary::-webkit-details-marker{display:none}:is(.dropdown.dropdown-open,.dropdown:focus,.dropdown:focus-within) .dropdown-content{scale:100%}.dropdown:where([popover]){background:0 0}.dropdown[popover]{color:inherit;position:fixed}@supports not (position-area:bottom){.dropdown[popover]{margin:auto}.dropdown[popover].dropdown-open:not(:popover-open){transform-origin:top;opacity:0;display:none;scale:95%}.dropdown[popover]::backdrop{background-color:oklab(0% none none/.3)}}.dropdown[popover]:not(.dropdown-open,:popover-open){transform-origin:top;opacity:0;display:none;scale:95%}.btn{cursor:pointer;text-align:center;vertical-align:middle;outline-offset:2px;webkit-user-select:none;-webkit-user-select:none;user-select:none;padding-inline:var(--btn-p);color:var(--btn-fg);--tw-prose-links:var(--btn-fg);height:var(--size);font-size:var(--fontsize,.875rem);outline-color:var(--btn-color,var(--color-base-content));background-color:var(--btn-bg);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--btn-noise);border-width:var(--border);border-style:solid;border-color:var(--btn-border);text-shadow:0 .5px oklch(100% 0 0/calc(var(--depth)*.15));box-shadow:0 .5px 0 .5px oklch(100% 0 0/calc(var(--depth)*6%)) inset,var(--btn-shadow);--size:calc(var(--size-field,.25rem)*10);--btn-bg:var(--btn-color,var(--color-base-200));--btn-fg:var(--color-base-content);--btn-p:1rem;--btn-border:color-mix(in oklab,var(--btn-bg),#000 calc(var(--depth)*5%));--btn-shadow:0 3px 2px -2px color-mix(in oklab,var(--btn-bg)calc(var(--depth)*30%),#0000),0 4px 3px -2px color-mix(in oklab,var(--btn-bg)calc(var(--depth)*30%),#0000);--btn-noise:var(--fx-noise);border-start-start-radius:var(--join-ss,var(--radius-field));border-start-end-radius:var(--join-se,var(--radius-field));border-end-end-radius:var(--join-ee,var(--radius-field));border-end-start-radius:var(--join-es,var(--radius-field));flex-wrap:nowrap;flex-shrink:0;justify-content:center;align-items:center;gap:.375rem;font-weight:600;transition-property:color,background-color,border-color,box-shadow;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,.2,1);display:inline-flex}:where(.btn){width:unset}.prose .btn{text-decoration-line:none}@media (hover:hover){.btn:hover{--btn-bg:color-mix(in srgb,var(--btn-color,var(--color-base-200)),#000 7%)}@supports (color:color-mix(in lab,red,red)){.btn:hover{--btn-bg:color-mix(in oklab,var(--btn-color,var(--color-base-200)),#000 7%)}}}.btn:focus-visible{outline-width:2px;outline-style:solid}.btn:active:not(.btn-active){--btn-bg:color-mix(in srgb,var(--btn-color,var(--color-base-200)),#000 5%);--btn-border:color-mix(in srgb,var(--btn-color,var(--color-base-200)),#000 7%);--btn-shadow:0 0 0 0 oklch(0% 0 0/0),0 0 0 0 oklch(0% 0 0/0);translate:0 .5px}@supports (color:color-mix(in lab,red,red)){.btn:active:not(.btn-active){--btn-bg:color-mix(in oklab,var(--btn-color,var(--color-base-200)),#000 5%);--btn-border:color-mix(in oklab,var(--btn-color,var(--color-base-200)),#000 7%)}}.btn:is(:disabled,[disabled],.btn-disabled){pointer-events:none;--btn-border:#0000;--btn-noise:none;--btn-fg:color-mix(in srgb,var(--color-base-content)20%,#0000)}.btn:is(:disabled,[disabled],.btn-disabled):not(.btn-link,.btn-ghost){background-color:color-mix(in srgb,var(--color-base-content)10%,transparent);box-shadow:none}@supports (color:color-mix(in lab,red,red)){.btn:is(:disabled,[disabled],.btn-disabled):not(.btn-link,.btn-ghost){background-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}.btn:is(:disabled,[disabled],.btn-disabled){--btn-fg:color-mix(in oklch,var(--color-base-content)20%,#0000)}}@media (hover:hover){.btn:is(:disabled,[disabled],.btn-disabled):hover{pointer-events:none;background-color:color-mix(in srgb,var(--color-neutral)20%,transparent);--btn-border:#0000;--btn-fg:color-mix(in srgb,var(--color-base-content)20%,#0000)}@supports (color:color-mix(in lab,red,red)){.btn:is(:disabled,[disabled],.btn-disabled):hover{background-color:color-mix(in oklab,var(--color-neutral)20%,transparent);--btn-fg:color-mix(in oklch,var(--color-base-content)20%,#0000)}}}.btn:is(input[type=checkbox],input[type=radio]){-webkit-appearance:none;-moz-appearance:none;appearance:none}.btn:is(input[type=checkbox],input[type=radio]):after{content:attr(aria-label)}.btn:where(input:checked:not(.filter .btn)){--btn-color:var(--color-primary);--btn-fg:var(--color-primary-content);isolation:isolate}.\!loading{pointer-events:none!important;aspect-ratio:1!important;vertical-align:middle!important;width:calc(var(--size-selector,.25rem)*6)!important;background-color:currentColor!important;display:inline-block!important;-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E")!important;mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E")!important;-webkit-mask-position:50%!important;mask-position:50%!important;-webkit-mask-size:100%!important;mask-size:100%!important;-webkit-mask-repeat:no-repeat!important;mask-repeat:no-repeat!important}.loading{pointer-events:none;aspect-ratio:1;vertical-align:middle;width:calc(var(--size-selector,.25rem)*6);background-color:currentColor;display:inline-block;-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E");-webkit-mask-position:50%;mask-position:50%;-webkit-mask-size:100%;mask-size:100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.tab-disabled{pointer-events:none;opacity:.4}.pointer-events-none{pointer-events:none}.react-day-picker{-webkit-user-select:none;user-select:none;background-color:var(--color-base-100);border-radius:var(--radius-box);border:var(--border)solid var(--color-base-200);font-size:.75rem;display:inline-block;position:relative;overflow:clip}.react-day-picker[dir=rtl] .rdp-nav .rdp-chevron{transform-origin:50%;transform:rotate(180deg)}.react-day-picker *{box-sizing:border-box}.react-day-picker .rdp-day{text-align:center;width:2.25rem;height:2.25rem}.react-day-picker .rdp-day_button{cursor:pointer;font:inherit;color:inherit;border-radius:var(--radius-field);background:0 0;border:2px solid #0000;justify-content:center;align-items:center;width:2.25rem;height:2.25rem;margin:0;padding:0;display:flex}.react-day-picker .rdp-day_button:disabled{cursor:revert}.react-day-picker .rdp-day_button:hover{background-color:var(--color-base-200)}.react-day-picker .rdp-caption_label{z-index:1;white-space:nowrap;border:0;align-items:center;display:inline-flex;position:relative}.react-day-picker .rdp-button_next{border-radius:var(--radius-field)}.react-day-picker .rdp-button_next:hover{background-color:var(--color-base-200)}.react-day-picker .rdp-button_previous{border-radius:var(--radius-field)}.react-day-picker .rdp-button_previous:hover{background-color:var(--color-base-200)}.react-day-picker .rdp-button_next,.react-day-picker .rdp-button_previous{cursor:pointer;font:inherit;color:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:none;justify-content:center;align-items:center;width:2.25rem;height:2.25rem;margin:0;padding:0;display:inline-flex;position:relative}:is(.react-day-picker .rdp-button_next,.react-day-picker .rdp-button_previous):disabled{cursor:revert;opacity:.5}.react-day-picker .rdp-chevron{fill:var(--color-base-content);width:1rem;height:1rem;display:inline-block}.react-day-picker .rdp-dropdowns{align-items:center;gap:.5rem;display:inline-flex;position:relative}.react-day-picker .rdp-dropdown{z-index:2;opacity:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:inherit;line-height:inherit;border:none;width:100%;margin:0;padding:0;position:absolute;inset-block:0;inset-inline-start:0}.react-day-picker .rdp-dropdown:focus-visible~.rdp-caption_label{outline:5px auto highlight;outline:5px auto -webkit-focus-ring-color}.react-day-picker .rdp-dropdown_root{align-items:center;display:inline-flex;position:relative}.react-day-picker .rdp-dropdown_root[data-disabled=true] .rdp-chevron{opacity:.5}.react-day-picker .rdp-month_caption{height:2.75rem;font-size:.75rem;font-weight:inherit;place-content:center;display:flex}.react-day-picker .rdp-months{flex-wrap:wrap;gap:2rem;max-width:fit-content;padding:.5rem;display:flex;position:relative}.react-day-picker .rdp-month_grid{border-collapse:collapse}.react-day-picker .rdp-nav{inset-block-start:0;inset-inline-end:0;justify-content:space-between;align-items:center;width:100%;height:2.75rem;padding-inline:.5rem;display:flex;position:absolute;top:.25rem}.react-day-picker .rdp-weekday{opacity:.6;text-align:center;padding:.5rem 0;font-size:smaller;font-weight:500}.react-day-picker .rdp-week_number{opacity:.6;text-align:center;border:none;border-radius:100%;width:2.25rem;height:2.25rem;font-size:small;font-weight:400}.react-day-picker .rdp-today:not(.rdp-outside) .rdp-day_button{background:var(--color-primary);color:var(--color-primary-content)}.react-day-picker .rdp-selected{font-weight:inherit;font-size:.75rem}.react-day-picker .rdp-selected .rdp-day_button{color:var(--color-base-100);background-color:var(--color-base-content);border-radius:var(--radius-field);border:none}.react-day-picker .rdp-selected .rdp-day_button:hover{background-color:var(--color-base-content)}.react-day-picker .rdp-outside{opacity:.75}.react-day-picker .rdp-disabled{opacity:.5}.react-day-picker .rdp-hidden{visibility:hidden;color:var(--color-base-content)}.react-day-picker .rdp-range_start .rdp-day_button{border-radius:var(--radius-field)0 0 var(--radius-field);background-color:var(--color-base-content);color:var(--color-base-content)}.react-day-picker .rdp-range_middle{background-color:var(--color-base-200)}.react-day-picker .rdp-range_middle .rdp-day_button{border:unset;border-radius:unset;color:inherit}.react-day-picker .rdp-range_end{color:var(--color-base-content)}.react-day-picker .rdp-range_end .rdp-day_button{border-radius:0 var(--radius-field)var(--radius-field)0;color:var(--color-base-content);background-color:var(--color-base-content)}.react-day-picker .rdp-range_start.rdp-range_end{background:revert}.react-day-picker .rdp-focusable{cursor:pointer}.react-day-picker .rdp-footer{border-top:var(--border)solid var(--color-base-200);padding:.5rem}.collapse{border-radius:var(--radius-box,1rem);grid-template-rows:max-content 0fr;width:100%;transition:grid-template-rows .2s;display:grid;position:relative;overflow:hidden}.collapse:not(td,tr,colgroup){visibility:visible}.collapse>input:is([type=checkbox],[type=radio]){-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:0;z-index:1;grid-row-start:1;grid-column-start:1;width:100%;min-height:3.75rem;padding:1rem;padding-inline-end:3rem;transition:background-color .2s ease-out}.collapse:is([open],:focus:not(.collapse-close)),.collapse:not(.collapse-close):has(>input:is([type=checkbox],[type=radio]):checked){grid-template-rows:max-content 1fr}.collapse:is([open],:focus:not(.collapse-close))>.collapse-content,.collapse:not(.collapse-close)>:where(input:is([type=checkbox],[type=radio]):checked~.collapse-content){visibility:visible;min-height:fit-content}.collapse:focus-visible,.collapse:has(>input:is([type=checkbox],[type=radio]):focus-visible){outline-color:var(--color-base-content);outline-offset:2px;outline-width:2px;outline-style:solid}.collapse:not(.collapse-close)>input[type=checkbox],.collapse:not(.collapse-close)>input[type=radio]:not(:checked),.collapse:not(.collapse-close)>.collapse-title{cursor:pointer}.collapse:focus:not(.collapse-close,.collapse[open])>.collapse-title{cursor:unset}.collapse:is([open],:focus:not(.collapse-close))>:where(.collapse-content),.collapse:not(.collapse-close)>:where(input:is([type=checkbox],[type=radio]):checked~.collapse-content){padding-bottom:1rem;transition:padding .2s ease-out,background-color .2s ease-out}.collapse[open].collapse-arrow>.collapse-title:after,.collapse.collapse-open.collapse-arrow>.collapse-title:after{transform:translateY(-50%)rotate(225deg)}.collapse.collapse-open.collapse-plus>.collapse-title:after{content:"−"}.collapse.collapse-arrow:focus:not(.collapse-close)>.collapse-title:after,.collapse.collapse-arrow:not(.collapse-close)>input:is([type=checkbox],[type=radio]):checked~.collapse-title:after{transform:translateY(-50%)rotate(225deg)}.collapse[open].collapse-plus>.collapse-title:after,.collapse.collapse-plus:focus:not(.collapse-close)>.collapse-title:after,.collapse.collapse-plus:not(.collapse-close)>input:is([type=checkbox],[type=radio]):checked~.collapse-title:after{content:"−"}.collapse:is(details){width:100%}.collapse:is(details) summary{display:block;position:relative}.collapse:is(details) summary::-webkit-details-marker{display:none}.collapse:is(details) summary{outline:none}.collapse-content{visibility:hidden;min-height:0;cursor:unset;grid-row-start:2;grid-column-start:1;padding-left:1rem;padding-right:1rem;transition:padding .2s ease-out,background-color .2s ease-out}.validator:user-valid{--input-color:var(--color-success)}.validator:user-valid:focus{--input-color:var(--color-success)}.validator:user-valid:checked{--input-color:var(--color-success)}.validator:user-valid[aria-checked=true]{--input-color:var(--color-success)}.validator:user-valid:focus-within{--input-color:var(--color-success)}.validator:has(:user-valid){--input-color:var(--color-success)}.validator:has(:user-valid):focus{--input-color:var(--color-success)}.validator:has(:user-valid):checked{--input-color:var(--color-success)}.validator:has(:user-valid)[aria-checked=true]{--input-color:var(--color-success)}.validator:has(:user-valid):focus-within{--input-color:var(--color-success)}.validator:user-invalid{--input-color:var(--color-error)}.validator:user-invalid:focus{--input-color:var(--color-error)}.validator:user-invalid:checked{--input-color:var(--color-error)}.validator:user-invalid[aria-checked=true]{--input-color:var(--color-error)}.validator:user-invalid:focus-within{--input-color:var(--color-error)}.validator:user-invalid~.validator-hint{visibility:visible;color:var(--color-error);display:block}.validator:has(:user-invalid){--input-color:var(--color-error)}.validator:has(:user-invalid):focus{--input-color:var(--color-error)}.validator:has(:user-invalid):checked{--input-color:var(--color-error)}.validator:has(:user-invalid)[aria-checked=true]{--input-color:var(--color-error)}.validator:has(:user-invalid):focus-within{--input-color:var(--color-error)}.validator:has(:user-invalid)~.validator-hint{visibility:visible;color:var(--color-error);display:block}.validator~.validator-hint{visibility:hidden}.collapse-open{grid-template-rows:max-content 1fr}.collapse-open>.collapse-content{visibility:visible;min-height:fit-content;transition:padding .2sease-out,background-color .2sease-out;padding-bottom:1rem}.collapse{visibility:collapse}.invisible{visibility:hidden}.visible{visibility:visible}.tabs-lift{--tabs-height:auto;--tabs-direction:row}.tabs-lift>.tab{--tab-border:0 0 var(--border)0;--tab-radius-ss:min(var(--radius-field),var(--tab-radius-min));--tab-radius-se:min(var(--radius-field),var(--tab-radius-min));--tab-radius-es:0;--tab-radius-ee:0;--tab-paddings:var(--border)var(--tab-p)0 var(--tab-p);--tab-border-colors:#0000 #0000 var(--tab-border-color)#0000;--tab-corner-width: calc(100% + min(var(--radius-field),var(--tab-radius-min))*2) ;--tab-corner-height:min(var(--radius-field),var(--tab-radius-min));--tab-corner-position:top left,top right;border-width:var(--tab-border);padding:var(--tab-paddings);border-color:var(--tab-border-colors);border-start-start-radius:var(--tab-radius-ss);border-start-end-radius:var(--tab-radius-se);border-end-end-radius:var(--tab-radius-ee);border-end-start-radius:var(--tab-radius-es)}.tabs-lift>.tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-lift>.tab:is(input:checked,label:has(:checked)){--tab-border:var(--border)var(--border)0 var(--border);--tab-border-colors:var(--tab-border-color)var(--tab-border-color)#0000 var(--tab-border-color);--tab-paddings:0 calc(var(--tab-p) - var(--border))var(--border)calc(var(--tab-p) - var(--border));--tab-inset:auto auto 0 auto;--tab-grad:calc(69% - var(--border));--radius-start:radial-gradient(circle at top left,#0000 var(--tab-grad),var(--tab-border-color)calc(var(--tab-grad) + .25px),var(--tab-border-color)calc(var(--tab-grad) + var(--border)),var(--tab-bg)calc(var(--tab-grad) + var(--border) + .25px));--radius-end:radial-gradient(circle at top right,#0000 var(--tab-grad),var(--tab-border-color)calc(var(--tab-grad) + .25px),var(--tab-border-color)calc(var(--tab-grad) + var(--border)),var(--tab-bg)calc(var(--tab-grad) + var(--border) + .25px));background-color:var(--tab-bg)}:is(.tabs-lift>.tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-lift>.tab:is(input:checked,label:has(:checked))):before{z-index:1;content:"";width:var(--tab-corner-width);height:var(--tab-corner-height);background-position:var(--tab-corner-position);background-image:var(--radius-start),var(--radius-end);background-size:min(var(--radius-field),var(--tab-radius-min))min(var(--radius-field),var(--tab-radius-min));inset:var(--tab-inset);background-repeat:no-repeat;display:block;position:absolute}:is(.tabs-lift>.tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-lift>.tab:is(input:checked,label:has(:checked))):first-child:before{--radius-start:none}[dir=rtl] :is(.tabs-lift>.tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-lift>.tab:is(input:checked,label:has(:checked))):first-child:before{transform:rotateY(180deg)}:is(.tabs-lift>.tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-lift>.tab:is(input:checked,label:has(:checked))):last-child:before{--radius-end:none}[dir=rtl] :is(.tabs-lift>.tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-lift>.tab:is(input:checked,label:has(:checked))):last-child:before{transform:rotateY(180deg)}.tabs-lift:has(.tab-content)>.tab:first-child:not(.tab-active,[aria-selected=true]){--tab-border-colors:var(--tab-border-color)var(--tab-border-color)#0000 var(--tab-border-color)}.tabs-lift .tab-content{--tabcontent-margin:calc(-1*var(--border))0 0 0;--tabcontent-radius-ss:0;--tabcontent-radius-se:var(--radius-box);--tabcontent-radius-es:var(--radius-box);--tabcontent-radius-ee:var(--radius-box)}:is(.tabs-lift :checked,.tabs-lift label:has(:checked),.tabs-lift :is(.tab-active,[aria-selected=true]))+.tab-content:first-child,:is(.tabs-lift :checked,.tabs-lift label:has(:checked),.tabs-lift :is(.tab-active,[aria-selected=true]))+.tab-content:nth-child(n+3){--tabcontent-radius-ss:var(--radius-box)}.radial-progress{height:var(--size);width:var(--size);vertical-align:middle;box-sizing:content-box;--value:0;--size:5rem;--thickness:calc(var(--size)/10);--radialprogress:calc(var(--value)*1%);background-color:#0000;border-radius:3.40282e38px;place-content:center;transition:--radialprogress .3s linear;display:inline-grid;position:relative}.radial-progress:before{content:"";background:radial-gradient(farthest-side,currentColor 98%,#0000)top/var(--thickness)var(--thickness)no-repeat,conic-gradient(currentColor var(--radialprogress),#0000 0);webkit-mask:radial-gradient(farthest-side,#0000 calc(100% - var(--thickness)),#000 calc(100% + .5px - var(--thickness)));-webkit-mask:radial-gradient(farthest-side,#0000 calc(100% - var(--thickness)),#000 calc(100% + .5px - var(--thickness)));mask:radial-gradient(farthest-side,#0000 calc(100% - var(--thickness)),#000 calc(100% + .5px - var(--thickness)));border-radius:3.40282e38px;position:absolute;top:0;right:0;bottom:0;left:0}.radial-progress:after{content:"";inset:calc(50% - var(--thickness)/2);transform:rotate(calc(var(--value)*3.6deg - 90deg))translate(calc(var(--size)/2 - 50%));background-color:currentColor;border-radius:3.40282e38px;transition:transform .3s linear;position:absolute}.list{flex-direction:column;font-size:.875rem;display:flex}.list :where(.list-row){--list-grid-cols:minmax(0,auto)1fr;border-radius:var(--radius-box);word-break:break-word;grid-auto-flow:column;grid-template-columns:var(--list-grid-cols);gap:1rem;padding:1rem;display:grid;position:relative}.list :where(.list-row):has(.list-col-grow:first-child){--list-grid-cols:1fr}.list :where(.list-row):has(.list-col-grow:nth-child(2)){--list-grid-cols:minmax(0,auto)1fr}.list :where(.list-row):has(.list-col-grow:nth-child(3)){--list-grid-cols:minmax(0,auto)minmax(0,auto)1fr}.list :where(.list-row):has(.list-col-grow:nth-child(4)){--list-grid-cols:minmax(0,auto)minmax(0,auto)minmax(0,auto)1fr}.list :where(.list-row):has(.list-col-grow:nth-child(5)){--list-grid-cols:minmax(0,auto)minmax(0,auto)minmax(0,auto)minmax(0,auto)1fr}.list :where(.list-row):has(.list-col-grow:nth-child(6)){--list-grid-cols:minmax(0,auto)minmax(0,auto)minmax(0,auto)minmax(0,auto)minmax(0,auto)1fr}.list :where(.list-row) :not(.list-col-wrap){grid-row-start:1}:is(.list>:not(:last-child).list-row,.list>:not(:last-child) .list-row):after{content:"";border-bottom:var(--border)solid;inset-inline:var(--radius-box);border-color:color-mix(in srgb,var(--color-base-content)5%,transparent);position:absolute;bottom:0}@supports (color:color-mix(in lab,red,red)){:is(.list>:not(:last-child).list-row,.list>:not(:last-child) .list-row):after{border-color:color-mix(in oklab,var(--color-base-content)5%,transparent)}}.toast{white-space:nowrap;min-width:fit-content;translate:var(--toast-x,0)var(--toast-y,0);inset-inline:auto 0;background-color:#0000;flex-direction:column;gap:.5rem;margin:1rem;display:flex;position:fixed;top:auto;bottom:0}.toast>*{animation:.25s ease-out toast}.toast:where(.toast-start){--toast-x:0;inset-inline:0 auto}.toast:where(.toast-center){--toast-x:-50%;inset-inline:50%}.toast:where(.toast-end){--toast-x:0;inset-inline:auto 0}.toast:where(.toast-bottom){--toast-y:0;top:auto;bottom:0}.toast:where(.toast-middle){--toast-y:-50%;top:50%;bottom:auto}.toast:where(.toast-top){--toast-y:0;top:0;bottom:auto}.toggle{border:var(--border)solid currentColor;color:var(--input-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;webkit-user-select:none;-webkit-user-select:none;user-select:none;--radius-selector-max:calc(var(--radius-selector) + var(--radius-selector) + var(--radius-selector));border-radius:calc(var(--radius-selector) + min(var(--toggle-p),var(--radius-selector-max)) + min(var(--border),var(--radius-selector-max)));padding:var(--toggle-p);box-shadow:0 1px color-mix(in oklab,currentColor calc(var(--depth)*10%),#0000) inset;--input-color:color-mix(in srgb,var(--color-base-content)50%,#0000);--toggle-p:.1875rem;--size:calc(var(--size-selector,.25rem)*6);width:calc((var(--size)*2) - (var(--border) + var(--toggle-p))*2);height:var(--size);flex-shrink:0;grid-template-columns:0fr 1fr 1fr;place-content:center;transition:color .3s,grid-template-columns .2s;display:inline-grid;position:relative}@supports (color:color-mix(in lab,red,red)){.toggle{--input-color:color-mix(in oklab,var(--color-base-content)50%,#0000)}}.toggle>*{z-index:1;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#0000;border:none;grid-column:2/span 1;grid-row-start:1;height:100%;padding:.125rem;transition:opacity .2s,rotate .4s}.toggle>:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.toggle>:focus{outline-offset:2px;outline:2px solid #0000}}.toggle>:nth-child(2){color:var(--color-base-100);rotate:none}.toggle>:nth-child(3){color:var(--color-base-100);opacity:0;rotate:-15deg}.toggle:has(:checked)>:nth-child(2){opacity:0;rotate:15deg}.toggle:has(:checked)>:nth-child(3){opacity:1;rotate:none}.toggle:before{aspect-ratio:1;border-radius:var(--radius-selector);--tw-content:"";content:var(--tw-content);height:100%;box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px color-mix(in oklab,currentColor calc(var(--depth)*10%),#0000);background-color:currentColor;background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);grid-row-start:1;grid-column-start:2;transition:background-color .1s,translate .2s,inset-inline-start .2s;position:relative;inset-inline-start:0;translate:0}@media (forced-colors:active){.toggle:before{outline-style:var(--tw-outline-style);outline-offset:-1px;outline-width:1px}}@media print{.toggle:before{outline-offset:-1rem;outline:.25rem solid}}.toggle:focus-visible,.toggle:has(:focus-visible){outline-offset:2px;outline:2px solid}.toggle:checked,.toggle[aria-checked=true],.toggle:has(>input:checked){background-color:var(--color-base-100);--input-color:var(--color-base-content);grid-template-columns:1fr 1fr 0fr}:is(.toggle:checked,.toggle[aria-checked=true],.toggle:has(>input:checked)):before{background-color:currentColor}@starting-style{:is(.toggle:checked,.toggle[aria-checked=true],.toggle:has(>input:checked)):before{opacity:0}}.toggle:indeterminate{grid-template-columns:.5fr 1fr .5fr}.toggle:disabled{cursor:not-allowed;opacity:.3}.toggle:disabled:before{border:var(--border)solid currentColor;background-color:#0000}.input{cursor:text;border:var(--border)solid #0000;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--color-base-100);vertical-align:middle;white-space:nowrap;width:clamp(3rem,20rem,100%);height:var(--size);border-color:var(--input-color);box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000) inset,0 -1px oklch(100% 0 0/calc(var(--depth)*.1)) inset;--size:calc(var(--size-field,.25rem)*10);--input-color:color-mix(in srgb,var(--color-base-content)20%,#0000);border-start-start-radius:var(--join-ss,var(--radius-field));border-start-end-radius:var(--join-se,var(--radius-field));border-end-end-radius:var(--join-ee,var(--radius-field));border-end-start-radius:var(--join-es,var(--radius-field));flex-shrink:1;align-items:center;gap:.5rem;padding-inline:.75rem;font-size:.875rem;display:inline-flex;position:relative}@supports (color:color-mix(in lab,red,red)){.input{--input-color:color-mix(in oklab,var(--color-base-content)20%,#0000)}}.input:where(input){display:inline-flex}.input :where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#0000;border:none;width:100%;height:100%;display:inline-flex}.input :where(input):focus,.input :where(input):focus-within{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){:is(.input :where(input):focus,.input :where(input):focus-within){outline-offset:2px;outline:2px solid #0000}}.input :where(input[type=date]){display:inline-block}.input:focus,.input:focus-within{--input-color:var(--color-base-content);box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000);outline:2px solid var(--input-color);outline-offset:2px;isolation:isolate}.input:has(>input[disabled]),.input:is(:disabled,[disabled]){cursor:not-allowed;border-color:var(--color-base-200);background-color:var(--color-base-200);color:color-mix(in srgb,var(--color-base-content)40%,transparent);box-shadow:none}@supports (color:color-mix(in lab,red,red)){:is(.input:has(>input[disabled]),.input:is(:disabled,[disabled])){color:color-mix(in oklab,var(--color-base-content)40%,transparent)}}:is(.input:has(>input[disabled]),.input:is(:disabled,[disabled]))::placeholder{color:color-mix(in srgb,var(--color-base-content)20%,transparent)}@supports (color:color-mix(in lab,red,red)){:is(.input:has(>input[disabled]),.input:is(:disabled,[disabled]))::placeholder{color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.input:has(>input[disabled])>input[disabled]{cursor:not-allowed}.input::-webkit-date-and-time-value{text-align:inherit}.input[type=number]::-webkit-inner-spin-button{margin-block:-.75rem;margin-inline-end:-.75rem}.input::-webkit-calendar-picker-indicator{position:absolute;inset-inline-end:.75em}.indicator{width:max-content;display:inline-flex;position:relative}.indicator :where(.indicator-item){z-index:1;white-space:nowrap;top:var(--inidicator-t,0);bottom:var(--inidicator-b,auto);left:var(--inidicator-s,auto);right:var(--inidicator-e,0);translate:var(--inidicator-x,50%)var(--indicator-y,-50%);position:absolute}.table{border-radius:var(--radius-box);text-align:left;width:100%;font-size:.875rem;position:relative}.table:where(:dir(rtl),[dir=rtl],[dir=rtl] *){text-align:right}@media (hover:hover){:is(.table tr.row-hover,.table tr.row-hover:nth-child(2n)):hover{background-color:var(--color-base-200)}}.table :where(th,td){vertical-align:middle;padding-block:.75rem;padding-inline:1rem}.table :where(thead,tfoot){white-space:nowrap;color:color-mix(in srgb,var(--color-base-content)60%,transparent);font-size:.875rem;font-weight:600}@supports (color:color-mix(in lab,red,red)){.table :where(thead,tfoot){color:color-mix(in oklab,var(--color-base-content)60%,transparent)}}.table :where(tfoot){border-top:var(--border)solid color-mix(in srgb,var(--color-base-content)5%,#0000)}@supports (color:color-mix(in lab,red,red)){.table :where(tfoot){border-top:var(--border)solid color-mix(in oklch,var(--color-base-content)5%,#0000)}}.table :where(.table-pin-rows thead tr){z-index:1;background-color:var(--color-base-100);position:sticky;top:0}.table :where(.table-pin-rows tfoot tr){z-index:1;background-color:var(--color-base-100);position:sticky;bottom:0}.table :where(.table-pin-cols tr th){background-color:var(--color-base-100);position:sticky;left:0;right:0}.table :where(thead tr,tbody tr:not(:last-child)){border-bottom:var(--border)solid color-mix(in srgb,var(--color-base-content)5%,#0000)}@supports (color:color-mix(in lab,red,red)){.table :where(thead tr,tbody tr:not(:last-child)){border-bottom:var(--border)solid color-mix(in oklch,var(--color-base-content)5%,#0000)}}.avatar-offline:before{content:"";z-index:1;background-color:var(--color-base-300);outline:2px solid var(--color-base-100);border-radius:3.40282e38px;width:15%;height:15%;display:block;position:absolute;top:7%;right:7%}.avatar-online:before{content:"";z-index:1;background-color:var(--color-success);outline:2px solid var(--color-base-100);border-radius:3.40282e38px;width:15%;height:15%;display:block;position:absolute;top:7%;right:7%}.steps{counter-reset:step;grid-auto-columns:1fr;grid-auto-flow:column;display:inline-grid;overflow:auto hidden}.steps .step{text-align:center;--step-bg:var(--color-base-300);--step-fg:var(--color-base-content);grid-template-rows:40px 1fr;grid-template-columns:auto;place-items:center;min-width:4rem;display:grid}.steps .step:before{width:100%;height:.5rem;color:var(--step-bg);background-color:var(--step-bg);--tw-content:"";content:var(--tw-content);border:1px solid;grid-row-start:1;grid-column-start:1;margin-inline-start:-100%;top:0}.steps .step>.step-icon,.steps .step:not(:has(.step-icon)):after{content:counter(step);counter-increment:step;z-index:1;color:var(--step-fg);background-color:var(--step-bg);border:1px solid var(--step-bg);border-radius:3.40282e38px;grid-row-start:1;grid-column-start:1;place-self:center;place-items:center;width:2rem;height:2rem;display:grid;position:relative}.steps .step:first-child:before{content:none}.steps .step[data-content]:after{content:attr(data-content)}.steps .step-neutral+.step-neutral:before,.steps .step-neutral:after,.steps .step-neutral>.step-icon{--step-bg:var(--color-neutral);--step-fg:var(--color-neutral-content)}.steps .step-primary+.step-primary:before,.steps .step-primary:after,.steps .step-primary>.step-icon{--step-bg:var(--color-primary);--step-fg:var(--color-primary-content)}.steps .step-secondary+.step-secondary:before,.steps .step-secondary:after,.steps .step-secondary>.step-icon{--step-bg:var(--color-secondary);--step-fg:var(--color-secondary-content)}.steps .step-accent+.step-accent:before,.steps .step-accent:after,.steps .step-accent>.step-icon{--step-bg:var(--color-accent);--step-fg:var(--color-accent-content)}.steps .step-info+.step-info:before,.steps .step-info:after,.steps .step-info>.step-icon{--step-bg:var(--color-info);--step-fg:var(--color-info-content)}.steps .step-success+.step-success:before,.steps .step-success:after,.steps .step-success>.step-icon{--step-bg:var(--color-success);--step-fg:var(--color-success-content)}.steps .step-warning+.step-warning:before,.steps .step-warning:after,.steps .step-warning>.step-icon{--step-bg:var(--color-warning);--step-fg:var(--color-warning-content)}.steps .step-error+.step-error:before,.steps .step-error:after,.steps .step-error>.step-icon{--step-bg:var(--color-error);--step-fg:var(--color-error-content)}.diff-resizer{z-index:1;resize:horizontal;opacity:0;cursor:ew-resize;transform-origin:100% 100%;clip-path:inset(calc(100% - .75rem) 0 0 calc(100% - .75rem));grid-row-start:1;grid-column-start:1;width:50cqi;min-width:1rem;max-width:calc(100cqi - 1rem);height:.5rem;transition:min-width .3s ease-out,max-width .3s ease-out;position:relative;top:50%;overflow:hidden;transform:scaleY(3)translate(.35rem,.08rem)}.range{-webkit-appearance:none;-moz-appearance:none;appearance:none;webkit-appearance:none;--range-thumb:var(--color-base-100);--range-thumb-size:calc(var(--size-selector,.25rem)*6);--range-progress:currentColor;--range-fill:1;--range-p:.25rem;--range-bg:color-mix(in oklab,currentColor 10%,#0000);cursor:pointer;vertical-align:middle;--radius-selector-max:calc(var(--radius-selector) + var(--radius-selector) + var(--radius-selector));border-radius:calc(var(--radius-selector) + min(var(--range-p),var(--radius-selector-max)));width:clamp(3rem,20rem,100%);height:var(--range-thumb-size);background-color:#0000;border:none;overflow:hidden}[dir=rtl] .range{--range-dir:-1}.range:focus{outline:none}.range:focus-visible{outline-offset:2px;outline:2px solid}.range::-webkit-slider-runnable-track{background-color:var(--range-bg);border-radius:var(--radius-selector);width:100%;height:calc(var(--range-thumb-size)*.5)}@media (forced-colors:active){.range::-webkit-slider-runnable-track{border:1px solid}.range::-moz-range-track{border:1px solid}}.range::-webkit-slider-thumb{box-sizing:border-box;border-radius:calc(var(--radius-selector) + min(var(--range-p),var(--radius-selector-max)));height:var(--range-thumb-size);width:var(--range-thumb-size);border:var(--range-p)solid;-webkit-appearance:none;-moz-appearance:none;appearance:none;webkit-appearance:none;color:var(--range-progress);box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px color-mix(in oklab,currentColor calc(var(--depth)*10%),#0000),0 0 0 2rem var(--range-thumb) inset,calc((var(--range-dir,1)*-100rem) - (var(--range-dir,1)*var(--range-thumb-size)/2)) 0 0 calc(100rem*var(--range-fill));background-color:currentColor;position:relative;top:50%;transform:translateY(-50%)}.range::-moz-range-track{background-color:var(--range-bg);border-radius:var(--radius-selector);width:100%;height:calc(var(--range-thumb-size)*.5)}.range::-moz-range-thumb{box-sizing:border-box;border-radius:calc(var(--radius-selector) + min(var(--range-p),var(--radius-selector-max)));height:var(--range-thumb-size);width:var(--range-thumb-size);border:var(--range-p)solid;color:var(--range-progress);box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px color-mix(in oklab,currentColor calc(var(--depth)*10%),#0000),0 0 0 2rem var(--range-thumb) inset,calc((var(--range-dir,1)*-100rem) - (var(--range-dir,1)*var(--range-thumb-size)/2)) 0 0 calc(100rem*var(--range-fill));background-color:currentColor;position:relative;top:50%}.range:disabled{cursor:not-allowed;opacity:.3}.countdown{display:inline-flex}.countdown.countdown{line-height:1em}.countdown>*{height:1em;display:inline-block;overflow-y:hidden}.countdown>:before{content:"00\a 01\a 02\a 03\a 04\a 05\a 06\a 07\a 08\a 09\a 10\a 11\a 12\a 13\a 14\a 15\a 16\a 17\a 18\a 19\a 20\a 21\a 22\a 23\a 24\a 25\a 26\a 27\a 28\a 29\a 30\a 31\a 32\a 33\a 34\a 35\a 36\a 37\a 38\a 39\a 40\a 41\a 42\a 43\a 44\a 45\a 46\a 47\a 48\a 49\a 50\a 51\a 52\a 53\a 54\a 55\a 56\a 57\a 58\a 59\a 60\a 61\a 62\a 63\a 64\a 65\a 66\a 67\a 68\a 69\a 70\a 71\a 72\a 73\a 74\a 75\a 76\a 77\a 78\a 79\a 80\a 81\a 82\a 83\a 84\a 85\a 86\a 87\a 88\a 89\a 90\a 91\a 92\a 93\a 94\a 95\a 96\a 97\a 98\a 99\a";white-space:pre;top:calc(var(--value)*-1em);text-align:center;transition:all 1s cubic-bezier(1,0,0,1);position:relative}.tabs-border .tab{--tab-border-color:#0000 #0000 var(--tab-border-color)#0000;border-radius:var(--radius-field);position:relative}.tabs-border .tab:before{--tw-content:"";content:var(--tw-content);background-color:var(--tab-border-color);border-radius:var(--radius-field);width:80%;height:3px;transition:background-color .2s;position:absolute;bottom:0;left:10%}:is(.tabs-border .tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-border .tab:is(input:checked),.tabs-border .tab:is(label:has(:checked))):before{--tab-border-color:currentColor;border-top:3px solid}.chat-bubble{border-radius:var(--radius-field);background-color:var(--color-base-300);width:fit-content;color:var(--color-base-content);grid-row-end:3;min-width:2.5rem;max-width:90%;min-height:2rem;padding-block:.5rem;padding-inline:1rem;display:block;position:relative}.chat-bubble:before{background-color:inherit;content:"";width:.75rem;height:.75rem;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-image:var(--mask-chat);mask-image:var(--mask-chat);position:absolute;bottom:0;-webkit-mask-position:0 -1px;mask-position:0 -1px;-webkit-mask-size:13px;mask-size:13px}.timeline{display:flex;position:relative}.timeline>li{grid-template-rows:var(--timeline-row-start,minmax(0,1fr))auto var(--timeline-row-end,minmax(0,1fr));grid-template-columns:var(--timeline-col-start,minmax(0,1fr))auto var(--timeline-col-end,minmax(0,1fr));flex-shrink:0;align-items:center;display:grid;position:relative}.timeline>li>hr{border:none;width:100%}.timeline>li>hr:first-child{grid-row-start:2;grid-column-start:1}.timeline>li>hr:last-child{grid-area:2/3/auto/none}@media print{.timeline>li>hr{border:.1px solid var(--color-base-300)}}.timeline :where(hr){background-color:var(--color-base-300);height:.25rem}.timeline:has(.timeline-middle hr):first-child{border-start-start-radius:0;border-start-end-radius:var(--radius-selector);border-end-end-radius:var(--radius-selector);border-end-start-radius:0}.timeline:has(.timeline-middle hr):last-child,.timeline:not(:has(.timeline-middle)) :first-child hr:last-child{border-start-start-radius:var(--radius-selector);border-start-end-radius:0;border-end-end-radius:0;border-end-start-radius:var(--radius-selector)}.timeline:not(:has(.timeline-middle)) :last-child hr:first-child{border-start-start-radius:0;border-start-end-radius:var(--radius-selector);border-end-end-radius:var(--radius-selector);border-end-start-radius:0}.card{border-radius:var(--radius-box);outline-offset:2px;outline:0 solid #0000;flex-direction:column;transition:outline .2s ease-in-out;display:flex;position:relative}.card:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.card:focus{outline-offset:2px;outline:2px solid #0000}}.card:focus-visible{outline-color:currentColor}.card :where(figure:first-child){border-start-start-radius:inherit;border-start-end-radius:inherit;border-end-end-radius:unset;border-end-start-radius:unset;overflow:hidden}.card :where(figure:last-child){border-start-start-radius:unset;border-start-end-radius:unset;border-end-end-radius:inherit;border-end-start-radius:inherit;overflow:hidden}.card:where(.card-border){border:var(--border)solid var(--color-base-200)}.card:where(.card-dash){border:var(--border)dashed var(--color-base-200)}.card.image-full{display:grid}.card.image-full>*{grid-row-start:1;grid-column-start:1}.card.image-full>.card-body{color:var(--color-neutral-content);position:relative}.card.image-full :where(figure){border-radius:inherit;overflow:hidden}.card.image-full>figure img{object-fit:cover;filter:brightness(28%);height:100%}.card figure{justify-content:center;align-items:center;display:flex}.card:has(>input:is(input[type=checkbox],input[type=radio])){cursor:pointer;-webkit-user-select:none;user-select:none}.card:has(>:checked){outline:2px solid}.swap{cursor:pointer;vertical-align:middle;webkit-user-select:none;-webkit-user-select:none;user-select:none;place-content:center;display:inline-grid;position:relative}.swap input{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none}.swap>*{grid-row-start:1;grid-column-start:1;transition-property:transform,rotate,opacity;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,.2,1)}.swap .swap-on,.swap .swap-indeterminate,.swap input:indeterminate~.swap-on,.swap input:is(:checked,:indeterminate)~.swap-off{opacity:0}.swap input:checked~.swap-on,.swap input:indeterminate~.swap-indeterminate{opacity:1}.collapse-title{grid-row-start:1;grid-column-start:1;width:100%;min-height:3.75rem;padding:1rem;padding-inline-end:3rem;transition:background-color .2s ease-out;position:relative}.mockup-browser{border-radius:var(--radius-box);position:relative;overflow:auto hidden}.mockup-browser pre[data-prefix]:before{content:attr(data-prefix);text-align:right;display:inline-block}.mockup-browser .mockup-browser-toolbar{align-items:center;width:100%;margin-block:.75rem;padding-right:1.4em;display:inline-flex}.mockup-browser .mockup-browser-toolbar:where(:dir(rtl),[dir=rtl],[dir=rtl] *){flex-direction:row-reverse}.mockup-browser .mockup-browser-toolbar:before{content:"";aspect-ratio:1;opacity:.3;border-radius:3.40282e38px;height:.75rem;margin-right:4.8rem;display:inline-block;box-shadow:1.4em 0,2.8em 0,4.2em 0}.mockup-browser .mockup-browser-toolbar .input{background-color:var(--color-base-200);text-overflow:ellipsis;white-space:nowrap;direction:ltr;align-items:center;gap:.5rem;height:100%;margin-inline:auto;font-size:.75rem;display:flex;overflow:hidden}.mockup-browser .mockup-browser-toolbar .input:before{content:"";opacity:.3;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor' class='size-4'%3E%3Cpath fill-rule='evenodd' d='M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z' clip-rule='evenodd' /%3E%3C/svg%3E%0A");width:1rem;height:1rem}.select{border:var(--border)solid #0000;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--color-base-100);vertical-align:middle;width:clamp(3rem,20rem,100%);height:var(--size);text-overflow:ellipsis;box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000) inset,0 -1px oklch(100% 0 0/calc(var(--depth)*.1)) inset;border-color:var(--input-color);--input-color:color-mix(in srgb,var(--color-base-content)20%,#0000);--size:calc(var(--size-field,.25rem)*10);background-image:linear-gradient(45deg,#0000 50%,currentColor 50%),linear-gradient(135deg,currentColor 50%,#0000 50%);background-position:calc(100% - 20px) calc(1px + 50%),calc(100% - 16.1px) calc(1px + 50%);background-repeat:no-repeat;background-size:4px 4px,4px 4px;border-start-start-radius:var(--join-ss,var(--radius-field));border-start-end-radius:var(--join-se,var(--radius-field));border-end-end-radius:var(--join-ee,var(--radius-field));border-end-start-radius:var(--join-es,var(--radius-field));flex-shrink:1;align-items:center;gap:.375rem;padding-inline:1rem 1.75rem;font-size:.875rem;display:inline-flex;position:relative}@supports (color:color-mix(in lab,red,red)){.select{--input-color:color-mix(in oklab,var(--color-base-content)20%,#0000)}}[dir=rtl] .select{background-position:12px calc(1px + 50%),16px calc(1px + 50%)}.select select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:inherit;border-radius:inherit;border-style:none;width:calc(100% + 2.75rem);height:calc(100% - 2px);margin-inline:-1rem -1.75rem;padding-inline:1rem 1.75rem}.select select:focus,.select select:focus-within{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){:is(.select select:focus,.select select:focus-within){outline-offset:2px;outline:2px solid #0000}}.select select:not(:last-child){background-image:none;margin-inline-end:-1.375rem}.select:focus,.select:focus-within{--input-color:var(--color-base-content);box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000);outline:2px solid var(--input-color);outline-offset:2px}.select:has(>select[disabled]),.select:is(:disabled,[disabled]){cursor:not-allowed;border-color:var(--color-base-200);background-color:var(--color-base-200);color:color-mix(in srgb,var(--color-base-content)40%,transparent)}@supports (color:color-mix(in lab,red,red)){:is(.select:has(>select[disabled]),.select:is(:disabled,[disabled])){color:color-mix(in oklab,var(--color-base-content)40%,transparent)}}:is(.select:has(>select[disabled]),.select:is(:disabled,[disabled]))::placeholder{color:color-mix(in srgb,var(--color-base-content)20%,transparent)}@supports (color:color-mix(in lab,red,red)){:is(.select:has(>select[disabled]),.select:is(:disabled,[disabled]))::placeholder{color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.select:has(>select[disabled])>select[disabled]{cursor:not-allowed}.menu-horizontal{flex-direction:row;display:inline-flex}.menu-horizontal>li:not(.menu-title)>details>ul{margin-inline-start:0;margin-top:1rem;padding-block:.5rem;padding-inline-end:.5rem;position:absolute}.menu-horizontal>li>details>ul:before{content:none}:where(.menu-horizontal>li:not(.menu-title)>details>ul){border-radius:var(--radius-box);background-color:var(--color-base-100);box-shadow:0 1px 3px #0000001a,0 1px 2px -1px #0000001a}.menu-vertical{flex-direction:column;display:inline-flex}.menu-vertical>li:not(.menu-title)>details>ul{margin-inline-start:1rem;margin-top:0;padding-block:0;padding-inline-end:0;position:relative}.mockup-code{border-radius:var(--radius-box);background-color:var(--color-neutral);color:var(--color-neutral-content);direction:ltr;padding-block:1.25rem;font-size:.875rem;position:relative;overflow:auto hidden}.mockup-code:before{content:"";opacity:.3;border-radius:3.40282e38px;width:.75rem;height:.75rem;margin-bottom:1rem;display:block;box-shadow:1.4em 0,2.8em 0,4.2em 0}.mockup-code pre{padding-right:1.25rem}.mockup-code pre:before{content:"";margin-right:2ch}.mockup-code pre[data-prefix]:before{content:attr(data-prefix);text-align:right;opacity:.5;width:2rem;display:inline-block}.mockup-window{border-radius:var(--radius-box);flex-direction:column;padding-top:1.25rem;display:flex;position:relative;overflow:auto hidden}.mockup-window:before{content:"";aspect-ratio:1;opacity:.3;border-radius:3.40282e38px;flex-shrink:0;align-self:flex-start;height:.75rem;margin-bottom:1rem;display:block;box-shadow:1.4em 0,2.8em 0,4.2em 0}[dir=rtl] .mockup-window:before{align-self:flex-end}.mockup-window pre[data-prefix]:before{content:attr(data-prefix);text-align:right;display:inline-block}.avatar{vertical-align:middle;display:inline-flex;position:relative}.avatar>div{aspect-ratio:1;display:block;overflow:hidden}.avatar img{object-fit:cover;width:100%;height:100%}.checkbox{border:var(--border)solid var(--input-color,color-mix(in srgb,var(--color-base-content)20%,#0000));cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--radius-selector);vertical-align:middle;color:var(--color-base-content);box-shadow:0 1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 0 #0000 inset,0 0 #0000;--size:calc(var(--size-selector,.25rem)*6);width:var(--size);height:var(--size);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);flex-shrink:0;padding:.25rem;transition:background-color .2s,box-shadow .2s;position:relative}@supports (color:color-mix(in lab,red,red)){.checkbox{border:var(--border)solid var(--input-color,color-mix(in oklab,var(--color-base-content)20%,#0000))}}.checkbox:before{--tw-content:"";content:var(--tw-content);opacity:0;clip-path:polygon(20% 100%,20% 80%,50% 80%,50% 80%,70% 80%,70% 100%);width:100%;height:100%;box-shadow:0 3px oklch(100% 0 0/calc(var(--depth)*.1)) inset;background-color:currentColor;font-size:1rem;line-height:.75;transition:clip-path .3s .1s,opacity .1s .1s,rotate .3s .1s,translate .3s .1s;display:block;rotate:45deg}.checkbox:focus-visible{outline:2px solid var(--input-color,currentColor);outline-offset:2px}.checkbox:checked,.checkbox[aria-checked=true]{background-color:var(--input-color,#0000);box-shadow:0 0 #0000 inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px oklch(0% 0 0/calc(var(--depth)*.1))}:is(.checkbox:checked,.checkbox[aria-checked=true]):before{clip-path:polygon(20% 100%,20% 80%,50% 80%,50% 0%,70% 0%,70% 100%);opacity:1}@media (forced-colors:active){:is(.checkbox:checked,.checkbox[aria-checked=true]):before{--tw-content:"✔︎";clip-path:none;background-color:#0000;rotate:none}}@media print{:is(.checkbox:checked,.checkbox[aria-checked=true]):before{--tw-content:"✔︎";clip-path:none;background-color:#0000;rotate:none}}.checkbox:indeterminate:before{opacity:1;clip-path:polygon(20% 100%,20% 80%,50% 80%,50% 80%,80% 80%,80% 100%);translate:0 -35%;rotate:none}.checkbox:disabled{cursor:not-allowed;opacity:.2}.radio{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;border:var(--border)solid var(--input-color,color-mix(in srgb,currentColor 20%,#0000));box-shadow:0 1px oklch(0% 0 0/calc(var(--depth)*.1)) inset;--size:calc(var(--size-selector,.25rem)*6);width:var(--size);height:var(--size);color:var(--input-color,currentColor);border-radius:3.40282e38px;flex-shrink:0;padding:.25rem;position:relative}.radio:before{--tw-content:"";content:var(--tw-content);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);border-radius:3.40282e38px;width:100%;height:100%;display:block}.radio:focus-visible{outline:2px solid}.radio:checked,.radio[aria-checked=true]{background-color:var(--color-base-100);border-color:currentColor;animation:.2s ease-out radio}:is(.radio:checked,.radio[aria-checked=true]):before{box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px oklch(0% 0 0/calc(var(--depth)*.1));background-color:currentColor}@media (forced-colors:active){:is(.radio:checked,.radio[aria-checked=true]):before{outline-style:var(--tw-outline-style);outline-offset:-1px;outline-width:1px}}@media print{:is(.radio:checked,.radio[aria-checked=true]):before{outline-offset:-1rem;outline:.25rem solid}}.radio:disabled{cursor:not-allowed;opacity:.2}.rating{vertical-align:middle;display:inline-flex;position:relative}.rating input{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none}.rating :where(*){background-color:var(--color-base-content);opacity:.2;border-radius:0;width:1.5rem;height:1.5rem;animation:.25s ease-out rating}.rating :where(*):is(input){cursor:pointer}.rating .rating-hidden{background-color:#0000;width:.5rem}.rating input[type=radio]:checked{background-image:none}.rating :checked,.rating [aria-checked=true],.rating [aria-current=true],.rating :has(~:checked,~[aria-checked=true],~[aria-current=true]){opacity:1}.rating :focus-visible{transition:scale .2s ease-out;scale:1.1}.rating :active:focus{animation:none;scale:1.1}.rating.rating-xs :where(:not(.rating-hidden)){width:1rem;height:1rem}.rating.rating-sm :where(:not(.rating-hidden)){width:1.25rem;height:1.25rem}.rating.rating-md :where(:not(.rating-hidden)){width:1.5rem;height:1.5rem}.rating.rating-lg :where(:not(.rating-hidden)){width:1.75rem;height:1.75rem}.rating.rating-xl :where(:not(.rating-hidden)){width:2rem;height:2rem}.drawer{grid-auto-columns:max-content auto;width:100%;display:grid;position:relative}.stats{border-radius:var(--radius-box);grid-auto-flow:column;display:inline-grid;position:relative;overflow-x:auto}.progress{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--radius-box);background-color:color-mix(in oklab,currentColor 20%,transparent);width:100%;height:.5rem;color:var(--color-base-content);position:relative;overflow:hidden}.progress:indeterminate{background-image:repeating-linear-gradient(90deg,currentColor -1% 10%,#0000 10% 90%);background-position-x:15%;background-size:200%;animation:5s ease-in-out infinite progress}@supports ((-moz-appearance:none)){.progress:indeterminate::-moz-progress-bar{background-color:#0000;background-image:repeating-linear-gradient(90deg,currentColor -1% 10%,#0000 10% 90%);background-position-x:15%;background-size:200%;animation:5s ease-in-out infinite progress}.progress::-moz-progress-bar{border-radius:var(--radius-box);background-color:currentColor}}@supports ((-webkit-appearance:none)){.progress::-webkit-progress-bar{border-radius:var(--radius-box);background-color:#0000}.progress::-webkit-progress-value{border-radius:var(--radius-box);background-color:currentColor}}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.tooltip-left>.tooltip-content,.tooltip-left[data-tip]:before{transform:translate(calc(var(--tt-pos,.25rem) - .25rem))translateY(-50%);inset:50% var(--tt-off)auto auto}.tooltip-left:after{transform:translate(var(--tt-pos,.25rem))translateY(-50%)rotate(-90deg);inset:50% calc(var(--tt-tail) + 1px)auto auto}.tooltip-right>.tooltip-content,.tooltip-right[data-tip]:before{transform:translate(calc(var(--tt-pos,-.25rem) + .25rem))translateY(-50%);inset:50% auto auto var(--tt-off)}.tooltip-right:after{transform:translate(var(--tt-pos,-.25rem))translateY(-50%)rotate(90deg);inset:50% auto auto calc(var(--tt-tail) + 1px)}.-inset-1{inset:calc(var(--spacing)*-1)}.inset-0{inset:calc(var(--spacing)*0)}.inset-x-0{inset-inline:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.dropdown-right{--anchor-h:right;--anchor-v:span-bottom}.dropdown-right .dropdown-content{transform-origin:0;inset-inline-start:100%;top:0;bottom:auto}.chat-end{grid-template-columns:1fr auto;place-items:end}.chat-end .chat-header,.chat-end .chat-footer{grid-column-start:1}.chat-end .chat-image{grid-column-start:2}.chat-end .chat-bubble{border-end-end-radius:0;grid-column-start:1}.chat-end .chat-bubble:before{inset-inline-start:100%;transform:rotateY(180deg)}[dir=rtl] :is(.chat-end .chat-bubble):before{transform:rotateY(0)}.chat-start{grid-template-columns:auto 1fr;place-items:start}.chat-start .chat-header,.chat-start .chat-footer{grid-column-start:2}.chat-start .chat-image{grid-column-start:1}.chat-start .chat-bubble{border-end-start-radius:0;grid-column-start:2}.chat-start .chat-bubble:before{inset-inline-start:-.75rem;transform:rotateY(0)}[dir=rtl] :is(.chat-start .chat-bubble):before{transform:rotateY(180deg)}.dropdown-left{--anchor-h:left;--anchor-v:span-bottom}.dropdown-left .dropdown-content{transform-origin:100%;inset-inline-end:100%;top:0;bottom:auto}.dropdown-center{--anchor-h:center}.dropdown-center :where(.dropdown-content){inset-inline-end:50%;translate:50%}.dropdown-center.dropdown-left{--anchor-h:left;--anchor-v:center}.dropdown-center.dropdown-left .dropdown-content{top:auto;bottom:50%;translate:0 50%}.dropdown-center.dropdown-right{--anchor-h:right;--anchor-v:center}.dropdown-center.dropdown-right .dropdown-content{top:auto;bottom:50%;translate:0 50%}.dropdown-end{--anchor-h:span-left}.dropdown-end :where(.dropdown-content){inset-inline-end:0;translate:0}.dropdown-end.dropdown-left{--anchor-h:left;--anchor-v:span-top}.dropdown-end.dropdown-left .dropdown-content{top:auto;bottom:0}.dropdown-end.dropdown-right{--anchor-h:right;--anchor-v:span-top}.dropdown-end.dropdown-right .dropdown-content{top:auto;bottom:0}.dropdown-start{--anchor-h:span-right}.dropdown-start :where(.dropdown-content){inset-inline-end:auto}.dropdown-start.dropdown-left{--anchor-h:left;--anchor-v:span-bottom}.dropdown-start.dropdown-left .dropdown-content{top:0;bottom:auto}.dropdown-start.dropdown-right{--anchor-h:right;--anchor-v:span-bottom}.dropdown-start.dropdown-right .dropdown-content{top:0;bottom:auto}.dropdown-bottom{--anchor-v:bottom}.dropdown-bottom .dropdown-content{transform-origin:top;top:100%;bottom:auto}.dropdown-top{--anchor-v:top}.dropdown-top .dropdown-content{transform-origin:bottom;top:auto;bottom:100%}.-top-1{top:calc(var(--spacing)*-1)}.-top-4{top:calc(var(--spacing)*-4)}.-top-6{top:calc(var(--spacing)*-6)}.-top-8{top:calc(var(--spacing)*-8)}.-top-10{top:calc(var(--spacing)*-10)}.-top-24{top:calc(var(--spacing)*-24)}.-top-32{top:calc(var(--spacing)*-32)}.top-0{top:calc(var(--spacing)*0)}.top-1{top:calc(var(--spacing)*1)}.top-1\/2{top:50%}.top-1\/3{top:33.3333%}.top-2{top:calc(var(--spacing)*2)}.top-3{top:calc(var(--spacing)*3)}.top-4{top:calc(var(--spacing)*4)}.top-20{top:calc(var(--spacing)*20)}.top-28{top:calc(var(--spacing)*28)}.top-100{top:calc(var(--spacing)*100)}.top-\[-10\%\]{top:-10%}.top-full{top:100%}.-right-1{right:calc(var(--spacing)*-1)}.-right-6{right:calc(var(--spacing)*-6)}.-right-8{right:calc(var(--spacing)*-8)}.-right-10{right:calc(var(--spacing)*-10)}.-right-24{right:calc(var(--spacing)*-24)}.-right-32{right:calc(var(--spacing)*-32)}.right-0{right:calc(var(--spacing)*0)}.right-0\.5{right:calc(var(--spacing)*.5)}.right-1{right:calc(var(--spacing)*1)}.right-2{right:calc(var(--spacing)*2)}.right-3{right:calc(var(--spacing)*3)}.right-4{right:calc(var(--spacing)*4)}.right-5{right:calc(var(--spacing)*5)}.right-6{right:calc(var(--spacing)*6)}.right-10{right:calc(var(--spacing)*10)}.right-12{right:calc(var(--spacing)*12)}.right-\[8\%\]{right:8%}.dock-sm{height:3.5rem;height:calc(3.5rem + env(safe-area-inset-bottom))}.dock-sm .dock-active:after{bottom:-.1rem}.dock-sm .dock-label{font-size:.625rem}.dock-lg{height:4.5rem;height:calc(4.5rem + env(safe-area-inset-bottom))}.dock-lg .dock-active:after{bottom:.4rem}.dock-lg .dock-label{font-size:.6875rem}.dock-xl{height:5rem;height:calc(5rem + env(safe-area-inset-bottom))}.dock-xl .dock-active:after{bottom:.4rem}.dock-xl .dock-label{font-size:.75rem}.dock-xs{height:3rem;height:calc(3rem + env(safe-area-inset-bottom))}.dock-xs .dock-active:after{bottom:-.1rem}.dock-xs .dock-label{font-size:.625rem}.-bottom-1{bottom:calc(var(--spacing)*-1)}.-bottom-3{bottom:calc(var(--spacing)*-3)}.-bottom-6{bottom:calc(var(--spacing)*-6)}.-bottom-10{bottom:calc(var(--spacing)*-10)}.-bottom-16{bottom:calc(var(--spacing)*-16)}.-bottom-32{bottom:calc(var(--spacing)*-32)}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-0\.5{bottom:calc(var(--spacing)*.5)}.bottom-4{bottom:calc(var(--spacing)*4)}.bottom-40{bottom:calc(var(--spacing)*40)}.bottom-100{bottom:calc(var(--spacing)*100)}.bottom-\[-10\%\]{bottom:-10%}.-left-6{left:calc(var(--spacing)*-6)}.-left-10{left:calc(var(--spacing)*-10)}.-left-16{left:calc(var(--spacing)*-16)}.-left-32{left:calc(var(--spacing)*-32)}.left-0{left:calc(var(--spacing)*0)}.left-1{left:calc(var(--spacing)*1)}.left-1\/2{left:50%}.left-3{left:calc(var(--spacing)*3)}.left-5{left:calc(var(--spacing)*5)}.left-6{left:calc(var(--spacing)*6)}.left-10{left:calc(var(--spacing)*10)}.left-\[10\%\]{left:10%}.file-input{cursor:pointer;border:var(--border)solid #0000;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--color-base-100);vertical-align:middle;webkit-user-select:none;-webkit-user-select:none;user-select:none;width:clamp(3rem,20rem,100%);height:var(--size);border-color:var(--input-color);box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000) inset,0 -1px oklch(100% 0 0/calc(var(--depth)*.1)) inset;--size:calc(var(--size-field,.25rem)*10);--input-color:color-mix(in srgb,var(--color-base-content)20%,#0000);border-start-start-radius:var(--join-ss,var(--radius-field));border-start-end-radius:var(--join-se,var(--radius-field));border-end-end-radius:var(--join-ee,var(--radius-field));border-end-start-radius:var(--join-es,var(--radius-field));align-items:center;padding-inline-end:.75rem;font-size:.875rem;line-height:2;display:inline-flex}@supports (color:color-mix(in lab,red,red)){.file-input{--input-color:color-mix(in oklab,var(--color-base-content)20%,#0000)}}.file-input::file-selector-button{cursor:pointer;webkit-user-select:none;-webkit-user-select:none;user-select:none;height:calc(100% + var(--border)*2);margin-inline-end:1rem;margin-block:calc(var(--border)*-1);color:var(--btn-fg);border-width:var(--border);border-style:solid;border-color:var(--btn-border);background-color:var(--btn-bg);background-size:calc(var(--noise)*100%);background-image:var(--btn-noise);text-shadow:0 .5px oklch(1 0 0/calc(var(--depth)*.15));box-shadow:0 .5px 0 .5px color-mix(in oklab,color-mix(in oklab,white 30%,var(--btn-bg))calc(var(--depth)*20%),#0000) inset,var(--btn-shadow);--size:calc(var(--size-field,.25rem)*10);--btn-bg:var(--btn-color,var(--color-base-200));--btn-fg:var(--color-base-content);--btn-border:color-mix(in oklab,var(--btn-bg),#000 5%);--btn-shadow:0 3px 2px -2px color-mix(in oklab,var(--btn-bg)30%,#0000),0 4px 3px -2px color-mix(in oklab,var(--btn-bg)30%,#0000);--btn-noise:var(--fx-noise);border-start-start-radius:calc(var(--join-ss,var(--radius-field) - var(--border)));border-end-start-radius:calc(var(--join-es,var(--radius-field) - var(--border)));margin-inline-start:calc(var(--border)*-1);padding-inline:1rem;font-size:.875rem;font-weight:600}.file-input:focus{--input-color:var(--color-base-content);box-shadow:0 1px color-mix(in oklab,var(--input-color)10%,#0000);outline:2px solid var(--input-color);outline-offset:2px;isolation:isolate}.file-input:has(>input[disabled]),.file-input:is(:disabled,[disabled]){cursor:not-allowed;border-color:var(--color-base-200);background-color:var(--color-base-200);box-shadow:none;color:color-mix(in srgb,var(--color-base-content)20%,#0000)}:is(.file-input:has(>input[disabled]),.file-input:is(:disabled,[disabled]))::placeholder{color:color-mix(in srgb,var(--color-base-content)20%,transparent)}@supports (color:color-mix(in lab,red,red)){:is(.file-input:has(>input[disabled]),.file-input:is(:disabled,[disabled]))::placeholder{color:color-mix(in oklab,var(--color-base-content)20%,transparent)}:is(.file-input:has(>input[disabled]),.file-input:is(:disabled,[disabled])){color:color-mix(in oklch,var(--color-base-content)20%,#0000)}}:is(.file-input:has(>input[disabled]),.file-input:is(:disabled,[disabled]))::file-selector-button{cursor:not-allowed;border-color:var(--color-base-200);background-color:var(--color-base-200);--btn-border:#0000;--btn-noise:none;--btn-fg:color-mix(in srgb,var(--color-base-content)20%,#0000)}@supports (color:color-mix(in lab,red,red)){:is(.file-input:has(>input[disabled]),.file-input:is(:disabled,[disabled]))::file-selector-button{--btn-fg:color-mix(in oklch,var(--color-base-content)20%,#0000)}}.hero-content{isolation:isolate;justify-content:center;align-items:center;gap:1rem;max-width:80rem;padding:1rem;display:flex}.textarea{border:var(--border)solid #0000;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--radius-field);background-color:var(--color-base-100);vertical-align:middle;border-color:var(--input-color);width:clamp(3rem,20rem,100%);min-height:5rem;box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000) inset,0 -1px oklch(100% 0 0/calc(var(--depth)*.1)) inset;--input-color:color-mix(in srgb,var(--color-base-content)20%,#0000);flex-shrink:1;padding-block:.5rem;padding-inline:.75rem;font-size:.875rem}@supports (color:color-mix(in lab,red,red)){.textarea{--input-color:color-mix(in oklab,var(--color-base-content)20%,#0000)}}.textarea textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#0000;border:none}.textarea textarea:focus,.textarea textarea:focus-within{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){:is(.textarea textarea:focus,.textarea textarea:focus-within){outline-offset:2px;outline:2px solid #0000}}.textarea:focus,.textarea:focus-within{--input-color:var(--color-base-content);box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000);outline:2px solid var(--input-color);outline-offset:2px;isolation:isolate}.textarea:has(>textarea[disabled]),.textarea:is(:disabled,[disabled]){cursor:not-allowed;border-color:var(--color-base-200);background-color:var(--color-base-200);color:color-mix(in srgb,var(--color-base-content)40%,transparent);box-shadow:none}@supports (color:color-mix(in lab,red,red)){:is(.textarea:has(>textarea[disabled]),.textarea:is(:disabled,[disabled])){color:color-mix(in oklab,var(--color-base-content)40%,transparent)}}:is(.textarea:has(>textarea[disabled]),.textarea:is(:disabled,[disabled]))::placeholder{color:color-mix(in srgb,var(--color-base-content)20%,transparent)}@supports (color:color-mix(in lab,red,red)){:is(.textarea:has(>textarea[disabled]),.textarea:is(:disabled,[disabled]))::placeholder{color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.textarea:has(>textarea[disabled])>textarea[disabled]{cursor:not-allowed}.btn-active{--btn-bg:color-mix(in srgb,var(--btn-color,var(--color-base-200)),#000 7%);--btn-shadow:0 0 0 0 oklch(0% 0 0/0),0 0 0 0 oklch(0% 0 0/0);isolation:isolate}@supports (color:color-mix(in lab,red,red)){.btn-active{--btn-bg:color-mix(in oklab,var(--btn-color,var(--color-base-200)),#000 7%)}}.isolate{isolation:isolate}.mockup-phone-camera{z-index:1;background:#000;border-radius:17px;grid-area:1/1/1/1;width:126px;height:32px;margin-top:6px}.stack{grid-template-rows:3px 4px 1fr 4px 3px;grid-template-columns:3px 4px 1fr 4px 3px;display:inline-grid}.stack>*{width:100%;height:100%}.stack>:nth-child(n+2){opacity:.7;width:100%}.stack>:nth-child(2){z-index:2;opacity:.9}.stack>:first-child{z-index:3;width:100%}:is(.stack,.stack.stack-bottom)>*{grid-area:3/3/6/4}:is(.stack,.stack.stack-bottom)>:nth-child(2){grid-area:2/2/5/5}:is(.stack,.stack.stack-bottom)>:first-child{grid-area:1/1/4/6}.stack.stack-top>*{grid-area:1/3/4/4}.stack.stack-top>:nth-child(2){grid-area:2/2/5/5}.stack.stack-top>:first-child{grid-area:3/1/6/6}.stack.stack-start>*{grid-area:3/1/4/4}.stack.stack-start>:nth-child(2){grid-area:2/2/5/5}.stack.stack-start>:first-child{grid-area:1/3/6/6}.stack.stack-end>*{grid-area:3/3/4/6}.stack.stack-end>:nth-child(2){grid-area:2/2/5/5}.stack.stack-end>:first-child{grid-area:1/1/6/4}.modal-backdrop{color:#0000;z-index:-1;grid-row-start:1;grid-column-start:1;place-self:stretch stretch;display:grid}.modal-backdrop button{cursor:pointer}.-z-10{z-index:-10}.-z-20{z-index:-20}.z-0{z-index:0}.z-1{z-index:1}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-\[1\]{z-index:1}.z-\[2\]{z-index:2}.z-\[10\]{z-index:10}.z-\[11\]{z-index:11}.z-\[12\]{z-index:12}.z-\[13\]{z-index:13}.z-\[20\]{z-index:20}.z-\[21\]{z-index:21}.z-\[22\]{z-index:22}.z-\[99\]{z-index:99}.z-\[100\]{z-index:100}.z-\[101\]{z-index:101}.tab-content{order:var(--tabcontent-order);--tabcontent-radius-ss:0;--tabcontent-radius-se:0;--tabcontent-radius-es:0;--tabcontent-radius-ee:0;--tabcontent-order:1;width:100%;margin:var(--tabcontent-margin);border-color:#0000;border-width:var(--border);border-start-start-radius:var(--tabcontent-radius-ss);border-start-end-radius:var(--tabcontent-radius-se);border-end-end-radius:var(--tabcontent-radius-ee);border-end-start-radius:var(--tabcontent-radius-es);display:none}.mockup-phone-display{border-radius:49px;grid-area:1/1/1/1;width:390px;height:845px;overflow:hidden}.col-span-0{grid-column:span 0/span 0}.col-span-1{grid-column:span 1/span 1}.col-span-2{grid-column:span 2/span 2}.col-span-3{grid-column:span 3/span 3}.col-span-4{grid-column:span 4/span 4}.col-span-6{grid-column:span 6/span 6}.col-span-14{grid-column:span 14/span 14}.col-span-full{grid-column:1/-1}.timeline-end{grid-area:3/1/4/4;place-self:flex-start center;margin:.25rem}.timeline-start{grid-area:1/1/2/4;place-self:flex-end center;margin:.25rem}.timeline-horizontal{flex-direction:row}.timeline-horizontal>li{align-items:center}.timeline-horizontal>li>hr{width:100%;height:.25rem}.timeline-horizontal>li>hr:first-child{grid-row-start:2;grid-column-start:1}.timeline-horizontal>li>hr:last-child{grid-area:2/3/auto/none}.timeline-horizontal .timeline-start{grid-area:1/1/2/4;place-self:flex-end center}.timeline-horizontal .timeline-end{grid-area:3/1/4/4;place-self:flex-start center}.timeline-horizontal:has(.timeline-middle)>li>hr:first-child{border-start-start-radius:0;border-start-end-radius:var(--radius-selector);border-end-end-radius:var(--radius-selector);border-end-start-radius:0}.timeline-horizontal:has(.timeline-middle)>li>hr:last-child,.timeline-horizontal:not(:has(.timeline-middle)) :first-child>hr:last-child{border-start-start-radius:var(--radius-selector);border-start-end-radius:0;border-end-end-radius:0;border-end-start-radius:var(--radius-selector)}.timeline-horizontal:not(:has(.timeline-middle)) :last-child>hr:first-child{border-start-start-radius:0;border-start-end-radius:var(--radius-selector);border-end-end-radius:var(--radius-selector);border-end-start-radius:0}.timeline-vertical{flex-direction:column}.timeline-vertical>li{--timeline-row-start:minmax(0,1fr);--timeline-row-end:minmax(0,1fr);justify-items:center}.timeline-vertical>li>hr{width:.25rem;height:100%}.timeline-vertical>li>hr:first-child{grid-row-start:1;grid-column-start:2}.timeline-vertical>li>hr:last-child{grid-area:3/2/none}.timeline-vertical .timeline-start{grid-area:1/1/4/2;place-self:center flex-end}.timeline-vertical .timeline-end{grid-area:1/3/4/4;place-self:center flex-start}.timeline-vertical:has(.timeline-middle)>li>hr:first-child{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:var(--radius-selector);border-bottom-left-radius:var(--radius-selector)}.timeline-vertical:has(.timeline-middle)>li>hr:last-child,.timeline-vertical:not(:has(.timeline-middle)) :first-child>hr:last-child{border-top-left-radius:var(--radius-selector);border-top-right-radius:var(--radius-selector);border-bottom-right-radius:0;border-bottom-left-radius:0}.timeline-vertical:not(:has(.timeline-middle)) :last-child>hr:first-child{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:var(--radius-selector);border-bottom-left-radius:var(--radius-selector)}.timeline-vertical.timeline-snap-icon>li{--timeline-col-start:minmax(0,1fr);--timeline-row-start:.5rem}.timeline-compact{--timeline-row-start:0}.timeline-compact .timeline-start{grid-area:3/1/4/4;place-self:flex-start center}.timeline-compact li:has(.timeline-start) .timeline-end{grid-row-start:auto;grid-column-start:none}.timeline-compact.timeline-vertical>li{--timeline-col-start:0}.timeline-compact.timeline-vertical .timeline-start{grid-area:1/3/4/4;place-self:center flex-start}.timeline-compact.timeline-vertical li:has(.timeline-start) .timeline-end{grid-row-start:none;grid-column-start:auto}.stat-figure{grid-row:1/span 3;grid-column-start:2;place-self:center flex-end}.hero{background-position:50%;background-size:cover;place-items:center;width:100%;display:grid}.hero>*{grid-row-start:1;grid-column-start:1}.hero-overlay{background-color:color-mix(in srgb,var(--color-neutral)50%,transparent);grid-row-start:1;grid-column-start:1;width:100%;height:100%}@supports (color:color-mix(in lab,red,red)){.hero-overlay{background-color:color-mix(in oklab,var(--color-neutral)50%,transparent)}}.modal-box{background-color:var(--color-base-100);border-top-left-radius:var(--modal-tl,var(--radius-box));border-top-right-radius:var(--modal-tr,var(--radius-box));border-bottom-left-radius:var(--modal-bl,var(--radius-box));border-bottom-right-radius:var(--modal-br,var(--radius-box));opacity:0;overscroll-behavior:contain;grid-row-start:1;grid-column-start:1;width:91.6667%;max-width:32rem;max-height:100vh;padding:1.5rem;transition:translate .3s ease-out,scale .3s ease-out,opacity .2s ease-out 50ms,box-shadow .3s ease-out;overflow-y:auto;scale:95%;box-shadow:0 25px 50px -12px #00000040}.drawer-content{grid-row-start:1;grid-column-start:2;min-width:0}.timeline-middle{grid-row-start:2;grid-column-start:2}.drawer-end{grid-auto-columns:auto max-content}.drawer-end>.drawer-toggle~.drawer-content{grid-column-start:1}.drawer-end>.drawer-toggle~.drawer-side{grid-column-start:2;justify-items:end}.drawer-end>.drawer-toggle~.drawer-side>:not(.drawer-overlay){translate:100%}[dir=rtl] :is(.drawer-end>.drawer-toggle~.drawer-side>:not(.drawer-overlay)){translate:-100%}.drawer-end>.drawer-toggle:checked~.drawer-side>:not(.drawer-overlay){translate:0%}.stat-value{white-space:nowrap;grid-column-start:1;font-size:2rem;font-weight:800}.stat-desc{white-space:nowrap;color:color-mix(in srgb,var(--color-base-content)60%,transparent);grid-column-start:1;font-size:.75rem}@supports (color:color-mix(in lab,red,red)){.stat-desc{color:color-mix(in oklab,var(--color-base-content)60%,transparent)}}.stat-title{white-space:nowrap;color:color-mix(in srgb,var(--color-base-content)60%,transparent);grid-column-start:1;font-size:.75rem}@supports (color:color-mix(in lab,red,red)){.stat-title{color:color-mix(in oklab,var(--color-base-content)60%,transparent)}}.stat-actions{white-space:nowrap;grid-column-start:1}.col-start-1{grid-column-start:1}.col-start-5{grid-column-start:5}.col-start-9{grid-column-start:9}.chat-image{grid-row:span 2/span 2;align-self:flex-end}.chat-footer{grid-row-start:3;gap:.25rem;font-size:.6875rem;display:flex}.chat-header{grid-row-start:1;gap:.25rem;font-size:.6875rem;display:flex}.list-col-wrap{grid-row-start:2}.container{width:100%}@media (min-width:40rem){.container{max-width:40rem}}@media (min-width:48rem){.container{max-width:48rem}}@media (min-width:64rem){.container{max-width:64rem}}@media (min-width:80rem){.container{max-width:80rem}}@media (min-width:96rem){.container{max-width:96rem}}.divider{white-space:nowrap;height:1rem;margin:var(--divider-m,1rem 0);flex-direction:row;align-self:stretch;align-items:center;display:flex}.divider:before,.divider:after{content:"";background-color:color-mix(in srgb,var(--color-base-content)10%,transparent);flex-grow:1;width:100%;height:.125rem}@supports (color:color-mix(in lab,red,red)){:is(){background-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}@media print{.divider:before,.divider:after{border:.5px solid}}.divider:not(:empty){gap:1rem}.-m-6{margin:calc(var(--spacing)*-6)}.m-0{margin:calc(var(--spacing)*0)}.m-1{margin:calc(var(--spacing)*1)}.m-4{margin:calc(var(--spacing)*4)}.m-6{margin:calc(var(--spacing)*6)}.filter{flex-wrap:wrap;display:flex}.filter input[type=radio]{width:auto}.filter input{opacity:1;transition:margin .1s,opacity .3s,padding .3s,border-width .1s;overflow:hidden;scale:1}.filter input:not(:last-child){margin-inline-end:.25rem}.filter input.filter-reset{aspect-ratio:1}.filter input.filter-reset:after{content:"×"}.filter:not(:has(input:checked:not(.filter-reset))) .filter-reset,.filter:not(:has(input:checked:not(.filter-reset))) input[type=reset],.filter:has(input:checked:not(.filter-reset)) input:not(:checked,.filter-reset,input[type=reset]){opacity:0;border-width:0;width:0;margin-inline:0;padding-inline:0;scale:0}.-mx-6{margin-inline:calc(var(--spacing)*-6)}.mx-1{margin-inline:calc(var(--spacing)*1)}.mx-2{margin-inline:calc(var(--spacing)*2)}.mx-4{margin-inline:calc(var(--spacing)*4)}.mx-6{margin-inline:calc(var(--spacing)*6)}.mx-auto{margin-inline:auto}.file-input-ghost{box-shadow:none;background-color:#0000;border-color:#0000;transition:background-color .2s}.file-input-ghost::file-selector-button{cursor:pointer;webkit-user-select:none;-webkit-user-select:none;user-select:none;border-start-end-radius:calc(var(--join-ss,var(--radius-field) - var(--border)));border-end-end-radius:calc(var(--join-es,var(--radius-field) - var(--border)));height:100%;margin-block:0;margin-inline:0 1rem;padding-inline:1rem}.file-input-ghost:focus,.file-input-ghost:focus-within{background-color:var(--color-base-100);color:var(--color-base-content);box-shadow:none;border-color:#0000}.input-lg{--size:calc(var(--size-field,.25rem)*12);font-size:1.125rem}.input-lg[type=number]::-webkit-inner-spin-button{margin-block:-.75rem;margin-inline-end:-.75rem}.input-md{--size:calc(var(--size-field,.25rem)*10);font-size:.875rem}.input-md[type=number]::-webkit-inner-spin-button{margin-block:-.75rem;margin-inline-end:-.75rem}.input-sm{--size:calc(var(--size-field,.25rem)*8);font-size:.75rem}.input-sm[type=number]::-webkit-inner-spin-button{margin-block:-.5rem;margin-inline-end:-.75rem}.input-xl{--size:calc(var(--size-field,.25rem)*14);font-size:1.375rem}.input-xl[type=number]::-webkit-inner-spin-button{margin-block:-1rem;margin-inline-end:-.75rem}.input-xs{--size:calc(var(--size-field,.25rem)*6);font-size:.6875rem}.input-xs[type=number]::-webkit-inner-spin-button{margin-block:-.25rem;margin-inline-end:-.75rem}.my-2{margin-block:calc(var(--spacing)*2)}.my-3{margin-block:calc(var(--spacing)*3)}.my-4{margin-block:calc(var(--spacing)*4)}.my-6{margin-block:calc(var(--spacing)*6)}.my-8{margin-block:calc(var(--spacing)*8)}.my-12{margin-block:calc(var(--spacing)*12)}.label{white-space:nowrap;color:color-mix(in oklab,currentColor 60%,transparent);align-items:center;gap:.375rem;display:inline-flex}.label:has(input){cursor:pointer}.label:is(.input>*,.select>*){white-space:nowrap;height:calc(100% - .5rem);font-size:inherit;align-items:center;padding-inline:.75rem;display:flex}.label:is(.input>*,.select>*):first-child{border-inline-end:var(--border)solid color-mix(in oklab,currentColor 10%,#0000);margin-inline:-.75rem .75rem}.label:is(.input>*,.select>*):last-child{border-inline-start:var(--border)solid color-mix(in oklab,currentColor 10%,#0000);margin-inline:.75rem -.75rem}.steps-vertical{grid-auto-rows:1fr;grid-auto-flow:row}.steps-vertical .step{grid-template-rows:auto;grid-template-columns:40px 1fr;justify-items:start;gap:.5rem;min-height:4rem;display:grid}.steps-vertical .step:before{width:.5rem;height:100%;margin-inline-start:50%;translate:-50% -50%}[dir=rtl] :is(.steps-vertical .step):before{translate:50% -50%}.steps-horizontal{grid-auto-columns:1fr;grid-auto-flow:column;display:inline-grid;overflow:auto hidden}.steps-horizontal .step{text-align:center;grid-template-rows:40px 1fr;grid-template-columns:auto;place-items:center;min-width:4rem;display:grid}.steps-horizontal .step:before{content:"";width:100%;height:.5rem;margin-inline-start:-100%;translate:0}[dir=rtl] :is(.steps-horizontal .step):before{translate:0}.join-horizontal{flex-direction:row}.join-horizontal>.join-item:first-child,.join-horizontal :first-child:not(:last-child) .join-item{--join-ss:var(--radius-field);--join-se:0;--join-es:var(--radius-field);--join-ee:0}.join-horizontal>.join-item:last-child,.join-horizontal :last-child:not(:first-child) .join-item{--join-ss:0;--join-se:var(--radius-field);--join-es:0;--join-ee:var(--radius-field)}.join-horizontal>.join-item:only-child,.join-horizontal :only-child .join-item{--join-ss:var(--radius-field);--join-se:var(--radius-field);--join-es:var(--radius-field);--join-ee:var(--radius-field)}.join-horizontal .join-item:where(:not(:first-child)){margin-block-start:0;margin-inline-start:calc(var(--border,1px)*-1)}.join-vertical{flex-direction:column}.join-vertical>.join-item:first-child,.join-vertical :first-child:not(:last-child) .join-item{--join-ss:var(--radius-field);--join-se:var(--radius-field);--join-es:0;--join-ee:0}.join-vertical>.join-item:last-child,.join-vertical :last-child:not(:first-child) .join-item{--join-ss:0;--join-se:0;--join-es:var(--radius-field);--join-ee:var(--radius-field)}.join-vertical>.join-item:only-child,.join-vertical :only-child .join-item{--join-ss:var(--radius-field);--join-se:var(--radius-field);--join-es:var(--radius-field);--join-ee:var(--radius-field)}.join-vertical .join-item:where(:not(:first-child)){margin-block-start:calc(var(--border,1px)*-1);margin-inline-start:0}.join-item:where(:not(:first-child)){margin-block-start:0;margin-inline-start:calc(var(--border,1px)*-1)}.prose{color:var(--tw-prose-body);--tw-prose-body:oklch(37.3% .034 259.733);--tw-prose-headings:oklch(21% .034 264.665);--tw-prose-lead:oklch(44.6% .03 256.802);--tw-prose-links:oklch(21% .034 264.665);--tw-prose-bold:oklch(21% .034 264.665);--tw-prose-counters:oklch(55.1% .027 264.364);--tw-prose-bullets:oklch(87.2% .01 258.338);--tw-prose-hr:oklch(92.8% .006 264.531);--tw-prose-quotes:oklch(21% .034 264.665);--tw-prose-quote-borders:oklch(92.8% .006 264.531);--tw-prose-captions:oklch(55.1% .027 264.364);--tw-prose-kbd:oklch(21% .034 264.665);--tw-prose-kbd-shadows:NaN NaN NaN;--tw-prose-code:oklch(21% .034 264.665);--tw-prose-pre-code:oklch(92.8% .006 264.531);--tw-prose-pre-bg:oklch(27.8% .033 256.848);--tw-prose-th-borders:oklch(87.2% .01 258.338);--tw-prose-td-borders:oklch(92.8% .006 264.531);--tw-prose-invert-body:oklch(87.2% .01 258.338);--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:oklch(70.7% .022 261.325);--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:oklch(70.7% .022 261.325);--tw-prose-invert-bullets:oklch(44.6% .03 256.802);--tw-prose-invert-hr:oklch(37.3% .034 259.733);--tw-prose-invert-quotes:oklch(96.7% .003 264.542);--tw-prose-invert-quote-borders:oklch(37.3% .034 259.733);--tw-prose-invert-captions:oklch(70.7% .022 261.325);--tw-prose-invert-kbd:#fff;--tw-prose-invert-kbd-shadows:255 255 255;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:oklch(87.2% .01 258.338);--tw-prose-invert-pre-bg:#00000080;--tw-prose-invert-th-borders:oklch(44.6% .03 256.802);--tw-prose-invert-td-borders:oklch(37.3% .034 259.733);max-width:65ch;font-size:1rem;line-height:1.75}.prose :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-lead);margin-top:1.2em;margin-bottom:1.2em;font-size:1.25em;line-height:1.6}.prose :where(a):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-links);font-weight:500;text-decoration:underline}.prose :where(strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(blockquote strong):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(thead th strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em;padding-inline-start:1.625em;list-style-type:decimal}.prose :where(ol[type=A]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em;padding-inline-start:1.625em;list-style-type:disc}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:1.25em;font-weight:600}.prose :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-quotes);border-inline-start-width:.25rem;border-inline-start-color:var(--tw-prose-quote-borders);quotes:"“""”""‘""’";margin-top:1.6em;margin-bottom:1.6em;padding-inline-start:1em;font-style:italic;font-weight:500}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:0;margin-bottom:.888889em;font-size:2.25em;font-weight:800;line-height:1.11111}.prose :where(h1 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:900}.prose :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:2em;margin-bottom:1em;font-size:1.5em;font-weight:700;line-height:1.33333}.prose :where(h2 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:800}.prose :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:1.6em;margin-bottom:.6em;font-size:1.25em;font-weight:600;line-height:1.6}.prose :where(h3 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:1.5em;margin-bottom:.5em;font-weight:600;line-height:1.5}.prose :where(h4 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em;display:block}.prose :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-kbd);box-shadow:0 0 0 1px rgb(var(--tw-prose-kbd-shadows)/10%),0 3px rgb(var(--tw-prose-kbd-shadows)/10%);padding-top:.1875em;padding-inline-end:.375em;padding-bottom:.1875em;border-radius:.3125rem;padding-inline-start:.375em;font-family:inherit;font-size:.875em;font-weight:500}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-code);font-size:.875em;font-weight:600}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):before,.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(h1 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(blockquote code):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(thead th code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-pre-code);background-color:var(--tw-prose-pre-bg);padding-top:.857143em;padding-inline-end:1.14286em;padding-bottom:.857143em;border-radius:.375rem;margin-top:1.71429em;margin-bottom:1.71429em;padding-inline-start:1.14286em;font-size:.875em;font-weight:400;line-height:1.71429;overflow-x:auto}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:inherit;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit;background-color:#0000;border-width:0;border-radius:0;padding:0}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):before,.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){table-layout:auto;text-align:start;width:100%;margin-top:2em;margin-bottom:2em;font-size:.875em;line-height:1.71429}.prose :where(thead):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-th-borders)}.prose :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);vertical-align:bottom;padding-inline-end:.571429em;padding-bottom:.571429em;padding-inline-start:.571429em;font-weight:600}.prose :where(tbody tr):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-td-borders)}.prose :where(tbody tr:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~=not-prose],[class~=not-prose] *)){border-top-width:1px;border-top-color:var(--tw-prose-th-borders)}.prose :where(tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:top}.prose :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-captions);margin-top:.857143em;font-size:.875em;line-height:1.42857}.prose :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;margin-bottom:.5em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(.prose>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;padding-inline-start:1.625em}.prose :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.571429em;padding-inline-end:.571429em;padding-bottom:.571429em;padding-inline-start:.571429em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(.prose>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.prose-lg{font-size:1.125rem;line-height:1.77778}.prose-lg :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.33333em;margin-bottom:1.33333em}.prose-lg :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.09091em;margin-bottom:1.09091em;font-size:1.22222em;line-height:1.45455}.prose-lg :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.66667em;margin-bottom:1.66667em;padding-inline-start:1em}.prose-lg :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:.833333em;font-size:2.66667em;line-height:1}.prose-lg :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.86667em;margin-bottom:1.06667em;font-size:1.66667em;line-height:1.33333}.prose-lg :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.66667em;margin-bottom:.666667em;font-size:1.33333em;line-height:1.5}.prose-lg :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.77778em;margin-bottom:.444444em;line-height:1.55556}.prose-lg :where(img):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-lg :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.77778em;margin-bottom:1.77778em}.prose-lg :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose-lg :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.77778em;margin-bottom:1.77778em}.prose-lg :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.222222em;padding-inline-end:.444444em;padding-bottom:.222222em;border-radius:.3125rem;padding-inline-start:.444444em;font-size:.888889em}.prose-lg :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.888889em}.prose-lg :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.866667em}.prose-lg :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.875em}.prose-lg :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:1em;padding-inline-end:1.5em;padding-bottom:1em;border-radius:.375rem;margin-top:2em;margin-bottom:2em;padding-inline-start:1.5em;font-size:.888889em;line-height:1.75}.prose-lg :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-lg :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.33333em;margin-bottom:1.33333em;padding-inline-start:1.55556em}.prose-lg :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.666667em;margin-bottom:.666667em}.prose-lg :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-lg :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.444444em}.prose-lg :where(.prose-lg>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.888889em;margin-bottom:.888889em}.prose-lg :where(.prose-lg>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.33333em}.prose-lg :where(.prose-lg>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.33333em}.prose-lg :where(.prose-lg>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.33333em}.prose-lg :where(.prose-lg>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.33333em}.prose-lg :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.888889em;margin-bottom:.888889em}.prose-lg :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.33333em;margin-bottom:1.33333em}.prose-lg :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.33333em}.prose-lg :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.666667em;padding-inline-start:1.55556em}.prose-lg :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:3.11111em;margin-bottom:3.11111em}.prose-lg :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-lg :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-lg :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-lg :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.888889em;line-height:1.5}.prose-lg :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:.75em;padding-bottom:.75em;padding-inline-start:.75em}.prose-lg :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose-lg :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose-lg :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.75em;padding-inline-end:.75em;padding-bottom:.75em;padding-inline-start:.75em}.prose-lg :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose-lg :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose-lg :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.77778em;margin-bottom:1.77778em}.prose-lg :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose-lg :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1em;font-size:.888889em;line-height:1.5}.prose-lg :where(.prose-lg>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(.prose-lg>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.modal-action{justify-content:flex-end;gap:.5rem;margin-top:1.5rem;display:flex}.validator-hint{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height));margin-top:.5rem}.-mt-2{margin-top:calc(var(--spacing)*-2)}.-mt-6{margin-top:calc(var(--spacing)*-6)}.-mt-8{margin-top:calc(var(--spacing)*-8)}.-mt-12{margin-top:calc(var(--spacing)*-12)}.-mt-24{margin-top:calc(var(--spacing)*-24)}.-mt-56{margin-top:calc(var(--spacing)*-56)}.-mt-\[150px\]{margin-top:-150px}.mt-0{margin-top:calc(var(--spacing)*0)}.mt-0\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-2\.5{margin-top:calc(var(--spacing)*2.5)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-6{margin-top:calc(var(--spacing)*6)}.mt-8{margin-top:calc(var(--spacing)*8)}.mt-9{margin-top:calc(var(--spacing)*9)}.mt-10{margin-top:calc(var(--spacing)*10)}.mt-12{margin-top:calc(var(--spacing)*12)}.mt-16{margin-top:calc(var(--spacing)*16)}.mt-20{margin-top:calc(var(--spacing)*20)}.mt-24{margin-top:calc(var(--spacing)*24)}.mt-auto{margin-top:auto}.breadcrumbs{max-width:100%;padding-block:.5rem;overflow-x:auto}.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol{white-space:nowrap;align-items:center;min-height:min-content;display:flex}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li{align-items:center;display:flex}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>*{cursor:pointer;align-items:center;gap:.5rem;display:flex}@media (hover:hover){:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>:hover{text-decoration-line:underline}}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>:focus{outline-offset:2px;outline:2px solid #0000}}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>:focus-visible{outline-offset:2px;outline:2px solid}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li+:before{content:"";opacity:.4;background-color:#0000;border-top:1px solid;border-right:1px solid;width:.375rem;height:.375rem;margin-left:.5rem;margin-right:.75rem;display:block;rotate:45deg}[dir=rtl] :is(:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li)+:before{rotate:-135deg}.-mr-6{margin-right:calc(var(--spacing)*-6)}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-1\.5{margin-right:calc(var(--spacing)*1.5)}.mr-2{margin-right:calc(var(--spacing)*2)}.mr-2\.5{margin-right:calc(var(--spacing)*2.5)}.mr-3{margin-right:calc(var(--spacing)*3)}.mr-6{margin-right:calc(var(--spacing)*6)}.mr-20{margin-right:calc(var(--spacing)*20)}.fieldset-legend{color:var(--color-base-content);justify-content:space-between;align-items:center;gap:.5rem;margin-bottom:-.25rem;padding-block:.5rem;font-weight:600;display:flex}.footer-title{text-transform:uppercase;opacity:.6;margin-bottom:.5rem;font-weight:600}.-mb-0\.5{margin-bottom:calc(var(--spacing)*-.5)}.-mb-6{margin-bottom:calc(var(--spacing)*-6)}.-mb-9{margin-bottom:calc(var(--spacing)*-9)}.mb-0{margin-bottom:calc(var(--spacing)*0)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-1\.5{margin-bottom:calc(var(--spacing)*1.5)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-2\.5{margin-bottom:calc(var(--spacing)*2.5)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-5{margin-bottom:calc(var(--spacing)*5)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.mb-9{margin-bottom:calc(var(--spacing)*9)}.mb-10{margin-bottom:calc(var(--spacing)*10)}.mb-12{margin-bottom:calc(var(--spacing)*12)}.mb-16{margin-bottom:calc(var(--spacing)*16)}.mb-24{margin-bottom:calc(var(--spacing)*24)}.-ml-0\.5{margin-left:calc(var(--spacing)*-.5)}.-ml-1\.5{margin-left:calc(var(--spacing)*-1.5)}.-ml-2{margin-left:calc(var(--spacing)*-2)}.-ml-4{margin-left:calc(var(--spacing)*-4)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-1\.5{margin-left:calc(var(--spacing)*1.5)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-4{margin-left:calc(var(--spacing)*4)}.ml-6{margin-left:calc(var(--spacing)*6)}.ml-8{margin-left:calc(var(--spacing)*8)}.ml-auto{margin-left:auto}.carousel-item{box-sizing:content-box;scroll-snap-align:start;flex:none;display:flex}.status{aspect-ratio:1;border-radius:var(--radius-selector);background-color:color-mix(in srgb,var(--color-base-content)20%,transparent);vertical-align:middle;color:#0000004d;background-position:50%;background-repeat:no-repeat;background-image:radial-gradient(circle at 35% 30%,oklch(1 0 0/calc(var(--depth)*.5)),#0000);width:.5rem;height:.5rem;box-shadow:0 2px 3px -1px color-mix(in oklab,currentColor calc(var(--depth)*100%),#0000);display:inline-block}@supports (color:color-mix(in lab,red,red)){.status{background-color:color-mix(in oklab,var(--color-base-content)20%,transparent);color:#0000004d}@supports (color:color-mix(in lab,red,red)){.status{color:color-mix(in oklab,var(--color-black)30%,transparent)}}}.badge{border-radius:var(--radius-selector);vertical-align:middle;color:var(--badge-fg);border:var(--border)solid var(--badge-color,var(--color-base-200));width:fit-content;padding-inline:calc(.25rem*3 - var(--border));background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);background-color:var(--badge-bg);--badge-bg:var(--badge-color,var(--color-base-100));--badge-fg:var(--color-base-content);--size:calc(var(--size-selector,.25rem)*6);height:var(--size);justify-content:center;align-items:center;gap:.5rem;font-size:.875rem;display:inline-flex}.badge.badge-outline{--badge-fg:var(--badge-color);--badge-bg:#0000;background-image:none}.badge.badge-dash{--badge-fg:var(--badge-color);--badge-bg:#0000;background-image:none;border-style:dashed}.badge.badge-soft{color:var(--badge-color,var(--color-base-content));background-color:color-mix(in oklab,var(--badge-color,var(--color-base-content))8%,var(--color-base-100));border-color:color-mix(in oklab,var(--badge-color,var(--color-base-content))10%,var(--color-base-100));background-image:none}@supports (color:color-mix(in lab,red,red)){.badge.badge-soft{background-color:color-mix(in oklab,var(--badge-color,var(--color-base-content))8%,var(--color-base-100));border-color:color-mix(in oklab,var(--badge-color,var(--color-base-content))10%,var(--color-base-100))}}.kbd{border-radius:var(--radius-field);background-color:var(--color-base-200);vertical-align:middle;border:var(--border)solid color-mix(in srgb,var(--color-base-content)20%,#0000);border-bottom:calc(var(--border) + 1px)solid color-mix(in srgb,var(--color-base-content)20%,#0000);--size:calc(var(--size-selector,.25rem)*6);height:var(--size);min-width:var(--size);justify-content:center;align-items:center;padding-left:.5em;padding-right:.5em;font-size:.875rem;display:inline-flex}@supports (color:color-mix(in lab,red,red)){.kbd{border:var(--border)solid color-mix(in srgb,var(--color-base-content)20%,#0000);border-bottom:calc(var(--border) + 1px)solid color-mix(in srgb,var(--color-base-content)20%,#0000)}}.tabs{--tabs-height:auto;--tabs-direction:row;height:var(--tabs-height);flex-wrap:wrap;flex-direction:var(--tabs-direction);display:flex}.navbar{align-items:center;width:100%;min-height:4rem;padding:.5rem;display:flex}.footer{grid-auto-flow:row;place-items:start;gap:2.5rem 1rem;width:100%;font-size:.875rem;line-height:1.25rem;display:grid}.footer>*{place-items:start;gap:.5rem;display:grid}.footer.footer-center{text-align:center;grid-auto-flow:column dense;place-items:center}.footer.footer-center>*{place-items:center}.stat{grid-template-columns:repeat(1,1fr);column-gap:1rem;width:100%;padding-block:1rem;padding-inline:1.5rem;display:inline-grid}.stat:not(:last-child){border-inline-end:var(--border)dashed color-mix(in oklab,currentColor 10%,#0000);border-block-end:none}.navbar-end{justify-content:flex-end;align-items:center;width:50%;display:inline-flex}.navbar-start{justify-content:flex-start;align-items:center;width:50%;display:inline-flex}.card-body{padding:var(--card-p,1.5rem);font-size:var(--card-fs,.875rem);flex-direction:column;flex:auto;gap:.5rem;display:flex}.card-body :where(p){flex-grow:1}.navbar-center{flex-shrink:0;align-items:center;display:inline-flex}.fieldset-label{color:color-mix(in srgb,var(--color-base-content)60%,transparent);align-items:center;gap:.375rem;display:flex}@supports (color:color-mix(in lab,red,red)){.fieldset-label{color:color-mix(in oklab,var(--color-base-content)60%,transparent)}}.fieldset-label:has(input){cursor:pointer}.carousel{scroll-snap-type:x mandatory;scroll-behavior:smooth;scrollbar-width:none;display:inline-flex;overflow-x:scroll}.carousel::-webkit-scrollbar{display:none}.alert{border-radius:var(--radius-box);color:var(--color-base-content);background-color:var(--alert-color,var(--color-base-200));text-align:start;border:var(--border)solid var(--color-base-200);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);box-shadow:0 3px 0 -2px oklch(100% 0 0/calc(var(--depth)*.08)) inset,0 1px color-mix(in oklab,color-mix(in srgb,#000 20%,var(--alert-color,var(--color-base-200)))calc(var(--depth)*20%),#0000),0 4px 3px -2px oklch(0% 0 0/calc(var(--depth)*.08));grid-template-columns:auto;grid-auto-flow:column;justify-content:start;place-items:center start;gap:1rem;padding-block:.75rem;padding-inline:1rem;font-size:.875rem;line-height:1.25rem;display:grid}@supports (color:color-mix(in lab,red,red)){.alert{box-shadow:0 3px 0 -2px oklch(100% 0 0/calc(var(--depth)*.08)) inset,0 1px color-mix(in oklab,color-mix(in oklab,#000 20%,var(--alert-color,var(--color-base-200)))calc(var(--depth)*20%),#0000),0 4px 3px -2px oklch(0% 0 0/calc(var(--depth)*.08))}}.alert:has(:nth-child(2)){grid-template-columns:auto minmax(auto,1fr)}.alert.alert-outline{color:var(--alert-color);box-shadow:none;background-color:#0000;background-image:none}.alert.alert-dash{color:var(--alert-color);box-shadow:none;background-color:#0000;background-image:none;border-style:dashed}.alert.alert-soft{color:var(--alert-color,var(--color-base-content));background:color-mix(in oklab,var(--alert-color,var(--color-base-content))8%,var(--color-base-100));border-color:color-mix(in oklab,var(--alert-color,var(--color-base-content))10%,var(--color-base-100));box-shadow:none;background-image:none}@supports (color:color-mix(in lab,red,red)){.alert.alert-soft{background:color-mix(in oklab,var(--alert-color,var(--color-base-content))8%,var(--color-base-100));border-color:color-mix(in oklab,var(--alert-color,var(--color-base-content))10%,var(--color-base-100))}}.fieldset{grid-template-columns:1fr;grid-auto-rows:max-content;gap:.375rem;padding-block:.25rem;font-size:.75rem;display:grid}.card-actions{flex-wrap:wrap;align-items:flex-start;gap:.5rem;display:flex}.avatar-placeholder>div{justify-content:center;align-items:center;display:flex}.card-title{font-size:var(--cardtitle-fs,1.125rem);align-items:center;gap:.5rem;font-weight:600;display:flex}.join{--join-ss:0;--join-se:0;--join-es:0;--join-ee:0;align-items:stretch;display:inline-flex}.join :where(.join-item){border-start-start-radius:var(--join-ss,0);border-start-end-radius:var(--join-se,0);border-end-end-radius:var(--join-ee,0);border-end-start-radius:var(--join-es,0)}.join :where(.join-item) *{--join-ss:var(--radius-field);--join-se:var(--radius-field);--join-es:var(--radius-field);--join-ee:var(--radius-field)}.join>.join-item:where(:first-child),.join :first-child:not(:last-child) :where(.join-item){--join-ss:var(--radius-field);--join-se:0;--join-es:var(--radius-field);--join-ee:0}.join>.join-item:where(:last-child),.join :last-child:not(:first-child) :where(.join-item){--join-ss:0;--join-se:var(--radius-field);--join-es:0;--join-ee:var(--radius-field)}.join>.join-item:where(:only-child),.join :only-child :where(.join-item){--join-ss:var(--radius-field);--join-se:var(--radius-field);--join-es:var(--radius-field);--join-ee:var(--radius-field)}.mockup-phone{background-color:#000;border:6px solid #6b6b6b;border-radius:65px;justify-items:center;padding:11px;display:inline-grid;overflow:hidden}.chat{column-gap:.75rem;padding-block:.25rem;display:grid}.avatar-group{display:flex;overflow:hidden}.avatar-group :where(.avatar){border:4px solid var(--color-base-100);border-radius:3.40282e38px;overflow:hidden}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}:root .prose{--tw-prose-body:color-mix(in srgb,var(--color-base-content)80%,#0000);--tw-prose-headings:var(--color-base-content);--tw-prose-lead:var(--color-base-content);--tw-prose-links:var(--color-base-content);--tw-prose-bold:var(--color-base-content);--tw-prose-counters:var(--color-base-content);--tw-prose-bullets:color-mix(in srgb,var(--color-base-content)50%,#0000);--tw-prose-hr:color-mix(in srgb,var(--color-base-content)20%,#0000);--tw-prose-quotes:var(--color-base-content);--tw-prose-quote-borders:color-mix(in srgb,var(--color-base-content)20%,#0000);--tw-prose-captions:color-mix(in srgb,var(--color-base-content)50%,#0000);--tw-prose-code:var(--color-base-content);--tw-prose-pre-code:var(--color-neutral-content);--tw-prose-pre-bg:var(--color-neutral);--tw-prose-th-borders:color-mix(in srgb,var(--color-base-content)50%,#0000);--tw-prose-td-borders:color-mix(in srgb,var(--color-base-content)20%,#0000);--tw-prose-kbd:color-mix(in srgb,var(--color-base-content)80%,#0000)}@supports (color:color-mix(in lab,red,red)){:root .prose{--tw-prose-body:color-mix(in oklab,var(--color-base-content)80%,#0000);--tw-prose-bullets:color-mix(in oklab,var(--color-base-content)50%,#0000);--tw-prose-hr:color-mix(in oklab,var(--color-base-content)20%,#0000);--tw-prose-quote-borders:color-mix(in oklab,var(--color-base-content)20%,#0000);--tw-prose-captions:color-mix(in oklab,var(--color-base-content)50%,#0000);--tw-prose-th-borders:color-mix(in oklab,var(--color-base-content)50%,#0000);--tw-prose-td-borders:color-mix(in oklab,var(--color-base-content)20%,#0000);--tw-prose-kbd:color-mix(in oklab,var(--color-base-content)80%,#0000)}}:root .prose :where(code):not(pre>code){background-color:var(--color-base-200);border-radius:var(--radius-selector);border:var(--border)solid var(--color-base-300);font-weight:inherit;padding-inline:.5em}:root .prose :where(code):not(pre>code):before,:root .prose :where(code):not(pre>code):after{display:none}.mask{vertical-align:middle;display:inline-block;-webkit-mask-position:50%;mask-position:50%;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}@layer utilities{.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}.no-scrollbar::-webkit-scrollbar{display:none}.show-scrollbar{-ms-overflow-style:auto;scrollbar-width:auto}.show-scrollbar::-webkit-scrollbar{display:block}}.block{display:block}.contents{display:contents}.divider-end:after,.divider-start:before{display:none}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.table{display:table}.aspect-16\/9{aspect-ratio:16/9}.modal-bottom{place-items:end}.modal-bottom :where(.modal-box){--modal-tl:var(--radius-box);--modal-tr:var(--radius-box);--modal-bl:0;--modal-br:0;width:100%;max-width:none;height:auto;max-height:calc(100vh - 5em);translate:0 100%;scale:1}.modal-end{place-items:end}.modal-end :where(.modal-box){--modal-tl:var(--radius-box);--modal-tr:0;--modal-bl:var(--radius-box);--modal-br:0;width:auto;max-width:none;height:100vh;max-height:none;translate:100%;scale:1}.modal-middle{place-items:center}.modal-middle :where(.modal-box){--modal-tl:var(--radius-box);--modal-tr:var(--radius-box);--modal-bl:var(--radius-box);--modal-br:var(--radius-box);width:91.6667%;max-width:32rem;height:auto;max-height:calc(100vh - 5em);translate:0 2%;scale:98%}.modal-start{place-items:start}.modal-start :where(.modal-box){--modal-tl:0;--modal-tr:var(--radius-box);--modal-bl:0;--modal-br:var(--radius-box);width:auto;max-width:none;height:100vh;max-height:none;translate:-100%;scale:1}.modal-top{place-items:start}.modal-top :where(.modal-box){--modal-tl:0;--modal-tr:0;--modal-bl:var(--radius-box);--modal-br:var(--radius-box);width:100%;max-width:none;height:auto;max-height:calc(100vh - 5em);translate:0 -100%;scale:1}.card-side{flex-direction:row;align-items:stretch}.card-side :where(figure:first-child){border-start-start-radius:inherit;border-start-end-radius:unset;border-end-end-radius:unset;border-end-start-radius:inherit;overflow:hidden}.card-side :where(figure:last-child){border-start-start-radius:unset;border-start-end-radius:inherit;border-end-end-radius:inherit;border-end-start-radius:unset;overflow:hidden}.card-side figure>*{max-width:unset}.card-side :where(figure>*){object-fit:cover;width:100%;height:100%}.divider-horizontal{--divider-m:0 1rem}.divider-horizontal.divider{flex-direction:column;width:1rem;height:auto}.divider-horizontal.divider:before,.divider-horizontal.divider:after{width:.125rem;height:100%}.divider-vertical{--divider-m:1rem 0}.divider-vertical.divider{flex-direction:row;width:auto;height:1rem}.divider-vertical.divider:before,.divider-vertical.divider:after{width:100%;height:.125rem}.btn-circle{width:var(--size);height:var(--size);border-radius:3.40282e38px;padding-inline:0}.btn-square{width:var(--size);height:var(--size);padding-inline:0}.size-10{width:calc(var(--spacing)*10);height:calc(var(--spacing)*10)}.size-\[1\.2em\]{width:1.2em;height:1.2em}.status-lg{width:.75rem;height:.75rem}.status-md{width:.5rem;height:.5rem}.status-sm{width:.25rem;height:.25rem}.status-xl{width:1rem;height:1rem}.status-xs{width:.125rem;height:.125rem}.tabs-lg :where(.tab){height:calc(var(--size-field,.25rem)*12);--tab-p:1rem;--tab-radius-min:calc(1.5rem - var(--border));font-size:1.125rem}.dock-md{height:4rem;height:calc(4rem + env(safe-area-inset-bottom))}.dock-md .dock-label{font-size:.6875rem}.h-0{height:calc(var(--spacing)*0)}.h-1{height:calc(var(--spacing)*1)}.h-1\/2{height:50%}.h-2{height:calc(var(--spacing)*2)}.h-3{height:calc(var(--spacing)*3)}.h-3\.5{height:calc(var(--spacing)*3.5)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.h-13{height:calc(var(--spacing)*13)}.h-16{height:calc(var(--spacing)*16)}.h-19{height:calc(var(--spacing)*19)}.h-20{height:calc(var(--spacing)*20)}.h-24{height:calc(var(--spacing)*24)}.h-32{height:calc(var(--spacing)*32)}.h-40{height:calc(var(--spacing)*40)}.h-48{height:calc(var(--spacing)*48)}.h-60{height:calc(var(--spacing)*60)}.h-64{height:calc(var(--spacing)*64)}.h-72{height:calc(var(--spacing)*72)}.h-80{height:calc(var(--spacing)*80)}.h-96{height:calc(var(--spacing)*96)}.h-\[1\.2em\]{height:1.2em}.h-\[20px\]{height:20px}.h-\[50vh\]{height:50vh}.h-\[55vh\]{height:55vh}.h-\[100vh\]{height:100vh}.h-auto{height:auto}.h-full{height:100%}.h-screen{height:100vh}.max-h-8{max-height:calc(var(--spacing)*8)}.max-h-64{max-height:calc(var(--spacing)*64)}.max-h-\[90vh\]{max-height:90vh}.max-h-\[400px\]{max-height:400px}.min-h-10{min-height:calc(var(--spacing)*10)}.min-h-40{min-height:calc(var(--spacing)*40)}.min-h-64{min-height:calc(var(--spacing)*64)}.min-h-\[3\.5rem\]{min-height:3.5rem}.min-h-\[100vh\]{min-height:100vh}.min-h-\[320px\]{min-height:320px}.min-h-full{min-height:100%}.min-h-screen{min-height:100vh}.btn-wide{width:100%;max-width:16rem}.cally{font-size:.7rem}.cally::part(container){-webkit-user-select:none;user-select:none;padding:.5rem 1rem}.cally ::part(th){block-size:auto;font-weight:400}.cally::part(header){direction:ltr}.cally ::part(head){opacity:.5;font-size:.7rem}.cally::part(button){border-radius:var(--radius-field);background:0 0;border:none;padding:.5rem}.cally::part(button):hover{background:var(--color-base-200)}.cally ::part(day){border-radius:var(--radius-field);font-size:.7rem}.cally ::part(button day today){background:var(--color-primary);color:var(--color-primary-content)}.cally ::part(selected){color:var(--color-base-100);background:var(--color-base-content);border-radius:var(--radius-field)}.cally ::part(range-inner){border-radius:0}.cally ::part(range-start){border-start-end-radius:0;border-end-end-radius:0}.cally ::part(range-end){border-start-start-radius:0;border-end-start-radius:0}.cally ::part(range-start range-end){border-radius:var(--radius-field)}.cally calendar-month{width:100%}.rating-half :where(:not(.rating-hidden)){width:.75rem}.rating-half.rating-xs :not(.rating-hidden){width:.5rem}.rating-half.rating-sm :not(.rating-hidden){width:.625rem}.rating-half.rating-md :not(.rating-hidden){width:.75rem}.rating-half.rating-lg :not(.rating-hidden){width:.875rem}.rating-half.rating-xl :not(.rating-hidden){width:1rem}.btn-block{width:100%}.loading-lg{width:calc(var(--size-selector,.25rem)*7)}.loading-md{width:calc(var(--size-selector,.25rem)*6)}.loading-sm{width:calc(var(--size-selector,.25rem)*5)}.loading-xl{width:calc(var(--size-selector,.25rem)*8)}.loading-xs{width:calc(var(--size-selector,.25rem)*4)}.w-0{width:calc(var(--spacing)*0)}.w-0\.5{width:calc(var(--spacing)*.5)}.w-1{width:calc(var(--spacing)*1)}.w-1\/2{width:50%}.w-1\/3{width:33.3333%}.w-1\/4{width:25%}.w-1\/5{width:20%}.w-2{width:calc(var(--spacing)*2)}.w-2\/3{width:66.6667%}.w-2\/5{width:40%}.w-3{width:calc(var(--spacing)*3)}.w-3\.5{width:calc(var(--spacing)*3.5)}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-7{width:calc(var(--spacing)*7)}.w-8{width:calc(var(--spacing)*8)}.w-10{width:calc(var(--spacing)*10)}.w-12{width:calc(var(--spacing)*12)}.w-14{width:calc(var(--spacing)*14)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-28{width:calc(var(--spacing)*28)}.w-32{width:calc(var(--spacing)*32)}.w-40{width:calc(var(--spacing)*40)}.w-44{width:calc(var(--spacing)*44)}.w-48{width:calc(var(--spacing)*48)}.w-52{width:calc(var(--spacing)*52)}.w-56{width:calc(var(--spacing)*56)}.w-60{width:calc(var(--spacing)*60)}.w-64{width:calc(var(--spacing)*64)}.w-72{width:calc(var(--spacing)*72)}.w-80{width:calc(var(--spacing)*80)}.w-96{width:calc(var(--spacing)*96)}.w-\[1\.2em\]{width:1.2em}.w-\[20px\]{width:20px}.w-\[200\%\]{width:200%}.w-auto{width:auto}.w-fit{width:fit-content}.w-full{width:100%}.w-px{width:1px}.max-w-2xl{max-width:var(--container-2xl)}.max-w-3xl{max-width:var(--container-3xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-6xl{max-width:var(--container-6xl)}.max-w-7xl{max-width:var(--container-7xl)}.max-w-\[1200px\]{max-width:1200px}.max-w-full{max-width:100%}.max-w-lg{max-width:var(--container-lg)}.max-w-md{max-width:var(--container-md)}.max-w-screen-lg{max-width:var(--breakpoint-lg)}.max-w-screen-md{max-width:var(--breakpoint-md)}.max-w-screen-sm{max-width:var(--breakpoint-sm)}.max-w-screen-xl{max-width:var(--breakpoint-xl)}.max-w-xl{max-width:var(--container-xl)}.max-w-xs{max-width:var(--container-xs)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-1\/2{min-width:50%}.min-w-3xl{min-width:var(--container-3xl)}.min-w-4{min-width:calc(var(--spacing)*4)}.min-w-4xl{min-width:var(--container-4xl)}.min-w-96{min-width:calc(var(--spacing)*96)}.min-w-\[300px\]{min-width:300px}.min-w-\[640px\]{min-width:640px}.min-w-\[732px\]{min-width:732px}.min-w-full{min-width:100%}.min-w-xl{min-width:var(--container-xl)}.flex-1{flex:1}.flex-auto{flex:auto}.flex-initial{flex:0 auto}.flex-shrink-0{flex-shrink:0}.shrink{flex-shrink:1}.shrink-0{flex-shrink:0}.flex-grow,.grow{flex-grow:1}.basis-1{flex-basis:calc(var(--spacing)*1)}.table-fixed{table-layout:fixed}.border-collapse{border-collapse:collapse}.origin-left{transform-origin:0}.origin-top{transform-origin:top}.-translate-x-1\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-12{--tw-translate-y:calc(var(--spacing)*12);translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-105{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-200{--tw-scale-x:200%;--tw-scale-y:200%;--tw-scale-z:200%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-y-0{--tw-scale-y:0%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-y-100{--tw-scale-y:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.swap-rotate .swap-on,.swap-rotate input:indeterminate~.swap-on{rotate:45deg}.swap-rotate input:is(:checked,:indeterminate)~.swap-on,.swap-rotate.swap-active .swap-on{rotate:none}.swap-rotate input:is(:checked,:indeterminate)~.swap-off,.swap-rotate.swap-active .swap-off{rotate:-45deg}.-rotate-2{rotate:-2deg}.rotate-180{rotate:180deg}.rotate-x-2{--tw-rotate-x:rotateX(2deg);transform:var(--tw-rotate-x)var(--tw-rotate-y)var(--tw-rotate-z)var(--tw-skew-x)var(--tw-skew-y)}.rotate-y-3{--tw-rotate-y:rotateY(3deg);transform:var(--tw-rotate-x)var(--tw-rotate-y)var(--tw-rotate-z)var(--tw-skew-x)var(--tw-skew-y)}.skew-x-12{--tw-skew-x:skewX(12deg);transform:var(--tw-rotate-x)var(--tw-rotate-y)var(--tw-rotate-z)var(--tw-skew-x)var(--tw-skew-y)}.skew-y-12{--tw-skew-y:skewY(12deg);transform:var(--tw-rotate-x)var(--tw-rotate-y)var(--tw-rotate-z)var(--tw-skew-x)var(--tw-skew-y)}.swap-flip{transform-style:preserve-3d;perspective:20rem}.swap-flip .swap-on,.swap-flip .swap-indeterminate,.swap-flip input:indeterminate~.swap-on{backface-visibility:hidden;opacity:1;transform:rotateY(180deg)}.swap-flip input:is(:checked,:indeterminate)~.swap-on,.swap-flip.swap-active .swap-on{transform:rotateY(0)}.swap-flip input:is(:checked,:indeterminate)~.swap-off,.swap-flip.swap-active .swap-off{backface-visibility:hidden;opacity:1;transform:rotateY(-180deg)}.transform{transform:var(--tw-rotate-x)var(--tw-rotate-y)var(--tw-rotate-z)var(--tw-skew-x)var(--tw-skew-y)}.skeleton{border-radius:var(--radius-box);background-color:var(--color-base-300);will-change:background-position;background-image:linear-gradient(105deg,#0000 0% 40%,var(--color-base-100)50%,#0000 60% 100%);background-position-x:-50%;background-repeat:no-repeat;background-size:200%;animation:1.8s ease-in-out infinite skeleton}@media (prefers-reduced-motion:reduce){.skeleton{transition-duration:15s}}.animate-ping{animation:var(--animate-ping)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.link{cursor:pointer;text-decoration-line:underline}.link:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.link:focus{outline-offset:2px;outline:2px solid #0000}}.link:focus-visible{outline-offset:2px;outline:2px solid}.cursor-ew-resize{cursor:ew-resize}.cursor-grab{cursor:grab}.cursor-help{cursor:help}.cursor-pointer{cursor:pointer}.resize{resize:both}.carousel-horizontal{scroll-snap-type:x mandatory;flex-direction:row;overflow-x:scroll}.carousel-vertical{scroll-snap-type:y mandatory;flex-direction:column;overflow-y:scroll}.carousel-center .carousel-item{scroll-snap-align:center}.carousel-end .carousel-item{scroll-snap-align:end}.carousel-start .carousel-item{scroll-snap-align:start}.list-disc{list-style-type:disc}.alert-horizontal{text-align:start;grid-template-columns:auto;grid-auto-flow:column;justify-content:start;justify-items:start}.alert-horizontal:has(:nth-child(2)){grid-template-columns:auto minmax(auto,1fr)}.alert-vertical{text-align:center;grid-template-columns:auto;grid-auto-flow:row;justify-content:center;justify-items:center}.alert-vertical:has(:nth-child(2)){grid-template-columns:auto}.stats-horizontal{grid-auto-flow:column;overflow-x:auto}.stats-horizontal .stat:not(:last-child){border-inline-end:var(--border)dashed color-mix(in oklab,currentColor 10%,#0000);border-block-end:none}.stats-vertical{grid-auto-flow:row;overflow-y:auto}.stats-vertical .stat:not(:last-child){border-inline-end:none;border-block-end:var(--border)dashed color-mix(in oklab,currentColor 10%,#0000)}.footer-horizontal{grid-auto-flow:column}.footer-horizontal.footer-center{grid-auto-flow:dense}.footer-vertical{grid-auto-flow:row}.footer-vertical.footer-center{grid-auto-flow:column dense}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.grid-cols-14{grid-template-columns:repeat(14,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-row-reverse{flex-direction:row-reverse}.flex-nowrap{flex-wrap:nowrap}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-start{justify-content:flex-start}.gap-0\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}.gap-8{gap:calc(var(--spacing)*8)}.gap-12{gap:calc(var(--spacing)*12)}.gap-16{gap:calc(var(--spacing)*16)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-16>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*16)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*16)*calc(1 - var(--tw-space-y-reverse)))}.gap-x-6{column-gap:calc(var(--spacing)*6)}:where(.space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}.gap-y-4{row-gap:calc(var(--spacing)*4)}:where(.divide-x>:not(:last-child)){--tw-divide-x-reverse:0;border-inline-style:var(--tw-border-style);border-inline-start-width:calc(1px*var(--tw-divide-x-reverse));border-inline-end-width:calc(1px*calc(1 - var(--tw-divide-x-reverse)))}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-base-200>:not(:last-child)){border-color:var(--color-base-200)}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-x-scroll{overflow-x:scroll}.overflow-y-auto{overflow-y:auto}.overflow-y-hidden{overflow-y:hidden}.overflow-y-scroll{overflow-y:scroll}.tabs-box{background-color:var(--color-base-200);border-radius:calc(var(--radius-field) + min(.25rem,calc(var(--radius-field) + var(--radius-field) + var(--radius-field))));box-shadow:0 -.5px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 .5px oklch(0% 0 0/calc(var(--depth)*.05)) inset;padding:.25rem}.tabs-box .tab{border-radius:var(--radius-field);border-style:none}.tabs-box .tab:focus-visible,.tabs-box .tab:is(label:has(:checked:focus-visible)){outline-offset:2px}.tabs-box :is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-box :is(input:checked),.tabs-box :is(label:has(:checked)){background-color:var(--tab-bg,var(--color-base-100));box-shadow:0 1px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px 1px -1px color-mix(in srgb,var(--color-neutral)calc(var(--depth)*50%),#0000),0 1px 6px -4px color-mix(in srgb,var(--color-neutral)calc(var(--depth)*100%),#0000)}@supports (color:color-mix(in lab,red,red)){:is(.tabs-box :is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-box :is(input:checked),.tabs-box :is(label:has(:checked))){box-shadow:0 1px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px 1px -1px color-mix(in oklab,var(--color-neutral)calc(var(--depth)*50%),#0000),0 1px 6px -4px color-mix(in oklab,var(--color-neutral)calc(var(--depth)*100%),#0000)}}@media (forced-colors:active){:is(.tabs-box :is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-box :is(input:checked),.tabs-box :is(label:has(:checked))){border:1px solid}}.timeline-box{border:var(--border)solid;border-radius:var(--radius-box);border-color:var(--color-base-300);background-color:var(--color-base-100);padding-block:.5rem;padding-inline:1rem;font-size:.75rem;box-shadow:0 1px 2px #0000000d}.menu-lg :where(li:not(.menu-title)>:not(ul,details,.menu-title)),.menu-lg :where(li:not(.menu-title)>details>summary:not(.menu-title)){border-radius:var(--radius-field);padding-block:.375rem;padding-inline:1rem;font-size:1.125rem}.menu-lg .menu-title{padding-block:.75rem;padding-inline:1.5rem}.menu-md :where(li:not(.menu-title)>:not(ul,details,.menu-title)),.menu-md :where(li:not(.menu-title)>details>summary:not(.menu-title)){border-radius:var(--radius-field);padding-block:.375rem;padding-inline:.75rem;font-size:.875rem}.menu-md .menu-title{padding-block:.5rem;padding-inline:.75rem}.menu-sm :where(li:not(.menu-title)>:not(ul,details,.menu-title)),.menu-sm :where(li:not(.menu-title)>details>summary:not(.menu-title)){border-radius:var(--radius-field);padding-block:.25rem;padding-inline:.625rem;font-size:.75rem}.menu-sm .menu-title{padding-block:.5rem;padding-inline:.75rem}.menu-xl :where(li:not(.menu-title)>:not(ul,details,.menu-title)),.menu-xl :where(li:not(.menu-title)>details>summary:not(.menu-title)){border-radius:var(--radius-field);padding-block:.375rem;padding-inline:1.25rem;font-size:1.375rem}.menu-xl .menu-title{padding-block:.75rem;padding-inline:1.5rem}.menu-xs :where(li:not(.menu-title)>:not(ul,details,.menu-title)),.menu-xs :where(li:not(.menu-title)>details>summary:not(.menu-title)){border-radius:var(--radius-field);padding-block:.25rem;padding-inline:.5rem;font-size:.6875rem}.menu-xs .menu-title{padding-block:.25rem;padding-inline:.5rem}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-4xl{border-radius:var(--radius-4xl)}.rounded-\[15px\]{border-radius:15px}.rounded-box{border-radius:var(--radius-box)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-none{border-radius:0}.rounded-xl{border-radius:var(--radius-xl)}.rounded-t-3xl{border-top-left-radius:var(--radius-3xl);border-top-right-radius:var(--radius-3xl)}.rounded-t-lg{border-top-left-radius:var(--radius-lg);border-top-right-radius:var(--radius-lg)}.rounded-l-lg{border-top-left-radius:var(--radius-lg);border-bottom-left-radius:var(--radius-lg)}.rounded-l-none{border-top-left-radius:0;border-bottom-left-radius:0}.rounded-r-lg{border-top-right-radius:var(--radius-lg);border-bottom-right-radius:var(--radius-lg)}.rounded-b-full{border-bottom-right-radius:3.40282e38px;border-bottom-left-radius:3.40282e38px}.rounded-b-lg{border-bottom-right-radius:var(--radius-lg);border-bottom-left-radius:var(--radius-lg)}.rounded-b-none{border-bottom-right-radius:0;border-bottom-left-radius:0}.border{border-style:var(--tw-border-style);border-width:1px}.border-0{border-style:var(--tw-border-style);border-width:0}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-x{border-inline-style:var(--tw-border-style);border-inline-width:1px}.border-y{border-block-style:var(--tw-border-style);border-block-width:1px}.border-y-0{border-block-style:var(--tw-border-style);border-block-width:0}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-t-2{border-top-style:var(--tw-border-style);border-top-width:2px}.border-t-\[12px\]{border-top-style:var(--tw-border-style);border-top-width:12px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-r-2{border-right-style:var(--tw-border-style);border-right-width:2px}.border-r-\[12px\]{border-right-style:var(--tw-border-style);border-right-width:12px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-l-4{border-left-style:var(--tw-border-style);border-left-width:4px}.border-l-\[12px\]{border-left-style:var(--tw-border-style);border-left-width:12px}.btn-dash:not(.btn-active,:hover,:active:focus,:focus-visible,:disabled,[disabled],.btn-disabled,:checked){--btn-shadow:"";--btn-bg:#0000;--btn-fg:var(--btn-color);--btn-border:var(--btn-color);--btn-noise:none;border-style:dashed}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-none{--tw-border-style:none;border-style:none}.badge-ghost{border-color:var(--color-base-200);background-color:var(--color-base-200);color:var(--color-base-content);background-image:none}.select-ghost{box-shadow:none;background-color:#0000;border-color:#0000;transition:background-color .2s}.select-ghost:focus,.select-ghost:focus-within{background-color:var(--color-base-100);color:var(--color-base-content);box-shadow:none;border-color:#0000}.input-ghost{box-shadow:none;background-color:#0000;border-color:#0000}.input-ghost:focus,.input-ghost:focus-within{background-color:var(--color-base-100);color:var(--color-base-content);box-shadow:none;border-color:#0000}.textarea-ghost{box-shadow:none;background-color:#0000;border-color:#0000}.textarea-ghost:focus,.textarea-ghost:focus-within{background-color:var(--color-base-100);color:var(--color-base-content);box-shadow:none;border-color:#0000}.alert-error{border-color:var(--color-error);color:var(--color-error-content);--alert-color:var(--color-error)}.alert-info{border-color:var(--color-info);color:var(--color-info-content);--alert-color:var(--color-info)}.alert-success{border-color:var(--color-success);color:var(--color-success-content);--alert-color:var(--color-success)}.alert-warning{border-color:var(--color-warning);color:var(--color-warning-content);--alert-color:var(--color-warning)}.border-base-100{border-color:var(--color-base-100)}.border-base-200{border-color:var(--color-base-200)}.border-base-300{border-color:var(--color-base-300)}.border-base-content{border-color:var(--color-base-content)}.border-base-content\/0{border-color:color-mix(in srgb,var(--color-base-content)0%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-base-content\/0{border-color:color-mix(in oklab,var(--color-base-content)0%,transparent)}}.border-base-content\/5{border-color:color-mix(in srgb,var(--color-base-content)5%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-base-content\/5{border-color:color-mix(in oklab,var(--color-base-content)5%,transparent)}}.border-base-content\/10{border-color:color-mix(in srgb,var(--color-base-content)10%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-base-content\/10{border-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}.border-base-content\/20{border-color:color-mix(in srgb,var(--color-base-content)20%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-base-content\/20{border-color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.border-base-content\/30{border-color:color-mix(in srgb,var(--color-base-content)30%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-base-content\/30{border-color:color-mix(in oklab,var(--color-base-content)30%,transparent)}}.border-error\/20{border-color:color-mix(in srgb,var(--color-error)20%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-error\/20{border-color:color-mix(in oklab,var(--color-error)20%,transparent)}}.border-gray-500\/50{border-color:#6a728280}@supports (color:color-mix(in lab,red,red)){.border-gray-500\/50{border-color:color-mix(in oklab,var(--color-gray-500)50%,transparent)}}.border-primary{border-color:var(--color-primary)}.border-primary\/0{border-color:color-mix(in srgb,var(--color-primary)0%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-primary\/0{border-color:color-mix(in oklab,var(--color-primary)0%,transparent)}}.border-primary\/10{border-color:color-mix(in srgb,var(--color-primary)10%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-primary\/10{border-color:color-mix(in oklab,var(--color-primary)10%,transparent)}}.border-primary\/20{border-color:color-mix(in srgb,var(--color-primary)20%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-primary\/20{border-color:color-mix(in oklab,var(--color-primary)20%,transparent)}}.border-primary\/50{border-color:color-mix(in srgb,var(--color-primary)50%,transparent)}@supports (color:color-mix(in lab,red,red)){.border-primary\/50{border-color:color-mix(in oklab,var(--color-primary)50%,transparent)}}.border-slate-100{border-color:var(--color-slate-100)}.border-transparent{border-color:#0000}.border-warning{border-color:var(--color-warning)}.border-white\/10{border-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.border-white\/10{border-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.border-zinc-100\/0{border-color:#0000}@supports (color:color-mix(in lab,red,red)){.border-zinc-100\/0{border-color:color-mix(in oklab,var(--color-zinc-100)0%,transparent)}}.border-x-gray-500\/30{border-inline-color:#6a72824d}@supports (color:color-mix(in lab,red,red)){.border-x-gray-500\/30{border-inline-color:color-mix(in oklab,var(--color-gray-500)30%,transparent)}}.border-t-primary{border-top-color:var(--color-primary)}.border-r-transparent{border-right-color:#0000}.border-l-transparent{border-left-color:#0000}.glass{-webkit-backdrop-filter:blur(var(--glass-blur,40px));backdrop-filter:blur(var(--glass-blur,40px));background-color:#0000;background-image:linear-gradient(135deg,oklch(100% 0 0/var(--glass-opacity,30%)),#0000),linear-gradient(var(--glass-reflect-degree,100deg),oklch(100% 0 0/var(--glass-reflect-opacity,5%))25%,oklch(0% 0 0/0) 25%);box-shadow:0 0 0 1px oklch(100% 0 0/var(--glass-border-opacity,20%)) inset,0 0 0 2px #0000000d;text-shadow:0 1px oklch(0% 0 0/var(--glass-text-shadow-opacity,5%));border:none}.chat-bubble-accent{background-color:var(--color-accent);color:var(--color-accent-content)}.chat-bubble-error{background-color:var(--color-error);color:var(--color-error-content)}.chat-bubble-info{background-color:var(--color-info);color:var(--color-info-content)}.chat-bubble-neutral{background-color:var(--color-neutral);color:var(--color-neutral-content)}.chat-bubble-primary{background-color:var(--color-primary);color:var(--color-primary-content)}.chat-bubble-secondary{background-color:var(--color-secondary);color:var(--color-secondary-content)}.chat-bubble-success{background-color:var(--color-success);color:var(--color-success-content)}.chat-bubble-warning{background-color:var(--color-warning);color:var(--color-warning-content)}.status-accent{background-color:var(--color-accent);color:var(--color-accent)}.status-error{background-color:var(--color-error);color:var(--color-error)}.status-info{background-color:var(--color-info);color:var(--color-info)}.status-neutral{background-color:var(--color-neutral);color:var(--color-neutral)}.status-primary{background-color:var(--color-primary);color:var(--color-primary)}.status-secondary{background-color:var(--color-secondary);color:var(--color-secondary)}.status-success{background-color:var(--color-success);color:var(--color-success)}.status-warning{background-color:var(--color-warning);color:var(--color-warning)}.table-zebra tbody tr:nth-child(2n),.table-zebra tbody tr:nth-child(2n) :where(.table-pin-cols tr th){background-color:var(--color-base-200)}@media (hover:hover){:is(.table-zebra tbody tr.row-hover,.table-zebra tbody tr.row-hover:nth-child(2n)):hover{background-color:var(--color-base-300)}}.bg-\[rgba\(241\,99\,102\,1\)\]{background-color:#f16366}.bg-amber-50{background-color:var(--color-amber-50)}.bg-amber-500\/10{background-color:#f99c001a}@supports (color:color-mix(in lab,red,red)){.bg-amber-500\/10{background-color:color-mix(in oklab,var(--color-amber-500)10%,transparent)}}.bg-base-100{background-color:var(--color-base-100)}.bg-base-100\/10{background-color:color-mix(in srgb,var(--color-base-100)10%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-base-100\/10{background-color:color-mix(in oklab,var(--color-base-100)10%,transparent)}}.bg-base-100\/30{background-color:color-mix(in srgb,var(--color-base-100)30%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-base-100\/30{background-color:color-mix(in oklab,var(--color-base-100)30%,transparent)}}.bg-base-100\/50{background-color:color-mix(in srgb,var(--color-base-100)50%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-base-100\/50{background-color:color-mix(in oklab,var(--color-base-100)50%,transparent)}}.bg-base-100\/90{background-color:color-mix(in srgb,var(--color-base-100)90%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-base-100\/90{background-color:color-mix(in oklab,var(--color-base-100)90%,transparent)}}.bg-base-200{background-color:var(--color-base-200)}.bg-base-200\/50{background-color:color-mix(in srgb,var(--color-base-200)50%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-base-200\/50{background-color:color-mix(in oklab,var(--color-base-200)50%,transparent)}}.bg-base-200\/80{background-color:color-mix(in srgb,var(--color-base-200)80%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-base-200\/80{background-color:color-mix(in oklab,var(--color-base-200)80%,transparent)}}.bg-base-300{background-color:var(--color-base-300)}.bg-base-300\/20{background-color:color-mix(in srgb,var(--color-base-300)20%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-base-300\/20{background-color:color-mix(in oklab,var(--color-base-300)20%,transparent)}}.bg-base-content\/10{background-color:color-mix(in srgb,var(--color-base-content)10%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-base-content\/10{background-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}.bg-base-content\/30{background-color:color-mix(in srgb,var(--color-base-content)30%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-base-content\/30{background-color:color-mix(in oklab,var(--color-base-content)30%,transparent)}}.bg-black\/30{background-color:#0000004d}@supports (color:color-mix(in lab,red,red)){.bg-black\/30{background-color:color-mix(in oklab,var(--color-black)30%,transparent)}}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-700{background-color:var(--color-blue-700)}.bg-cyan-500\/10{background-color:#00b7d71a}@supports (color:color-mix(in lab,red,red)){.bg-cyan-500\/10{background-color:color-mix(in oklab,var(--color-cyan-500)10%,transparent)}}.bg-error{background-color:var(--color-error)}.bg-error\/10{background-color:color-mix(in srgb,var(--color-error)10%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-error\/10{background-color:color-mix(in oklab,var(--color-error)10%,transparent)}}.bg-error\/50{background-color:color-mix(in srgb,var(--color-error)50%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-error\/50{background-color:color-mix(in oklab,var(--color-error)50%,transparent)}}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-500{background-color:var(--color-gray-500)}.bg-indigo-100{background-color:var(--color-indigo-100)}.bg-indigo-400{background-color:var(--color-indigo-400)}.bg-indigo-500\/10{background-color:#625fff1a}@supports (color:color-mix(in lab,red,red)){.bg-indigo-500\/10{background-color:color-mix(in oklab,var(--color-indigo-500)10%,transparent)}}.bg-neutral{background-color:var(--color-neutral)}.bg-primary{background-color:var(--color-primary)}.bg-primary\/5{background-color:color-mix(in srgb,var(--color-primary)5%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-primary\/5{background-color:color-mix(in oklab,var(--color-primary)5%,transparent)}}.bg-primary\/10{background-color:color-mix(in srgb,var(--color-primary)10%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-primary\/10{background-color:color-mix(in oklab,var(--color-primary)10%,transparent)}}.bg-primary\/20{background-color:color-mix(in srgb,var(--color-primary)20%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-primary\/20{background-color:color-mix(in oklab,var(--color-primary)20%,transparent)}}.bg-primary\/30{background-color:color-mix(in srgb,var(--color-primary)30%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-primary\/30{background-color:color-mix(in oklab,var(--color-primary)30%,transparent)}}.bg-primary\/50{background-color:color-mix(in srgb,var(--color-primary)50%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-primary\/50{background-color:color-mix(in oklab,var(--color-primary)50%,transparent)}}.bg-primary\/70{background-color:color-mix(in srgb,var(--color-primary)70%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-primary\/70{background-color:color-mix(in oklab,var(--color-primary)70%,transparent)}}.bg-purple-500\/10{background-color:#ac4bff1a}@supports (color:color-mix(in lab,red,red)){.bg-purple-500\/10{background-color:color-mix(in oklab,var(--color-purple-500)10%,transparent)}}.bg-red-500\!{background-color:var(--color-red-500)!important}.bg-rose-500\/10{background-color:#ff23571a}@supports (color:color-mix(in lab,red,red)){.bg-rose-500\/10{background-color:color-mix(in oklab,var(--color-rose-500)10%,transparent)}}.bg-secondary{background-color:var(--color-secondary)}.bg-secondary\/5{background-color:color-mix(in srgb,var(--color-secondary)5%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-secondary\/5{background-color:color-mix(in oklab,var(--color-secondary)5%,transparent)}}.bg-secondary\/10{background-color:color-mix(in srgb,var(--color-secondary)10%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-secondary\/10{background-color:color-mix(in oklab,var(--color-secondary)10%,transparent)}}.bg-slate-50{background-color:var(--color-slate-50)}.bg-slate-800\/80{background-color:#1d293dcc}@supports (color:color-mix(in lab,red,red)){.bg-slate-800\/80{background-color:color-mix(in oklab,var(--color-slate-800)80%,transparent)}}.bg-transparent{background-color:#0000}.bg-warning{background-color:var(--color-warning)}.bg-warning\/5{background-color:color-mix(in srgb,var(--color-warning)5%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-warning\/5{background-color:color-mix(in oklab,var(--color-warning)5%,transparent)}}.bg-warning\/10{background-color:color-mix(in srgb,var(--color-warning)10%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-warning\/10{background-color:color-mix(in oklab,var(--color-warning)10%,transparent)}}.bg-warning\/40{background-color:color-mix(in srgb,var(--color-warning)40%,transparent)}@supports (color:color-mix(in lab,red,red)){.bg-warning\/40{background-color:color-mix(in oklab,var(--color-warning)40%,transparent)}}.bg-white{background-color:var(--color-white)}.bg-white\/30{background-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.bg-white\/30{background-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.divider-accent:before,.divider-accent:after{background-color:var(--color-accent)}.divider-error:before,.divider-error:after{background-color:var(--color-error)}.divider-info:before,.divider-info:after{background-color:var(--color-info)}.divider-neutral:before,.divider-neutral:after{background-color:var(--color-neutral)}.divider-primary:before,.divider-primary:after{background-color:var(--color-primary)}.divider-secondary:before,.divider-secondary:after{background-color:var(--color-secondary)}.divider-success:before,.divider-success:after{background-color:var(--color-success)}.divider-warning:before,.divider-warning:after{background-color:var(--color-warning)}.bg-gradient-to-b{--tw-gradient-position:to bottom in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-\[url\(\'\/homeImages\/grid-pattern\.svg\'\)\]{background-image:url(/homeImages/grid-pattern.svg)}.from-amber-500{--tw-gradient-from:var(--color-amber-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-base-300{--tw-gradient-from:var(--color-base-300);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-base-content\/3{--tw-gradient-from:color-mix(in srgb,var(--color-base-content)3%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.from-base-content\/3{--tw-gradient-from:color-mix(in oklab,var(--color-base-content)3%,transparent)}}.from-cyan-400{--tw-gradient-from:var(--color-cyan-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-cyan-500\/30{--tw-gradient-from:#00b7d74d;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.from-cyan-500\/30{--tw-gradient-from:color-mix(in oklab,var(--color-cyan-500)30%,transparent)}}.from-indigo-500{--tw-gradient-from:var(--color-indigo-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-primary{--tw-gradient-from:var(--color-primary);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-primary\/5{--tw-gradient-from:color-mix(in srgb,var(--color-primary)5%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.from-primary\/5{--tw-gradient-from:color-mix(in oklab,var(--color-primary)5%,transparent)}}.from-primary\/10{--tw-gradient-from:color-mix(in srgb,var(--color-primary)10%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.from-primary\/10{--tw-gradient-from:color-mix(in oklab,var(--color-primary)10%,transparent)}}.from-primary\/20{--tw-gradient-from:color-mix(in srgb,var(--color-primary)20%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.from-primary\/20{--tw-gradient-from:color-mix(in oklab,var(--color-primary)20%,transparent)}}.from-purple-500{--tw-gradient-from:var(--color-purple-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-rose-500{--tw-gradient-from:var(--color-rose-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-slate-50{--tw-gradient-from:var(--color-slate-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-slate-900{--tw-gradient-from:var(--color-slate-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-success{--tw-gradient-from:var(--color-success);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-white\/5{--tw-gradient-from:#ffffff0d;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.from-white\/5{--tw-gradient-from:color-mix(in oklab,var(--color-white)5%,transparent)}}.via-base-200\/30{--tw-gradient-via:color-mix(in srgb,var(--color-base-200)30%,transparent);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}@supports (color:color-mix(in lab,red,red)){.via-base-200\/30{--tw-gradient-via:color-mix(in oklab,var(--color-base-200)30%,transparent)}}.via-indigo-500\/10{--tw-gradient-via:#625fff1a;--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}@supports (color:color-mix(in lab,red,red)){.via-indigo-500\/10{--tw-gradient-via:color-mix(in oklab,var(--color-indigo-500)10%,transparent)}}.via-purple-500{--tw-gradient-via:var(--color-purple-500);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-purple-500\/30{--tw-gradient-via:#ac4bff4d;--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}@supports (color:color-mix(in lab,red,red)){.via-purple-500\/30{--tw-gradient-via:color-mix(in oklab,var(--color-purple-500)30%,transparent)}}.via-slate-800{--tw-gradient-via:var(--color-slate-800);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.to-accent{--tw-gradient-to:var(--color-accent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-amber-500{--tw-gradient-to:var(--color-amber-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-base-300\/0{--tw-gradient-to:color-mix(in srgb,var(--color-base-300)0%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.to-base-300\/0{--tw-gradient-to:color-mix(in oklab,var(--color-base-300)0%,transparent)}}.to-indigo-500{--tw-gradient-to:var(--color-indigo-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-indigo-600{--tw-gradient-to:var(--color-indigo-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-pink-500{--tw-gradient-to:var(--color-pink-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-pink-500\/30{--tw-gradient-to:#f6339a4d;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.to-pink-500\/30{--tw-gradient-to:color-mix(in oklab,var(--color-pink-500)30%,transparent)}}.to-primary{--tw-gradient-to:var(--color-primary);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-primary\/20{--tw-gradient-to:color-mix(in srgb,var(--color-primary)20%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.to-primary\/20{--tw-gradient-to:color-mix(in oklab,var(--color-primary)20%,transparent)}}.to-primary\/70{--tw-gradient-to:color-mix(in srgb,var(--color-primary)70%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.to-primary\/70{--tw-gradient-to:color-mix(in oklab,var(--color-primary)70%,transparent)}}.to-purple-500{--tw-gradient-to:var(--color-purple-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-500\/20{--tw-gradient-to:#ac4bff33;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.to-purple-500\/20{--tw-gradient-to:color-mix(in oklab,var(--color-purple-500)20%,transparent)}}.to-rose-500{--tw-gradient-to:var(--color-rose-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-secondary\/5{--tw-gradient-to:color-mix(in srgb,var(--color-secondary)5%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.to-secondary\/5{--tw-gradient-to:color-mix(in oklab,var(--color-secondary)5%,transparent)}}.to-secondary\/10{--tw-gradient-to:color-mix(in srgb,var(--color-secondary)10%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.to-secondary\/10{--tw-gradient-to:color-mix(in oklab,var(--color-secondary)10%,transparent)}}.to-slate-950{--tw-gradient-to:var(--color-slate-950);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-success\/20{--tw-gradient-to:color-mix(in srgb,var(--color-success)20%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}@supports (color:color-mix(in lab,red,red)){.to-success\/20{--tw-gradient-to:color-mix(in oklab,var(--color-success)20%,transparent)}}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-white{--tw-gradient-to:var(--color-white);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.loading-ball{-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='12' cy='5' rx='4' ry='4'%3E%3Canimate attributeName='cy' values='5;20;20.5;20;5' keyTimes='0;0.469;0.5;0.531;1' dur='.8s' repeatCount='indefinite' keySplines='.33,0,.66,.33;.33,.66,.66,1'/%3E%3Canimate attributeName='rx' values='4;4;4.8;4;4' keyTimes='0;0.469;0.5;0.531;1' dur='.8s' repeatCount='indefinite'/%3E%3Canimate attributeName='ry' values='4;4;3;4;4' keyTimes='0;0.469;0.5;0.531;1' dur='.8s' repeatCount='indefinite'/%3E%3C/ellipse%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='12' cy='5' rx='4' ry='4'%3E%3Canimate attributeName='cy' values='5;20;20.5;20;5' keyTimes='0;0.469;0.5;0.531;1' dur='.8s' repeatCount='indefinite' keySplines='.33,0,.66,.33;.33,.66,.66,1'/%3E%3Canimate attributeName='rx' values='4;4;4.8;4;4' keyTimes='0;0.469;0.5;0.531;1' dur='.8s' repeatCount='indefinite'/%3E%3Canimate attributeName='ry' values='4;4;3;4;4' keyTimes='0;0.469;0.5;0.531;1' dur='.8s' repeatCount='indefinite'/%3E%3C/ellipse%3E%3C/svg%3E")}.loading-bars{-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='1' y='1' width='6' height='22'%3E%3Canimate attributeName='y' values='1;5;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite'/%3E%3Canimate attributeName='height' values='22;14;22' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite'/%3E%3Canimate attributeName='opacity' values='1;0.2;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='9' y='1' width='6' height='22'%3E%3Canimate attributeName='y' values='1;5;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.65s'/%3E%3Canimate attributeName='height' values='22;14;22' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.65s'/%3E%3Canimate attributeName='opacity' values='1;0.2;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.65s'/%3E%3C/rect%3E%3Crect x='17' y='1' width='6' height='22'%3E%3Canimate attributeName='y' values='1;5;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.5s'/%3E%3Canimate attributeName='height' values='22;14;22' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.5s'/%3E%3Canimate attributeName='opacity' values='1;0.2;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.5s'/%3E%3C/rect%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='1' y='1' width='6' height='22'%3E%3Canimate attributeName='y' values='1;5;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite'/%3E%3Canimate attributeName='height' values='22;14;22' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite'/%3E%3Canimate attributeName='opacity' values='1;0.2;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='9' y='1' width='6' height='22'%3E%3Canimate attributeName='y' values='1;5;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.65s'/%3E%3Canimate attributeName='height' values='22;14;22' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.65s'/%3E%3Canimate attributeName='opacity' values='1;0.2;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.65s'/%3E%3C/rect%3E%3Crect x='17' y='1' width='6' height='22'%3E%3Canimate attributeName='y' values='1;5;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.5s'/%3E%3Canimate attributeName='height' values='22;14;22' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.5s'/%3E%3Canimate attributeName='opacity' values='1;0.2;1' keyTimes='0;0.938;1' dur='.8s' repeatCount='indefinite' begin='-0.5s'/%3E%3C/rect%3E%3C/svg%3E")}.loading-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='4' cy='12' r='3'%3E%3Canimate attributeName='cy' values='12;6;12;12' keyTimes='0;0.286;0.571;1' dur='1.05s' repeatCount='indefinite' keySplines='.33,0,.66,.33;.33,.66,.66,1'/%3E%3C/circle%3E%3Ccircle cx='12' cy='12' r='3'%3E%3Canimate attributeName='cy' values='12;6;12;12' keyTimes='0;0.286;0.571;1' dur='1.05s' repeatCount='indefinite' keySplines='.33,0,.66,.33;.33,.66,.66,1' begin='0.1s'/%3E%3C/circle%3E%3Ccircle cx='20' cy='12' r='3'%3E%3Canimate attributeName='cy' values='12;6;12;12' keyTimes='0;0.286;0.571;1' dur='1.05s' repeatCount='indefinite' keySplines='.33,0,.66,.33;.33,.66,.66,1' begin='0.2s'/%3E%3C/circle%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='4' cy='12' r='3'%3E%3Canimate attributeName='cy' values='12;6;12;12' keyTimes='0;0.286;0.571;1' dur='1.05s' repeatCount='indefinite' keySplines='.33,0,.66,.33;.33,.66,.66,1'/%3E%3C/circle%3E%3Ccircle cx='12' cy='12' r='3'%3E%3Canimate attributeName='cy' values='12;6;12;12' keyTimes='0;0.286;0.571;1' dur='1.05s' repeatCount='indefinite' keySplines='.33,0,.66,.33;.33,.66,.66,1' begin='0.1s'/%3E%3C/circle%3E%3Ccircle cx='20' cy='12' r='3'%3E%3Canimate attributeName='cy' values='12;6;12;12' keyTimes='0;0.286;0.571;1' dur='1.05s' repeatCount='indefinite' keySplines='.33,0,.66,.33;.33,.66,.66,1' begin='0.2s'/%3E%3C/circle%3E%3C/svg%3E")}.loading-infinity{-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='shape-rendering:auto;' width='200px' height='200px' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'%3E%3Cpath fill='none' stroke='black' stroke-width='10' stroke-dasharray='205.271 51.318' d='M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z' stroke-linecap='round' style='transform:scale(0.8);transform-origin:50px 50px'%3E%3Canimate attributeName='stroke-dashoffset' repeatCount='indefinite' dur='2s' keyTimes='0;1' values='0;256.589'/%3E%3C/path%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='shape-rendering:auto;' width='200px' height='200px' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'%3E%3Cpath fill='none' stroke='black' stroke-width='10' stroke-dasharray='205.271 51.318' d='M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z' stroke-linecap='round' style='transform:scale(0.8);transform-origin:50px 50px'%3E%3Canimate attributeName='stroke-dashoffset' repeatCount='indefinite' dur='2s' keyTimes='0;1' values='0;256.589'/%3E%3C/path%3E%3C/svg%3E")}.loading-ring{-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='44' height='44' viewBox='0 0 44 44' xmlns='http://www.w3.org/2000/svg' stroke='white'%3E%3Cg fill='none' fill-rule='evenodd' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='0s' dur='1.8s' values='1;20' calcMode='spline' keyTimes='0;1' keySplines='0.165,0.84,0.44,1' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-opacity' begin='0s' dur='1.8s' values='1;0' calcMode='spline' keyTimes='0;1' keySplines='0.3,0.61,0.355,1' repeatCount='indefinite'/%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='-0.9s' dur='1.8s' values='1;20' calcMode='spline' keyTimes='0;1' keySplines='0.165,0.84,0.44,1' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-opacity' begin='-0.9s' dur='1.8s' values='1;0' calcMode='spline' keyTimes='0;1' keySplines='0.3,0.61,0.355,1' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg width='44' height='44' viewBox='0 0 44 44' xmlns='http://www.w3.org/2000/svg' stroke='white'%3E%3Cg fill='none' fill-rule='evenodd' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='0s' dur='1.8s' values='1;20' calcMode='spline' keyTimes='0;1' keySplines='0.165,0.84,0.44,1' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-opacity' begin='0s' dur='1.8s' values='1;0' calcMode='spline' keyTimes='0;1' keySplines='0.3,0.61,0.355,1' repeatCount='indefinite'/%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='-0.9s' dur='1.8s' values='1;20' calcMode='spline' keyTimes='0;1' keySplines='0.165,0.84,0.44,1' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-opacity' begin='-0.9s' dur='1.8s' values='1;0' calcMode='spline' keyTimes='0;1' keySplines='0.3,0.61,0.355,1' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E")}.loading-spinner{-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E")}.mask-circle{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle fill='black' cx='100' cy='100' r='100' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle fill='black' cx='100' cy='100' r='100' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-decagon{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='192' height='200' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m96 0 58.779 19.098 36.327 50v61.804l-36.327 50L96 200l-58.779-19.098-36.327-50V69.098l36.327-50z' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='192' height='200' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m96 0 58.779 19.098 36.327 50v61.804l-36.327 50L96 200l-58.779-19.098-36.327-50V69.098l36.327-50z' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-diamond{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m100 0 100 100-100 100L0 100z' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m100 0 100 100-100 100L0 100z' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-heart{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='200' height='185' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M100 184.606a15.384 15.384 0 0 1-8.653-2.678C53.565 156.28 37.205 138.695 28.182 127.7 8.952 104.264-.254 80.202.005 54.146.308 24.287 24.264 0 53.406 0c21.192 0 35.869 11.937 44.416 21.879a2.884 2.884 0 0 0 4.356 0C110.725 11.927 125.402 0 146.594 0c29.142 0 53.098 24.287 53.4 54.151.26 26.061-8.956 50.122-28.176 73.554-9.023 10.994-25.383 28.58-63.165 54.228a15.384 15.384 0 0 1-8.653 2.673Z' fill='black' fill-rule='nonzero'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='200' height='185' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M100 184.606a15.384 15.384 0 0 1-8.653-2.678C53.565 156.28 37.205 138.695 28.182 127.7 8.952 104.264-.254 80.202.005 54.146.308 24.287 24.264 0 53.406 0c21.192 0 35.869 11.937 44.416 21.879a2.884 2.884 0 0 0 4.356 0C110.725 11.927 125.402 0 146.594 0c29.142 0 53.098 24.287 53.4 54.151.26 26.061-8.956 50.122-28.176 73.554-9.023 10.994-25.383 28.58-63.165 54.228a15.384 15.384 0 0 1-8.653 2.673Z' fill='black' fill-rule='nonzero'/%3e%3c/svg%3e")}.mask-hexagon{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='182' height='201' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M.3 65.486c0-9.196 6.687-20.063 14.211-25.078l61.86-35.946c8.36-5.016 20.899-5.016 29.258 0l61.86 35.946c8.36 5.015 14.211 15.882 14.211 25.078v71.055c0 9.196-6.687 20.063-14.211 25.079l-61.86 35.945c-8.36 4.18-20.899 4.18-29.258 0L14.51 161.62C6.151 157.44.3 145.737.3 136.54V65.486Z' fill='black' fill-rule='nonzero'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='182' height='201' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M.3 65.486c0-9.196 6.687-20.063 14.211-25.078l61.86-35.946c8.36-5.016 20.899-5.016 29.258 0l61.86 35.946c8.36 5.015 14.211 15.882 14.211 25.078v71.055c0 9.196-6.687 20.063-14.211 25.079l-61.86 35.945c-8.36 4.18-20.899 4.18-29.258 0L14.51 161.62C6.151 157.44.3 145.737.3 136.54V65.486Z' fill='black' fill-rule='nonzero'/%3e%3c/svg%3e")}.mask-hexagon-2{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='200' height='182' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M64.786 181.4c-9.196 0-20.063-6.687-25.079-14.21L3.762 105.33c-5.016-8.36-5.016-20.9 0-29.259l35.945-61.86C44.723 5.851 55.59 0 64.786 0h71.055c9.196 0 20.063 6.688 25.079 14.211l35.945 61.86c4.18 8.36 4.18 20.899 0 29.258l-35.945 61.86c-4.18 8.36-15.883 14.211-25.079 14.211H64.786Z' fill='black' fill-rule='nonzero'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='200' height='182' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M64.786 181.4c-9.196 0-20.063-6.687-25.079-14.21L3.762 105.33c-5.016-8.36-5.016-20.9 0-29.259l35.945-61.86C44.723 5.851 55.59 0 64.786 0h71.055c9.196 0 20.063 6.688 25.079 14.211l35.945 61.86c4.18 8.36 4.18 20.899 0 29.258l-35.945 61.86c-4.18 8.36-15.883 14.211-25.079 14.211H64.786Z' fill='black' fill-rule='nonzero'/%3e%3c/svg%3e")}.mask-pentagon{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='192' height='181' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m96 0 95.106 69.098-36.327 111.804H37.22L.894 69.098z' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='192' height='181' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m96 0 95.106 69.098-36.327 111.804H37.22L.894 69.098z' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-squircle{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M100 0C20 0 0 20 0 100s20 100 100 100 100-20 100-100S180 0 100 0Z'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M100 0C20 0 0 20 0 100s20 100 100 100 100-20 100-100S180 0 100 0Z'/%3e%3c/svg%3e")}.mask-star{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='192' height='180' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m96 137.263-58.779 42.024 22.163-68.389L.894 68.481l72.476-.243L96 0l22.63 68.238 72.476.243-58.49 42.417 22.163 68.389z' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='192' height='180' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m96 137.263-58.779 42.024 22.163-68.389L.894 68.481l72.476-.243L96 0l22.63 68.238 72.476.243-58.49 42.417 22.163 68.389z' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-star-2{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='192' height='180' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m96 153.044-58.779 26.243 7.02-63.513L.894 68.481l63.117-13.01L96 0l31.989 55.472 63.117 13.01-43.347 47.292 7.02 63.513z' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='192' height='180' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m96 153.044-58.779 26.243 7.02-63.513L.894 68.481l63.117-13.01L96 0l31.989 55.472 63.117 13.01-43.347 47.292 7.02 63.513z' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-triangle{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='174' height='149' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m87 148.476-86.603.185L43.86 74.423 87 0l43.14 74.423 43.463 74.238z' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='174' height='149' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m87 148.476-86.603.185L43.86 74.423 87 0l43.14 74.423 43.463 74.238z' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-triangle-2{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='174' height='150' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m87 .738 86.603-.184-43.463 74.238L87 149.214 43.86 74.792.397.554z' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='174' height='150' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m87 .738 86.603-.184-43.463 74.238L87 149.214 43.86 74.792.397.554z' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-triangle-3{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='150' height='174' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m149.369 87.107.185 86.603-74.239-43.463L.893 87.107l74.422-43.14L149.554.505z' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='150' height='174' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m149.369 87.107.185 86.603-74.239-43.463L.893 87.107l74.422-43.14L149.554.505z' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-triangle-4{-webkit-mask-image:url("data:image/svg+xml,%3csvg width='150' height='174' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='M.631 87.107.446.505l74.239 43.462 74.422 43.14-74.422 43.14L.446 173.71z' fill-rule='evenodd'/%3e%3c/svg%3e");mask-image:url("data:image/svg+xml,%3csvg width='150' height='174' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='M.631 87.107.446.505l74.239 43.462 74.422 43.14-74.422 43.14L.446 173.71z' fill-rule='evenodd'/%3e%3c/svg%3e")}.mask-circle{--tw-mask-radial-shape:circle}.bg-cover{background-size:cover}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-center{background-position:50%}.bg-no-repeat{background-repeat:no-repeat}.mask-half-1{-webkit-mask-position:0;mask-position:0;-webkit-mask-size:200%;mask-size:200%}.mask-half-1:where(:dir(rtl),[dir=rtl],[dir=rtl] *){-webkit-mask-position:100%;mask-position:100%}.mask-half-2{-webkit-mask-position:100%;mask-position:100%;-webkit-mask-size:200%;mask-size:200%}.mask-half-2:where(:dir(rtl),[dir=rtl],[dir=rtl] *){-webkit-mask-position:0;mask-position:0}.fill-current{fill:currentColor}.stroke-current{stroke:currentColor}.object-cover{object-fit:cover}.object-center{object-position:center}.checkbox-lg{--size:calc(var(--size-selector,.25rem)*7);padding:.3125rem}.checkbox-md{--size:calc(var(--size-selector,.25rem)*6);padding:.25rem}.checkbox-sm{--size:calc(var(--size-selector,.25rem)*5);padding:.1875rem}.checkbox-xl{--size:calc(var(--size-selector,.25rem)*8);padding:.375rem}.checkbox-xs{--size:calc(var(--size-selector,.25rem)*4);padding:.125rem}.radio-lg{padding:.3125rem}.radio-lg[type=radio]{--size:calc(var(--size-selector,.25rem)*7)}.radio-md{padding:.25rem}.radio-md[type=radio]{--size:calc(var(--size-selector,.25rem)*6)}.radio-sm{padding:.1875rem}.radio-sm[type=radio]{--size:calc(var(--size-selector,.25rem)*5)}.radio-xl{padding:.375rem}.radio-xl[type=radio]{--size:calc(var(--size-selector,.25rem)*8)}.radio-xs{padding:.125rem}.radio-xs[type=radio]{--size:calc(var(--size-selector,.25rem)*4)}.p-0{padding:calc(var(--spacing)*0)}.p-0\.5{padding:calc(var(--spacing)*.5)}.p-1{padding:calc(var(--spacing)*1)}.p-1\.5{padding:calc(var(--spacing)*1.5)}.p-2{padding:calc(var(--spacing)*2)}.p-2\.5{padding:calc(var(--spacing)*2.5)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.p-10{padding:calc(var(--spacing)*10)}.p-12{padding:calc(var(--spacing)*12)}.p-24{padding:calc(var(--spacing)*24)}.menu-title{color:color-mix(in srgb,var(--color-base-content)40%,transparent);padding-block:.5rem;padding-inline:.75rem;font-size:.875rem;font-weight:600}@supports (color:color-mix(in lab,red,red)){.menu-title{color:color-mix(in oklab,var(--color-base-content)40%,transparent)}}.table-lg :not(thead,tfoot) tr{font-size:1.125rem}.table-lg :where(th,td){padding-block:1rem;padding-inline:1.25rem}.table-md :not(thead,tfoot) tr{font-size:.875rem}.table-md :where(th,td){padding-block:.75rem;padding-inline:1rem}.table-sm :not(thead,tfoot) tr{font-size:.75rem}.table-sm :where(th,td){padding-block:.5rem;padding-inline:.75rem}.table-xl :not(thead,tfoot) tr{font-size:1.375rem}.table-xl :where(th,td){padding-block:1.25rem;padding-inline:1.5rem}.table-xs :not(thead,tfoot) tr{font-size:.6875rem}.table-xs :where(th,td){padding-block:.25rem;padding-inline:.5rem}.badge-lg{--size:calc(var(--size-selector,.25rem)*7);padding-inline:calc(.25rem*3.5 - var(--border));font-size:1rem}.badge-md{--size:calc(var(--size-selector,.25rem)*6);padding-inline:calc(.25rem*3 - var(--border));font-size:.875rem}.badge-sm{--size:calc(var(--size-selector,.25rem)*5);padding-inline:calc(.25rem*2.5 - var(--border));font-size:.75rem}.badge-xl{--size:calc(var(--size-selector,.25rem)*8);padding-inline:calc(.25rem*4 - var(--border));font-size:1.125rem}.badge-xs{--size:calc(var(--size-selector,.25rem)*4);padding-inline:calc(.25rem*2 - var(--border));font-size:.625rem}.px-0{padding-inline:calc(var(--spacing)*0)}.px-0\.5{padding-inline:calc(var(--spacing)*.5)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-5{padding-inline:calc(var(--spacing)*5)}.px-6{padding-inline:calc(var(--spacing)*6)}.px-8{padding-inline:calc(var(--spacing)*8)}.px-10{padding-inline:calc(var(--spacing)*10)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-10{padding-block:calc(var(--spacing)*10)}.py-12{padding-block:calc(var(--spacing)*12)}.py-16{padding-block:calc(var(--spacing)*16)}.py-18{padding-block:calc(var(--spacing)*18)}.py-20{padding-block:calc(var(--spacing)*20)}.py-24{padding-block:calc(var(--spacing)*24)}.py-36{padding-block:calc(var(--spacing)*36)}.file-input-xl{--size:calc(var(--size-field,.25rem)*14);padding-inline-end:1.5rem;font-size:1.125rem;line-height:3rem}.file-input-xl::file-selector-button{font-size:1.375rem}.pt-0{padding-top:calc(var(--spacing)*0)}.pt-1{padding-top:calc(var(--spacing)*1)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-4{padding-top:calc(var(--spacing)*4)}.pt-6{padding-top:calc(var(--spacing)*6)}.pt-8{padding-top:calc(var(--spacing)*8)}.pt-18{padding-top:calc(var(--spacing)*18)}.pt-24{padding-top:calc(var(--spacing)*24)}.pr-0{padding-right:calc(var(--spacing)*0)}.pr-3{padding-right:calc(var(--spacing)*3)}.pr-10{padding-right:calc(var(--spacing)*10)}.pr-12{padding-right:calc(var(--spacing)*12)}.pb-0{padding-bottom:calc(var(--spacing)*0)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.pb-6{padding-bottom:calc(var(--spacing)*6)}.pb-12{padding-bottom:calc(var(--spacing)*12)}.pl-0{padding-left:calc(var(--spacing)*0)}.pl-2{padding-left:calc(var(--spacing)*2)}.pl-3{padding-left:calc(var(--spacing)*3)}.pl-4{padding-left:calc(var(--spacing)*4)}.pl-6{padding-left:calc(var(--spacing)*6)}.pl-10{padding-left:calc(var(--spacing)*10)}.pl-11{padding-left:calc(var(--spacing)*11)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.align-baseline{vertical-align:baseline}.font-mono{font-family:var(--font-mono)}.file-input-lg{--size:calc(var(--size-field,.25rem)*12);font-size:1.125rem;line-height:2.5rem}.file-input-lg::file-selector-button{font-size:1.125rem}.file-input-md{--size:calc(var(--size-field,.25rem)*10);font-size:.875rem;line-height:2}.file-input-md::file-selector-button{font-size:.875rem}.file-input-sm{--size:calc(var(--size-field,.25rem)*8);font-size:.75rem;line-height:1.5rem}.file-input-sm::file-selector-button{font-size:.75rem}.file-input-xs{--size:calc(var(--size-field,.25rem)*6);font-size:.6875rem;line-height:1rem}.file-input-xs::file-selector-button{font-size:.6875rem}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}.text-6xl{font-size:var(--text-6xl);line-height:var(--tw-leading,var(--text-6xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.kbd-lg{--size:calc(var(--size-selector,.25rem)*7);font-size:1rem}.kbd-md{--size:calc(var(--size-selector,.25rem)*6);font-size:.875rem}.kbd-sm{--size:calc(var(--size-selector,.25rem)*5);font-size:.75rem}.kbd-xl{--size:calc(var(--size-selector,.25rem)*8);font-size:1.125rem}.kbd-xs{--size:calc(var(--size-selector,.25rem)*4);font-size:.625rem}.select-lg{--size:calc(var(--size-field,.25rem)*12);font-size:1.125rem}.select-md{--size:calc(var(--size-field,.25rem)*10);font-size:.875rem}.select-sm{--size:calc(var(--size-field,.25rem)*8);font-size:.75rem}.select-xl{--size:calc(var(--size-field,.25rem)*14);font-size:1.375rem}.select-xs{--size:calc(var(--size-field,.25rem)*6);font-size:.6875rem}.text-\[10px\]{font-size:10px}.textarea-lg{font-size:1.125rem}.textarea-md{font-size:.875rem}.textarea-sm{font-size:.75rem}.textarea-xl{font-size:1.375rem}.textarea-xs{font-size:.6875rem}.leading-3{--tw-leading:calc(var(--spacing)*3);line-height:calc(var(--spacing)*3)}.leading-none{--tw-leading:1;line-height:1}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-extrabold{--tw-font-weight:var(--font-weight-extrabold);font-weight:var(--font-weight-extrabold)}.font-extralight{--tw-font-weight:var(--font-weight-extralight);font-weight:var(--font-weight-extralight)}.font-light{--tw-font-weight:var(--font-weight-light);font-weight:var(--font-weight-light)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.font-thin{--tw-font-weight:var(--font-weight-thin);font-weight:var(--font-weight-thin)}.tracking-tight{--tw-tracking:var(--tracking-tight);letter-spacing:var(--tracking-tight)}.tracking-tighter{--tw-tracking:var(--tracking-tighter);letter-spacing:var(--tracking-tighter)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.break-words{overflow-wrap:break-word}.break-keep{word-break:keep-all}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.file-input-accent{--btn-color:var(--color-accent)}.file-input-accent::file-selector-button{color:var(--color-accent-content)}.file-input-accent,.file-input-accent:focus,.file-input-accent:focus-within{--input-color:var(--color-accent)}.file-input-error{--btn-color:var(--color-error)}.file-input-error::file-selector-button{color:var(--color-error-content)}.file-input-error,.file-input-error:focus,.file-input-error:focus-within{--input-color:var(--color-error)}.file-input-info{--btn-color:var(--color-info)}.file-input-info::file-selector-button{color:var(--color-info-content)}.file-input-info,.file-input-info:focus,.file-input-info:focus-within{--input-color:var(--color-info)}.file-input-neutral{--btn-color:var(--color-neutral)}.file-input-neutral::file-selector-button{color:var(--color-neutral-content)}.file-input-neutral,.file-input-neutral:focus,.file-input-neutral:focus-within{--input-color:var(--color-neutral)}.file-input-primary{--btn-color:var(--color-primary)}.file-input-primary::file-selector-button{color:var(--color-primary-content)}.file-input-primary,.file-input-primary:focus,.file-input-primary:focus-within{--input-color:var(--color-primary)}.file-input-secondary{--btn-color:var(--color-secondary)}.file-input-secondary::file-selector-button{color:var(--color-secondary-content)}.file-input-secondary,.file-input-secondary:focus,.file-input-secondary:focus-within{--input-color:var(--color-secondary)}.file-input-success{--btn-color:var(--color-success)}.file-input-success::file-selector-button{color:var(--color-success-content)}.file-input-success,.file-input-success:focus,.file-input-success:focus-within{--input-color:var(--color-success)}.file-input-warning{--btn-color:var(--color-warning)}.file-input-warning::file-selector-button{color:var(--color-warning-content)}.file-input-warning,.file-input-warning:focus,.file-input-warning:focus-within{--input-color:var(--color-warning)}.checkbox-accent{color:var(--color-accent-content);--input-color:var(--color-accent)}.checkbox-error{color:var(--color-error-content);--input-color:var(--color-error)}.checkbox-info{color:var(--color-info-content);--input-color:var(--color-info)}.checkbox-neutral{color:var(--color-neutral-content);--input-color:var(--color-neutral)}.checkbox-primary{color:var(--color-primary-content);--input-color:var(--color-primary)}.checkbox-secondary{color:var(--color-secondary-content);--input-color:var(--color-secondary)}.checkbox-success{color:var(--color-success-content);--input-color:var(--color-success)}.checkbox-warning{color:var(--color-warning-content);--input-color:var(--color-warning)}.link-accent{color:var(--color-accent)}@media (hover:hover){.link-accent:hover{color:color-mix(in srgb,var(--color-accent)80%,#000)}@supports (color:color-mix(in lab,red,red)){.link-accent:hover{color:color-mix(in oklab,var(--color-accent)80%,#000)}}}.link-error{color:var(--color-error)}@media (hover:hover){.link-error:hover{color:color-mix(in srgb,var(--color-error)80%,#000)}@supports (color:color-mix(in lab,red,red)){.link-error:hover{color:color-mix(in oklab,var(--color-error)80%,#000)}}}.link-info{color:var(--color-info)}@media (hover:hover){.link-info:hover{color:color-mix(in srgb,var(--color-info)80%,#000)}@supports (color:color-mix(in lab,red,red)){.link-info:hover{color:color-mix(in oklab,var(--color-info)80%,#000)}}}.link-neutral{color:var(--color-neutral)}@media (hover:hover){.link-neutral:hover{color:color-mix(in srgb,var(--color-neutral)80%,#000)}@supports (color:color-mix(in lab,red,red)){.link-neutral:hover{color:color-mix(in oklab,var(--color-neutral)80%,#000)}}}.link-primary{color:var(--color-primary)}@media (hover:hover){.link-primary:hover{color:color-mix(in srgb,var(--color-primary)80%,#000)}@supports (color:color-mix(in lab,red,red)){.link-primary:hover{color:color-mix(in oklab,var(--color-primary)80%,#000)}}}.link-secondary{color:var(--color-secondary)}@media (hover:hover){.link-secondary:hover{color:color-mix(in srgb,var(--color-secondary)80%,#000)}@supports (color:color-mix(in lab,red,red)){.link-secondary:hover{color:color-mix(in oklab,var(--color-secondary)80%,#000)}}}.link-success{color:var(--color-success)}@media (hover:hover){.link-success:hover{color:color-mix(in srgb,var(--color-success)80%,#000)}@supports (color:color-mix(in lab,red,red)){.link-success:hover{color:color-mix(in oklab,var(--color-success)80%,#000)}}}.link-warning{color:var(--color-warning)}@media (hover:hover){.link-warning:hover{color:color-mix(in srgb,var(--color-warning)80%,#000)}@supports (color:color-mix(in lab,red,red)){.link-warning:hover{color:color-mix(in oklab,var(--color-warning)80%,#000)}}}.range-accent{color:var(--color-accent);--range-thumb:var(--color-accent-content)}.range-error{color:var(--color-error);--range-thumb:var(--color-error-content)}.range-info{color:var(--color-info);--range-thumb:var(--color-info-content)}.range-neutral{color:var(--color-neutral);--range-thumb:var(--color-neutral-content)}.range-primary{color:var(--color-primary);--range-thumb:var(--color-primary-content)}.range-secondary{color:var(--color-secondary);--range-thumb:var(--color-secondary-content)}.range-success{color:var(--color-success);--range-thumb:var(--color-success-content)}.range-warning{color:var(--color-warning);--range-thumb:var(--color-warning-content)}.tooltip-error{--tt-bg:var(--color-error)}.tooltip-error>.tooltip-content,.tooltip-error[data-tip]:before{color:var(--color-error-content)}.tooltip-info{--tt-bg:var(--color-info)}.tooltip-info>.tooltip-content,.tooltip-info[data-tip]:before{color:var(--color-info-content)}.tooltip-success{--tt-bg:var(--color-success)}.tooltip-success>.tooltip-content,.tooltip-success[data-tip]:before{color:var(--color-success-content)}.tooltip-warning{--tt-bg:var(--color-warning)}.tooltip-warning>.tooltip-content,.tooltip-warning[data-tip]:before{color:var(--color-warning-content)}.progress-accent{color:var(--color-accent)}.progress-error{color:var(--color-error)}.progress-info{color:var(--color-info)}.progress-neutral{color:var(--color-neutral)}.progress-primary{color:var(--color-primary)}.progress-secondary{color:var(--color-secondary)}.progress-success{color:var(--color-success)}.progress-warning{color:var(--color-warning)}.text-accent{color:var(--color-accent)}.text-amber-500{color:var(--color-amber-500)}.text-amber-600{color:var(--color-amber-600)}.text-base-300\/60{color:color-mix(in srgb,var(--color-base-300)60%,transparent)}@supports (color:color-mix(in lab,red,red)){.text-base-300\/60{color:color-mix(in oklab,var(--color-base-300)60%,transparent)}}.text-base-content{color:var(--color-base-content)}.text-base-content\/30{color:color-mix(in srgb,var(--color-base-content)30%,transparent)}@supports (color:color-mix(in lab,red,red)){.text-base-content\/30{color:color-mix(in oklab,var(--color-base-content)30%,transparent)}}.text-base-content\/40{color:color-mix(in srgb,var(--color-base-content)40%,transparent)}@supports (color:color-mix(in lab,red,red)){.text-base-content\/40{color:color-mix(in oklab,var(--color-base-content)40%,transparent)}}.text-base-content\/50{color:color-mix(in srgb,var(--color-base-content)50%,transparent)}@supports (color:color-mix(in lab,red,red)){.text-base-content\/50{color:color-mix(in oklab,var(--color-base-content)50%,transparent)}}.text-base-content\/60{color:color-mix(in srgb,var(--color-base-content)60%,transparent)}@supports (color:color-mix(in lab,red,red)){.text-base-content\/60{color:color-mix(in oklab,var(--color-base-content)60%,transparent)}}.text-base-content\/70{color:color-mix(in srgb,var(--color-base-content)70%,transparent)}@supports (color:color-mix(in lab,red,red)){.text-base-content\/70{color:color-mix(in oklab,var(--color-base-content)70%,transparent)}}.text-base-content\/80{color:color-mix(in srgb,var(--color-base-content)80%,transparent)}@supports (color:color-mix(in lab,red,red)){.text-base-content\/80{color:color-mix(in oklab,var(--color-base-content)80%,transparent)}}.text-base-content\/90{color:color-mix(in srgb,var(--color-base-content)90%,transparent)}@supports (color:color-mix(in lab,red,red)){.text-base-content\/90{color:color-mix(in oklab,var(--color-base-content)90%,transparent)}}.text-black{color:var(--color-black)}.text-blue-600{color:var(--color-blue-600)}.text-cyan-300{color:var(--color-cyan-300)}.text-cyan-400{color:var(--color-cyan-400)}.text-emerald-400{color:var(--color-emerald-400)}.text-error{color:var(--color-error)}.text-error-content{color:var(--color-error-content)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-500\/50{color:#6a728280}@supports (color:color-mix(in lab,red,red)){.text-gray-500\/50{color:color-mix(in oklab,var(--color-gray-500)50%,transparent)}}.text-gray-800{color:var(--color-gray-800)}.text-green-400{color:var(--color-green-400)}.text-green-500{color:var(--color-green-500)}.text-indigo-500{color:var(--color-indigo-500)}.text-info{color:var(--color-info)}.text-neutral-content{color:var(--color-neutral-content)}.text-primary{color:var(--color-primary)}.text-primary-content{color:var(--color-primary-content)}.text-primary\/80{color:color-mix(in srgb,var(--color-primary)80%,transparent)}@supports (color:color-mix(in lab,red,red)){.text-primary\/80{color:color-mix(in oklab,var(--color-primary)80%,transparent)}}.text-purple-500{color:var(--color-purple-500)}.text-red-400{color:var(--color-red-400)}.text-red-500{color:var(--color-red-500)}.text-rose-500{color:var(--color-rose-500)}.text-secondary{color:var(--color-secondary)}.text-slate-100{color:var(--color-slate-100)}.text-slate-400{color:var(--color-slate-400)}.text-slate-500{color:var(--color-slate-500)}.text-slate-600{color:var(--color-slate-600)}.text-slate-700{color:var(--color-slate-700)}.text-slate-800{color:var(--color-slate-800)}.text-success{color:var(--color-success)}.text-transparent{color:#0000}.text-warning{color:var(--color-warning)}.text-white{color:var(--color-white)}.text-white\/0{color:#0000}@supports (color:color-mix(in lab,red,red)){.text-white\/0{color:color-mix(in oklab,var(--color-white)0%,transparent)}}.text-yellow-400{color:var(--color-yellow-400)}.lowercase{text-transform:lowercase}.normal-case{text-transform:none}.uppercase{text-transform:uppercase}.italic{font-style:italic}.lining-nums{--tw-numeric-figure:lining-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.btn-link{--btn-border:#0000;--btn-bg:#0000;--btn-fg:var(--color-primary);--btn-noise:none;--btn-shadow:"";outline-color:currentColor;text-decoration-line:underline}.btn-link:is(.btn-active,:hover,:active:focus,:focus-visible){--btn-border:#0000;--btn-bg:#0000;text-decoration-line:underline}.link-hover{text-decoration-line:none}@media (hover:hover){.link-hover:hover{text-decoration-line:underline}}.line-through{text-decoration-line:line-through}.underline{text-decoration-line:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.swap-active .swap-off{opacity:0}.swap-active .swap-on{opacity:1}.opacity-0{opacity:0}.opacity-5{opacity:.05}.opacity-20{opacity:.2}.opacity-30{opacity:.3}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-75{opacity:.75}.opacity-80{opacity:.8}.opacity-100{opacity:1}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-primary{--tw-shadow-color:color-mix(in srgb,var(--color-primary)var(--tw-shadow-alpha),transparent)}@supports (color:color-mix(in lab,red,red)){.shadow-primary{--tw-shadow-color:color-mix(in oklab,var(--color-primary)var(--tw-shadow-alpha),transparent)}}.shadow-primary\/5{--tw-shadow-color:color-mix(in srgb,color-mix(in srgb,var(--color-primary)5%,transparent)var(--tw-shadow-alpha),transparent)}@supports (color:color-mix(in lab,red,red)){.shadow-primary\/5{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-primary)5%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-primary\/20{--tw-shadow-color:color-mix(in srgb,color-mix(in srgb,var(--color-primary)20%,transparent)var(--tw-shadow-alpha),transparent)}@supports (color:color-mix(in lab,red,red)){.shadow-primary\/20{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-primary)20%,transparent)var(--tw-shadow-alpha),transparent)}}.ring-warning{--tw-ring-color:var(--color-warning)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.outline-2{outline-style:var(--tw-outline-style);outline-width:2px}.outline-3{outline-style:var(--tw-outline-style);outline-width:3px}.outline-5{outline-style:var(--tw-outline-style);outline-width:5px}.btn-ghost:not(.btn-active,:hover,:active:focus,:focus-visible){--btn-shadow:"";--btn-bg:#0000;--btn-border:#0000;--btn-noise:none}.btn-ghost:not(.btn-active,:hover,:active:focus,:focus-visible):not(:disabled,[disabled],.btn-disabled){--btn-fg:currentColor;outline-color:currentColor}.outline-base-200{outline-color:var(--color-base-200)}.outline-primary{outline-color:var(--color-primary)}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.blur-2xl{--tw-blur:blur(var(--blur-2xl));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.blur-3xl{--tw-blur:blur(var(--blur-3xl));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.blur-xl{--tw-blur:blur(var(--blur-xl));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-2xl{--tw-drop-shadow-size:drop-shadow(0 25px 25px var(--tw-drop-shadow-color,#00000026));--tw-drop-shadow:drop-shadow(var(--drop-shadow-2xl));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-xl{--tw-drop-shadow-size:drop-shadow(0 9px 7px var(--tw-drop-shadow-color,#0000001a));--tw-drop-shadow:drop-shadow(var(--drop-shadow-xl));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.saturate-0{--tw-saturate:saturate(0%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.sepia{--tw-sepia:sepia(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-lg{--tw-backdrop-blur:blur(var(--blur-lg));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-xl{--tw-backdrop-blur:blur(var(--blur-xl));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-100{--tw-duration:.1s;transition-duration:.1s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.duration-500{--tw-duration:.5s;transition-duration:.5s}.duration-700{--tw-duration:.7s;transition-duration:.7s}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.tabs-bottom{--tabs-height:auto;--tabs-direction:row}.tabs-bottom .tab{--tab-order:1;--tab-border:var(--border)0 0 0;--tab-radius-ss:0;--tab-radius-se:0;--tab-radius-es:min(var(--radius-field),var(--tab-radius-min));--tab-radius-ee:min(var(--radius-field),var(--tab-radius-min));--tab-border-colors:var(--tab-border-color)#0000 #0000 #0000;--tab-paddings:0 var(--tab-p)var(--border)var(--tab-p);--tab-corner-width: calc(100% + min(var(--radius-field),var(--tab-radius-min))*2) ;--tab-corner-height:min(var(--radius-field),var(--tab-radius-min));--tab-corner-position:top left,top right}.tabs-bottom .tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-bottom .tab:is(input:checked),.tabs-bottom .tab:is(label:has(:checked)){--tab-border:0 var(--border)var(--border)var(--border);--tab-border-colors:#0000 var(--tab-border-color)var(--tab-border-color)var(--tab-border-color);--tab-paddings:var(--border)calc(var(--tab-p) - var(--border))0 calc(var(--tab-p) - var(--border));--tab-inset:0 auto auto auto;--radius-start:radial-gradient(circle at bottom left,#0000 var(--tab-grad),var(--tab-border-color)calc(var(--tab-grad) + .25px),var(--tab-border-color)calc(var(--tab-grad) + var(--border)),var(--tab-bg)calc(var(--tab-grad) + var(--border) + .25px));--radius-end:radial-gradient(circle at bottom right,#0000 var(--tab-grad),var(--tab-border-color)calc(var(--tab-grad) + .25px),var(--tab-border-color)calc(var(--tab-grad) + var(--border)),var(--tab-bg)calc(var(--tab-grad) + var(--border) + .25px))}.tabs-bottom:has(.tab-content)>.tab:first-child:not(.tab-active,[aria-selected=true]){--tab-border-colors:#0000 var(--tab-border-color)var(--tab-border-color)var(--tab-border-color)}.tabs-bottom .tab-content{--tabcontent-order:0;--tabcontent-margin:0 0 calc(-1*var(--border))0;--tabcontent-radius-ss:var(--radius-box);--tabcontent-radius-se:var(--radius-box);--tabcontent-radius-es:0;--tabcontent-radius-ee:var(--radius-box)}:is(.tabs-bottom :checked,.tabs-bottom :is(label:has(:checked)),.tabs-bottom :is(.tab-active,[aria-selected=true]))+.tab-content:not(:nth-child(2)){--tabcontent-radius-es:var(--radius-box)}.tabs-top{--tabs-height:auto;--tabs-direction:row}.tabs-top .tab{--tab-order:0;--tab-border:0 0 var(--border)0;--tab-radius-ss:min(var(--radius-field),var(--tab-radius-min));--tab-radius-se:min(var(--radius-field),var(--tab-radius-min));--tab-radius-es:0;--tab-radius-ee:0;--tab-paddings:var(--border)var(--tab-p)0 var(--tab-p);--tab-border-colors:#0000 #0000 var(--tab-border-color)#0000;--tab-corner-width: calc(100% + min(var(--radius-field),var(--tab-radius-min))*2) ;--tab-corner-height:min(var(--radius-field),var(--tab-radius-min));--tab-corner-position:top left,top right}.tabs-top .tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-top .tab:is(input:checked),.tabs-top .tab:is(label:has(:checked)){--tab-border:var(--border)var(--border)0 var(--border);--tab-border-colors:var(--tab-border-color)var(--tab-border-color)#0000 var(--tab-border-color);--tab-paddings:0 calc(var(--tab-p) - var(--border))var(--border)calc(var(--tab-p) - var(--border));--tab-inset:auto auto 0 auto;--radius-start:radial-gradient(circle at top left,#0000 var(--tab-grad),var(--tab-border-color)calc(var(--tab-grad) + .25px),var(--tab-border-color)calc(var(--tab-grad) + var(--border)),var(--tab-bg)calc(var(--tab-grad) + var(--border) + .25px));--radius-end:radial-gradient(circle at top right,#0000 var(--tab-grad),var(--tab-border-color)calc(var(--tab-grad) + .25px),var(--tab-border-color)calc(var(--tab-grad) + var(--border)),var(--tab-bg)calc(var(--tab-grad) + var(--border) + .25px))}.tabs-top:has(.tab-content)>.tab:first-child:not(.tab-active,[aria-selected=true]){--tab-border-colors:var(--tab-border-color)var(--tab-border-color)#0000 var(--tab-border-color)}.tabs-top .tab-content{--tabcontent-order:1;--tabcontent-margin:calc(-1*var(--border))0 0 0;--tabcontent-radius-ss:0;--tabcontent-radius-se:var(--radius-box);--tabcontent-radius-es:var(--radius-box);--tabcontent-radius-ee:var(--radius-box)}:is(.tabs-top :checked,.tabs-top label:has(:checked),.tabs-top :is(.tab-active,[aria-selected=true]))+.tab-content:first-child,:is(.tabs-top :checked,.tabs-top label:has(:checked),.tabs-top :is(.tab-active,[aria-selected=true]))+.tab-content:nth-child(n+3){--tabcontent-radius-ss:var(--radius-box)}.btn-outline:not(.btn-active,:hover,:active:focus,:focus-visible,:disabled,[disabled],.btn-disabled,:checked){--btn-shadow:"";--btn-bg:#0000;--btn-fg:var(--btn-color);--btn-border:var(--btn-color);--btn-noise:none}.btn-soft:not(.btn-active,:hover,:active:focus,:focus-visible,:disabled,[disabled],.btn-disabled){--btn-shadow:"";--btn-fg:var(--btn-color,var(--color-base-content));--btn-bg:color-mix(in oklab,var(--btn-color,var(--color-base-content))8%,var(--color-base-100));--btn-border:color-mix(in oklab,var(--btn-color,var(--color-base-content))10%,var(--color-base-100));--btn-noise:none}@supports (color:color-mix(in lab,red,red)){.btn-soft:not(.btn-active,:hover,:active:focus,:focus-visible,:disabled,[disabled],.btn-disabled){--btn-bg:color-mix(in oklab,var(--btn-color,var(--color-base-content))8%,var(--color-base-100));--btn-border:color-mix(in oklab,var(--btn-color,var(--color-base-content))10%,var(--color-base-100))}}.indicator-center{--inidicator-s:50%;--inidicator-e:50%;--inidicator-x:-50%}[dir=rtl] .indicator-center{--inidicator-x:50%}.btn-lg{--fontsize:1.125rem;--btn-p:1.25rem;--size:calc(var(--size-field,.25rem)*12)}.btn-md{--fontsize:.875rem;--btn-p:1rem;--size:calc(var(--size-field,.25rem)*10)}.btn-sm{--fontsize:.75rem;--btn-p:.75rem;--size:calc(var(--size-field,.25rem)*8)}.btn-xl{--fontsize:1.375rem;--btn-p:1.5rem;--size:calc(var(--size-field,.25rem)*14)}.btn-xs{--fontsize:.6875rem;--btn-p:.5rem;--size:calc(var(--size-field,.25rem)*6)}.card-lg .card-body{--card-p:2rem;--card-fs:1rem}.card-lg .card-title{--cardtitle-fs:1.25rem}.card-md .card-body{--card-p:1.5rem;--card-fs:.875rem}.card-md .card-title{--cardtitle-fs:1.125rem}.card-sm .card-body{--card-p:1rem;--card-fs:.75rem}.card-sm .card-title{--cardtitle-fs:1rem}.card-xl .card-body{--card-p:2.5rem;--card-fs:1.125rem}.card-xl .card-title{--cardtitle-fs:1.375rem}.card-xs .card-body{--card-p:.5rem;--card-fs:.6875rem}.card-xs .card-title{--cardtitle-fs:.875rem}.indicator-bottom{--inidicator-t:auto;--inidicator-b:0;--indicator-y:50%}.indicator-end{--inidicator-s:auto;--inidicator-e:0;--inidicator-x:50%}.indicator-middle{--inidicator-t:50%;--inidicator-b:50%;--indicator-y:-50%}.indicator-start{--inidicator-s:0;--inidicator-e:auto;--inidicator-x:-50%}.indicator-top{--inidicator-t:0;--inidicator-b:auto;--indicator-y:-50%}.badge-accent{--badge-color:var(--color-accent);--badge-fg:var(--color-accent-content)}.badge-error{--badge-color:var(--color-error);--badge-fg:var(--color-error-content)}.badge-info{--badge-color:var(--color-info);--badge-fg:var(--color-info-content)}.badge-neutral{--badge-color:var(--color-neutral);--badge-fg:var(--color-neutral-content)}.badge-primary{--badge-color:var(--color-primary);--badge-fg:var(--color-primary-content)}.badge-secondary{--badge-color:var(--color-secondary);--badge-fg:var(--color-secondary-content)}.badge-success{--badge-color:var(--color-success);--badge-fg:var(--color-success-content)}.badge-warning{--badge-color:var(--color-warning);--badge-fg:var(--color-warning-content)}.btn-accent{--btn-color:var(--color-accent);--btn-fg:var(--color-accent-content)}.btn-error{--btn-color:var(--color-error);--btn-fg:var(--color-error-content)}.btn-info{--btn-color:var(--color-info);--btn-fg:var(--color-info-content)}.btn-neutral{--btn-color:var(--color-neutral);--btn-fg:var(--color-neutral-content)}.btn-primary{--btn-color:var(--color-primary);--btn-fg:var(--color-primary-content)}.btn-secondary{--btn-color:var(--color-secondary);--btn-fg:var(--color-secondary-content)}.btn-success{--btn-color:var(--color-success);--btn-fg:var(--color-success-content)}.btn-warning{--btn-color:var(--color-warning);--btn-fg:var(--color-warning-content)}.outline-none{--tw-outline-style:none;outline-style:none}.select-all{-webkit-user-select:all;user-select:all}.select-none{-webkit-user-select:none;user-select:none}.timeline-snap-icon>li{--timeline-col-start:.5rem;--timeline-row-start:minmax(0,1fr)}.toggle-lg[type=checkbox],.toggle-lg:has([type=checkbox]){--toggle-p:.25rem;--size:calc(var(--size-selector,.25rem)*7)}.toggle-md[type=checkbox],.toggle-md:has([type=checkbox]){--toggle-p:.1875rem;--size:calc(var(--size-selector,.25rem)*6)}.toggle-sm[type=checkbox],.toggle-sm:has([type=checkbox]){--toggle-p:.125rem;--size:calc(var(--size-selector,.25rem)*5)}.toggle-xl[type=checkbox],.toggle-xl:has([type=checkbox]){--toggle-p:.3125rem;--size:calc(var(--size-selector,.25rem)*8)}.toggle-xs[type=checkbox],.toggle-xs:has([type=checkbox]){--toggle-p:.0625rem;--size:calc(var(--size-selector,.25rem)*4)}.input-accent,.input-accent:focus,.input-accent:focus-within{--input-color:var(--color-accent)}.input-error,.input-error:focus,.input-error:focus-within{--input-color:var(--color-error)}.input-info,.input-info:focus,.input-info:focus-within{--input-color:var(--color-info)}.input-neutral,.input-neutral:focus,.input-neutral:focus-within{--input-color:var(--color-neutral)}.input-primary,.input-primary:focus,.input-primary:focus-within{--input-color:var(--color-primary)}.input-secondary,.input-secondary:focus,.input-secondary:focus-within{--input-color:var(--color-secondary)}.input-success,.input-success:focus,.input-success:focus-within{--input-color:var(--color-success)}.input-warning,.input-warning:focus,.input-warning:focus-within{--input-color:var(--color-warning)}.radio-accent{--input-color:var(--color-accent)}.radio-error{--input-color:var(--color-error)}.radio-info{--input-color:var(--color-info)}.radio-neutral{--input-color:var(--color-neutral)}.radio-primary{--input-color:var(--color-primary)}.radio-secondary{--input-color:var(--color-secondary)}.radio-success{--input-color:var(--color-success)}.radio-warning{--input-color:var(--color-warning)}.range-lg{--range-thumb-size:calc(var(--size-selector,.25rem)*7)}.range-md{--range-thumb-size:calc(var(--size-selector,.25rem)*6)}.range-sm{--range-thumb-size:calc(var(--size-selector,.25rem)*5)}.range-xl{--range-thumb-size:calc(var(--size-selector,.25rem)*8)}.range-xs{--range-thumb-size:calc(var(--size-selector,.25rem)*4)}.select-accent,.select-accent:focus,.select-accent:focus-within{--input-color:var(--color-accent)}.select-error,.select-error:focus,.select-error:focus-within{--input-color:var(--color-error)}.select-info,.select-info:focus,.select-info:focus-within{--input-color:var(--color-info)}.select-neutral,.select-neutral:focus,.select-neutral:focus-within{--input-color:var(--color-neutral)}.select-primary,.select-primary:focus,.select-primary:focus-within{--input-color:var(--color-primary)}.select-secondary,.select-secondary:focus,.select-secondary:focus-within{--input-color:var(--color-secondary)}.select-success,.select-success:focus,.select-success:focus-within{--input-color:var(--color-success)}.select-warning,.select-warning:focus,.select-warning:focus-within{--input-color:var(--color-warning)}.textarea-accent,.textarea-accent:focus,.textarea-accent:focus-within{--input-color:var(--color-accent)}.textarea-error,.textarea-error:focus,.textarea-error:focus-within{--input-color:var(--color-error)}.textarea-info,.textarea-info:focus,.textarea-info:focus-within{--input-color:var(--color-info)}.textarea-neutral,.textarea-neutral:focus,.textarea-neutral:focus-within{--input-color:var(--color-neutral)}.textarea-primary,.textarea-primary:focus,.textarea-primary:focus-within{--input-color:var(--color-primary)}.textarea-secondary,.textarea-secondary:focus,.textarea-secondary:focus-within{--input-color:var(--color-secondary)}.textarea-success,.textarea-success:focus,.textarea-success:focus-within{--input-color:var(--color-success)}.textarea-warning,.textarea-warning:focus,.textarea-warning:focus-within{--input-color:var(--color-warning)}.toggle-accent:checked,.toggle-accent[aria-checked=true]{--input-color:var(--color-accent)}.toggle-error:checked,.toggle-error[aria-checked=true]{--input-color:var(--color-error)}.toggle-info:checked,.toggle-info[aria-checked=true]{--input-color:var(--color-info)}.toggle-neutral:checked,.toggle-neutral[aria-checked=true]{--input-color:var(--color-neutral)}.toggle-primary:checked,.toggle-primary[aria-checked=true]{--input-color:var(--color-primary)}.toggle-secondary:checked,.toggle-secondary[aria-checked=true]{--input-color:var(--color-secondary)}.toggle-success:checked,.toggle-success[aria-checked=true]{--input-color:var(--color-success)}.toggle-warning:checked,.toggle-warning[aria-checked=true]{--input-color:var(--color-warning)}@media (hover:hover){.group-hover\:h-full:is(:where(.group):hover *){height:100%}.group-hover\:translate-x-1:is(:where(.group):hover *){--tw-translate-x:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.group-hover\:scale-110:is(:where(.group):hover *){--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.group-hover\:bg-primary:is(:where(.group):hover *){background-color:var(--color-primary)}.group-hover\:text-base-content\/70:is(:where(.group):hover *){color:color-mix(in srgb,var(--color-base-content)70%,transparent)}@supports (color:color-mix(in lab,red,red)){.group-hover\:text-base-content\/70:is(:where(.group):hover *){color:color-mix(in oklab,var(--color-base-content)70%,transparent)}}.group-hover\:text-primary:is(:where(.group):hover *){color:var(--color-primary)}.group-hover\:text-white:is(:where(.group):hover *){color:var(--color-white)}.group-hover\:opacity-0:is(:where(.group):hover *){opacity:0}.group-hover\:opacity-100:is(:where(.group):hover *){opacity:1}.hover\:z-20:hover{z-index:20}.hover\:z-\[100\]:hover{z-index:100}.hover\:-m-3:hover{margin:calc(var(--spacing)*-3)}.hover\:-mt-6:hover{margin-top:calc(var(--spacing)*-6)}.hover\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\:cursor-pointer:hover{cursor:pointer}.hover\:rounded-lg:hover{border-radius:var(--radius-lg)}.hover\:border:hover{border-style:var(--tw-border-style);border-width:1px}.hover\:border-none:hover{--tw-border-style:none;border-style:none}.hover\:border-base-content:hover{border-color:var(--color-base-content)}.hover\:border-base-content\/20:hover{border-color:color-mix(in srgb,var(--color-base-content)20%,transparent)}@supports (color:color-mix(in lab,red,red)){.hover\:border-base-content\/20:hover{border-color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.hover\:border-primary:hover{border-color:var(--color-primary)}.hover\:bg-base-100:hover{background-color:var(--color-base-100)}.hover\:bg-base-200:hover{background-color:var(--color-base-200)}.hover\:bg-base-200\/30:hover{background-color:color-mix(in srgb,var(--color-base-200)30%,transparent)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-base-200\/30:hover{background-color:color-mix(in oklab,var(--color-base-200)30%,transparent)}}.hover\:bg-base-300:hover{background-color:var(--color-base-300)}.hover\:bg-base-300\/50:hover{background-color:color-mix(in srgb,var(--color-base-300)50%,transparent)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-base-300\/50:hover{background-color:color-mix(in oklab,var(--color-base-300)50%,transparent)}}.hover\:bg-base-content\/20:hover{background-color:color-mix(in srgb,var(--color-base-content)20%,transparent)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-base-content\/20:hover{background-color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.hover\:bg-blue-600:hover{background-color:var(--color-blue-600)}.hover\:bg-error:hover{background-color:var(--color-error)}.hover\:bg-primary:hover{background-color:var(--color-primary)}.hover\:bg-primary\/80:hover{background-color:color-mix(in srgb,var(--color-primary)80%,transparent)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-primary\/80:hover{background-color:color-mix(in oklab,var(--color-primary)80%,transparent)}}.hover\:bg-primary\/90:hover{background-color:color-mix(in srgb,var(--color-primary)90%,transparent)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-primary\/90:hover{background-color:color-mix(in oklab,var(--color-primary)90%,transparent)}}.hover\:bg-slate-100:hover{background-color:var(--color-slate-100)}.hover\:bg-success:hover{background-color:var(--color-success)}.hover\:text-2xl:hover{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.hover\:text-base:hover{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.hover\:font-bold:hover{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.hover\:text-base-content:hover{color:var(--color-base-content)}.hover\:text-error:hover{color:var(--color-error)}.hover\:text-primary:hover{color:var(--color-primary)}.hover\:text-slate-800:hover{color:var(--color-slate-800)}.hover\:text-white:hover{color:var(--color-white)}.hover\:text-white\/50:hover{color:#ffffff80}@supports (color:color-mix(in lab,red,red)){.hover\:text-white\/50:hover{color:color-mix(in oklab,var(--color-white)50%,transparent)}}.hover\:underline:hover{text-decoration-line:underline}.hover\:opacity-100:hover{opacity:1}.hover\:shadow-2xl:hover{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:shadow-cyan-500\/30:hover{--tw-shadow-color:color-mix(in srgb,#00b7d74d var(--tw-shadow-alpha),transparent)}@supports (color:color-mix(in lab,red,red)){.hover\:shadow-cyan-500\/30:hover{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-cyan-500)30%,transparent)var(--tw-shadow-alpha),transparent)}}.hover\:shadow-primary:hover{--tw-shadow-color:color-mix(in srgb,var(--color-primary)var(--tw-shadow-alpha),transparent)}@supports (color:color-mix(in lab,red,red)){.hover\:shadow-primary:hover{--tw-shadow-color:color-mix(in oklab,var(--color-primary)var(--tw-shadow-alpha),transparent)}}.hover\:outline:hover{outline-style:var(--tw-outline-style);outline-width:1px}.hover\:outline-2:hover{outline-style:var(--tw-outline-style);outline-width:2px}.hover\:outline-primary:hover{outline-color:var(--color-primary)}.hover\:grayscale-0:hover{--tw-grayscale:grayscale(0%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.hover\:badge-primary:hover{--badge-color:var(--color-primary);--badge-fg:var(--color-primary-content)}.hover\:btn-primary:hover{--btn-color:var(--color-primary);--btn-fg:var(--color-primary-content)}}.focus\:ring-1:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-primary:focus{--tw-ring-color:var(--color-primary)}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus\:outline-none:focus{--tw-outline-style:none;outline-style:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}@media (min-width:40rem){.sm\:inline-block{display:inline-block}.sm\:btn-wide{width:100%;max-width:16rem}.sm\:w-1\/2{width:50%}.sm\:w-64{width:calc(var(--spacing)*64)}.sm\:grow-0{flex-grow:0}.sm\:alert-horizontal{text-align:start;grid-template-columns:auto;grid-auto-flow:column;justify-content:start;justify-items:start}.sm\:alert-horizontal:has(:nth-child(2)){grid-template-columns:auto minmax(auto,1fr)}.sm\:footer-horizontal{grid-auto-flow:column}.sm\:footer-horizontal.footer-center{grid-auto-flow:dense}.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.sm\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.sm\:flex-row{flex-direction:row}.sm\:p-8{padding:calc(var(--spacing)*8)}.sm\:px-4{padding-inline:calc(var(--spacing)*4)}.sm\:px-6{padding-inline:calc(var(--spacing)*6)}.sm\:text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}}@media (min-width:48rem){.md\:order-1{order:1}.md\:order-2{order:2}.md\:col-span-1{grid-column:span 1/span 1}.md\:col-span-2{grid-column:span 2/span 2}.md\:col-span-3{grid-column:span 3/span 3}.md\:col-span-4{grid-column:span 4/span 4}.md\:col-span-5{grid-column:span 5/span 5}.md\:col-span-6{grid-column:span 6/span 6}.md\:col-span-7{grid-column:span 7/span 7}.md\:col-start-1{grid-column-start:1}.md\:col-start-5{grid-column-start:5}.md\:col-start-9{grid-column-start:9}.md\:mx-0{margin-inline:calc(var(--spacing)*0)}.md\:mx-12{margin-inline:calc(var(--spacing)*12)}.md\:join-horizontal{flex-direction:row}.md\:join-horizontal>.join-item:first-child,.md\:join-horizontal :first-child:not(:last-child) .join-item{--join-ss:var(--radius-field);--join-se:0;--join-es:var(--radius-field);--join-ee:0}.md\:join-horizontal>.join-item:last-child,.md\:join-horizontal :last-child:not(:first-child) .join-item{--join-ss:0;--join-se:var(--radius-field);--join-es:0;--join-ee:var(--radius-field)}.md\:join-horizontal>.join-item:only-child,.md\:join-horizontal :only-child .join-item{--join-ss:var(--radius-field);--join-se:var(--radius-field);--join-es:var(--radius-field);--join-ee:var(--radius-field)}.md\:join-horizontal .join-item:where(:not(:first-child)){margin-block-start:0;margin-inline-start:calc(var(--border,1px)*-1)}.md\:prose-xl{font-size:1.25rem;line-height:1.8}.md\:prose-xl :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.2em;margin-bottom:1.2em}.md\:prose-xl :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1em;margin-bottom:1em;font-size:1.2em;line-height:1.5}.md\:prose-xl :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.6em;margin-bottom:1.6em;padding-inline-start:1.06667em}.md\:prose-xl :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:.857143em;font-size:2.8em;line-height:1}.md\:prose-xl :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.55556em;margin-bottom:.888889em;font-size:1.8em;line-height:1.11111}.md\:prose-xl :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.6em;margin-bottom:.666667em;font-size:1.5em;line-height:1.33333}.md\:prose-xl :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.8em;margin-bottom:.6em;line-height:1.6}.md\:prose-xl :where(img):not(:where([class~=not-prose],[class~=not-prose] *)),.md\:prose-xl :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.md\:prose-xl :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.md\:prose-xl :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.md\:prose-xl :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.25em;padding-inline-end:.4em;padding-bottom:.25em;border-radius:.3125rem;padding-inline-start:.4em;font-size:.9em}.md\:prose-xl :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.9em}.md\:prose-xl :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.861111em}.md\:prose-xl :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.9em}.md\:prose-xl :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:1.11111em;padding-inline-end:1.33333em;padding-bottom:1.11111em;border-radius:.5rem;margin-top:2em;margin-bottom:2em;padding-inline-start:1.33333em;font-size:.9em;line-height:1.77778}.md\:prose-xl :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)),.md\:prose-xl :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.2em;margin-bottom:1.2em;padding-inline-start:1.6em}.md\:prose-xl :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.6em;margin-bottom:.6em}.md\:prose-xl :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)),.md\:prose-xl :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.4em}.md\:prose-xl :where(.md\:prose-xl>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.8em;margin-bottom:.8em}.md\:prose-xl :where(.md\:prose-xl>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.2em}.md\:prose-xl :where(.md\:prose-xl>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.2em}.md\:prose-xl :where(.md\:prose-xl>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.2em}.md\:prose-xl :where(.md\:prose-xl>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.2em}.md\:prose-xl :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.8em;margin-bottom:.8em}.md\:prose-xl :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.2em;margin-bottom:1.2em}.md\:prose-xl :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.2em}.md\:prose-xl :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.6em;padding-inline-start:1.6em}.md\:prose-xl :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2.8em;margin-bottom:2.8em}.md\:prose-xl :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)),.md\:prose-xl :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)),.md\:prose-xl :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)),.md\:prose-xl :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.md\:prose-xl :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.9em;line-height:1.55556}.md\:prose-xl :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:.666667em;padding-bottom:.888889em;padding-inline-start:.666667em}.md\:prose-xl :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.md\:prose-xl :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.md\:prose-xl :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.888889em;padding-inline-end:.666667em;padding-bottom:.888889em;padding-inline-start:.666667em}.md\:prose-xl :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.md\:prose-xl :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.md\:prose-xl :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.md\:prose-xl :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.md\:prose-xl :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1em;font-size:.9em;line-height:1.55556}.md\:prose-xl :where(.md\:prose-xl>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.md\:prose-xl :where(.md\:prose-xl>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.md\:-mt-25{margin-top:calc(var(--spacing)*-25)}.md\:mt-0{margin-top:calc(var(--spacing)*0)}.md\:mt-8{margin-top:calc(var(--spacing)*8)}.md\:mt-16{margin-top:calc(var(--spacing)*16)}.md\:mb-0{margin-bottom:calc(var(--spacing)*0)}.md\:mb-16{margin-bottom:calc(var(--spacing)*16)}.md\:mb-24{margin-bottom:calc(var(--spacing)*24)}.md\:block{display:block}.md\:flex{display:flex}.md\:hidden{display:none}.md\:h-10{height:calc(var(--spacing)*10)}.md\:h-\[50vh\]{height:50vh}.md\:max-h-\[450px\]{max-height:450px}.md\:w-1\/2{width:50%}.md\:w-\[320px\]{width:320px}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.md\:grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.md\:flex-row{flex-direction:row}.md\:items-center{align-items:center}.md\:justify-center{justify-content:center}.md\:justify-end{justify-content:flex-end}.md\:gap-12{gap:calc(var(--spacing)*12)}.md\:gap-16{gap:calc(var(--spacing)*16)}:where(.md\:space-y-24>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*24)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*24)*calc(1 - var(--tw-space-y-reverse)))}.md\:rounded-2xl{border-radius:var(--radius-2xl)}.md\:border{border-style:var(--tw-border-style);border-width:1px}.md\:p-8{padding:calc(var(--spacing)*8)}.md\:px-8{padding-inline:calc(var(--spacing)*8)}.md\:px-12{padding-inline:calc(var(--spacing)*12)}.md\:py-1\.5{padding-block:calc(var(--spacing)*1.5)}.md\:py-20{padding-block:calc(var(--spacing)*20)}.md\:py-24{padding-block:calc(var(--spacing)*24)}.md\:pt-24{padding-top:calc(var(--spacing)*24)}.md\:pt-32{padding-top:calc(var(--spacing)*32)}.md\:pr-12{padding-right:calc(var(--spacing)*12)}.md\:text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.md\:text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.md\:text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}.md\:text-6xl{font-size:var(--text-6xl);line-height:var(--tw-leading,var(--text-6xl--line-height))}.md\:text-7xl{font-size:var(--text-7xl);line-height:var(--tw-leading,var(--text-7xl--line-height))}.md\:text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.md\:text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}}@media (min-width:64rem){.lg\:drawer-open>.drawer-side{overflow-y:auto}.lg\:drawer-open>.drawer-toggle{display:none}.lg\:drawer-open>.drawer-toggle~.drawer-side{pointer-events:auto;visibility:visible;overscroll-behavior:auto;opacity:1;width:auto;display:block;position:sticky}.lg\:drawer-open>.drawer-toggle~.drawer-side>.drawer-overlay{cursor:default;background-color:#0000}.lg\:drawer-open>.drawer-toggle~.drawer-side>:not(.drawer-overlay),[dir=rtl] :is(.lg\:drawer-open>.drawer-toggle~.drawer-side>:not(.drawer-overlay)){translate:0%}.lg\:drawer-open>.drawer-toggle:checked~.drawer-side{pointer-events:auto;visibility:visible}.lg\:menu-horizontal{flex-direction:row;display:inline-flex}.lg\:menu-horizontal>li:not(.menu-title)>details>ul{margin-inline-start:0;margin-top:1rem;padding-block:.5rem;padding-inline-end:.5rem;position:absolute}.lg\:menu-horizontal>li>details>ul:before{content:none}:where(.lg\:menu-horizontal>li:not(.menu-title)>details>ul){border-radius:var(--radius-box);background-color:var(--color-base-100);box-shadow:0 1px 3px #0000001a,0 1px 2px -1px #0000001a}.lg\:col-span-2{grid-column:span 2/span 2}.lg\:join-horizontal{flex-direction:row}.lg\:join-horizontal>.join-item:first-child,.lg\:join-horizontal :first-child:not(:last-child) .join-item{--join-ss:var(--radius-field);--join-se:0;--join-es:var(--radius-field);--join-ee:0}.lg\:join-horizontal>.join-item:last-child,.lg\:join-horizontal :last-child:not(:first-child) .join-item{--join-ss:0;--join-se:var(--radius-field);--join-es:0;--join-ee:var(--radius-field)}.lg\:join-horizontal>.join-item:only-child,.lg\:join-horizontal :only-child .join-item{--join-ss:var(--radius-field);--join-se:var(--radius-field);--join-es:var(--radius-field);--join-ee:var(--radius-field)}.lg\:join-horizontal .join-item:where(:not(:first-child)){margin-block-start:0;margin-inline-start:calc(var(--border,1px)*-1)}.lg\:mb-0{margin-bottom:calc(var(--spacing)*0)}.lg\:card-side{flex-direction:row;align-items:stretch}.lg\:card-side :where(figure:first-child){border-start-start-radius:inherit;border-start-end-radius:unset;border-end-end-radius:unset;border-end-start-radius:inherit;overflow:hidden}.lg\:card-side :where(figure:last-child){border-start-start-radius:unset;border-start-end-radius:inherit;border-end-end-radius:inherit;border-end-start-radius:unset;overflow:hidden}.lg\:card-side figure>*{max-width:unset}.lg\:card-side :where(figure>*){object-fit:cover;width:100%;height:100%}.lg\:w-1\/2{width:50%}.lg\:w-2\/5{width:40%}.lg\:w-3\/5{width:60%}.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.lg\:grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.lg\:flex-row{flex-direction:row}.lg\:items-center{align-items:center}.lg\:justify-between{justify-content:space-between}.lg\:gap-24{gap:calc(var(--spacing)*24)}.lg\:px-8{padding-inline:calc(var(--spacing)*8)}.lg\:px-12{padding-inline:calc(var(--spacing)*12)}.lg\:px-16{padding-inline:calc(var(--spacing)*16)}.lg\:pr-12{padding-right:calc(var(--spacing)*12)}.lg\:text-6xl{font-size:var(--text-6xl);line-height:var(--tw-leading,var(--text-6xl--line-height))}.lg\:text-7xl{font-size:var(--text-7xl);line-height:var(--tw-leading,var(--text-7xl--line-height))}.lg\:text-8xl{font-size:var(--text-8xl);line-height:var(--tw-leading,var(--text-8xl--line-height))}}@media (min-width:80rem){.xl\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.xl\:grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}}@container (min-width:24rem){.\@sm\:-mt-36{margin-top:calc(var(--spacing)*-36)}.\@sm\:grid{display:grid}.\@sm\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@container (min-width:28rem){.\@md\:mx-12{margin-inline:calc(var(--spacing)*12)}.\@md\:block{display:block}.\@md\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.\@md\:gap-1{gap:calc(var(--spacing)*1)}.\@md\:border-none{--tw-border-style:none;border-style:none}.\@md\:text-right{text-align:right}@media (min-width:48rem){.\@md\:md\:break-all{word-break:break-all}}}@container (min-width:32rem){.\@lg\:px-3{padding-inline:calc(var(--spacing)*3)}.\@lg\:py-3{padding-block:calc(var(--spacing)*3)}}@container (min-width:42rem){.\@2xl\:px-8{padding-inline:calc(var(--spacing)*8)}.\@2xl\:py-3{padding-block:calc(var(--spacing)*3)}}@media (prefers-color-scheme:dark){.dark\:text-gray-400{color:var(--color-gray-400)}}}@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){@layer base{*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:rotateX(0);--tw-rotate-y:rotateY(0);--tw-rotate-z:rotateZ(0);--tw-skew-x:skewX(0);--tw-skew-y:skewY(0);--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-divide-x-reverse:0;--tw-border-style:solid;--tw-divide-y-reverse:0;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-ordinal:initial;--tw-slashed-zero:initial;--tw-numeric-figure:initial;--tw-numeric-spacing:initial;--tw-numeric-fraction:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial}}}.bg-mask-left{-webkit-mask-image:radial-gradient(circle at left,#0003 0%,transparent 30%,tansparent 100%)}.bg-mask-right{-webkit-mask-image:radial-gradient(circle at 100%,#0003 0%,#0000 30% 100%)}.cm-ghostText,.cm-ghostText *{opacity:.6;filter:grayscale(20%);cursor:pointer}.cm-tooltip-doc{max-height:calc(var(--spacing)*48);max-width:var(--container-xl);border-radius:var(--radius-box);background-color:var(--color-base-100);padding:calc(var(--spacing)*3);color:var(--color-base-content);--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);overflow:auto}.cm-ghostText:hover{background:#eee}.dataframe{border-collapse:collapse;text-align:right;white-space:nowrap;width:100%;font-family:Arial,sans-serif}.blur-load{background-repeat:no-repeat!important;background-size:cover!important}.cm-editor{border-radius:var(--radius-box);outline-offset:2px;border-color:var(--color-base-300);background-color:var(--color-base-100);width:100%;padding:calc(var(--spacing)*4);--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);outline:0 solid #0000;flex-direction:column;transition:outline .2s ease-in-out;display:flex;position:relative}.cm-editor:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.cm-editor:focus{outline-offset:2px;outline:2px solid #0000}}.cm-editor:focus-visible{outline-color:currentColor}.cm-editor :where(figure:first-child){border-start-start-radius:inherit;border-start-end-radius:inherit;border-end-end-radius:unset;border-end-start-radius:unset;overflow:hidden}.cm-editor :where(figure:last-child){border-start-start-radius:unset;border-start-end-radius:unset;border-end-end-radius:inherit;border-end-start-radius:inherit;overflow:hidden}.cm-editor:where(.card-border){border:var(--border)solid var(--color-base-200)}.cm-editor:where(.card-dash){border:var(--border)dashed var(--color-base-200)}.cm-editor.image-full{display:grid}.cm-editor.image-full>*{grid-row-start:1;grid-column-start:1}.cm-editor.image-full>.card-body{color:var(--color-neutral-content);position:relative}.cm-editor.image-full :where(figure){border-radius:inherit;overflow:hidden}.cm-editor.image-full>figure img{object-fit:cover;filter:brightness(28%);height:100%}.cm-editor figure{justify-content:center;align-items:center;display:flex}.cm-editor:has(>input:is(input[type=checkbox],input[type=radio])){cursor:pointer;-webkit-user-select:none;user-select:none}.cm-editor:has(>:checked){outline:2px solid}.cm-deletedChunk button[name=accept]{padding:.125rem .25rem;background-color:var(--color-success)!important;color:var(--color-base-300)!important}.cm-deletedChunk button[name=reject]{padding:.125rem .25rem;background-color:var(--color-error)!important;color:var(--color-base-300)!important}.cm-scroller{background-color:var(--color-base-100);border-radius:.25rem;overflow:auto}.cm-lineNumbers{background-color:var(--color-base-100)}.cm-focused{outline-style:var(--tw-outline-style);outline-width:1px;outline-color:var(--color-primary);outline:none!important}.cm-foldGutter{border-right-color:var(--color-base-300);background-color:var(--color-base-100)}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-thumb{background-color:#725bf54d;border-radius:6px}::-webkit-scrollbar-thumb:hover{background-color:#725bf5b3}::-webkit-scrollbar-track{background-color:none;border-radius:4px;width:30px}::-webkit-scrollbar-track-piece{background:0 0;width:10px;height:10px}::-webkit-scrollbar-track-piece:end{background:0 0}::-webkit-scrollbar-track-piece:start{background:0 0;margin:90%}*{scrollbar-width:thin;scrollbar-color:#725bf54d none}@keyframes skeleton{0%{background-position:150%}to{background-position:-50%}}@keyframes progress{50%{background-position-x:-115%}}@keyframes radio{0%{padding:5px}50%{padding:3px}}@keyframes dropdown{0%{opacity:0}}@keyframes rating{0%,40%{filter:brightness(1.05)contrast(1.05);scale:1.1}}@keyframes toast{0%{opacity:0;scale:.9}to{opacity:1;scale:1}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false;initial-value:rotateX(0)}@property --tw-rotate-y{syntax:"*";inherits:false;initial-value:rotateY(0)}@property --tw-rotate-z{syntax:"*";inherits:false;initial-value:rotateZ(0)}@property --tw-skew-x{syntax:"*";inherits:false;initial-value:skewX(0)}@property --tw-skew-y{syntax:"*";inherits:false;initial-value:skewY(0)}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-divide-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-ordinal{syntax:"*";inherits:false}@property --tw-slashed-zero{syntax:"*";inherits:false}@property --tw-numeric-figure{syntax:"*";inherits:false}@property --tw-numeric-spacing{syntax:"*";inherits:false}@property --tw-numeric-fraction{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes pulse{50%{opacity:.5}}
 </style>
</html>